angular.module("sntRover").run(["$templateCache",function(t){t.put("/assets/directives/calendar.html",'<div class=pickadate><div class=calendar_top_panel><a href="" class="pickadate-prev float_left" ng-hide=allowPrevMonth>&nbsp;&nbsp;&nbsp;&nbsp;</a> <a href="" class="pickadate-prev float_left" ng-click=changeMonth(-1) ng-show=allowPrevMonth><img src=/assets/arrow-left-black.png></a><div class=float_left style="width:85%;padding:0 10%;"><div class="select select-col col1-4 float_left full-width" style=width:60%;><select class="styled pickadate_select float_left" ng-options="month.name for month in months" ng-model=monthSelected></select></div><div class="select select-col col1-4 float_right" style=width:40%;><select class="styled pickadate_select pickadate_select_year" ng-options="year for year in years" ng-model=yearSelected></select></div></div><a href="" class="pickadate-next float_right" ng-click=changeMonth(1) ng-show=allowNextMonth><img src=/assets/arrow-right-black.png></a></div><div class=pickadate-body><div class=pickadate-main><ul class=pickadate-cell><li class=pickadate-head ng-repeat="dayName in weekDays">{{dayName}}</li></ul><ul class=pickadate-cell><li ng-repeat="d in dates" ng-click=dateClicked(d) class={{d.className}} ng-class="{\'pickadate-active\': (date == d.date) && isDateSelected && !d.disabled,\'current-date\': (todayDate == d.date) && !isDateSelected,\'pickdate-cell-bg\':!((date == d.date) && isDateSelected && !d.disabled)}">{{d.date | date:"d"}}</li></ul></div></div></div>'),t.put("/assets/partials/rvRover.html",'<activity-indicator></activity-indicator><div><div ng-show=showSixPayLoader id=loading><div id=six-payment-loader><div class="centeralign alert-box">WAITING FOR PAYMENT COMPLETION</div><div class=waiting-payment>&nbsp;</div></div></div><div class=container ng-click=closeDrawerMenu() ng-class="{ \'return-back\': returnBack}" ng-show=!kiosk><div class=ui-router-wrapper><div ui-view="" class=main-view></div></div></div><div ng-show="!kiosk && shouldShowAvailabilityHouseButton()" id=availability ng-controller=rvAvailabilityButtonController ng-class="{ \'availability-open\': showAvailability, \'availability-closing\': isClosing}"><a href=#availability class=availability-toggle ng-class="{\'active\': showAvailability}" ng-click=clickedOnAvailabilityButton()>Menu</a><div class=availability-container ng-include=getAvailabilityTemplateUrl()></div></div><nav id=main-menu role=navigation ng-include="\'/assets/partials/dashboard/rvLeftNavbar.html\'" ng-class-without-animation="{\'menu-open\': menuOpen, \'menu-hotel\' : showHotelSwitchList, \'ng-animate\': !menuOpen}"></nav><div class=release-notes ng-show="showDeviceConnectivityStatus && isIpad"><div class="release-notes_content device-status"><strong class=release-notes_text>{{deviceDetails}}</strong><div class=release-notes_action><button class="button blank" ng-click="showDeviceConnectivityStatus = false">Close</button> <a class="button blue" target=_blank ng-click=fetchDeviceStatus()>View Details</a></div></div></div></div>'),t.put("/assets/directives/calendar/calendarDirective.html",'<div class=pickadate><div class=calendar_top_panel><a href="" class="pickadate-prev float_left" ng-hide=allowPrevMonth>&nbsp;&nbsp;&nbsp;&nbsp;</a> <a href="" class="pickadate-prev float_left" ng-click=changeMonth(-1) ng-show=allowPrevMonth><img src=/assets/arrow-left-black.png></a><div class=float_left style="width:85%;padding:0 10%;"><div class="select select-col col1-4 float_left full-width" style=width:60%;><select class="styled pickadate_select float_left" ng-options="month.name for month in months" ng-model=monthSelected></select></div><div class="select select-col col1-4 float_right" style=width:40%;><select class="styled pickadate_select pickadate_select_year" ng-options="year for year in years" ng-model=yearSelected></select></div></div><a href="" class="pickadate-next float_right" ng-click=changeMonth(1) ng-show=allowNextMonth><img src=/assets/arrow-right-black.png></a></div><div class=pickadate-body><div class=pickadate-main><ul class=pickadate-cell><li class=pickadate-head ng-repeat="dayName in weekDays">{{dayName}}</li></ul><ul class=pickadate-cell><li ng-repeat="d in dates" ng-click=dateClicked(d) class={{d.className}} ng-class="{\'pickadate-active\': (date == d.date) && isDateSelected,\'current-date\': (todayDate == d.date) && !isDateSelected && !d.disabled,\'pickdate-cell-bg\':!((date == d.date) && isDateSelected)}">{{d.date | date:"d"}}</li></ul></div></div></div>'),t.put("/assets/directives/checkBox/rvCheckbox.html",'<div class="entry radio-check {{divClass}}"><label class="checkbox {{parentLabelClass}}" ng-class="{\'checked\': isChecked}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': isChecked}"></span> <input type=checkbox ng-disabled=isDisabled ng-model=isChecked ng-change=change(datagroup,index)> {{label}} <strong ng-show="required==\'yes\'">*</strong></label></div>'),t.put("/assets/directives/checkBox/rvCheckboxGroup.html",'<div><span data-id=1 class="icons icon-delete" ng-click=deleteAction() ng-show="optionId.length > 0"></span> <span class="icon-form icon-checkbox" ng-class="{ checked : isChecked === \'true\' }"></span> <input type=checkbox name=newspaper data-id=1 ng-click=toggle()><div id=newspaper-name>{{label}}</div></div>'),t.put("/assets/directives/checkBox/rvCheckboxLeftText.html",'<div class="entry radio-check {{divClass}}" style=width:{{width}};><span style=float:left>{{label}}</span><div style=float:right;><label class="checkbox {{parentLabelClass}}" ng-class="{\'checked\': isChecked}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': isChecked}"></span> <input type=checkbox ng-model=isChecked ng-disabled=isDisabled ng-change=change(datagroup,index)> <strong ng-show="required==\'yes\'">*</strong></label></div></div>'),t.put("/assets/directives/fileRead/rvFileread.html",'<div class="entry full-width" ng-model=value><label for=certificate ng-hide="label.length ==0">{{label}}</label><div class=file-upload><span class=input>Choose file ...</span> <input type=file name=certificate> <button type=button class="button brand-colors">{{name}}</button></div><span class=file-preview><img ng-src={{image}} id=file-preview alt=""></span></div>'),t.put("/assets/directives/fullCalendar/twoMonthCalendar.html",'<div class=calendar-left iscroll-stop-propagation=""><button type=button id=calendar-prev class=fc-button-prev ng-click=prevButtonClickHandler() ng-hide=disablePrevButton>Prev</button><div id=calendar1 ui-calendar=leftCalendarOptions ng-model=eventSourcesLeft calendar=myCalendar></div></div><div class=calendar-right iscroll-stop-propagation=""><button type=button id=calendar-next class=fc-button-next ng-click=nextButtonClicked()>Next</button><div id=calendar2 ui-calendar=rightCalendarOptions ng-model=eventSourcesRight calendar=myCalendar></div></div>'),t.put("/assets/directives/multiOptionSelection/rvMultiOptionSelection.html",'<div class=entry><label>{{ label }}</label><div class="multi-select select" ng-click=toggleView()>{{ value }}</div><div class=multi-select-options ng-class="{ \'hidden\': closed }"><div class=select-all ng-hide="options.noSelectAll || options.singleSelect || data.length === 1"><label class="checkbox inline" ng-class="{ \'checked\': options.selectAll }" ng-click=toggleSelectAll() ng-style=displayStyle><span class="icon-form icon-checkbox" ng-class="{ \'checked\': options.selectAll }"></span> Select All</label></div><div class=search ng-show=options.hasSearch><button id=multi-select-clear-query class=clear-query ng-class="{\'visible\': search.length}" ng-click=clearSearch()><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input class=query placeholder="Search by {{ label }}" autocomplete=off type=search ng-model=search ng-change=onSearchChange()></div><label class=checkbox ng-repeat="each in data" ng-class="{ \'hidden\': each.filteredOut }" ng-click=toggleSelection(each) ng-style=displayStyle><span class="icon-form icon-checkbox" ng-class="{ \'checked\': each.selected }"></span> {{ each[options.key] || each[options.altKey] }}</label></div></div>'),t.put("/assets/directives/overbookingAlert/rvOverbookingCalendar.html",'<div class=calendar-left iscroll-stop-propagation=""><div id=reservationcalendar class="fc fc-ltr" ui-calendar=leftCalendarOptions ng-model=eventSourcesLeft></div></div><div class=calendar-right iscroll-stop-propagation=""><div id=reservationcalendar class="fc fc-ltr" ui-calendar=rightCalendarOptions ng-model=eventSourcesRight></div></div>'),t.put("/assets/directives/pagination/rvPaginationDir.html",'<div class=numbers-pagination ng-show="pageOptions.totalPages > 1" ng-class=divClass><div class=pages><button type=button class="button prev" ng-hide="currentFocus <= 3 || pageOptions.totalPages <= showCount" ng-click=setScroll(currentFocus-3)>Prev</button> <button type=button class="button dark-grey number" ng-click=gotoPage(1) ng-class="{\'active\': pageOptions.currentPage === 1}">1</button> <span class=delimiter ng-show=pageNoArray.firstDelim>...</span> <button type=button class="button dark-grey number" ng-repeat="pageNo in pageNoArray.numbers track by $index" ng-click=gotoPage(pageNo) ng-class="{\'active\': pageOptions.currentPage === pageNo}">{{pageNo}}</button> <span class=delimiter ng-show=pageNoArray.lastDelim>...</span> <button type=button class="button dark-grey number" ng-click=gotoPage(pageOptions.totalPages) ng-class="{\'active\': pageOptions.currentPage === pageOptions.totalPages}">{{pageOptions.totalPages}}</button> <button type=button class="button next" ng-hide="currentFocus >= (pageOptions.totalPages-2) || pageOptions.totalPages <= showCount" ng-click=setScroll(currentFocus+3)>Next</button></div></div>'),t.put("/assets/directives/rateAutoComplete/rateautocompletedir.html",'<div class=entry ng-class=entryDivClass><label for=company-rate>{{label}}</label> <button id=company-rate-clear-query ng-click=clearConfigValues() class=clear-query ng-class="{\'visible\': rate_id!=\'\'}"><span class="icons icon-clear-search">Clear query</span></button> <input id=company-rate-query ng-model=rate_name process-each-item=processEachItem rover-auto-complete="" auto-complete-options=rateAutocompleteOptions ul-class=find-rates type=text placeholder="Search or Select Rate"></div>'),t.put("/assets/directives/selectBox/rvDropdownbox.html",'<div class="entry {{divClass}}" ng-style={{divStyle}}><label for={{id}} ng-hide="label.length==0">{{label}}<strong ng-show="required==\'yes\'">*</strong></label><div class=select><select id={{id}} name={{name}} class={{selboxClass}} ng-style={{sel-style}} ng-model=selectedId><option value="" ng-hide="labelInDropDown.length===0 || !labelInDropDown">{{labelInDropDown}}</option><option ng-repeat="row in list" value={{row.value}} ng-selected="row.value==selectedId">{{row.name}}</option></select></div></div>'),t.put("/assets/directives/textArea/rvTextArea.html",'<div class="entry {{divClass}}"><label>{{label}} <strong ng-show=required>*</strong></label> <textarea rows={{rows}} ng-model=value placeholder={{placeholder}} name={{name}} id={{id}} class={{textAreaClass}} ng-maxlength="{{maxlength>0?maxlength:\'\'}}">\n\t\t{{value}}\n\t</textarea></div>'),t.put("/assets/directives/textBox/textboxDirective.html",'<div class=entry ng-class=styleclass><label ng-hide="label.length ==0 || !label">{{label}} <strong ng-show="required==\'yes\'">*</strong></label> <input type="{{inputtype?inputtype:\'text\'}}" value={{value}} ng-model=value placeholder={{placeholder}} id={{id}} name={{name}} ng-readonly="{{readonly==\'yes\'}}" ng-disabled=disabled ng-maxlength="{{maxlength>0?maxlength:\'\'}}" maxlength="{{maxlength > 0 ? maxlength : \'\'}}"></div>'),t.put("/assets/directives/toggle/rvToggleButton.html",'<div class="entry {{divClass}}"><label ng-hide="label.length ==0" for="">{{label}}</label><div class="switch-button single" ng-class="{\'on\': isChecked}"><input type=checkbox ng-checked=isChecked ng-model=isChecked> <span class=switch-icon></span></div></div>'),t.put("/assets/partials/accounts/rvAccountsConfiguration.html",'<div class="group-card cards fullscreen" ng-class="{\'new-card\': isInAddMode()}"><div class=cards-wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><header class=cards-header><div id=group-card-header class=card-header><form class=dual-actions><div class=holder><div class=entry><input placeholder="Account Name" ng-model=accountConfigData.summary.posting_account_name type=text class="masked-input h1" data-size={{accountConfigData.summary.posting_account_name.length}} auto-grow-field=""></div></div><div class="holder data"><input placeholder="" ng-init="focusedCompanyCard = false" ng-focus="focusedCompanyCard = true" ng-blur="focusedCompanyCard = false" ng-class="{\'active\': focusedCompanyCard}" class="masked-input icons icon-gc-company" auto-complete="" auto-options=companyAutoCompleteOptions data-card-type="" type=text value="" autocomplete=off ng-change=onCompanyCardChange() ng-model=accountConfigData.summary.company.name style="width:{{ ((accountConfigData.summary.company && accountConfigData.summary.company.name && accountConfigData.summary.company.name.length) || 2) * 9 + 45}}px"><input placeholder="" ng-init="focusedTravelAgent = false" ng-focus="focusedTravelAgent = true" ng-blur="focusedTravelAgent = false" ng-class="{\'active\': focusedTravelAgent}" class="masked-input icons icon-gc-ta" auto-complete="" auto-options=travelAgentAutoCompleteOptions data-card-type="" type=text value="" autocomplete=off ng-change=onTravelAgentCardChange() ng-model=accountConfigData.summary.travel_agent.name style="width:{{ ((accountConfigData.summary.travel_agent && accountConfigData.summary.travel_agent.name && accountConfigData.summary.travel_agent.name.length) || 2) * 9 + 45}}px"> <span class="masked-input icons icon-gc-group">{{accountConfigData.summary.group.name}}</span></div></form><div class="card-actions dual-actions" ng-hide=isInAddMode()><button type=button class="button blue hidden" ng-click=duplicateGroup() translate="">DUPLICATE</button><button type=button class="button company" ng-click=goToCompanyCard() ng-show=shouldShowCompanyCardNavigationButton()><span class="icons icon-company"></span></button><button type=button class="button travel-agent" ng-click=goToTACard() ng-show=shouldShowTravelAgentNavigationButton()><span class="icons icon-travel-agent"></span></button></div><div class=card-actions ng-show=isInAddMode()><button type=button class="button green" ng-click=saveNewAccount() translate="">SAVE_ACCOUNT</button> <button type=button class="button blank" ng-click=discardNewAccount() translate="">DISCARD</button></div></div></header><div class=cards-content><div id=account-card-content class="card-tabs card-content"><ul id=account-card-tabs-nav class="card-tabs-nav no-print"><li ng-click="switchTabTo(\'ACCOUNT\')" ng-class="{\'ui-tabs-active\' : accountConfigData.activeTab == \'ACCOUNT\'}"><a translate="">SUMMARY</a></li><li ng-click="switchTabTo(\'TRANSACTIONS\')" ng-class="{\'ui-tabs-active\' : accountConfigData.activeTab == \'TRANSACTIONS\'}"><a translate="">TRANSACTIONS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=TRANSACTIONS fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-click="switchTabTo(\'ACTIVITY\')" ng-class="{\'ui-tabs-active\' : accountConfigData.activeTab == \'ACTIVITY\'}"><a translate="">ACTIVITY_LOG</a></li></ul><ng-include src="\'/assets/partials/accounts/accountsTab/rvAccountsSummary.html\'" ng-show="accountConfigData.activeTab == \'ACCOUNT\'"></ng-include><ng-include src="\'/assets/partials/accounts/transactions/rvAccountTransactions.html\'" ng-show="accountConfigData.activeTab == \'TRANSACTIONS\'"></ng-include><ng-include src="\'/assets/partials/groups/activity/rvGroupConfigurationActivityTab.html\'" ng-show="accountConfigData.activeTab == \'ACTIVITY\'"></ng-include></div></div></div></div>'),t.put("/assets/partials/accounts/rvAccountsRoot.html","<div ng-include=\"'/assets/partials/common/header.html'\"></div><ui-view></ui-view>"),t.put("/assets/partials/actionsManager/rvActionAssignmentPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form method=post action="" id=action-new class="modal-content form actions-form"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message" ng-show=!selectedAction.assigned_to.name>Assign</span> <span class="h2 message" ng-show=!!selectedAction.assigned_to.name>Re-Assign</span><div class="entry full-width"><label for=department>Assign to Department</label><div class=select><select ng-model=selectedAction.department id=department ng-class="{\'placeholder\': !selectedAction.department}"><option value="" ng-if=!selectedAction.department>Select Department</option><option value={{department.value}} ng-selected="selectedAction.department == department.value" ng-repeat="department in departments">{{department.name}}</option></select></div></div><div class=actions><button type=button ng-show=!selectedAction.assigned_to.name class="button grey" ng-class="{\'brand-colors\': selectedAction.department}" ng-click=updateAction() ng-disabled=!selectedAction.department>Assign</button> <button type=button ng-show=!!selectedAction.assigned_to.name class="button grey" ng-class="{\'brand-colors\': selectedAction.department}" ng-click=updateAction() ng-disabled=!selectedAction.department>Re-Assign</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></form></div>'),t.put("/assets/partials/actionsManager/rvActionManagerReportPrint.html","<section id=report-details class=\"content reports-wrapper\" role=main><div class=report-header><ul class=totals><li>Total Actions<span>{{printActionManagerData.total_count}}</span></li></ul></div><div id=report-content class=\"report-content scrollable\"><div class=wrapper><table class=action-manager-reports><thead><tr><th class=department><span class=\"sort sorting-asc\">Department</span></th><th class=date><span>Due Date &amp; Time</span></th><th class=guest><span>Guest / Room / Group</span></th><th><span>Information</span></th><th class=status><span>Status</span></th></tr></thead><tfoot ng-include=\"'/assets/partials/reports/shared/rvReportDetailsFooter.html'\"></tfoot><tbody><tr ng-repeat=\"item in printActionManagerData.results\"><td class=name><strong>{{item.department}}</strong></td><td>{{item.due_at_date}}<br>{{item.due_at_time}}</td><td>{{item.full_name}}<br>{{item.room_no}}</td><td>{{item.description}}</td><td><span class=status ng-class=\"{'unassigned': item.status === 'UNASSIGNED', 'completed': item.status === 'COMPLETED', 'assigned': item.status === 'ASSIGNED'}\">{{item.status}}</span></td></tr></tbody></table></div></div></section>"),t.put("/assets/partials/actionsManager/rvActionsManager.html",'<span ng-include="\'/assets/partials/common/header.html\'"></span><section id=actions class="content actions-content actions-manager" ng-class="{\'show-right-content\': !showLeftSideViewForMobile}" role=main ng-cloak=""><div class=content-left><form method=post action="" id=actions-search ng-class="{\'action_filters_visible open\':filterOptions.showFilters}" class="search-form actions-form" role=search><button ng-click=toggleExtraFilters() type=button class="button white with-icon only-icon" ng-class="{\'active open\':filterOptions.showFilters}"><span class="icons icon-filter" ng-class="{\'active\':filterOptions.showFilters}"></span></button><div class="entry dates"><input id=filter-date class="button white with-icon only-icon datepicker" ui-date=selectDateOptions ng-model=filterOptions.selectedDay value="" readonly=""></div><div class="entry search"><button type=button class=clear-query ng-class="{\'visible\':!!filterOptions.query}" ng-click=queryActions(true)><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input id=actions-query ng-model=filterOptions.query placeholder="Search Actions" type=search class=query autocomplete=off rv-delay-textbox="" delay=1000 function-to-fire=queryActions></div><div class="entry actions"><button type=button class="button with-icon only-icon blue" ng-click=printActionManager()><span class="icons icon-print"></span></button></div><ul id=extra_filters class=filters><li ng-click="setActiveFilter(\'ALL\')" ng-class="{\'active\':filterOptions.selectedStatus === \'ALL\'}">All</li><li ng-click="setActiveFilter(\'UNASSIGNED\')" ng-class="{\'active\':filterOptions.selectedStatus === \'UNASSIGNED\'}">Unassigned</li><li ng-click="setActiveFilter(\'ASSIGNED\')" ng-class="{\'active\':filterOptions.selectedStatus === \'ASSIGNED\'}">Assigned</li><li ng-click="setActiveFilter(\'COMPLETED\')" ng-class="{\'active\':filterOptions.selectedStatus === \'COMPLETED\'}">Completed</li></ul></form><div class=scrollable ng-iscroll=rvActionListScroller ng-iscroll-delay=1000 ng-if="actions.length > 0" ng-class="{\'with-pagination\':filterOptions.totalCount > filterOptions.perPage}"><ul class=wrapper><li ng-class="{\'active\': action.id === filterOptions.selectedActionId,\'overdue\': action.is_overdue === \'true\'}" ng-repeat="action in actions" ng-click=onSelectAction(action.id)><span class="icons icon-action {{action.iconClass}}" ng-class="{\'active\' : action.id === filterOptions.selectedActionId}" ng-if="action.is_overdue === \'true\' && action.action_status != _actionCompleted">{{action.action_type}} overdue</span> <span class="icons icon-action {{action.iconClass}}" ng-class="{\'active\' : action.id === filterOptions.selectedActionId}" ng-if="action.is_overdue !== \'true\' || action.action_status === _actionCompleted">{{action.action_type}}</span><div class=data><h3>{{action.description}}</h3><em ng-if="filterOptions.selectedView === \'GUEST\'"><span class=room>{{action.room_no}}</span>{{action.guest_name}}</em> <em ng-if="filterOptions.selectedView === \'GROUP\'">{{action.group_name}}</em></div><span class=department>{{action.departmentName}}</span></li></ul></div><div class=no-content ng-if="actions.length === 0"><div class=info><span class="icon-no-content icon-actions"></span> <strong class=h1>No Actions</strong> <span class=h2>You can select different department or add a new action.</span></div></div><div class=search-pagination ng-if="filterOptions.totalCount > filterOptions.perPage"><button class="button dark-grey next" ng-click=loadNextPage($event) ng-class="{\'disabled\': filterOptions.isLastPage}" ng-disabled=filterOptions.isLastPage>Next</button> <button class="button dark-grey prev" ng-click=loadPrevPage($event) ng-class="{\'disabled\': filterOptions.page === 1}" ng-disabled="filterOptions.page === 1">Prev</button><p>Showing <strong class=ng-binding>{{filterOptions.startRecord}}-{{filterOptions.endRecord}}</strong> of <strong id=total-count class=ng-binding>{{filterOptions.totalCount}}</strong> items</p></div></div><div class=content-right ng-if="actions.length > 0"><div class=sender-details><figure class=guest-image ng-class="{\'accompany\': selectedAction.guest_images.length > 1, \'blacklisted\': selectedAction.is_flagged}" ng-if="filterOptions.selectedView === \'GUEST\'"><img ng-src={{avatar.guest_image}} ng-repeat="avatar in selectedAction.guest_images"></figure><div class=data><h1 ng-show="filterOptions.selectedView === \'GUEST\'">{{selectedAction.guest_name}}</h1><h1 ng-show="filterOptions.selectedView === \'GROUP\'">{{selectedAction.group_name}}</h1><strong ng-if=selectedAction.room_no>Room {{selectedAction.room_no}}</strong></div><div class=dates ng-if="filterOptions.selectedView === \'GUEST\'"><div class=date><span class="guest-status small-icon check-in">check-in</span> {{selectedAction.arrival_date | date:dayInWeek }}&nbsp;{{selectedAction.arrival_date | date:dateFormat}} &nbsp;{{selectedAction.arrival_time}}</div><div class=date><span class="guest-status small-icon check-out">check-out</span> {{selectedAction.departure_date|date:dayInWeek}}&nbsp;{{selectedAction.departure_date | date: dateFormat}} &nbsp;{{selectedAction.departure_time}}</div></div><div class=dates ng-if="filterOptions.selectedView === \'GROUP\'"><div class=date><span class="guest-status small-icon check-in">check-in</span> {{selectedAction.from_date | date:dayInWeek }}&nbsp;{{selectedAction.from_date | date:dateFormat}}</div><div class=date><span class="guest-status small-icon check-out">check-out</span> {{selectedAction.to_date|date:dayInWeek}}&nbsp;{{selectedAction.to_date | date: dateFormat}}</div></div><button type=button class="button brand-colors" ng-click=toStayCard() ng-show="filterOptions.selectedView === \'GUEST\'">Stay Card</button> <button type=button class="button brand-colors" ng-click=toGroup() ng-show="filterOptions.selectedView === \'GROUP\'">Group</button></div><div class=summary><div id=action-summary ng-hide="selectedView === \'new\' || selectedView === \'edit\'" class="action-summary scrollable" ng-iscroll=actionSummaryScroller ng-iscroll-delay=500><div class=wrapper><span class="icons icon-action icon-{{selectedAction.action_status}} icon-100w">{{getActionStatusInfo(selectedAction)}}</span><h3 class=word_wrap>{{selectedAction.description}}</h3><span class=info>Created {{selectedAction.created_at | date:dateFormat}} at {{selectedAction.created_at | date:"hh:mm a"}} by {{selectedAction.created_by.name}}</span><div class=info-lists ng-class="{\'last\': selectedAction.action_status !== \'COMPLETED\'}"><ul><li>Assigned to<strong ng-if="selectedAction.action_status === \'UNASSIGNED\'" class=red>Unassigned</strong> <strong ng-if="selectedAction.action_status !== \'UNASSIGNED\'">{{selectedAction.assigned_to.name}}</strong></li><li>Date Due <strong>{{selectedAction.dueDate | date: dateFormat}}</strong></li><li>Time Due <strong>{{selectedAction.dueTimeAmPm}}</strong></li></ul><ul class=completed ng-if="selectedAction.action_status === \'COMPLETED\'"><li>Completed by <strong ng-if=selectedAction.completed_by>{{selectedAction.completed_by.name}}</strong></li><li>Date Completed <strong>{{selectedAction.completed_at | date: dateFormat}}</strong></li><li>Time Completed <strong>{{selectedAction.completed_at | date: "hh:mm a"}}</strong></li></ul></div></div></div><div class=detail-actions ng-hide="selectedView === \'new\' || selectedView === \'edit\'" ng-class="{\'inline\': selectedAction.action_status === \'delete\'}"><button type=button class="button white purple-text" ng-click=prepareEditAction() ng-class="{\'overlay\': !hasPermissionToEditAction(), \'hidden\': !shouldShowEditAndCompleteBtn(selectedAction)}">Edit</button> <button type=button class="button white green-text" ng-click=completeAction() ng-class="{\'hidden\': !shouldShowEditAndCompleteBtn(selectedAction)}">Complete</button><button type=button class="button white red-text" ng-click=prepareDeletAction() ng-class="{\'overlay\': !hasPermissionToDeleteAction(), \'hidden\': !shouldShowDeleteBtn(selectedAction)}">Delete</button><button type=button class="button blank" ng-click=cancelDelete() ng-class="{\'hidden\': selectedAction.action_status !== \'delete\'}">Cancel</button> <button type=button class="button red" ng-class="{\'hidden\': selectedAction.action_status !== \'delete\'}" ng-click=deleteAction()>Delete Action</button></div><div id=secondary-actions class=add-content ng-controller=RVNewActionCtrl ng-if="selectedView === \'new\' && actions.length > 0" ng-include="\'/assets/partials/actionsManager/rvAddAction.html\'"></div><div id=secondary-actions class=add-content ng-controller=RVNewActionCtrl ng-if="selectedView === \'edit\'" ng-include="\'/assets/partials/actionsManager/rvEditAction.html\'"></div></div></div><div class=content-right ng-if="actions.length === 0" ng-controller=RVNewActionCtrl><div class="summary add-content form" ng-include="\'/assets/partials/actionsManager/rvAddAction.html\'"></div></div><div ng-include="\'/assets/partials/actionsManager/rvActionManagerReportPrint.html\'"></div></section><form method=get action="" id=actions-post class=post-form ng-class="{\'show-right-content\': !showLeftSideViewForMobile}"><button id=switch-guest-group type=button class=switch><span class="icons icon-messages-guests2" ng-class="{\'active\':filterOptions.selectedView === \'GUEST\'}" ng-click="switchTab(\'GUEST\')">View Guests Actions</span> <span class="icons icon-messages-group" ng-class="{\'active\':filterOptions.selectedView === \'GROUP\'}" ng-click="switchTab(\'GROUP\')">View Group Actions</span></button><div id=change-department class="select with-border"><select name=change-department ng-options="department.name for department in departments" ng-model=filterOptions.department ng-change=onDepartmentSelectionChange()><option value="" selected="">All Departments</option><option value=department.value ng-selected="filterOptions.department == department.value" ng-repeat="department in departments">{{department.name}}</option></select></div><button type=button ng-hide="actions.length === 0" class="button green hide-on-mobile" ng-click=initNewAction()>New Action</button><button type=button class="button green hide-on-desktop" ng-click=initNewAction()>New Action</button><button type=button ng-hide=showLeftSideViewForMobile class="back-button hide-on-desktop" ng-click=onGoBack()>All Actions</button></form>'),t.put("/assets/partials/actionsManager/rvAddAction.html",'<span class="h2 message">New Action</span><div class="form scrollable" ng-iscroll=create-action-scroller ng-iscroll-delay=1000><div class=wrapper><span ng-if="filterOptions.selectedView == \'GUEST\'" auto-complete-reservations="" ng-model=newAction.reservation></span> <span ng-if="filterOptions.selectedView == \'GROUP\'" auto-complete-groups="" ng-model=newAction.group></span><div class="entry full-width"><label for=department>Assign to Department</label><div class=select><select id=department ng-model=newAction.department ng-class="{\'placeholder\': !newAction.department}"><option value="" selected="">Select department</option><option value={{department.value}} ng-selected="newAction.department == department.value" ng-repeat="department in departments">{{department.name}}</option></select></div></div><div class="entry action-info date margin"><label for=new-action-due-date>Date Due</label> <button class=clear-query><span class="icons icon-clear-search" ng-class="{\'visble\': !!newAction.dueDate}">Clear query</span></button> <input id=new-action-due-date class=datepicker type=text ui-date=dueDateOptions readonly="" ng-model=newAction.dueDate ng-class="{\'not-selected\': !newAction.dueDate}"></div><div class="entry action-info time"><label for=due-time>Time Due</label><div class=select><select id=due-time ng-model=newAction.dueTime><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="selectedAction.dueTime === timeSelector.value">{{timeSelector.text}}</option></select></div></div><div class="entry full-width"><label for=notes>Notes <span class=char-count ng-class="{\'full\': adjustedLength(newAction.note) >= __maxLengthOfNotes}">{{__maxLengthOfNotes - adjustedLength(newAction.note)}}</span></label> <textarea id=notes name=notes placeholder="Enter message..." ng-model=newAction.note rows=4 maxlength={{__maxLengthOfNotes}}></textarea></div></div></div><div class=actions><button type=button class="button blank" ng-click=cancelEdit()>Cancel</button> <button type=button class="button green" ng-click=saveNewAction() ng-class="{\'grey\':!newAction.reservation.id && !newAction.group.id || !newAction.note}" ng-disabled="!newAction.reservation.id && !newAction.group.id || !newAction.note">Post Action</button></div>'),t.put("/assets/partials/actionsManager/rvEditAction.html",'<span class="h2 message">Edit Action</span><div class="form scrollable" ng-iscroll=create-action-scroller ng-iscroll-delay=1000><div class=wrapper><div class="entry full-width"><label for=department>Assign to Department</label><div class=select><select id=department class=placeholder ng-model=selectedAction.department ng-options="department.name for department in departments"><option value="" selected="">Select department</option></select></div></div><div class="entry action-info date margin"><label for=new-action-due-date>Date Due</label> <button class=clear-query><span class="icons icon-clear-search" ng-class="{\'visble\': !!selectedAction.dueDate}">Clear query</span></button> <input id=new-action-due-date class=datepicker type=text ui-date=dueDateOptions readonly="" ng-model=selectedAction.dueDate ng-class="{\'not-selected\': !selectedAction.dueDate}"></div><div class="entry action-info time"><label for=due-time>Time Due</label><div class=select><select id=due-time ng-model=selectedAction.dueTime><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="selectedAction.dueTime === timeSelector.value">{{timeSelector.text}}</option></select></div></div><div class="entry full-width"><label for=notes>Notes <span class=char-count ng-class="{\'full\': adjustedLength(selectedAction.note) >= __maxLengthOfNotes}">{{__maxLengthOfNotes - adjustedLength(selectedAction.note)}}</span></label> <textarea id=notes name=notes placeholder="Enter message..." ng-model=selectedAction.note rows=4 maxlength={{__maxLengthOfNotes}}></textarea></div></div></div><div class=actions><button type=button class="button blank" ng-click=cancelEdit()>Cancel</button> <button type=button class="button green" ng-click=updateAction() ng-class="{\'grey\':!selectedAction.reservation_id && !selectedAction.group_id || !selectedAction.note}" ng-disabled="!selectedAction.reservation_id && !selectedAction.group_id || !selectedAction.note">Save Changes</button></div>'),
t.put("/assets/partials/actionsManager/rvNewActionPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form method=post action="" id=action-new class="modal-content form actions-form"><button class=modal-close ng-click=closeDialog() id=modal-close type=button><span class="icons icon-close invert"></span></button><section ng-include="\'/assets/partials/actionsManager/rvAddAction.html\'"></section></form></div>'),t.put("/assets/partials/activityLog/rvActivityLog.html",'<section id=report-details class="content reservations-inner stay-card-inner" role=main><div id=report-update class=sidebar-left ui-jq=resizable ui-options=resizableOptions role=complementary ng-click=clickedOnReportUpdate($event) style="width: {{reportUpdateWidth}}px;" ng-hide=hideSidebar><div class=scrollable ng-iscroll=report-update ng-iscroll-delay=500><div class=wrapper><div ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions><a class="settings-title toggle has-arrow active"><span class=title>Date</span></a><div id=sidebar-dates class=settings-content><div class="entry date-range"><label for=activity-range-from>From</label><div class=has-datepicker><button class=clear-query ng-class="{\'visible\': true}"><span class="icons icon-clear-search" ng-show=fromDate ng-click=clearFromDate()>Clear query</span></button><input name=activity-range-from id=activity-range-from class=range-datepicker ui-date=fromDateOptions ng-model=fromDate placeholder="{{\'FROM_DATE\' | translate }}" ui-date-format=yy-mm-dd readonly=""></div><label for=activity-range-to>To</label><div class=has-datepicker><button class=clear-query ng-class="{\'visible\': true}"><span class="icons icon-clear-search" ng-show=toDate ng-click=clearToDate()>Clear query</span></button><input name=activity-range-to id=activity-range-to class=range-datepicker ui-date=untilDateOptions ng-model=toDate ui-date-format=yy-mm-dd placeholder="{{\'TO_DATE\' | translate }}" readonly=""></div></div></div></div><div ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions><a class="settings-title toggle has-arrow active"><span class=title>Filter</span></a><div id=sidebar-filter class=settings-content><label for=activity-filter>User</label> <input class="icons icon-search" auto-complete="" auto-options=detailsUserAutoCompleteOptions type=text placeholder="Search by Email Id" value="" autocomplete=off ng-model=userEmail ng-change=userChanged()></div></div></div><div class=actions><button type=button class="button green" ng-click=updateReportFilter()>Update Report</button></div></div></div><div class=report-header><ul class=totals><li>Activities<span>{{totalResults}}</span></li></ul></div><div id=report-content class="report-content scrollable" ng-class="{\'with-pagination\': shouldShowPagination()}" ng-iscroll=report_content ng-iscroll-delay=1000><div class=wrapper><table class=log-reports><thead><tr><th><span ng-class="{\'sort\': true,\'sorting-asc\':sortOrderOfUserASC,\'sorting-desc\':sortOrderOfUserDSC}" ng-click=sortByUserName()>User Name</span></th><th><span ng-class="{\'sort\': true,\'sorting-asc\':sortOrderOfDateASC,\'sorting-desc\':sortOrderOfDateDSC}" ng-click=sortByDate()>Date &amp; Time</span></th><th><span ng-class="{\'sort\': true,\'sorting-asc\':sortOrderOfActionASC,\'sorting-desc\':sortOrderOfActionDSC}" ng-click=sortByAction()>Action</span></th><th><span>Details</span></th></tr></thead><tbody><tr ng-repeat="log in activityLogData" ngrepeatend=""><td>{{log.user_name}}</td><td>{{log.date }}, {{log.time}}</td><td>{{log.action}}</td><td class=details><span ng-repeat="details in log.details"><span class=old ng-show=isOldValue(details.old_value)>{{ details.key }} <strong>{{ details.old_value }}</strong></span> {{details.key}} <span class=currency><strong>{{details.new_value }}</strong></span></span></td></tr></tbody></table></div></div><rv-pagination page-options=pageOptions page-data=totalResults></rv-pagination></section>'),t.put("/assets/partials/activityLog/rvActivityLogTemplate.html",'<form method=post action={action} id=group-transactions name=group-transactions class="form card-tab inner-header activity" ng-controller=rvActivityCtrl><div id=group-activity-header class="tab-header no-print"><ul class=totals><li><div class=data><span class=label>Activities</span> <span class=value>{{count}}</span></div></li><li><button type=button class="button with-icon only-icon blue" ng-hide=true><span class="icons icon-email"></span> Email</button> <button type=button class="button blue with-icon only-icon" ng-click=print()><span class="icons icon-print"></span> Print</button> <button type=button class="button with-icon only-icon purple" ng-hide=true><span class="icons icon-save"></span> Download</button></li></ul></div><div id=group-activity-content class=tab-details><div ng-show=!isPrevButtonDisabled()||!isNextButtonDisabled()><rv-pagination page-options=accountActivityLogPagination page-data=count></rv-pagination></div><div id=report-content class="report-content scrollable" ng-iscroll=report_content ng-iscroll-delay=1000 ng-class="{\'with-pagination\' : !isPrevButtonDisabled()||!isNextButtonDisabled()}"><div class=wrapper><table class=log-reports><thead><tr><th><span ng-class="{\'sort\': true,\'sorting-asc\':sortOrderOfUserASC,\'sorting-desc\':sortOrderOfUserDSC}" ng-click=sortByUserName()>User Name</span></th><th><span ng-class="{\'sort\': true,\'sorting-asc\':sortOrderOfDateASC,\'sorting-desc\':sortOrderOfDateDSC}" ng-click=sortByDate()>Date &amp; Time</span></th><th><span ng-class="{\'sort\': true,\'sorting-asc\':sortOrderOfActionASC,\'sorting-desc\':sortOrderOfActionDSC}" ng-click=sortByAction()>Action</span></th><th><span>Details</span></th></tr></thead><tbody><tr ng-repeat="log in activityLogData"><td>{{log.user_name}}</td><td>{{log.date }}, {{log.time}}</td><td>{{log.action}}</td><td class=details><span ng-repeat="details in log.details"><span class=old ng-show=isOldValue(details.old_value)>{{ details.key }} <strong>{{ details.old_value }}</strong></span> {{details.key}} <span class=currency><strong>{{details.new_value }}</strong></span></span></td></tr></tbody></table></div></div></div></form>'),t.put("/assets/partials/allotments/rvAllotmentConfiguration.html",'<div class="allotment-card cards" ng-class="{\'new-card\': isInAddMode() , \'fullscreen\' : !isInAddonSelectionMode()}"><div class=cards-wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><header class=cards-header><div id=allotment-card-header class=card-header ng-class="{\'no-print\' : addNoPrintClass}"><div class="guest-image icons icon-allotment-large"></div><form class=dual-actions><div class=holder><div class=entry><input id=allotment-name placeholder="Allotment Name" ng-model=allotmentConfigData.summary.allotment_name type=text class="masked-input h1" data-size={{allotmentConfigData.summary.allotment_name.length}} auto-grow-field=""></div></div><div class="holder data"><input placeholder="" ng-init="focusedCompanyCard = false" ng-focus="focusedCompanyCard = true" ng-blur="focusedCompanyCard = false" ng-class="{\'active\': focusedCompanyCard}" class="masked-input icons icon-gc-company" auto-complete="" auto-options=companyAutoCompleteOptions data-card-type="" type=text value="" autocomplete=off ng-change=onCompanyCardChange() ng-model=allotmentConfigData.summary.company.name style="width:{{ ((allotmentConfigData.summary.company && allotmentConfigData.summary.company.name && allotmentConfigData.summary.company.name.length) || 2) * 9 + 45}}px"><input placeholder="" ng-init="focusedTravelAgent = false" ng-focus="focusedTravelAgent = true" ng-blur="focusedTravelAgent = false" ng-class="{\'active\': focusedTravelAgent}" class="masked-input icons icon-gc-ta" auto-complete="" auto-options=travelAgentAutoCompleteOptions data-card-type="" type=text value="" autocomplete=off ng-change=onTravelAgentCardChange() ng-model=allotmentConfigData.summary.travel_agent.name style="width:{{ ((allotmentConfigData.summary.travel_agent && allotmentConfigData.summary.travel_agent.name && allotmentConfigData.summary.travel_agent.name.length) || 2) * 9 + 45}}px"></div></form><div class="card-actions dual-actions" ng-hide=isInAddMode()><button type=button class="button blue hidden" ng-click=duplicateAllotment()>Duplicate</button> <button type=button class="button company" ng-click=goToCompanyCard() ng-show=shouldShowCompanyCardNavigationButton()><span class="icons icon-company"></span></button> <button type=button class="button travel-agent" ng-click=goToTACard() ng-show=shouldShowTravelAgentNavigationButton()><span class="icons icon-travel-agent"></span></button></div><div class=card-actions ng-show=isInAddMode()><button type=button class="button green" ng-click=createNewAllotment()>Save Allotment</button> <button type=button class="button blank" ng-click=discardNewAllotment()>Discard</button></div></div></header><div class=cards-content ng-if=!isInAddonSelectionMode()><div id=allotment-card-content class="card-tabs card-content"><ul id=allotment-card-tabs-nav class="card-tabs-nav no-print"><li click-touch="switchTabTo(\'SUMMARY\')" ng-class="{\'ui-tabs-active\' : allotmentConfigData.activeTab == \'SUMMARY\'}" event-shall-pass=true><a id=summary translate="">ALLOTMENT_SUMMARY</a></li><li class=with-filters click-touch="switchTabTo(\'ROOM_BLOCK\')" ng-class="{\'ui-tabs-active\' : allotmentConfigData.activeTab == \'ROOM_BLOCK\'}" event-shall-pass=true><a translate="">ALLOTMENT_DETAILS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=ALLOTMENT_DETAILS fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-show=shouldShowRoomingListTab() class=with-filters click-touch="switchTabTo(\'RESERVATIONS\')" ng-class="{\'ui-tabs-active\' : allotmentConfigData.activeTab == \'RESERVATIONS\'}" event-shall-pass=true><a translate="">ALLOTMENT_RESERVATIONS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=ALLOTMENT_RESERVATIONS fs-toggle-class=fullscreen-card>Fullscreen</button></li><li click-touch="switchTabTo(\'ACTIVITY\')" ng-class="{\'ui-tabs-active\' : allotmentConfigData.activeTab == \'ACTIVITY\'}" event-shall-pass=true><a translate="">ALLOTMENT_ACTIVITY</a></li><li ng-class="{\'ui-tabs-active\': allotmentConfigData.activeTab == \'NOTES_AND_FILES\', \'with-filters\': isCloudStorageEnabledForCardType(\'group\')}" ng-click="switchTabTo(\'NOTES_AND_FILES\')" ng-if="isCloudStorageEnabledForCardType(\'group\')"><a translate="">NOTES_AND_FILES</a> <button type=button ng-if="isCloudStorageEnabledForCardType(\'group\')" class="button white icons icon-expand" rv-fullscreen="" fs-sub-header="Notes & Files" fs-toggle-class=fullscreen-card>Fullscreen</button></li></ul><ng-include src="\'/assets/partials/allotments/summary/rvAllotmentConfigurationSummaryTab.html\'" ng-show="allotmentConfigData.activeTab == \'SUMMARY\'"></ng-include><ng-include src="\'/assets/partials/allotments/details/rvAllotmentConfigurationRoomBlockTab.html\'" ng-show="allotmentConfigData.activeTab == \'ROOM_BLOCK\'"></ng-include><ng-include src="\'/assets/partials/allotments/reservations/rvAllotmentReservationsListTab.html\'" ng-show="allotmentConfigData.activeTab == \'RESERVATIONS\'"></ng-include><ng-include src="\'/assets/partials/allotments/activity/rvAllotmentActivityTab.html\'" ng-show="allotmentConfigData.activeTab == \'ACTIVITY\'"></ng-include><form method=post id=gc-notes name=gc-notes class="form inner-header card-tab notes-tab no-print" ng-if="allotmentConfigData.activeTab == \'NOTES_AND_FILES\'"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><span ng-include="\'/assets/partials/allotments/notesAndFiles/rvAllotmentsConfigurationNotesAndFiles.html\'"></span></form></div></div></div></div><div ng-if=isInAddonSelectionMode() ng-include="\'/assets/partials/allotments/summary/rvAllotmentConfigurationAddons.html\'"></div>'),t.put("/assets/partials/allotments/rvAllotmentRoot.html","<div ng-include=\"'/assets/partials/common/header.html'\"></div><ui-view></ui-view>"),t.put("/assets/partials/allowances/rvAllowances.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post action="" id=edit-charge-options name=edit-charge class="modal-content form allowances"><button class=modal-close type=button ng-click=closeDialog() id=modal-close><span class="icons icon-close invert"></span></button><div id=allowances-header class=modal-header><div class=data><h1>Allowances</h1></div><div class=group-by ng-if=isActivitiesTabOpen><label for=allowances-group-by>Group By</label><div class="switch-button on"><input name=allowances-group-by id=allowances-group-by ng-model=isGroupedByDate ng-click=toggleGrouping() type=checkbox> <label class=data-on><span ng-class="{value: !isGroupedByDate, \'switch-icon\': isGroupedByDate}">Date</span> <span ng-class="{value: isGroupedByDate, \'switch-icon\': !isGroupedByDate}">Allowance</span></label></div></div><div class=header-actions><button type=button class="button orange" ng-class="{\'orange\': isActivitiesTabOpen, \'white\': !isActivitiesTabOpen}" ng-click="isActivitiesTabOpen = true">Activity</button> <button type=button class="button white" ng-class="{\'orange\': !isActivitiesTabOpen, \'white\': isActivitiesTabOpen}" ng-click="isActivitiesTabOpen = false">Sharing</button></div></div><div id=allowances-body class=modal-body ng-if=isActivitiesTabOpen><div class=allowances-details ng-if=isGroupedByDate><div class=allowances-header><ul class=allowance-item><li class=date>Date</li><li class=time>Time</li><li class=charge-code>Charge code</li><li class=allowance>Allowance</li><li class=amount>Amount</li><li class=consumed>Consumed</li></ul></div><div class="allowances-details-body scrollable"><div class=wrapper><div ng-repeat="(key, entries) in reservationBillData.groupedAllowances.dataByDate"><ul class=allowance-item ng-repeat="entry in entries"><li class="date bold"><span ng-if="$index === 0">{{ entry.date }}</span></li><li class=time>{{ entry.time }}</li><li class=charge-code>{{ entry.charge_code }}</li><li class=allowance><span ng-if="entry.type === \'ALLOWANCE LOAD\' || entry.type === \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ entry.description }}</span> <span class=allowance-info ng-if="entry.type === \'ALLOWANCE LOAD\'">{{ entry.allowance_load_value }}</span></li><li class="amount bold" ng-bind-html="entry.amount | sntCurrency:this"></li><li class=consumed><span ng-if="(entry.type !== \'ALLOWANCE LOAD\' || entry.type === \'CONSUMED\') && entry.type !== \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ entry.description }}</span> <span class=consumed-info ng-if="entry.type !== \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ entry.reference_text }}</span></li></ul></div></div></div></div><div class=allowances-details ng-if=!isGroupedByDate><div class=allowances-header><ul class=allowance-item><li class=allowance>Allowance</li><li class=date>Date</li><li class=time>Time</li><li class=charge-code>Charge code</li><li class=amount>Amount</li><li class=consumed>Consumed</li></ul></div><div class="allowances-details-body scrollable"><div class=wrapper><div ng-repeat="(key, entries) in reservationBillData.groupedAllowances.dataByAllowance"><ul class=allowance-item ng-repeat="entry in entries"><li class=allowance><span ng-if="entry.type === \'ALLOWANCE LOAD\' || entry.type === \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'"><strong>{{ entry.description }}</strong><br><span class=allowance-info ng-if="entry.type === \'ALLOWANCE LOAD\'">{{ entry.allowance_load_value }}</span></span></li><li class=date><span ng-if="$index === 0 || ($index !== 0 && entries[$index -1].data !== entry.data)">{{ entry.date }}</span></li><li class=time>{{ entry.time }}</li><li class=charge-code>{{ entry.charge_code }}</li><li class="amount bold" ng-bind-html="entry.amount | sntCurrency:this"></li><li class=consumed><span ng-if="(entry.type !== \'ALLOWANCE LOAD\' || entry.type === \'CONSUMED\') && entry.type !== \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ description }}</span> <span class=consumed-info ng-if="entry.type !== \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ entry.reference_text }}</span></li></ul></div></div></div></div></div><div id=allowances-body class=modal-body ng-if=!isActivitiesTabOpen><fieldset class=content-left><div class=search-form><div class="entry search"><button class=clear-query><span class="icons icon-clear-search" ng-click="query = \'\'">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input name=allownces-query id=allowances-query class=query ng-model=shareQuery.query ng-keyup=debounceQueryUpdate() placeholder="Search by Room No. or Guest Name" type=search autocomplete=off></div></div><div class=scrollable ng-class="{\'no-results\': filteredShareData.length === 0}"><div class=wrapper><ul class=search-results><li class=no-content ng-if="filteredShareData.length === 0 && shareQuery.query.length > 0"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>Nothing found</strong> <span class=h2>There are no more reservations with the matching allowance for your search.</span></div></li><li class=guest ng-if="filteredShareData.length > 0" ng-repeat="item in filteredShareData"><div class=faux-anchor ng-click="onSelectRoom(item, $event)"><figure class=guest-image><img ng-src="{{ item.images.guest_image }}" alt=""></figure><div class=data><h2>{{ item.firstname}}, {{ item.lastname }}</h2><strong class=room-number ng-class="{\'no-number\': !item.room}">{{ item.room ? item.room : \'N/A\' }}</strong></div><span class="guest-status small-icon {{ statusMap[item.reservation_status.value] }}">{{ statusMap[item.reservation_status.value] }}</span></div></li></ul></div></div></fieldset><fieldset class=content-right><div class=no-content ng-if="keys(groupedSelectedRooms).length === 0"><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1>Nothing to share</strong> <span class=h2>Select a room to share an allowance with first</span></div></div><div class=shared-allowances ng-if="keys(groupedSelectedRooms).length > 0"><h2 class=h2>Shared Allowances</h2><span class="text message">unselect a room to exclude or select to include</span><div class="notice success_message" ng-if=successMessage.length>{{ successMessage }}</div><div class="notice error_message" ng-if=errorMessage.length>{{ errorMessage }}</div><div class="shared-allowances-list scrollable"><div class=wrapper ng-repeat="(allowanceKey, allowanceType) in groupedSelectedRooms"><h2 class=allowance-type>{{ allowanceType[0].name }}</h2><ul class=search-results><li class=guest ng-repeat="item in allowanceType track by $index" ng-class="{\'guest-excluded\': !isRoomChecked(item.room_id, allowanceType[0].id)}"><div class=faux-anchor ng-click="toggleCheckedRoom(item.room_id, allowanceType[0].id)"><label class="checkbox inline" ng-class="{\'checked\': isRoomChecked(item.room_id, allowanceType[0].id)}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': isRoomChecked(item.room_id, allowanceType[0].id)}"></span><input type=checkbox></label><figure class=guest-image><img ng-src="{{ item.images.guest_image }}" alt=""></figure><div class=data><h2>{{ item.firstname }}, {{ item.lastname }}</h2><strong class=room-number ng-class="{\'no-number\': !item.room}">{{ item.room ? item.room : \'N/A\' }}</strong></div><span class="guest-status small-icon {{ statusMap[item.reservation_status] }}">{{ item.reservation_status }}</span></div></li></ul></div></div></div></fieldset></div><div class=actions data-content=list ng-if=!isActivitiesTabOpen><button type=button class="button blank modal-close" ng-click=closeDialog()>Cancel</button> <button type=button class="button green" ng-click=saveSharing()>Save Sharing</button></div><div class=actions data-content=list ng-if=isActivitiesTabOpen><button type=button class="button blank modal-close" ng-click=closeDialog()>Close Window</button></div></form></div>'),t.put("/assets/partials/analytics/rvAnalyticsMain.html",'<div class=wrapper id=wrapper><ul class=search-results ng-show="dashboardFilter.displayMode === \'DASHBOARD_LIST\'"><li class=dashboard-analytics ng-repeat="chart in availableChartsList" ng-click=onClickOnChartTile(chart.fetchDataEvent)><div class=faux-anchor><div class=title><h2>{{ ::chart.name | translate }}</h2><em class=description>{{ ::chart.tileDescription | translate }}</em></div><span class=category>{{ ::chart.department | translate }}</span></div></li></ul><div ng-show="!dashboardFilter.gridViewActive && dashboardFilter.displayMode === \'CHART_DETAILS\'" class=analytics-chart ng-class="{ \'with-legend-left\' : showLeftSideLegends(), \'with-legend-right\' : showRightSideLegends() }"><dl class="chart-legend legend-left" id=left-side-legend ng-if=showLeftSideLegends()></dl><div id=dashboard-analytics-chart class=chart-content ng-class="{\'pace-chart-style\': dashboardFilter.selectedAnalyticsMenu === \'PACE\' && screenData.isZoomedChart }"><div id=d3-plot></div><div class=chart-actions ng-show=!screenData.hideChartData></div><svg><defs><filter id=shadow><fedropshadow dx=.5 dy=.5 stddeviation=.5 flood-opacity=.5 filterunits=userSpaceOnUse></fedropshadow></filter><pattern id=texture patternunits=userSpaceOnUse width=40 height=40><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAAAAACreq1xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGNDM0QjUyQUY0MDNFMzExQUM4Q0MwQTgyMEUzRjYyNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMkYxOTFCMDI0NjExMUUzQkU4QUI2OTcxRjVGQjI5MyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMkYxOTFBRjI0NjExMUUzQkU4QUI2OTcxRjVGQjI5MyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEM0RCMzk1REU0MUFFMzExOTRBM0RCOTM4RUMwNUZEQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGNDM0QjUyQUY0MDNFMzExQUM4Q0MwQTgyMEUzRjYyNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pn5XMsMAAAmkSURBVFjDlZhdrvS4tUM9/zkeu8o/IhcpzSEPPh3kAt1fcp8KMFDAhrZELnKrB2hHvqNehC/tAB0hH5vbMFSOpIfrC3hIPhSBRoKdfGhHNrmNa7t1lsVCTJJlsuyUuLhtOweqaRtW4uVSk0YUvLT9uB12v6Bdzok9DCdkBJ64B+Swe8o5UB7BEBVBUZXIRpfsbcUt8kxY2I1V4RqXpqETsZRUg+lqUSqrQaWJRDFTzhZOicPkKAyMGi4pd+wv8UkklKe2jW/CE2PKqeShfmLU5NFWLzkNnkSrUGBCFxmrbQkTe5JOdxS1xCuwbCa4sopSthPrCBoBIYT7kVDwbudxeYKPuDdw6A/7N2zL8bK7HK9GS2kxxdTxSmnxklnBE1zamd9vlSsoeMbZzG33HPSoGANuxE/IFfcEn20+bR5HB9hxnpYP8beDEfQIPgl7t1DEqpgOy+nCrKSLdEJauZQGN+2yqMOC1GhFzKAlNLN9pZyWjli7zR2Nb5I76AzcpkPyVfiQnlF/LF/Yt5uLRojdHqdha8lqO2HUZBHm+140gRUxixcei2RWbmhd+u5Yy6JVJ+mWPoarZJeRmjPJJ+4pMxRdgm/ETx3j7oIz8VfojnIWdkcn9GRrl2BiJtZsuqrOkGJm6tV2Yep62pnvs2eBSliqa7VKF9se60tzxlwte6M94qY5qd3yTTHpR2ggDHXJAP/YuuKehWuk23RStQVK3JIVXCkTU+GJWqMF1GRKTMgSLNzpkVcL6Ga+jp3yKbaMg09Sm0jVUfTw6uBtuOMcdkz5GKRy02HH8gbTeIksrJm4oYtS6qpu6hVrks6YmWg6v/8h7zmSZbzYhPjg7EKX67N0EE6HT9RPwqi9h36d7glfSQN8WnxAktkLt+2tCpW8LNVkaXglWYgFlKYyCzxTVqvK1KYNs+kUqgeFbLViK+grSanu0NvpCQzSw9TEe9sP6NPq4/SgMq6dGvIkObspK7SJZ5sVucCM1ThT6qozkabMUilhRVnv2bkhjTRDlzdjPhgRrpIv5BO6R35KdsqV6HZsEZOq4UCW8TfWJ2ZPcrfeWlPIjFkVK2EqWQnT8kJZ0Ck6XfdvZp7Bs81E2opxLic3VK1O4Ptqc++2e8kZ84HI6UE85PzYPMJH5Ydyyzxs9YpZTZb86oul5VA1y2FKr/cWFmYpnaHFXsRLYtG0YbJ9O/oN/XEqrFtoV3q1PhrJ8RXpW3yWnKm/dXeHgbmiGnwCF81WyopoPBpnActQfncaedZZHtTWatyaKamBOp7ATDJJtuamOUXPJt/QB+vC46PwBb5tHwavTzsX6B7hIRZw0D5unzg/3joat0mm7Iq+PGMKtPXM0MSv/8Wu42m3EctmFS/ILLTbRXNm1K2/gcvmSvnns5Uvxd/Iu2sTvtgH79luCzGFpqJlZVmd+ZMGkQlpaCOvktJ/a9D2aprzv/vzSCrI3/vzpkxLjVWbFY0mWUG/c3ZJnoWSzlS1PLGnm0mzELXHNCy2kT97xLdkONwV34gd+cCVigp7iSvvkg+b7eUsXj4lnSWvz8Ky+3qMvN5zS1UmI4uy4kyqSTSFp+LNvR0OY2fYtS7EsHxj38YHeFdzFCtixD7aHCEW+UAs55t616ZO4tadSeoy4/zqISvJVFWLFSjV9MsKs2EZVtGKtASz24j7AH9m++gQnMSH3I8bNx5VT4WnyRC5E20T1KAJbeOWrjTT9kr43W9W6CRp7EVZDtPvHV2ESd2k29/r7mn6ydCNdTe4yl/a/mft3HgZGbRUrVFeloH3XpKJNYNer4mWzPzLt4PqsOxO25Ntb7hdHjfPq8f9qfxR4tJL9U59wBiiirsnuiIe2hvnEewkD+1W5ImybK/Gi7TEk7SOV622KvJyMl/P0aoyYy/SBV01NWwdh9IHuMEX5iQedZ60F+njRMVnbA/ydfJpeBB37DvkB7wjnd7+m8fRhVUnLVnY/+lxi7gmhbRoZbsRd4JL97S70Em5qB11EJtYiUfNKONBGcI3Zkc5Gvagy2Sreb2Vjv8ts4SF05C/yywb+brjm7BHXE6+Ko+cXeK2etucjU9sMzhqPwx5WE/DCVyGA3i8tati8u+MlNVqEZZ5d532ZVq32MVe8ushJrNqbS0pq9v/54388s8f+WJblNl6hqy6C9SiCV6xVs1E71t49eiP72n7U/a1buCx9DjsauSwFz2kd6I75FF6hR7Ygy1p3AVZpUt/5tMJrEIVT5LZZBIvK9POZDPhlrMLP5G/EZ8UAR/Xj+tdycfW88v9o1ijfqg+aW+LHWlP2ZZIgCnGu9syMavxatLIE7+ZT82SvQZZKAWvoEXUSAVvQcKfkE+kM3S4uV4Nz534LD1RntDPm/F6GH4i1HR3/W3qONLmV4ujFpiG+s1+C6uh02qLm2iCZl4/nqKzycsU1sSj2v55X/GQeGg+DRfw9iF/1sttkZdDE6+a9de9Tzv7+tuymSOabZaUpd/8VHjnftl8lW7wEF+priY3evPGH7qSP3dlG+2QZ8kSXh6vLkMLmv7VOZnltAMvuSv2Mm8GAzfmzf/bqeZQdEEH9Gh7kl4lstgLj92j5Iks7J1YlJMRUUack+ok2labxpmBllePExa/uve+2bxnC60ybRaMtpqBhbNClujmDshTKlVfma/Nt+Fqegp9PDggN/Ajxq74JrmbnMSPldPvjO7295m49M0CtedfPaGkVfNn5t2eBhHZcGFuzAk+g3cHY0nlcLIDP00f6IMQzePg4B38Y2UrsKCTejnpu1aWkpWXEV6GVRf5ZUd3CpaimlTOqpgSW7hcX9SiPDFnYgkdJN/gw/Fu8ZU5TP8+59PT8q7tbzrWir6+9nYfuLPQKPV7H6f7O1sz85897jbAu8ydsKuI1DZ7yynlA3loHsg31oM5jEwQGmp0Rtjux9I2376Gvj7mVp12lmCqv3rTVnk9hVBBh7Xw24U29O3q2F5uvhv9OD7b3NhPMs4234ZD9uV2LzVorzXyT2y+/VPuhUlYMYu+/MObrUtdGEt05RWnlXY5bbdHZY981pEHhy1VHpbORk/qR+SL/CH+OjlqzthH0TfGHvpQnohtNp2I+c6hvnN4BU1JK9UMnU4nsAgzbeu3E8svPzot1fbf792jYNAZ5ZHG/713YTd9hnQZ32xSLZd6+eWOOinu+1tm2yZMD1dkRW+GaZh2VsbrkcH19nXZHX/rsZvXXxz/OB6Bs+YWvqJeij7ER9uj0dHm4/pC+nG47Gyz6ptRnHdfTtu0yjKextNOm07/1Wnn7cVEF3l7iTen8i/DibitWqWdKAAAAABJRU5ErkJggg==" x=0 y=0 width=40 height=40></image></pattern><lineargradient id=orange x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#ffb319></stop><stop offset=100% style=stop-color:#ff860d></stop></lineargradient><lineargradient id=orangeHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#ff860d></stop><stop offset=100% style=stop-color:#ffb319></stop></lineargradient><lineargradient id=red x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#e56322></stop><stop offset=100% style=stop-color:#e50b0b></stop></lineargradient><lineargradient id=redHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#e50b0b></stop><stop offset=100% style=stop-color:#e56322></stop></lineargradient><lineargradient id=redLight x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#e5a17e></stop><stop offset=100% style=stop-color:#e56767></stop></lineargradient><lineargradient id=redLightHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#e56767></stop><stop offset=100% style=stop-color:#e5a17e></stop></lineargradient><lineargradient id=redDark x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#cc581f></stop><stop offset=100% style=stop-color:#990808></stop></lineargradient><lineargradient id=redDarkHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#990808></stop><stop offset=100% style=stop-color:#cc581f></stop></lineargradient><lineargradient id=green x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#90d92b></stop><stop offset=100% style=stop-color:#54d115></stop></lineargradient><lineargradient id=greenHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#54d115></stop><stop offset=100% style=stop-color:#90d92b></stop></lineargradient><lineargradient id=greenLight x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#b5d982></stop><stop offset=100% style=stop-color:#8bd169></stop></lineargradient><lineargradient id=greenLightHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#8bd169></stop><stop offset=100% style=stop-color:#b5d982></stop></lineargradient><lineargradient id=greenDark x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#6ea621></stop><stop offset=100% style=stop-color:#35850d></stop></lineargradient><lineargradient id=greenDarkHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#35850d></stop><stop offset=100% style=stop-color:#6ea621></stop></lineargradient><lineargradient id=blue x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#73d2e5></stop><stop offset=100% style=stop-color:#5ca1e5></stop></lineargradient><lineargradient id=blueHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#5ca1e5></stop><stop offset=100% style=stop-color:#73d2e5></stop></lineargradient><lineargradient id=blueLight x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#cfe2e5></stop><stop offset=100% style=stop-color:#b8cfe5></stop></lineargradient><lineargradient id=blueLightHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#b8cfe5></stop><stop offset=100% style=stop-color:#cfe2e5></stop></lineargradient><lineargradient id=purple x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#a65fba></stop><stop offset=100% style=stop-color:#9053a3></stop></lineargradient><lineargradient id=purpleHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#9053a3></stop><stop offset=100% style=stop-color:#a65fba></stop></lineargradient><lineargradient id=yellow x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#fae500></stop><stop offset=100% style=stop-color:#fed100></stop></lineargradient><lineargradient id=yellowHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#fed100></stop><stop offset=100% style=stop-color:#fae500></stop></lineargradient><lineargradient id=yellowDark x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#c7ba28></stop><stop offset=100% style=stop-color:#c7ba28></stop></lineargradient><lineargradient id=yellowDarkHover x1=0% y1=0% x2=0% y2=100%><stop offset=0% style=stop-color:#c9ac28></stop><stop offset=100% style=stop-color:#c7ba28></stop></lineargradient></defs></svg></div><dl class="chart-legend legend-right" id=right-side-legend ng-if="showRightSideLegends ()"></dl></div></div>'),t.put("/assets/partials/analytics/rvDistricutionAndPaceFilter.html",'<div id=analyticsFilters class="analytics-filters with-filter-sets" ng-class="{\'open\': dashboardFilter.showFilters }" ng-style="{\'display\': dashboardFilter.showFilters ? \'block\': \'none\'}"><div class=analytics-filters-sets><h3 translate="">AN_FILTER_SETS</h3><div class="analytics-filters-sets-list scrollable" ng-iscroll=analytics-filter-scroll><div class=wrapper><ul><li ng-repeat="filter in savedFilters" ng-class="{\'active\': filter.name === dashboardFilter.selectedAnalyticsFilter.name }" ng-click=setSelectedFilter(filter)><span class=filter-name>{{::filter.name}}</span><button type=button class="button with-icon only-icon" ng-click="deleteSelectedFilter($event, filter)" ng-style="{\'display\': filter.name !== dashboardFilter.selectedAnalyticsFilter.name ? \'block\': \'none\'}"><span class="icons icon-remove-40"></span></button></li><li class=add-new><button class=add-new-button ng-click=addNewFilter() translate="">AN_ADD_FILTER</button></li></ul></div></div></div><div class="analytics-filters-options scrollable" ng-iscroll=analytics-filter-options-scroll><div class=wrapper><div class=entry ng-if="dashboardFilter.selectedAnalyticsMenu === \'DISTRIBUTION\'"><div class="select with-label"><label for=analytics-chart translate="">AN_CHART_TYPE</label><select ng-model=dashboardFilter.chartType><option value={{::filter.code}} ng-repeat="filter in ::dashboardFilter.chartTypes track by $index">{{::filter.name}}</option></select></div><div class="select with-label"><label for=analytics-secondary-chart translate="">AN_AGG_BY</label><select ng-model=dashboardFilter.aggType ng-change=onAggregationTypeChanged()><option value="" selected="" translate="">None</option><option value={{::filter.code}} ng-repeat="filter in ::dashboardFilter.aggTypes track by $index">{{::filter.name}}</option></select></div><div id=chart-toggle class=switch-button ng-class="{\'on\': !dashboardFilter.gridViewToggle}"><input id=distribution-switch type=checkbox checked="" ng-model=dashboardFilter.gridViewToggle> <label class=data-off><span class=value translate="">AN_CHART</span> <span class=switch-icon translate="">AN_GRID</span></label> <label class=data-on><span class=switch-icon translate="">AN_CHART</span> <span class=value translate="">AN_GRID</span></label></div></div><div class=entry ng-if="dashboardFilter.selectedAnalyticsMenu === \'PACE\'"><div id=chart-toggle class=switch-button ng-class="{\'on\': !dashboardFilter.lineChartActive}"><input id=distribution-switch type=checkbox checked="" ng-model=dashboardFilter.lineChartActive> <label class=data-off><span class=value>Chart</span> <span class=switch-icon>Line</span></label> <label class=data-on><span class=switch-icon>Chart</span> <span class=value>Line</span></label></div></div><div class="entry has-datepicker with-label" ng-if="dashboardFilter.selectedAnalyticsMenu === \'PACE\' && dashboardFilter.lineChartActive"><label for=analytics-dates>Date</label> <input type=text class=datepicker ng-model=dashboardFilter.linceChartDateToCompare ng-click=showDateComparisonCalendar() readonly=""><div class=selected data-list=analytics-room-type><span class=tag ng-repeat="date in dashboardFilter.datesToCompare | orderBy: orderByDate" ng-click=removeDateToCompare(date)>{{date}}</span></div></div><div class=entry><div class="select with-label"><label for=analytics-room-type>Room Type</label><select id=analytics-room-type class=placeholder ng-model=selectedFilters.roomType data-js=tags ng-change="distributionFilterAdded(\'ROOM_TYPE\', selectedFilters.roomType)"><option value="">Select</option><option value={{roomType.code}} ng-repeat="roomType in availableRoomTypes | orderBy: name">{{roomType.name}}</option></select></div><div class=selected data-list=analytics-room-type><span class=tag ng-repeat="roomType in selectedFilters.roomTypes" ng-click="distributionFilterRemoved(\'ROOM_TYPE\', roomType.code)">{{roomType.name}}</span></div></div><div class=entry><div class="select with-label"><label for=analytics-market>Market</label><select id=analytics-market class=placeholder ng-model=selectedFilters.marketCode data-js=tags ng-change="distributionFilterAdded(\'MARKET\', selectedFilters.marketCode)"><option value="">Select</option><option value={{market.value}} ng-repeat="market in marketData | orderBy: name">{{market.name}}</option></select></div><div class=selected data-list=analytics-market><span class=tag ng-repeat="market in selectedFilters.marketCodes" ng-click="distributionFilterRemoved(\'MARKET\', market.value)">{{market.name}}</span></div></div><div class=entry><div class="select with-label"><label for=analytics-source>Source</label><select id=analytics-source class=placeholder ng-model=selectedFilters.sourceCode data-js=tags ng-change="distributionFilterAdded(\'SOURCE\', selectedFilters.sourceCode)"><option value="">Select</option><option value={{source.value}} ng-repeat="source in sourceData | orderBy: name">{{source.name}}</option></select></div><div class=selected data-list=analytics-source><span class=tag ng-repeat="source in selectedFilters.sourceCodes" ng-click="distributionFilterRemoved(\'SOURCE\', source.value)">{{source.name}}</span></div></div><div class=entry><div class="select with-label"><label for=analytics-segment>Segment</label><select id=analytics-segment class=placeholder ng-model=selectedFilters.segmentCode data-js=tags ng-change="distributionFilterAdded(\'SEGMENT\', selectedFilters.segmentCode)"><option value="">Select</option><option value={{segment.value}} ng-repeat="segment in segmentData | orderBy: name">{{segment.name}}</option></select></div><div class=selected data-list=analytics-segment><span class=tag ng-repeat="segment in selectedFilters.segmentCodes" ng-click="distributionFilterRemoved(\'SEGMENT\', segment.value)">{{segment.name}}</span></div></div><div class=entry><div class="select with-label"><label for=analytics-origin>Origin</label><select id=analytics-origin class=placeholder data-js=tags ng-model=selectedFilters.originCode ng-change="distributionFilterAdded(\'ORIGIN\', selectedFilters.originCode)"><option value="">Select</option><option value={{origin.value}} ng-repeat="origin in originData | orderBy: name">{{origin.name}}</option></select></div><div class=selected data-list=analytics-origin><span class=tag ng-repeat="origin in selectedFilters.originCodes" ng-click="distributionFilterRemoved(\'ORIGIN\', origin.value)">{{origin.name}}</span></div></div></div></div><div class=analytics-filters-actions><div class=analytics-filters-name ng-if=dashboardFilter.showFilterName><div class="entry with-label"><label for=analytics-filters-name translate="">AN_FILTER_NAME</label> <input type=text id=analytics-filters-name placeholder="" ng-model=dashboardFilter.selectedAnalyticsFilter.name></div><button ng-click=saveSelectedFilter(dashboardFilter.selectedAnalyticsFilter) class=button ng-class="{ \'orange\' : dashboardFilter.selectedAnalyticsFilter.name, \'grey\' : !dashboardFilter.selectedAnalyticsFilter.name }" ng-disabled=!dashboardFilter.selectedAnalyticsFilter.name>{{ dashboardFilter.selectedAnalyticsFilter.id ? \'AN_UPDATE_FILTER\' : \'AN_SAVE_FILTER\' | translate}}</button></div><button class="button blank" ng-click=clearAllFilters() translate="">AN_CLEAR_ALL</button> <button class="button green" ng-click=applySelectedFilter(dashboardFilter.selectedAnalyticsFilter) translate="">AN_APPLY_FILTER</button></div></div>'),
t.put("/assets/partials/analytics/rvManagerDistributionGrid.html",'<div class=analytics-grid-sidebar><div class=analytics-grid-timeline><strong class=label>{{ gridViewHeader }}</strong></div><div class="analytics-grid-rows scrollable" ng-iscroll=side-bar-vertical-scroll id=div1><div class=wrapper><div class=row ng-if=dashboardFilter.aggType ng-repeat="item in gridLeftSideHeaders track by $index">{{ (item && item.length > 45) ? (item.substring(0, 45 - 3) + "...") : item }}</div></div></div></div><div class=analytics-grid-content><div class="analytics-grid-timeline scrollable" ng-iscroll=grid-header-horizontal-scroll><div class=wrapper><div class=row><div class="cell day" ng-repeat="rowData in distributionChartData track by $index" ng-class="{\'weekend\': rowData.isWeekend, \'today\': rowData.isToday }"><span>{{ rowData.weekDay }}</span> <strong>{{ rowData.dateToDisplay }}</strong></div></div></div></div><div class="analytics-grid-rows scrollable" ng-iscroll=grid-scroll id=div2><div class=wrapper><div class=row ng-repeat="item in gridLeftSideHeaders track by $index"><div class="cell day" ng-class="{\'weekend\': rowData.isWeekend, \'today\': rowData.isToday }" ng-repeat="rowData in distributionChartData track by $index">{{ rowData[item] == 0 ? \'\' : rowData[item] }}</div></div></div></div></div>'),t.put("/assets/partials/authorization/ccAuthorization.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert" ng-if="hotelDetails.payment_gateway !== \'SHIJI\' || !hotelDetails.shiji_token_enable_offline"><section ng-show="authState === \'IN_PROGRESS\'"><span class="icons icon-cc-authorization"></span> <span class="h2 message">CC Authorization in progress, please wait...</span></section><section ng-show="authState === \'SUCCESS\'"><span class="icons icon-cc-authorization success"></span> <span class="h2 message green">CC Authorization for <span ng-bind-html="ngDialogData.amount | sntCurrency:this"></span> completed.</span> <span class=text>Authorization Code {{authResponse.auth_code}}</span> <button ng-click=onClickContinue() type=button class="button green">Continue</button></section><section ng-show="authState === \'FAILURE\'"><span class="icons icon-cc-authorization failure"></span> <span class="h2 message red">CC Authorization for <span ng-bind-html="ngDialogData.amount | sntCurrency:this"></span> declined.</span> <button ng-disabled=!canCheckInWithoutCC ng-click=onClickContinueWithoutCC() type=button class="button blue" ng-class="{\'grey\':!canCheckInWithoutCC }">Continue without CC</button> <button ng-click=cancelAuthProcess() type=button class="button blank">Cancel</button></section></div><form class="modal-content form new-content has-card select-card" ng-if="hotelDetails.payment_gateway === \'SHIJI\' && hotelDetails.shiji_token_enable_offline"><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message">{{ \'SAVE_AUTHORIZATION\' | translate }}</strong><div class=payment-form><div class="entry full-width"><label for=auth-amount>{{ \'AMOUNT\' | translate }} (<span>{{ currencySymbol }}</span>)</label> <input ng-model=authData.amount id=auth-amount value="" type=number></div><div class="entry full-width"><label for=auth-code>{{ \'MANUAL_AUTH_CODE\' | translate }}</label> <input type=text id=auth-code ng-model=authData.auth_code></div><div class=actions><button type=button class="button blank modal-close" ng-click=cancelAuthProcess() translate="">CANCEL</button> <button type=button class="button green" ng-click=authorize(); ng-class="{\'grey\': !authData.amount || !authData.auth_code}" ng-disabled="!authData.amount || !authData.auth_code" translate="">AUTHORIZE</button></div></div></form></div>'),t.put("/assets/partials/authorization/rvCheckInAuthUserActionPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content alert medium"><button ng-click=closeDialog() id=modal-close type=button class=modal-close><span class="icons icon-close invert"></span></button> <span class="h2 message">Review CC Authorization</span><span ng-if=authorizationInfo.routingToRoom class=notice>Some charges of this reservation are being routed <strong>to another room</strong>.</span><span ng-if=authorizationInfo.routingFromRoom class=notice>Charges <strong>from another room</strong> are being routed to this reservation.</span><span ng-if=authorizationInfo.routingToAccount class=notice>Some charges for this reservation are being routed <strong>to Company / Travel Agent / Account</strong>.</span><div class=actions><button ng-if=authorizationInfo.canPayIncidentalsOnly ng-click=onClickIncidentalsOnly() class="button orange" type=button>Incidentals Only (<span ng-bind-html="authorizationInfo.pre_auth_amount_for_incidentals | sntCurrency:this"></span>)</button> <button ng-click=onClickFullAuth() class="button green modal-close" type=button>Full Auth as per set rule (<span ng-bind-html="authorizationInfo.pre_auth_amount_at_checkin | sntCurrency:this"></span>)</button> <button ng-click=onClickManualAuth() class="button blue modal-close" type=button>Manual CC Auth</button></div></div></div>'),t.put("/assets/partials/authorization/rvManualAuthorizationPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form card-authorize" ng-class="{\'show-right-content\': showRightContentForMobile}" ng-show=!hasShownReleaseConfirm><button ng-click=closeDialog();setLeftSideContent() class=modal-close id=modal-close type=button><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><fieldset class=content-left><strong class="h2 message" translate="">CREDIT_CARD_AUTHORIZATION</strong><div class="credit-cards scrollable" ng-iscroll=cardsList ng-iscroll-delay=300><ul class=wrapper><li ng-click=selectCCforAuth($index);onSelectCCforAuth() class="block-item item-payment" ng-class="{ \'item-active\' : card.active }" ng-repeat="card in authData.billData"><figure class=card-logo><img ng-src="/ui/pms-ui/images/{{card.card_code | lowercase }}.png" alt=""></figure><span class=number>{{ \'NO.\' | translate }} <span class=value>{{card.card_number}}</span></span> <span class=code>{{ \'CODE\' | translate }} <span class=value ng-if=card.last_authorization.code>{{card.last_authorization.code}}</span> <span class=value ng-if=!card.last_authorization.code>-</span></span> <span class=amount>{{ \'AMOUNT\' | translate }} <span class=value ng-if=card.last_authorization.amount><span ng-bind-html="card.last_authorization.amount | sntCurrency:this"></span></span> <span class=value ng-if=!card.last_authorization.amount>-</span></span><button type=button class="button blue release-auth" ng-if="!!card.last_authorization.amount && !!card.last_authorization.code" ng-click=onReleaseBtnClick(card)>{{ \'RELEASE\' | translate }}</button></li></ul></div></fieldset><fieldset class=content-right><button type=button class="back-button hide-on-desktop" ng-click=setLeftSideContent()>Back to Cards</button><span class="h2 message" ng-hide="authData.selectedCardDetails.name == \'\' && authData.selectedCardDetails.number == \'\'">{{authData.selectedCardDetails.name}} {{ \'NO.\' | translate }} {{authData.selectedCardDetails.number}}</span> <span class=text ng-hide="authData.selectedCardDetails.last_auth_date == \'\'">{{ \'LAST_AUTHORIZATION\' | translate }}<time>{{authData.selectedCardDetails.last_auth_date | date : dateFormat}}</time></span><div class="authorization-bills scrollable"><div class=wrapper><table><tr><td translate="">BILL_#</td><td class=value>{{authData.selectedCardDetails.bill_no}}</td><td translate="">BALANCE</td><td class=value ng-class="{ \'green\' : authData.selectedCardDetails.bill_balance == 0.00, \'red\' : authData.selectedCardDetails.bill_balance > 0.00 }"><span ng-bind-html="authData.selectedCardDetails.bill_balance | sntCurrency:this"></span></td></tr></table></div></div><div class="entry full-width"><label for=auth-amount>{{ \'ADDITIONAL_AMOUNT\' | translate }} (<span>{{ currencySymbol }}</span>)</label> <input ng-model=authData.authAmount id=auth-amount value="" type=number></div><div class="entry manual_auth full-width" ng-if="paymentGateway == \'MLI\' && authData.selectedCardDetails.last_auth_date == \'\'"><label class="checkbox inline" ng-class="{ \'checked\' : authData.isManual }" ng-click="authData.isManual = !authData.isManual"><span class="icon-form icon-checkbox" ng-class="{ \'checked\' : authData.isManual }"></span><input value=1 type=checkbox> {{ \'MANUAL_AUTH\' | translate }}</label><input type=text ng-model=authData.manualAuthCode ng-class="{ \'hidden\' : !authData.isManual }" placeholder="{{\'ENTER_MANUAL_AUTH_CODE\' | translate }}"></div><div class="entry full-width" ng-if="paymentGateway == \'SHIJI\' && hotelDetails.shiji_token_enable_offline && authData.selectedCardDetails.last_auth_date == \'\'"><label for=auth-code>{{ \'ENTER_MANUAL_AUTH_CODE\' | translate }}</label> <input type=text id=auth-code ng-model=authData.manualAuthCode></div><div class=actions><button ng-click=authorize() ng-disabled=disableAuthorizeButton() ng-class="{\'grey\': disableAuthorizeButton() }" type=button class="button green" translate="">AUTHORIZE</button> <button ng-click=closeDialog();setLeftSideContent() type=button class="button blank" translate="">CANCEL</button></div></fieldset></div><div class="modal-content card-authorize-confirm" ng-show=hasShownReleaseConfirm><span class="h2 message">{{ \'RELEASE\' | translate }}?</span><div class="block-item item-payment"><figure class=card-logo><img ng-src="/ui/pms-ui/images/{{selectedCardData.card_code | lowercase }}.png" alt=""></figure><span class=number>{{ \'NO.\' | translate }} <span class=value>{{selectedCardData.card_number}}</span></span> <span class=code>{{ \'CODE\' | translate }} <span class=value>{{selectedCardData.last_authorization.code}}</span></span> <span class=amount>{{ \'AMOUNT\' | translate }} <span class=value><span ng-bind-html="selectedCardData.last_authorization.amount | sntCurrency:this"></span></span></span></div><div class=actions><button type=button class="button green open-modal" ng-click=releaseAuthorization(selectedCardData.payment_method_id)>{{ \'RELEASE\' | translate }}</button> <button type=button class="button blank open-modal" ng-click=onCancelClick()>{{ \'CANCEL\' | translate }}</button></div></div></div>'),t.put("/assets/partials/authorization/rvManualAuthorizationProcess.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content alert"><span ng-show=isInProgressScreen class="icons icon-cc-authorization"></span> <span ng-show=isInProgressScreen class="h2 message">CC Authorization in progress, please wait...</span><span ng-show=isSuccessScreen class="icons icon-cc-authorization success"></span> <span ng-show=isSuccessScreen class="h2 message green">CC Authorization for <span ng-bind-html="cc_auth_amount | sntCurrency:this"></span> completed.</span> <span ng-show=isSuccessScreen class=text>Authorization Code {{cc_auth_code}}</span> <button ng-click=cancelButtonClick() ng-show=isSuccessScreen type=button class="button blank">Close</button><span ng-show=isFailureScreen class="icons icon-cc-authorization failure"></span> <span ng-show=isFailureScreen class="h2 message red">CC Authorization for <span ng-bind-html="cc_auth_amount | sntCurrency:this"></span> declined.</span> <button ng-disabled=!isCCAuthPermission ng-click=tryAgain() ng-show=isFailureScreen type=button class="button blue" ng-class="{\'grey\':!isCCAuthPermission }">Try Again</button> <button ng-click=cancelButtonClick() ng-show=isFailureScreen type=button class="button blank">Cancel</button></div></div>'),t.put("/assets/partials/availability/allotmentAvailabilityMain.html",'<span ng-controller=allotmentAvailabilityMainController><div class=availability-header><div class="date has-datepicker" ng-click=clickedOnDatePicker()><input name=availability-start-date id=availability-start-date class=hasDatepicker type=text ng-model=data.formattedSelectedDate ng-change=changedAvailabilityDataParams()> <button type=button class=ui-datepicker-trigger>...</button></div><div class=select><select id=days-view name=days-view ng-model=numberOfDaysSelected ng-change=changedAvailabilityDataParams()><option value=7>Showing 7 days</option><option value=14 selected="">Showing 14 days</option><option value=30>Showing 30 days</option></select></div></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span ng-include="\'/assets/partials/availability/allotmentAvailabilityStatus.html\'"></span></span>'),t.put("/assets/partials/availability/allotmentAvailabilityStatus.html",'<div class="availability-grid scrollable" ng-controller=rvAllotmentAvailabilityStatusController ng-iscroll-delay=100 ng-iscroll=groupscroller ng-hide=hideBeforeDataFetch><div class=wrapper style="width: {{getWidthForTable()}}px"><table class=dates-grid><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><thead><tr><th class=heading></th><th ng-repeat="eachDate in data.dates"><div class=inner ng-class="{\'weekend\': eachDate.isWeekend}"><span ng-bind=eachDate.date|date:dayInWeek></span> {{eachDate.date|date:shortMonthAndDate}}</div></th></tr></thead></table><table class="dates-grid blue"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class="heading rows-toggle" scope=row ng-click="togleHoldStatusVisibility(\'groupRoomTotal\')">Allotments Rooms (Total)</th><td ng-repeat="groupTotalRoom in data.groupTotalRooms track by $index"><div class=inner>{{groupTotalRoom}}</div></td></tr><tr ng-repeat="rowData in data.holdstatuses track by $index" ng-class="{\'hidden\':hideHoldStatusOf.groupRoomTotal}"><th scope=row>{{getGroupName(rowData[0].id)}}</th><td ng-repeat="cellData in rowData track by $index"><div class=inner>{{cellData.total_number_of_rooms_blocked}}</div></td></tr></tbody></table><table class="dates-grid green"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class="heading rows-toggle" scope=row ng-click="togleHoldStatusVisibility(\'groupRoomPicked\')">Allotments Rooms (Picked Up)</th><td ng-repeat="groupTotalPickedUp in data.groupTotalPickedUps track by $index"><div class="inner green">{{groupTotalPickedUp}}</div></td></tr><tr class=room-details ng-repeat="rowData in data.holdstatuses track by $index" ng-class=getClassForHoldStatusRowInPickedUp(rowData[0].id)><th scope=row>{{getGroupName(rowData[0].id)}}</th><td ng-repeat="cellData in rowData track by $index"><div class="inner green">{{cellData.total_no_of_pickedup_count}}</div></td></tr></tbody></table><table class="dates-grid group" ng-repeat="groupDetail in data.groupDetails"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main ng-class="{\'last-group\':showDropDownForGroup($index) || $last }"><th class=heading scope=row colspan={{data.dates.length+1}}><div class=inner><div class="name rows-toggle" ng-click=toggleButtonClicked($index)>{{groupDetail.name}}</div><div class=status><span class=label>Hold Status:</span> {{groupDetail.holdStatusName}}</div><button type=button class="has-arrow next-view" ng-click=gotoAllotmentScreen(groupDetail.id)>Details</button></div></th></tr><tr ng-class="{\'hidden\':!showDropDownForGroup($index)}"><th scope=row>Rooms Held</th><td ng-repeat="roomHeld in groupDetail.details"><button type=button class=button ng-click=roomHeldButtonClicked(roomHeld) ng-class="{\'brand-colors\':roomHeld.total_blocked_rooms!=0}" ng-disabled="roomHeld.total_blocked_rooms==0">{{roomHeld.total_blocked_rooms}}</button></td></tr><tr ng-class="{\'hidden\':!showDropDownForGroup($index)}"><th scope=row>Rooms Picked Up</th><td ng-repeat="roomPicked in groupDetail.details"><div class=inner>{{roomPicked.total_pickedup_rooms}}</div></td></tr></tbody></table></div></div>'),t.put("/assets/partials/availability/availability.html",'<span ng-controller=rvAvailabilityMainController><header class=nav-bar role=banner><div class=select><select id=availability-toggle ng-model=availabilityToShow ng-change=setAvailability()><option value=room ng-selected="availabilityToShow==\'room\'">Availability</option><option value=house ng-selected="availabilityToShow==\'house\'">House Status</option><option value=item-inventory ng-selected="availabilityToShow==\'item-inventory\'">Item Inventory</option><option value=groups ng-selected="availabilityToShow==\'groups\'" ng-show=shouldShowGroupInSelectBox()>Groups</option><option value=allotments ng-selected="availabilityToShow==\'allotments\'" ng-show=shouldShowAllotmentInSelectBox()>Allotments</option></select></div><div class=logo><img ng-src={{userInfo.logo}} alt=""></div><h1><strong class=hotel>{{currentHotelData.name}}</strong> {{page.title}}<div class=user><strong>{{userInfo.first_name}}{{userInfo.last_name}}</strong> <em class=date ng-hide=isBussinessDateChanging>{{userInfo.business_date | date:\'EEEE, d MMMM y\'}}</em> <em class="date updating" ng-show=isBussinessDateChanging>End of Day Routine in Progress</em></div></h1></header><section class=availability-content role=main ng-include=getTemplateUrl()></section></span>'),t.put("/assets/partials/availability/groupAvailabilityMain.html",'<span ng-controller=groupAvailabilityMainController><div class=availability-header><div class="date has-datepicker" ng-click=clickedOnDatePicker()><input name=availability-start-date id=availability-start-date class=hasDatepicker type=text ng-model=data.formattedSelectedDate ng-change=changedAvailabilityDataParams()> <button type=button class=ui-datepicker-trigger>...</button></div><div class=select><select id=days-view name=days-view ng-model=numberOfDaysSelected ng-change=changedAvailabilityDataParams()><option value=7>Showing 7 days</option><option value=14 selected="">Showing 14 days</option><option value=30>Showing 30 days</option></select></div></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span ng-include="\'/assets/partials/availability/groupAvailabilityStatus.html\'"></span></span>'),t.put("/assets/partials/availability/groupAvailabilityStatus.html",'<div class="availability-grid scrollable" ng-controller=rvGroupAvailabilityStatusController ng-iscroll-delay=100 ng-iscroll=groupscroller ng-hide=hideBeforeDataFetch><div class=wrapper style="width: {{getWidthForTable()}}"><table class=dates-grid><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><thead><tr><th class=heading></th><th ng-repeat="eachDate in data.dates"><div class=inner ng-class="{\'weekend\': eachDate.isWeekend}"><span ng-bind=eachDate.date|date:dayInWeek></span> {{eachDate.date|date:shortMonthAndDate}}</div></th></tr></thead></table><table class="dates-grid blue"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class="heading rows-toggle" scope=row ng-click="togleHoldStatusVisibility(\'groupRoomTotal\')">Group Rooms (Total)</th><td ng-repeat="groupTotalRoom in data.groupTotalRooms track by $index"><div class=inner>{{groupTotalRoom}}</div></td></tr><tr ng-repeat="rowData in data.holdstatuses track by $index" ng-class="{\'hidden\':hideHoldStatusOf.groupRoomTotal}"><th scope=row>{{getGroupName(rowData[0].id)}}</th><td ng-repeat="cellData in rowData track by $index"><div class=inner>{{cellData.total_number_of_rooms_blocked}}</div></td></tr></tbody></table><table class="dates-grid green"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class="heading rows-toggle" scope=row ng-click="togleHoldStatusVisibility(\'groupRoomPicked\')">Group Rooms (Picked Up)</th><td ng-repeat="groupTotalPickedUp in data.groupTotalPickedUps track by $index"><div class=inner>{{groupTotalPickedUp}}</div></td></tr><tr ng-repeat="rowData in data.holdstatuses track by $index" ng-class=getClassForHoldStatusRowInPickedUp(rowData[0].id)><th scope=row>{{getGroupName(rowData[0].id)}}</th><td ng-repeat="cellData in rowData track by $index"><div class=inner>{{cellData.total_no_of_pickedup_count}}</div></td></tr></tbody></table><table class="dates-grid group" ng-repeat="groupDetail in data.groupDetails"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main ng-class="{\'last-group\':showDropDownForGroup($index) || $last }"><th class=heading scope=row colspan={{data.dates.length+1}}><div class=inner><div class="name rows-toggle" ng-click=toggleButtonClicked($index)>{{groupDetail.name}}</div><div class=status><span class=label>Hold Status:</span> {{groupDetail.holdStatusName}}</div><button type=button class="has-arrow next-view" ng-click=gotoGroupScreen(groupDetail.id)>Details</button></div></th></tr><tr ng-class="{\'hidden\':!showDropDownForGroup($index)}"><th scope=row>Rooms Held</th><td ng-repeat="roomHeld in groupDetail.details"><button type=button class=button ng-click=roomHeldButtonClicked(roomHeld) ng-class="{\'brand-colors\':roomHeld.total_blocked_rooms!=0, \'grey\':roomHeld.total_blocked_rooms==0}" ng-disabled="roomHeld.total_blocked_rooms==0">{{roomHeld.total_blocked_rooms}}</button></td></tr><tr ng-class="{\'hidden\':!showDropDownForGroup($index)}"><th scope=row>Rooms Picked Up</th><td ng-repeat="roomPicked in groupDetail.details"><div class=inner>{{roomPicked.total_pickedup_rooms}}</div></td></tr></tbody></table></div></div>'),t.put("/assets/partials/availability/houseAvailabilityStatus.html",'<span ng-controller=RVHouseAvailabilityStatusCtrl ng-hide=!houseDetailsFetched><div class="house-status-grid scrollable" ng-iscroll=house-status-grid><div class=wrapper><table id=dates-grid class=dates-grid><colgroup><col><col class=grid-col><col class=grid-col><col class=grid-col></colgroup><thead><tr><th class=heading></th><th ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span>{{dayDetails.day}}</span> {{dayDetails.date | date : \'EEE, MMM d\'}}</div></th></tr></thead><tbody><tr><th class=heading scope=row>Total Rooms occupied</th><td ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span class=value>{{houseDetails.total_rooms_occupied[dayDetails.date].value}}</span> <span class=graph><span class=bar style="width: {{houseDetails.total_rooms_occupied[dayDetails.date].percent}}%;" ng-class="{blue: dayDetails.day == \'YESTERDAY\',orange: dayDetails.day == \'TODAY\', yellow: dayDetails.day == \'TOMORROW\', showing: houseDetails.total_rooms_occupied[dayDetails.date].value > 0}"></span></span></div></td></tr><tr><th scope=row>Departures Expected</th><td ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span class=value ng-if="dayDetails.day != \'YESTERDAY\'">{{houseDetails.departues_expected[dayDetails.date].value}}</span> <span class=value ng-if="dayDetails.day == \'YESTERDAY\'">NA</span> <span class=graph ng-if="dayDetails.day == \'TODAY\' || dayDetails.day == \'TOMORROW\'"><span class=bar style="width: {{houseDetails.departues_expected[dayDetails.date].percent}}%;" ng-class="{orange: dayDetails.day == \'TODAY\', yellow: dayDetails.day == \'TOMORROW\', showing: houseDetails.departues_expected[dayDetails.date].value > 0}"></span></span></div></td></tr><tr><th scope=row>Departures Actual</th><td ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span class=value ng-if="dayDetails.day == \'YESTERDAY\' || dayDetails.day == \'TODAY\'">{{houseDetails.departures_actual[dayDetails.date].value}}</span> <span class=value ng-if="dayDetails.day == \'TOMORROW\'">NA</span> <span class=graph ng-if="dayDetails.day == \'YESTERDAY\' || dayDetails.day == \'TODAY\'"><span class=bar style="width: {{houseDetails.departures_actual[dayDetails.date].percent}}%;" ng-class="{orange: dayDetails.day == \'TODAY\', blue: dayDetails.day == \'YESTERDAY\', showing: houseDetails.departures_actual[dayDetails.date].value > 0}"></span></span></div></td></tr><tr><th scope=row>Arrivals Expected</th><td ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span class=value ng-if="dayDetails.day == \'TODAY\' || dayDetails.day == \'TOMORROW\'">{{houseDetails.arrivals_expected[dayDetails.date].value}}</span> <span class=value ng-if="dayDetails.day == \'YESTERDAY\'">NA</span> <span class=graph ng-if="dayDetails.day == \'TODAY\' || dayDetails.day == \'TOMORROW\'"><span class=bar style="width: {{houseDetails.arrivals_expected[dayDetails.date].percent}}%;" ng-class="{orange: dayDetails.day == \'TODAY\', yellow: dayDetails.day == \'TOMORROW\', showing: houseDetails.arrivals_expected[dayDetails.date].value > 0}"></span></span></div></td></tr><tr><th scope=row>Arrivals Actual</th><td ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span class=value ng-if="dayDetails.day == \'YESTERDAY\' || dayDetails.day == \'TODAY\'">{{houseDetails.arrivals_actual[dayDetails.date].value}}</span> <span class=value ng-if="dayDetails.day == \'TOMORROW\'">NA</span> <span class=graph ng-if="dayDetails.day == \'YESTERDAY\' || dayDetails.day == \'TODAY\'"><span class=bar style="width: {{houseDetails.arrivals_actual[dayDetails.date].percent}}%;" ng-class="{orange: dayDetails.day == \'TODAY\', blue: dayDetails.day == \'YESTERDAY\', showing: houseDetails.arrivals_actual[dayDetails.date].value > 0}"></span></span></div></td></tr><tr><th scope=row>Available Tonight</th><td ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span class=value>{{houseDetails.available_tonight[dayDetails.date].value}}%</span> <span class=graph><span class=bar style="width: {{houseDetails.available_tonight[dayDetails.date].percent}}%;" ng-class="{blue: dayDetails.day == \'YESTERDAY\',orange: dayDetails.day == \'TODAY\', yellow: dayDetails.day == \'TOMORROW\', showing: houseDetails.available_tonight[dayDetails.date].value > 0}"></span></span></div></td></tr><tr><th scope=row>Occupied Tonight</th><td ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span class=value>{{houseDetails.occupied_tonight[dayDetails.date].value}}%</span> <span class=graph><span class=bar style="width: {{houseDetails.occupied_tonight[dayDetails.date].percent}}%;" ng-class="{blue: dayDetails.day == \'YESTERDAY\',orange: dayDetails.day == \'TODAY\', yellow: dayDetails.day == \'TOMORROW\', showing: houseDetails.occupied_tonight[dayDetails.date].value > 0}"></span></span></div></td></tr><tr><th class=heading scope=row>Total Room Revenue</th><td ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span class="value full-width">{{currencySymbol}}{{houseDetails.total_room_revenue[dayDetails.date] | number: precisonZero}}</span></div></td></tr><tr><th class=heading scope=row>Average Daily Rate</th><td ng-repeat="dayDetails in houseDetails.dates"><div class=inner><span class="value full-width">{{currencySymbol}}{{houseDetails.avg_daily_rate[dayDetails.date] | number: precisonZero}}</span></div></td></tr></tbody></table></div></div></span>'),t.put("/assets/partials/availability/itemInventoryGraphStatus.html",'<div id=availability-graph class="availability-graph scrollable" ng-controller=rvItemInventoryGraphStatusController ng-show=hideMeBeforeFetching><div id=graph-options-area><div class="entry radio-check" ng-repeat="eachGraphData in graphData"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': eachGraphData.checked}" style="{{returnLegendStyle($index, eachGraphData.checked)}}"></span> <input type=checkbox name=room-filters class="ng-valid ng-dirty" ng-click="clickedOnLegend(eachGraphData.name, eachGraphData.checked)" ng-model=eachGraphData.checked> <label class=ng-scope>{{eachGraphData.date}}</label></label></div></div><div id=graph-showing-area ng-iscroll=graph-scroller ng-iscroll-delay=100><div class=wrapper style=min-width:{{graphWidth}}px;><div id=nav-listing><ul><li ng-repeat="eachDate in data.dates track by $index"><span>{{eachDate.dateObj|date:dayInWeek}}</span> {{eachDate.dateObj|date:shortMonthAndDate}}</li></ul></div><div highchart="" id=availabilityGraphShowingArea config=availabilityGraphCongif></div></div></div></div>'),t.put("/assets/partials/availability/itemInventoryGridStatus.html",'<div id=availability-grid ng-controller=rvItemInventoryGridStatusController class="availability-grid scrollable" ng-iscroll=room_availability_scroller ng-iscroll-delay=100 ng-show=hideMeBeforeFetching><div class=wrapper style="width: {{getWidthForTable()}}px"><table class=dates-grid><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><thead><tr><th class=heading></th><th ng-repeat="eachDate in data.dates"><div class=inner ng-class="{\'weekend\': eachDate.isWeekend}"><span ng-bind=eachDate.date|date:dayInWeek></span>{{eachDate.date|date:shortMonthAndDate}}</div></th></tr></thead></table><table class=dates-grid><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr ng-repeat="addon in data.addons track by $index"><th scope=row ng-bind=addon.name></th><td ng-repeat="date in addon.availability_details track by $index"><div class=inner ng-if="date.availability !== null" ng-bind=date.availability ng-class="{ \'unavailable\' : date.availability <= 0, \'warning\' : (date.availability <= 3) }"></div><div ng-if="date.availability === null" class="inner disabled">N/A</div></td></tr></tbody></table></div></div>'),t.put("/assets/partials/availability/itemInventoryMain.html",'<span ng-controller=itemInventoryMainController><div class=availability-header><div class="date has-datepicker" ng-click=showDatePicker()><input name=availability-start-date id=availability-start-date class=datepicker type=text ng-model=data.formattedSelectedDate readonly=""></div><div class=select><select id=days-view name=days-view ng-model=numberOfDaysSelected ng-change=changedAvailabilityDataParams()><option value=14 ng-selected="numberOfDaysSelected==14">14 days</option><option value=30 ng-selected="numberOfDaysSelected==30">30 days</option></select></div><ul class=display ng-hide=true><li id=show-grid ng-click="setSelectedView(\'grid\')" ng-class="{\'active\': selectedView == \'grid\'}"><span class="icons icon-navbar only-icon icon-grid" ng-class="{\'active\': selectedView == \'grid\'}">Grid</span></li><li id=show-graph ng-click="setSelectedView(\'graph\')" ng-class="{\'active\': selectedView == \'graph\'}"><span class="icons icon-navbar only-icon icon-graph" ng-class="{\'active\': selectedView == \'graph\'}">Graph</span></li></ul></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span ng-include=loadSelectedView()></span></span>'),t.put("/assets/partials/availability/releaseRoomPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class=text>{{data.clickedHeldRoomDetail.Name}}&nbsp,&nbsp <span ng-bind=data.clickedHeldRoomDetail.date|date:dayInWeek></span> {{data.clickedHeldRoomDetail.date|date:shortMonthAndDate}}</span> <span class="h2 message">Release remaining rooms for the day?</span> <button type=button class="button red modal-close" ng-click=releaseRooms()>Release rooms</button> <button type=button class="button blank modal-close" ng-click=closeDialog()>Cancel</button></div></div>'),
t.put("/assets/partials/availability/roomAvailabilityGraphStatus.html",'<div id=availability-graph class="availability-graph scrollable" ng-controller=rvRoomAvailabilityGraphStatusController ng-show=hideMeBeforeFetching><div id=graph-options-area><div class="entry radio-check" ng-repeat="eachGraphData in graphData"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': eachGraphData.checked}" style="{{returnLegendStyle($index, eachGraphData.checked)}}"></span> <input type=checkbox name=room-filters class="ng-valid ng-dirty" ng-click="clickedOnLegend(eachGraphData.name, eachGraphData.checked)" ng-model=eachGraphData.checked> <label class=ng-scope>{{eachGraphData.name}}</label></label></div></div><div id=graph-showing-area ng-iscroll=graph-scroller ng-iscroll-delay=100><div class=wrapper style=min-width:{{graphWidth}}px;><div id=nav-listing><ul><li ng-repeat="eachDate in data.dates track by $index"><span>{{eachDate.dateObj|date:dayInWeek}}</span> {{eachDate.dateObj|date:shortMonthAndDate}}</li></ul></div><div highchart="" id=availabilityGraphShowingArea config=availabilityGraphCongif></div></div></div></div>'),t.put("/assets/partials/availability/roomAvailabilityGridStatus.html",'<div class="availability-grid scrollable" ng-controller=rvRoomAvailabilityGridStatusController ng-iscroll=room_availability_scroller ng-iscroll-delay=100 ng-show=hideMeBeforeFetching><div class=wrapper style="width: {{getWidthForTable()}}px"><table class=dates-grid><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><thead><tr><th class=heading></th><th ng-repeat="eachDate in data.dates track by $index" ng-class="{\'has-event-block\': data.eventsCount[eachDate.date] > 0}" data-events={{data.eventsCount[eachDate.date]}} ng-click="showHouseEventsListPopup(eachDate.date, data.eventsCount[eachDate.date])"><div class=inner ng-class="{\'weekend\': eachDate.isWeekend}"><span ng-bind=eachDate.date|date:dayInWeek></span> {{eachDate.date|date:shortMonthAndDate}}</div></th></tr></thead></table><table data-id=dates-grid class="dates-grid red" ng-show=isIncludeOverbooking><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class="heading rows-toggle" scope=row ng-class="{\'active\' : toggleStatusOf.overbooking }" ng-click=toggleOverbooking()>Sell Limits</th><td ng-repeat="overbooking in data.overbooking track by $index"><div class=inner>{{overbooking}}</div></td></tr><tr class=italic ng-class="{\'hide-row\': !toggleStatusOf.overbooking}" ng-repeat="overbooking in data.additionalData.roomTypeWiseOverbookingDetails track by $index"><th scope=row ng-bind=data.additionalData.roomTypeNamesOverbooking[$index].name></th><td ng-repeat="roomType in overbooking track by $index"><div class=inner ng-bind=roomType.sell_limit ng-class="{ \'unavailable\': 0 >= roomType.sell_limit, \'warning\': 5 >= roomType.sell_limit}"></div></td></tr></tbody></table><table class="dates-grid gold"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class="heading rows-toggle" scope=row ng-class="{\'active\' : toggleStatusOf.bar }" ng-click=toggleBar()>BAR</th><td ng-repeat="bar in data.bestAvailabilityRates track by $index"><div class=inner><span class=rate-value ng-if="bar == \'C\'">C</span> <span class=rate-value ng-if="bar != \'C\'"><span ng-bind-html="bar | sntCurrency:this"></span></span></div></td></tr><tr ng-class="{\'hide-row\': !toggleStatusOf.bar}" ng-repeat="roomTypeWiseBar in data.additionalData.roomTypeBar track by $index"><th scope=row ng-bind=data.additionalData.roomTypeList[$index].name></th><td ng-repeat="bar in roomTypeWiseBar track by $index"><button type=button class="button white rate-value not-clickable" ng-if="bar.amount === \'C\' || bar.amount === null">{{bar.amount}}</button> <button type=button class="button white rate-value" ng-if="bar.amount !== \'C\' && bar.amount !== null" ng-click="navigateToCreateReservation(bar, data.dates, $index)"><span ng-bind-html="bar.amount | sntCurrency:this"></span></button></td></tr></tbody></table><table class="dates-grid blue"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class="heading rows-toggle" ng-class="{\'active\' : toggleStatusOf.occupancy }" scope=row ng-click=toggleOccupancy()>Occupancy %</th><td ng-repeat="occupancy in data.occupancies track by $index"><div class=inner>{{occupancy | number : 0 }}%</div></td></tr><tr ng-class="{\'hide-row\': !toggleStatusOf.occupancy }" ng-click=toggleRoomInventory()><th class=rows-toggle scope=row ng-class="{\'active\' : toggleStatusOf.roomInventory }">Rooms Inventory</th><td ng-repeat="inventory in data.inventory track by $index"><div class=inner ng-bind=inventory ng-class="{ \'unavailable\': 0 >= inventory, \'warning\': 5 >= inventory}"></div></td></tr><tr class=italic ng-class="{\'hide-row\': !toggleStatusOf.roomInventory || !toggleStatusOf.occupancy}" ng-repeat="roomType in data.roomTypes track by $index"><th scope=row ng-bind=roomType.name></th><td ng-repeat="eachDate in data.dates"><div class=inner ng-bind=roomType.rooms_inventory></div></td></tr><tr ng-class="{\'hide-row\': !toggleStatusOf.occupancy }" ng-if=!isHourlyRateOn><th scope=row>OOO Rooms</th><td ng-repeat="outOfOrderRoom in data.outOfOrder track by $index"><div class=inner ng-bind=outOfOrderRoom></div></td></tr><tr ng-class="{\'hide-row\': !toggleStatusOf.occupancy }"><th scope=row>Rooms To Sell</th><td ng-repeat="roomToSell in data.roomToSell track by $index"><div class=inner ng-bind=roomToSell></div></td></tr></tbody></table><table class="dates-grid green"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class="heading rows-toggle" ng-click=toggleAvailableRooms() ng-class="{\'active\' : toggleStatusOf.availableRooms }">Available Rooms</th><td ng-repeat="availableRoom in data.availableRooms track by $index"><div class=inner ng-bind=availableRoom ng-class="{ \'unavailable\': 0 >= availableRoom, \'warning\': 5 >= availableRoom}"></div></td></tr><tr class=italic ng-class="{\'hide-row\': !toggleStatusOf.availableRooms, \'different\': data.additionalData.roomTypeNames[$index].is_suite}" ng-repeat="roomTypeWiseDetail in data.additionalData.roomTypeWiseDetails track by $index"><th scope=row ng-bind=data.additionalData.roomTypeNames[$index].name></th><td ng-repeat="roomType in roomTypeWiseDetail track by $index"><button type=button class="button white" ng-class="{ \'unavailable\': roomType.availability <= 0, \'warning\': roomType.availability > 0 && roomType.availability <= 5}" ng-click="navigateToCreateReservation(roomType, data.dates, $index)">{{roomType.availability}}</button></td></tr></tbody></table><table class="dates-grid orange"><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main ng-if=!isHourlyRateOn><th class="heading rows-toggle" ng-click=toggleSoldRooms() ng-class="{\'active\' : toggleStatusOf.roomsSold }">Rooms Sold</th><td ng-repeat="bookedRoom in data.bookedRooms track by $index"><div class=inner ng-bind=bookedRoom></div></td></tr><tr ng-class="{\'hide-row\': !toggleStatusOf.roomsSold }" ng-if=!isHourlyRateOn><th scope=row>Adults / Children</th><td ng-repeat="count in data.additionalData.adultsChildrenCounts track by $index"><div class=inner ng-bind=count.bothCount></div></td></tr><tr class=italic ng-if=!isHourlyRateOn ng-class="{\'hide-row\': !toggleStatusOf.roomsSold , \'different\': data.additionalData.roomTypeNames[$index].is_suite}" ng-repeat="roomTypeWiseDetail in data.additionalData.roomTypeWiseDetails track by $index"><th scope=row ng-bind=data.additionalData.roomTypeNames[$index].name></th><td ng-repeat="roomType in roomTypeWiseDetail track by $index"><div class=inner ng-bind=roomType.sold></div></td></tr></tbody></table><table class=dates-grid ng-if=!isHourlyRateOn><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class=heading scope=row>Non Group Rooms</th><td ng-repeat="nonGroupRoom in data.nonGroupRooms track by $index"><div class=inner ng-bind=nonGroupRoom></div></td></tr></tbody></table><table class="dates-grid purple" ng-if=!isHourlyRateOn><colgroup><col><col class=grid-col ng-repeat="eachDate in data.dates" ng-class="{\'weekend\': eachDate.isWeekend}"></colgroup><tbody><tr class=main><th class="heading rows-toggle" scope=row ng-click=toggleShowGroupAllotmentTotals() ng-class="{\'active\' : showShowGroupAllotmentTotals }">Group / Allotment</th><td ng-repeat="groupAndAllotment in data.groupAndAllotments track by $index"><div class=inner ng-bind=groupAndAllotment></div></td></tr><tr ng-repeat="rowData in data.gridDataForGroupAvailability.holdstatuses track by $index" ng-class="getClassForHoldStatusRow(data.gridDataForGroupAvailability, rowData[0].id)"><th scope=row>Group Blocks {{ getGroupAllotmentName(data.gridDataForGroupAvailability, rowData[0].id) }}</th><td ng-repeat="cellData in rowData track by $index"><div class=inner>{{ cellData.total_number_of_rooms_blocked }}</div></td></tr><tr ng-class="{\'hide-row\': !showShowGroupAllotmentTotals}"><th scope=row>Group Picked Up</th><td ng-repeat="groupPickedUp in data.gridDataForGroupAvailability.groupTotalPickedUps track by $index"><div class=inner>{{ groupPickedUp }}</div></td></tr><tr ng-repeat="rowData in data.gridDataForAllotmentAvailability.holdstatuses track by $index" ng-class="getClassForHoldStatusRow(data.gridDataForAllotmentAvailability, rowData[0].id)"><th scope=row>Allotment {{ getGroupAllotmentName(data.gridDataForAllotmentAvailability, rowData[0].id) }}</th><td ng-repeat="cellData in rowData track by $index"><div class=inner>{{ cellData.total_number_of_rooms_blocked }}</div></td></tr><tr ng-class="{\'hide-row\': !showShowGroupAllotmentTotals}"><th scope=row>Allotment Picked Up</th><td ng-repeat="allotmentPickedUp in data.gridDataForAllotmentAvailability.groupTotalPickedUps track by $index"><div class=inner>{{ allotmentPickedUp }}</div></td></tr></tbody></table></div></div>'),t.put("/assets/partials/availability/roomAvailabilityMain.html",'<span ng-controller=roomAvailabilityMainController><div class=availability-header><div class="date has-datepicker" ng-click=clickedOnDatePicker()><input name=availability-start-date id=availability-start-date class=hasDatepicker type=text ng-model=data.formattedSelectedDate ng-change=changedAvailabilityDataParams()> <button type=button class=ui-datepicker-trigger>...</button></div><div class=select><select id=days-view name=days-view ng-model=numberOfDaysSelected ng-change=changedAvailabilityDataParams()><option value=7 ng-selected="numberOfDaysSelected==7">7 Days</option><option value=14 ng-selected="numberOfDaysSelected==14">14 Days</option><option value=30 ng-selected="numberOfDaysSelected==30">30 Days</option></select></div><label ng-hide="isHourlyRateOn || (isPmsProductionEnv && !isSellLimitEnabled) || !isSellLimitEnabled" class=checkbox ng-click=clickedIncludeOverbooking() ng-class="{\'checked\': data.isIncludeOverbooking }"><span class="icon-form icon-checkbox" ng-class="{\'checked\': data.isIncludeOverbooking }"></span> <input type=checkbox> Include Sell Limits</label><button type=button class="button blue with-icon only-icon" ng-click=printAvaiability() ng-show=shouldShowPrint()><i class="icons icon-print"></i> Print</button></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span ng-include=loadSelectedView()></span></span>'),t.put("/assets/partials/bill/ccAuthAndBillingInfoConfirm.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content confirmation"><button ng-click=closeDialog() id=modal-close type=button class=modal-close><span class="icons icon-close invert"></span></button> <span class="h2 message">Review CC Authorization</span><span ng-if=message_out_going_to_room class=notice>Some charges of this reservation are being routed <strong>to another room</strong>.</span><span ng-if=message_incoming_from_room class=notice>Charges <strong>from another room</strong> are being routed to this reservation.</span><span ng-if=message_out_going_to_comp_tra class=notice>Some charges for this reservation are being routed <strong>to Company / Travel Agent / Account</strong>.</span><div class=actions><button ng-if=enableIncedentalOnlyOption ng-click=clickedIncidentalsOnly() class="button orange" type=button>Incidentals Only</button> <button ng-click=clickedFullAuth() class="button green modal-close" type=button>Full Auth as per set rule</button> <button ng-click=clickedManualAuth() class="button blue modal-close" type=button>Manual CC Auth</button></div></div></div>'),t.put("/assets/partials/bill/ccAuthorization.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content alert"><span ng-show=isInProgressScreen class="icons icon-cc-authorization"></span> <span ng-show=isInProgressScreen class="h2 message">CC Authorization in progress, please wait...</span><span ng-show=isSuccessScreen class="icons icon-cc-authorization success"></span> <span ng-show=isSuccessScreen class="h2 message green">CC Authorization for <span ng-bind-html="cc_auth_amount | sntCurrency:this"></span> completed.</span> <span ng-show=isSuccessScreen class=text>Authorization Code {{cc_auth_code}}</span> <button ng-click=continueAfterSuccessAuth() ng-show=isSuccessScreen type=button class="button green">Continue</button><span ng-show=isFailureScreen class="icons icon-cc-authorization failure"></span> <span ng-show=isFailureScreen class="h2 message red">CC Authorization for <span ng-bind-html="cc_auth_amount | sntCurrency:this"></span> declined.</span> <button ng-disabled=!isCCAuthPermission ng-click=continueWithoutCC() ng-show=isFailureScreen type=button class="button blue" ng-class="{\'grey\':!isCCAuthPermission }">Continue without CC</button> <button ng-click=closeDialog() ng-show=isFailureScreen type=button class="button blank">Cancel</button></div></div>'),t.put("/assets/partials/bill/rvAdvanceBillConfirmPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action="" id=edit-charge-options name=edit-charge class="modal-content form advanced-bill"><button id=modal-close class=modal-close type=button ng-click=closeAdanceBillDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">ADVANCE_BILL_CONFIRM_TEXT</span><div class=actions><button type=button class="button green modal-close" ng-click=generateAdvanceBill() translate="">POST_CHARGES_LABEL</button> <button type=button ng-click=closeAdanceBillDialog() class="button red modal-close" translate="">NO</button></div></form></div>'),t.put("/assets/partials/bill/rvAllRoutes.html",'<div id=billing-content class=content-wrapper ng-class="{\'no-content\':routes.length == 0}" ng-controller=rvAllRoutesCtrl><div class=info ng-show="routes.length == 0"><strong class=h1 translate="">ROUTES_EMPTY_MESSAGE</strong></div><ul class=billing-list-header ng-hide="routes.length == 0"><li class=name>Name</li><li class=group>Billing Group(s) / Charge Code(s)</li><li class=split>Split Charge</li><li class=bill>Bill #</li><li class=delete>Delete</li></ul><div id=routes ng-iscroll=routes ng-iscroll-delay=100 ng-show="routes.length > 0" class="billing-list scrollable bill-routing-list"><ul class=wrapper><li ng-repeat="route in routes"><a href=#route-details ng-class=getEntityRole(route) ng-click="selectEntity($index,\'ROUTES\')"><figure class=guest-image ng-class=getEntityIconClass(route) ng-if="escapeNull(route.images[0].image)!=\'\'"><img src={{route.images[0].image}} alt=""></figure><figure class=guest-image ng-if="escapeNull(route.images[0].image)==\'\'"><div class="guest-image icons icon-company" ng-if="escapeNull(route.entity_type)==\'COMPANY_CARD\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(route.entity_type)==\'TRAVEL_AGENT\'"></div><div class=group-info ng-if="escapeNull(route.entity_type)==\'GROUP\' || escapeNull(route.entity_type)==\'HOUSE\'">A</div><div class="guest-image icons icon-allotment" ng-if="escapeNull(selectedEntity.entity_type)==\'ALLOTMENT\'"></div></figure><div ng-class="{ \'data\':route.account_address }"><h2>{{route.name}}</h2><span class=location>{{route.account_address}}</span></div><div class=type>{{getCharges(route)}}</div><div class=split><span class="icons icon-split-charge" ng-show=route.split_charge_by_50></span></div><div class=bill ng-hide=route.is_routed_to_different_reservation>{{route.bill_no}}</div><div class=bill ng-show=route.is_routed_to_different_reservation><span class=label ng-show="route.room_no == \'\'">ROOM</span> <span class=label ng-show="route.room_no != \'\'"></span> {{route.room_no}}</div></a><div id=remove-route-1 class="icons icon-remove-40" ng-click=deleteRoute($index)>-</div></li></ul></div></div><div class=actions><button type=button class="button blank modal-close" ng-click=handleCloseDialog() translate="">CLOSE</button></div>'),t.put("/assets/partials/bill/rvBillActionsPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><form method=post action="" id=edit-charge-options name=edit-charge class="modal-content form edit-charge"><button class=modal-close type=button ng-click="callActionsPopupAction(\'close\')" id=modal-close><span class="icons icon-close invert"></span></button><fieldset id=charge-options class=actions><button type=button class="button purple" ng-click="callActionsPopupAction(\'custom_description\')" ng-if=hasPermissionToEditChargeCodeDescription() translate="">CUSTOM_DESCRIPTION</button> <button type=button class="button red" ng-click="callActionsPopupAction(\'remove\')" ng-if="!hideRemoveAndEdit && hasPermissionToDeleteCharges()" translate="">REMOVE_CHARGE</button> <button type=button class="button blue" ng-click="callActionsPopupAction(\'split\')" translate="" ng-if="show_split_payment && hasPermissionToSplitCharges()">SPLIT_CHARGE</button> <button type=button class="button brand-colors" ng-click="callActionsPopupAction(\'edit\')" ng-if="!hideRemoveAndEdit && hasPermissionToEditCharges()" translate="">EDIT_CHARGE</button> <button type=button class="button blank modal-close" ng-click="callActionsPopupAction(\'close\')" translate="">CANCEL</button></fieldset></form></div>'),t.put("/assets/partials/bill/rvBillCard.html",'<div class="nested-view view-current"><div class=no-print ng-include="\'/assets/partials/common/header.html\'"></div><section role=complementary id=registration-details class="content stay-card-inner check-in"><div class="reservation-header view-bill"><div class=actions><button type=button data-fullscreen=bill class="button white icons icon-expand" rv-fullscreen="" fs-sub-header="{{\'Res. #\'+lastResBillData.confirm_no}}" fs-toggle-class=fullscreen-bill>Fullscreen</button><button type=button class=button ng-show=shouldShowEnableDisableChargeButton() ng-click=noPostButtonClicked() ng-class="{\'green\':reservationBillData.roomChargeEnabled, \'red\': !reservationBillData.roomChargeEnabled}">{{getNoPostButtonTiltle()}}</button><button type=button class="toggle has-arrow" ng-show="routingArrayCount>0 && !isStandAlone" ng-class="{\'active\':showBillingInfo}" ng-click=showBillingInfoHandle() translate="">BILLING_INFO</button><button type=button class="button blue" ng-click=openBillingInformation() ng-show=isStandAlone translate="">BILL_ROUTING_HEADER</button><button ng-if=reservationBillData.is_allowance_enabled type=button class="button orange" ng-click=openAllowances() translate="">ALLOWANCES</button></div><div class=data><span class=room ng-show="reservationBillData.room_number != \'\'"><span class="guest-status room" translate="">ROOM</span> <strong id=header-room-num class=room-number ng-class="getRoomClass(reservationBillData.reservation_status, reservationBillData.room_status, reservationBillData.fo_status, reservationBillData.room_ready_status, reservationBillData.checkin_inspected_only)">{{reservationBillData.room_number}}</strong> <span id=room-type class=room-type>{{reservationBillData.room_type_name}}</span></span> <span class=nights><span class="guest-status nights"></span> {{reservationBillData.number_of_nights}} {{setNightsString()}}</span> <span class=date><span class="guest-status small-icon check-in" translate=""></span> {{reservationBillData.checkin_date | date:dayInWeek}} {{reservationBillData.checkin_date | date:dateFormat}}</span> <span class=date><span class="guest-status small-icon check-out" translate=""></span> {{reservationBillData.checkout_date | date:dayInWeek}} {{reservationBillData.checkout_date | date:dateFormat}}</span></div></div><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div ng-iscroll=registration-content ng-iscroll-delay=1000 class="registration-content scrollable" ng-class="{ \'print-registration-card\': isPrintRegistrationCard , \'with-complete-registration\': isCompleteRegistration}"><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=billing-information class="billing-information notice" ng-show="showBillingInfo && !isStandAlone"><table><thead><tr><th><span translate="">TO_BILL</span> #</th><th><span translate="">TO_ROOM</span> #</th><th><span translate="">GUEST_OR_COMPANY</span></th><th><span translate="">DETAILS</span></th></tr></thead><tbody><tr ng-repeat="routingData in reservationBillData.routing_array"><td>{{routingData.bill_number}}</td><td>{{routingData.room_no}}</td><td>{{routingData.guest_or_company}}</td><td>{{routingData.details}}</td></tr></tbody></table></div><div id=billing-information class="billing-information notice" ng-show=showIncomingBillingInfo><table><thead><tr><th><span translate="">FROM_ROOM</span> #</th><th></th><th><span translate="">FROM_GUEST_NAME</span></th><th><span translate="">DETAILS</span></th></tr></thead><tbody><tr ng-repeat="incomingRoutingData in reservationBillData.incoming_routing_array"><td>{{incomingRoutingData.room_no}}</td><td></td><td>{{incomingRoutingData.guest_name}}</td><td>{{incomingRoutingData.details}}</td></tr></tbody></table></div><div id=bills class=registration-summary><div class="bill-tabs scrollable" ng-iscroll=bill-tab-scroller ng-iscroll-delay=100><ul class=wrapper style=width:{{getWidthForBillTabsScroll()}}px><li ng-class=showActiveBill($index) ng-repeat="billTab in reservationBillData.bills"><a click-touch=getBillData($index) class=bill-toggle ng-class="{\'error\': billTab.has_crossed_credit_limit, \'has-icon\': !billTab.is_active && (billTab.is_control_code_exist || billTab.is_folio_number_exists)}"><div class=bill-entity-icon><img ng-if="billTab.routed_entity_type === null" ng-src="{{ billTab.guest_image }}" alt=""><span ng-if="billTab.routed_entity_type === \'COMPANY\'" class="icons icon-company"></span><span ng-if="billTab.routed_entity_type === \'TRAVELAGENT\'" class="icons icon-travel-agent"></span></div><div class=price ng-show="isBalanceShown(billTab.is_rate_suppressed) && !billTab.is_void_bill && !billTab.is_voided"><span translate="">BILL #{{billTab.bill_number}}</span> <span ng-bind-html="billTab.total_amount | sntCurrency:this"></span></div><div class=price ng-show="!isBalanceShown(billTab.is_rate_suppressed) && !billTab.is_void_bill && !billTab.is_voided"><span translate="">BILL #{{billTab.bill_number}}</span> {{\'SUPPRESSED_RATES_TEXT\' | translate}}</div><div class=price ng-show=billTab.is_void_bill><span translate="">BILL</span> VOID</div><div class=price ng-show=billTab.is_voided><span translate="">BILL</span> VOIDED</div><div class=payment ng-show="billTab.credit_card_details.payment_type !== \'CC\' && billTab.is_active">{{billTab.credit_card_details.payment_type_description}}</div><figure class=card-logo ng-show="billTab.credit_card_details.payment_type == \'CC\' &&billTab.is_active"><img ng-if="billTab.credit_card_details.card_code !== \'\'" ng-src=/ui/pms-ui/images/{{billTab.credit_card_details.card_code}}.png alt="" class=credit-card-image> <span class=number>{{billTab.credit_card_details.card_number}}</span></figure><span class="icons icon-room-lock" ng-show="!billTab.is_active && (billTab.is_control_code_exist || billTab.is_folio_number_exists)"></span><div class=payment ng-show=billTab.is_moved_to_ar>Moved to A/R</div></a> <button ng-if="($index === reservationBillData.bills.length - 1) && !billTab.is_transactions_exist && !billTab.is_routing_exist && billTab.is_active && !billTab.is_control_code_exist && !billTab.is_folio_number_exists" click-touch=clickedRemoveBill($index) type=button class="button icons icon-remove-10"></button></li><li class=new-bill ng-show=isStandAlone><button type=button class="button with-icon only-icon brand-colors" ng-click=createNewBill()><span class="icons icon-plus"></span></button></li></ul></div><button type=button class="incoming-billing toggle has-arrow" ng-show="incomingRoutingArrayCount>0" ng-class="{\'active\':showIncomingBillingInfo}" ng-click=showIncomingBillingInfoHandle() translate="">INCOMING_BILLING_INFO</button><div ng-class="{\'hidden\': $index!=currentActiveBill}" class=bill-summary ng-repeat="billData in reservationBillData.bills"><div class=bill-summary-wrapper><div id=bill-days-new class=scrollable ng-iscroll=billDays ng-iscroll-delay=50><ul class=wrapper style="width: {{billData.billDaysWidth}}px;"><li class=add-new><button type=button class="button with-icon brand-colors" click-touch=clickedAddCharge(billData.bill_number) ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><span class="icons icon-charge"></span> Add Charge</button> <button ng-show="isStandAlone && reservationBillData.reservation_status === \'CHECKEDIN\' && !reservationBillData.is_advance_bill && !reservationBillData.is_hourly && !reservationBillData.is_allowance_attached" type=button class="button with-icon green" click-touch=clickedAdvanceBill()><span class="icons icon-charge"></span> Advanced Bill</button> <button type=button class="button with-icon red" ng-show=shouldShowVoidBill() ng-click=clickedVoidBillButton()><span class="icons icon-blocked-white"></span> Void<br>Bill</button></li><li click-touch="showDayRates($index, days.date, reservationBillData.checkout_date, reservationBillData.number_of_nights)" ng-repeat="days in billData.days" ng-class="getDaysClass($parent.$index, days.date, reservationBillData.checkin_date, reservationBillData.checkout_date, businessDate)"><div class=toggle ng-class="{\'active\': $index == dayRates}" ng-show="showDays(days.date,reservationBillData.checkout_date, reservationBillData.number_of_nights, \'others\')"><span class=day>{{days.date | date:\'EEE\'}}</span> <span class=date>{{days.date | date:\'dd\'}}</span> <span class="guest-status check-in small-icon" ng-show="days.date == reservationBillData.checkin_date" translate="">CHECK_IN</span> <span class=price ng-show=!isBalanceShown(days.is_rate_suppressed)>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span> <span class=price ng-show=isBalanceShown(days.is_rate_suppressed)><span ng-bind-html="days.amount | sntCurrency:this"></span></span></div></li><li class="package active" click-touch=showAddons($index) ng-repeat="addons in billData.addons"><div class=toggle ng-class="{\'active\': $index == showAddonIndex}"><span class=expense>{{addons.title}}</span> <span class=price ng-show="addons.package_type != \'PACKAGES\'">{{addons.package_type}}</span> <span class=price ng-show="addons.package_type == \'PACKAGES\' && caculateExpenseAmountForPackageAddon(addons.expense_details,addons.amount) !=\'MULTI\' && caculateExpenseAmountForPackageAddon(addons.expense_details,addons.amount) !=\'INCL\'"><span class=currency>{{currencySymbol}}</span>{{caculateExpenseAmountForPackageAddon(addons.expense_details,addons.amount)}}</span> <span class=price ng-show="addons.package_type == \'PACKAGES\' && (caculateExpenseAmountForPackageAddon(addons.expense_details,addons.amount) ==\'MULTI\' || caculateExpenseAmountForPackageAddon(addons.expense_details,addons.amount) ==\'INCL\')">{{caculateExpenseAmountForPackageAddon(addons.expense_details,addons.amount)}}</span> <span class=price ng-hide="addons.package_type == \'PACKAGES\'"><span ng-bind-html="addons.amount | sntCurrency:this"></span></span></div></li><li click-touch="showDayRates($index, days.date, reservationBillData.checkout_date, reservationBillData.number_of_nights)" ng-repeat="days in billData.days" ng-class="getDaysClass($parent.$index, days.date, reservationBillData.checkin_date, reservationBillData.checkout_date, businessDate)"><div class=no-expense ng-show="showDays(days.date,reservationBillData.checkout_date, reservationBillData.number_of_nights, \'checkout\')"><span class=day>{{days.date | date:\'EEE\'}}</span> <span class=date>{{days.date | date:\'dd\'}}</span> <span class="guest-status check-out small-icon" translate="">CHECK_OUT</span></div></li><li class="package active" click-touch=showGroupItems($index) ng-repeat="groupItems in billData.group_items"><div class=toggle ng-class="{\'active\': $index == showGroupItemIndex}"><span class=expense>{{groupItems.title}}</span><span class=price ng-if=!isBalanceShown(billData.is_rate_suppressed)>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span> <span class=price ng-if=isBalanceShown(billData.is_rate_suppressed)><span ng-bind-html="groupItems.amount | sntCurrency:this"></span></span></div></li></ul></div><div class=summary-expanded ng-class="{\'hidden\': $index != dayRates}" ng-repeat="billItem in billData.days"><a class="toggle has-arrow" ng-click=showRoomDetails($index) ng-class="{\'active\': $index == showRoomDetailsIndex}"><div class=price ng-show=!isBalanceShown(reservationBillData.is_rate_suppressed_present_in_stay_dates)>{{\'SUPPRESSED_RATES_TEXT\' | translate}} <span translate="">+ FEES</span></div><div class=price ng-show=isBalanceShown(reservationBillData.is_rate_suppressed_present_in_stay_dates)><span ng-bind-html="billItem.amount | sntCurrency:this"></span> <span translate="">+ <span translate="">FEES</span></span></div><div class=rate><span translate="">RATE_PER_NIGHT</span> {{billItem.rate_name}}</div><div class=room><span translate="">GUEST_ROOM_TYPE</span> {{billItem.room_type_name}}</div></a><div class=stay-details ng-class="{\'hidden\': $index != showRoomDetailsIndex}"><div class=rate-details>{{billItem.rate_description}}</div><div class=room-details ng-bind-html=billItem.room_type_description></div></div></div><div class=summary-expanded ng-class="{\'hidden\': showAddonIndex != $index}" ng-repeat="billAddons in billData.addons"><table class=expense-details><thead><tr><th class=price translate="">PRICE</th><th translate="">PACKAGE</th><th>QUANTITY</th><th>TYPE</th><th>PROJECTED STAY COST</th></tr></thead><tbody><tr ng-repeat="expense in billAddons.expense_details"><td class=price ng-show=expense.is_inclusive translate="">INCL</td><td class=price ng-show=!expense.is_inclusive><span ng-bind-html="expense.price | sntCurrency:this"></span></td><td>{{expense.package}}</td><td>{{expense.quantity}}</td><td>{{expense.amount_type}} {{expense.post_type}}</td><td class=price ng-show=expense.is_inclusive translate="">INCL</td><td class=price ng-show=!expense.is_inclusive><span ng-bind-html="expense.effective_quantity*expense.price | sntCurrency:this"></span></td></tr></tbody></table></div><div class=summary-expanded ng-class="{\'hidden\': showGroupItemIndex != $index}" ng-repeat="billGroupItems in billData.group_items"><table class=expense-details><thead><tr><th translate="">EXPENSE</th><th translate="">LOCATION</th><th translate="">DATE</th></tr></thead><tbody><tr ng-repeat="billGroupExpense in billGroupItems.expense_details"><td class=price ng-if=!isBalanceShown(billData.is_rate_suppressed)>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</td><td class=price ng-if=isBalanceShown(billData.is_rate_suppressed)><span ng-bind-html="billGroupExpense.expense | sntCurrency:this"></span></td><td>{{billGroupExpense.location}}</td><td>{{billGroupExpense.date | date:dateFormat}}</td></tr></tbody></table></div></div><div id=invoiceDiv ng-show=printBillCardActive class="invoice invoice-page-break" ng-include="\'/assets/partials/bill/rvPrintBillCard.html\'"></div><div id=invoiceDiv ng-if=printReceiptActive class=invoice ng-include="\'/assets/partials/bill/rvPrintReceipt.html\'"></div><div class=total-stay-fees ng-include="\'/assets/partials/bill/rvTotalStayFees.html\'"></div><div id=regDiv ng-if="printRegistrationCardActive && !isRegistrationCardEnabledFor.austria && !isRegistrationCardEnabledFor.arabia" class=registration-card ng-include="\'/assets/partials/bill/rvRegistrationCard.html\'"></div><div id=regDiv ng-if="printRegistrationCardActive && isRegistrationCardEnabledFor.austria" class=registration-card ng-include="\'/assets/partials/bill/rvRegistrationCardAustria.html\'"></div><div id=regDiv ng-if="printRegistrationCardActive && isRegistrationCardEnabledFor.arabia" class="registration-card registration-card-3" ng-include="\'/assets/partials/bill/rvRegistrationCardArabic.html\'"></div></div><div class="signature-header no-print" ng-show=showSignaturePad()><h2>Please sign below</h2><button id=clear-signature type=button ng-click=clickedClearSignature() class="button blank red-text">Clear signature</button></div><div id=signature iscroll-stop-propagation="" snt-convert-canvas-event="" ui-jq=jSignature ui-options=signaturePluginOptions ng-mouseover=disableScroll() ng-mouseleave=enableScroll() div-touch-move-stop-propogate="" ng-show=showSignaturePad() class=no-print></div></div></div></div><div ng-include="\'/assets/partials/bill/rvCheckinCheckoutFlow.html\'"></div></section></div>'),
t.put("/assets/partials/bill/rvBillingInfoCreditLimitAlert.html",'<div id=modal class=modal-show role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog();><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">CREDIT_LIMIT_HAS_BEEN_EXCEEDED</span> <button type=button class="button green" ng-click=applyToBillOne();>APPLY TO BILL 1</button> <button type=button class="button blank" ng-click=closeDialog();>Cancel</button></div></div>'),t.put("/assets/partials/bill/rvBillingInfoCreditLimitExceededPopup.html",'<div id=modal class=modal-show role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog();><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">CREDIT_LIMIT_HAS_BEEN_EXCEEDED</span> <button type=button class="button green" ng-click=closeDialog();>OK</button></div></div>'),t.put("/assets/partials/bill/rvBillingInformationPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form ng-hide=showSixPayLoader id=billing-information name=billing-information class="modal-content billing-information" ng-class="{\'add-card\':saveData.newPaymentFormVisible, \'has-error\': escapeNull(errorMessage) !== \'\'}"><button id=modal-close type=button class="dark-title modal-close" ng-click=handleCloseDialog()><span class="icons icon-close"></span></button><div class=modal-header><h1 translate="">BILLING_INFO_TITLE</h1><em ng-if="billingEntity !== \'TRAVEL_AGENT_DEFAULT_BILLING\' && billingEntity !== \'COMPANY_CARD_DEFAULT_BILLING\' && billingEntity !==\'GROUP_DEFAULT_BILLING\' && billingEntity !==\'ALLOTMENT_DEFAULT_BILLING\'"><span translate="">CONFIRMATION_LABEL</span> #{{reservationData.confirm_no}}</em> <em ng-if="billingEntity == \'TRAVEL_AGENT_DEFAULT_BILLING\'">{{attachedEntities.travel_agent.name}}</em> <em ng-if="billingEntity == \'COMPANY_CARD_DEFAULT_BILLING\'">{{attachedEntities.company_card.name}}</em> <em ng-if="billingEntity == \'GROUP_DEFAULT_BILLING\'">{{attachedEntities.group_details.name}}</em> <em ng-if="billingEntity == \'ALLOTMENT_DEFAULT_BILLING\'">{{attachedEntities.allotment_details.name}}</em> <button type=button id=new-route class=button ng-class="{\'green\': isInitialPage, \'white\':!isInitialPage}" ng-click=headerButtonClicked() ng-hide="billingEntity ===\'ALLOTMENT_DEFAULT_BILLING\' || billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity === \'GROUP_DEFAULT_BILLING\'">{{getHeaderButtonLabel()}}</button> <button type=button class="button red" ng-click=deleteBillingInfo() ng-if="billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\'" translate="">DELETE</button> <button type=button class="button red" ng-click=showGroupBillingInfoDeleteConfirmPopup() ng-if=isDeleteBtnShownForGroupBillingInfo() translate="">DELETE</button></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-if=isInitialPage ng-include="\'/assets/partials/bill/rvAllRoutes.html\'"></div><div ng-if="(!isInitialPage && !isEntitySelected)" ng-include="\'/assets/partials/bill/rvSelectEntity.html\'"></div><span ng-if="(!isInitialPage && isEntitySelected)" ng-include="\'/assets/partials/bill/rvRouteDetails.html\'"></span></form></div>'),t.put("/assets/partials/bill/rvCheckinCheckoutFlow.html",'<div id=bill{{currentActiveBill}}-complete class="complete-registration form" ng-controller=RVReservationCheckInFlowCtrl ng-if="clickedButton == \'checkinButton\'"><div class=entry><label class="checkbox inline" ng-show="reservationBillData.is_disabled_terms_conditions_checkin === \'false\'"><span class="icon-form icon-checkbox" ng-class="{\'checked\': saveData.termsAndConditions}"></span> <input type=checkbox class=termsandconditions-checkbox ng-model=saveData.termsAndConditions><div class=agree-terms-and-conditions click-touch=termsAndConditionsClicked()>{{ \'T_AND_C_TEXT\' | translate }} checkin</div></label> <label id=subscribe-via-email class="checkbox inline checked"><span class="icon-form icon-checkbox" ng-class="{\'checked\': saveData.promotions}"></span> <input type=checkbox value=1 name=checkin checked="" ng-model=saveData.promotions> {{ \'PROMO_NEWS_BY_EMAIL_TEXT\' | translate }}</label></div><div class=actions><button ng-show=!putInQueue click-touch=checkIn() data-room-status=READY data-reseravation-status=CHECKING_IN data-required-signature=CHECKIN data-key-settings=encode data-fo-status=VACANT class="button green" translate="">COMPLETE_CHECKIN</button> <button ng-show=putInQueue id=checkin-button click-touch=clickedCompleteAddToQueue() data-room-status=READY data-reseravation-status=CHECKING_IN data-required-signature=CHECKIN data-key-settings=encode data-fo-status=VACANT class="button green" translate="">COMPLETE_ADD_TO_QUEUE</button></div></div><div id=bill{{currentActiveBill}}-complete class="complete-registration form" ng-controller=RVReservationCheckInFlowCtrl ng-if="(clickedButton == \'checkoutButton\') && (reservationBillData.reservation_status === \'CHECKING_OUT\' || reservationBillData.reservation_status === \'CHECKEDIN\')"><div class=entry><label class="checkbox inline" ng-if="currentActiveBill === 0 && hasPermissionToShowCheckoutWithoutSettlement()"><span class="icon-form icon-checkbox" ng-class="{ \'checked\': isCheckoutWithoutSettlement }"></span> <input type=checkbox ng-click=toggleCheckoutWithoutSettlement() ng-model=isCheckoutWithoutSettlement> {{ \'CHECK_OUT_WITHOUT_SETTLEMENT\' | translate }}</label> <label class="checkbox inline" ng-if=reservationBillData.is_email_enabled_on_checkout><span class="icon-form icon-checkbox" ng-class="{ \'checked\': emailOptedStatusList[currentActiveBill].isOptedForEmail }"></span> <input type=checkbox ng-click=toggleOptedForEmail()><div ng-if=!reservationBillData.bills[currentActiveBill].is_account_attached>Email Bill #{{currentActiveBill+1}} to Guest Email</div><div ng-if=reservationBillData.bills[currentActiveBill].is_account_attached>Email Bill #{{currentActiveBill+1}} to Company/Travel Agent Email</div></label><label id=terms-and-conditions for=terms class="checkbox inline" ng-if="(currentActiveBill+1) === reservationBillData.bills.length" ng-class="{ \'hidden\': reservationBillData.required_signature_at !== \'CHECKOUT\' }"><span ng-if="reservationBillData.required_signature_at !== \'CHECKOUT\'" class="icon-form icon-checkbox" ng-class="{\'checked\': true}">{{saveData.acceptCharges = true}}</span> <span ng-if="reservationBillData.required_signature_at === \'CHECKOUT\'" class="icon-form icon-checkbox" ng-class="{\'checked\': saveData.acceptCharges }"></span> <input type=checkbox ng-model=saveData.acceptCharges> {{ \'ACCEPT_CHARGE_TEXT\' | translate }}</label></div><div class=actions ng-if="(currentActiveBill+1) != reservationBillData.bills.length"><button type=submit ng-click=clickedReviewButton(currentActiveBill) class=button ng-class="{\'grey\':(reviewStatusArray[currentActiveBill].reviewStatus),\'red\':(!reviewStatusArray[currentActiveBill].reviewStatus)}" ng-disabled=reviewStatusArray[currentActiveBill].reviewStatus>{{ \'REVIEW_BILL\' | translate }} {{reservationBillData.bills[currentActiveBill].bill_number}} {{ \'AND_CONTINUE\' | translate }}</button></div><div class=actions ng-if="(currentActiveBill+1) === reservationBillData.bills.length"><button type=submit click-touch=clickedCompleteCheckout() id=complete-checkout-button data-reseravation-status=CHECKEDIN data-required-signature=CHECKIN class="button red" ng-class=\'{"overlay":checkoutInProgress || checkoutStatus === "success"}\' ng-disabled=\'checkoutInProgress || checkoutStatus === "success"\'>{{ \'REVIEW_BILL\' | translate }} {{reservationBillData.bills[currentActiveBill].bill_number}} {{ billData.bill_number }} {{ \'AND_COMPLETE_CHECKOUT\' | translate }}</button></div></div><div id=bill{{currentActiveBill}}-complete class="complete-registration form" ng-controller=RVReservationCheckInFlowCtrl ng-if="clickedButton == \'reverseCheckoutButton\'"><div class=actions><button type=submit ng-click=clickedReverseCheckoutButton() class="button purple">REVERSE CHECKOUT</button></div></div>'),t.put("/assets/partials/bill/rvEditChargePopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><form method=post action="" id=edit-charge-options name=edit-charge class="modal-content form edit-charge" ng-click=clearErrorMessage()><button class=modal-close type=button ng-click="callActionsPopupAction(\'close\')" id=modal-close><span class="icons icon-close invert"></span></button><fieldset id=edit-charge name=edit-charge class=edit-charge><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message" translate="">EDIT_CHARGE</span> <span class=text>{{selectedTransaction.desc}}</span><div id=edit-amount class="entry full-width"><label for=new-description translate="">NEW_DESCRIPTION</label> <input name=new-description id=new-description placeholder="{{\'PLACEHOLDER_NEW_DESCRIPTION\' | translate}}" ng-model=newDescription type=text></div><div><button type=button class="button green modal-close guest-bill-edit-buttons" ng-class="{\'grey\': newDescription === \'\' || newDescription == null }" ng-disabled="newDescription === \'\' || newDescription == null" ng-click=editChargeDescription(newDescription) translate="">SAVE_NEW</button> <button type=button class="button blank guest-bill-edit-buttons" ng-click="callActionsPopupAction(\'close\')" translate="">CANCEL</button></div></fieldset></form></div>'),t.put("/assets/partials/bill/rvEditPostingPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><form method=post action="" id=edit-charge-options name=edit-charge class="modal-content form edit-charge" ng-click=clearErrorMessage()><button class=modal-close type=button ng-click="callActionsPopupAction(\'close\')" id=modal-close><span class="icons icon-close invert"></span></button><fieldset id=edit-charge name=edit-charge class=edit-charge><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message" translate="">EDIT_CHARGE</span> <span class=text>{{selectedTransaction.desc}}<strong class=currency><span ng-bind-html="selectedTransaction.amount | sntCurrency:this"></span></strong></span><ul id=change-edit-type class=modal-options><li ng-class="{\'active\':!chargeCodeActive, \'disabled\': shouldDisableEditChargeAmount() }" ng-click="!shouldDisableEditChargeAmount() && setchargeCodeActive(false)" translate="">AMOUNT</li><li ng-class="{\'active\':chargeCodeActive, \'disabled\': shouldDisableEditChargeCode() }" ng-click="!shouldDisableEditChargeCode() && setchargeCodeActive(true)" translate="">CHARGE_CODE</li></ul><div id=edit-amount class="entry full-width" ng-hide=chargeCodeActive><label for=new-amount>{{\'NEW_AMOUNT\' | translate}}(<span class=currency>{{currencySymbol}}</span>)</label> <input name=new-amount id=new-amount placeholder="{{\'ENTER_VALUE_PLACEHOLDER\' | translate}}" ng-model=newAmount type=text></div><div id=change-code class="entry full-width" ng-show=chargeCodeActive><div id=autocomplete-charge-codes class="search-codes charge-code-select"><input ng-model=chargecodeData.chargeCodeSearchText ng-keyup=chargeCodeEntered() name=search-codes id=search-codes type=text placeholder="{{\'SEARCH_OR_SELECT_CODES_PLACEHOLDER\' | translate}}" value="" autocomplete=off><div class=mini-select ng-click=showAvailableChargeCodes()></div></div><div ng-show=isShowChargeCodeList()><div class="company-card-results charge-code-list" ng-iscroll=chargeCodesList ng-iscroll-delay=100><div class=search-results><ul id=search-list><li ng-repeat="chargeCode in availableChargeCodes" ng-click=selectChargeCode(chargeCode.id) ng-show="chargeCode.is_row_visible === true || showChargeCodes"><h4 class="text-bold first-text" ng-class="{\'grey\':isChargeCodeSelected(chargeCode)}" ng-bind-html=chargeCode.name|highlight:chargecodeData.chargeCodeSearchText:false></h4>&nbsp;<h4 class=text-bold ng-class="{\'grey\':isChargeCodeSelected(chargeCode)}" ng-bind-html=chargeCode.description|highlight:chargecodeData.chargeCodeSearchText:false></h4></li></ul></div></div></div></div><div class="entry full-width" ng-if="!showAdjustmentReason || adjustmentReasonOptions.length === 0"><textarea placeholder="Adjustment reason" ng-model=adjustmentData.adjustmentReason rows=2></textarea></div><div class="entry full-width" style=margin-bottom:15px; ng-show=warningMessage.length><section ng-if=warningMessage.length ng-switch="" on=warningMessage.length class="error error-message"><span class=close-btn ng-click=clearWarningMessage()></span> <span class="ng-binding ng-scope">{{warningMessage}}</span></section></div><div class=select ng-if="showAdjustmentReason && adjustmentReasonOptions.length !== 0"><select iscroll-stop-propagation="" ng-required=true id=company-country name=company-country ng-change=selectedAdjReason() ng-model=adjustmentData.adjustmentReason><option value="" class=placeholder translate="">Select Adjustment Reason</option><option ng-repeat="reason in adjustmentReasonOptions" value={{reason.id}}>{{reason.value}}</option></select></div><div class="entry full-width break"><label for=reference>Reference</label> <input id=reference placeholder="Enter reference" value="" ng-model=reference_text type=text> <label class="checkbox inline" ng-class="{\'checked\': show_ref_on_invoice}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': show_ref_on_invoice}"></span><input type=checkbox ng-model=show_ref_on_invoice> Show Reference on Guest Invoice</label></div><div id=edit-preview class="entry full-width notice" ng-show="(selectedChargeCode.description.length>0 || newAmount.length>0) && errorMessage===\'\'"><strong class=h4 translate="">CHARGE_WILL_APPEAR_AS</strong><ul><li><strong class=flag translate="">ADJUSTMENT</strong> <span ng-hide=selectedChargeCode>{{selectedTransaction.desc}}</span> <span ng-show=selectedChargeCode>{{selectedChargeCode.description}}</span> <span class=value ng-show="newAmount.length>0"><span ng-class="{\'hidden\':newAmount - selectedTransaction.amount< 0}">+</span><span ng-bind-html="newAmount - selectedTransaction.amount | sntCurrency:this:null:true"></span></span></li></ul></div><div><button type=button class="button green modal-close guest-bill-edit-buttons" ng-click=editCharge()>{{getEditChargeButtonText() | translate}}</button> <button type=button class="button blank guest-bill-edit-buttons" ng-click="callActionsPopupAction(\'close\')" translate="">CANCEL</button></div></fieldset></form></div>'),t.put("/assets/partials/bill/rvMoveAllChargesInprogress.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form alert"><button id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <strong class="h3 message">Moving a large number of transaction might take a while, please refresh the screen to review moved transactions</strong> <button type=button class="button blank" ng-click=closeDialog()>Close</button></div></div>'),t.put("/assets/partials/bill/rvMoveTransactionPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak="" ng-click=clearErrorMessage();><form id=move-room name=move-room class="modal-content form move-charge" ng-class="{\'searching-account\':searching,\'selected-bill\':targetBillSelected,\'selected-account\': targetSelected, \'with-notice\': showMoveAllChargesCheckbox(), \'with-error\': errorMessage.length > 0}"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">Move Charge(s)</span> <span class=text ng-if="origin === \'ACCOUNT\' && !isAllTransactionsSelected()">{{moveChargeData.selectedTransactionIds.length}} CHARGE<span ng-if="moveChargeData.selectedTransactionIds.length>1">S</span> SELECTED</span> <span class=text ng-if="origin === \'ACCOUNT\' && isAllTransactionsSelected()">ALL {{moveChargeData.selectedTransactionIds.length}} CHARGES ON THIS PAGE ARE SELECTED</span><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="notice notice-all-charges" ng-if="origin === \'ACCOUNT\' && showMoveAllChargesCheckbox()"><label for=move-all-charges-popup class="checkbox inline"><input type=checkbox id=move-all-charges-popup ng-model=moveChargeData.isMoveAllCharges> <span class="icon-form icon-checkbox" ng-class="{\'checked\':moveChargeData.isMoveAllCharges}"></span> MOVE ALL {{moveChargeData.totalCount}} CHARGES INSTEAD?</label></div><div class=another-bill><span class=h3>To Another Bill</span><div class=holder><div class="entry margin"><label for=move-from-label>Account / Guest</label> <input id=move-from-label placeholder="" ng-model=moveChargeData.displayName type=text disabled=""></div><div class=entry><label for=move-from-bill>From Bill</label> <input id=move-from-bill placeholder="" ng-model=moveChargeData.currentActiveBillNumber type=text disabled=""></div><div class=entry><label for=move-to-bill>To Bill</label><div class=select><select id=move-to-bill ng-model=selectedBillId ng-change=billSelected() ng-disabled=targetSelected><option value=""></option><option value={{bill.bill_id}} ng-repeat="bill in billOptions">{{bill.bill_number}}</option></select></div></div></div></div><div class=another-account><span class=h3>To Another Account/Guest</span><div class="holder search" ng-hide=targetSelected disable=""><div class="entry margin"><label for=move-to-number>Room / Account No.</label> <button type=button class=clear-query ng-click=clearNumberQuery() ng-class="{\'visible\':numberQuery.length>0}"><span class="icons icon-clear-search">Clear query</span></button> <input id=move-to-number placeholder="Search by No." ng-model=numberQuery class=search type=text autocomplete=off rv-delay-textbox="" delay=1000 function-to-fire=queryEntered ng-disabled=targetBillSelected></div><div class=entry><label for=move-to-name>Guest / Account Name</label> <button type=button class=clear-query ng-click=clearTextQuery() ng-class="{\'visible\':textQuery.length>0}"><span class="icons icon-clear-search">Clear query</span></button> <input id=move-to-name placeholder="Search by Name, Reservation Number" ng-model=textQuery class=search type=text autocomplete=off rv-delay-textbox="" delay=1000 function-to-fire=queryEntered ng-disabled=targetBillSelected></div></div><div class=holder ng-show=targetSelected><div class="entry margin"><label for=move-to-button>Account / Guest</label> <button type=button id=move-to-button class="button with-label white blue-text" ng-click=changeSelection()><span>{{selectedTarget.displayNumber}}</span> <strong>{{selectedTarget.displaytext}}</strong> Change</button></div><div class=entry><label for=move-to-bill>Bill</label><div class=select><select id=move-to-bill ng-options="bill.id as bill.bill_number for bill in selectedTarget.bills" ng-model=targetBillId></select></div></div></div><div class=account-search><div class=scrollable ng-iscroll=search_results ng-iscroll-delay=100 ng-hide=targetSelected||targetBillSelected><ul class="search-results wrapper"><li class=no-content ng-show="(textQuery.length<3 && numberQuery.length<3) && searchResults.length === 0"><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1>Find Account or Guest</strong> <span class=h2>Search by Account/Guest Name or Account/Room No.</span></div></li><li class=no-content ng-show="(textQuery.length >= 3 || numberQuery.length >=3) && searchResults.length === 0"><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1>No Matches</strong> <span class=h2>Check that you didn\'t mispell the Group <strong>Name</strong> or <strong>Code</strong>.</span></div></li><li class=group-account ng-show="searchResults.length !== 0" ng-repeat="item in searchResults" ngrepeatend="" ng-click=targetClicked(item.entity_id) click-touch=targetClicked(item.entity_id)><div class=room ng-show="item.type === \'RESERVATION\'"><strong ng-bind-html=escapeNull(item.room_no)|highlight:numberQuery:false></strong></div><div class="data guest" ng-show="item.type === \'RESERVATION\'"><h2 ng-bind-html=escapeNull(item.displaytext)|highlight:textQuery:false></h2></div><div class=reservation ng-show="item.type === \'RESERVATION\'"><span class=date ng-bind-html=escapeNull(item.arrival_date) ng-hide="item.status === \'CHECKEDIN\'"></span> <span class="guest-status {{getGuestStatusIcon(item.status,item.is_opted_late_checkout,item.is_pre_checkin)}}" ng-class="">{{item.status}}</span></div><div class=group-info ng-show="item.type === \'ACCOUNT\' || item.type === \'GROUP\'"><strong ng-bind-html=escapeNull(item.account_number)|highlight:numberQuery:false></strong> <span class=type ng-show="item.type === \'ACCOUNT\'">Account</span> <span class=type ng-show="item.type === \'GROUP\'">Group</span></div><div class=data ng-show="item.type === \'ACCOUNT\' || item.type === \'GROUP\'"><h2 ng-bind-html=escapeNull(item.account_name)|highlight:textQuery:false></h2></div></li></ul></div></div></div><div class=actions ng-show=showMoveButton()><button type=button class="button blank" ng-click=closeDialog()>Cancel</button> <button type=button class="button green" ng-click=moveCharges()>Move</button></div></form></div>'),t.put("/assets/partials/bill/rvPrintBillCard.html",'<div class="invoice-logo envelope"><img ng-src={{printData.hotel_logo}} alt=""><br><br><h1>{{printData.hotel_name}}</h1><span ng-bind-html=printData.hotel_address ng-if=printData.show_hotel_address></span><br ng-if=printData.hotel_tax_id><span ng-if="printData.hotel_tax_id && printData.show_hotel_address"><strong>{{printData.translation.tax_id}}:</strong> {{printData.hotel_tax_id}}</span><br ng-if=printData.hotel_company_registration_number><span ng-if="printData.hotel_company_registration_number && printData.show_hotel_address"><strong>{{printData.translation.company_reg_number}}:</strong> {{printData.hotel_company_registration_number}}</span> <span class=type ng-if=!printData.is_proforma_invoice>{{printData.invoiceLabel}}</span> <span class=type ng-if=printData.is_proforma_invoice>{{printData.translation.proforma_invoice}}</span> <span class=type ng-if="printData.invoice_qr_code_location === \'HEADER\' && (printData.is_deposit_invoice || !printData.is_informational_invoice) && printData.qr_code !== \'\' && printData.qr_code !== null"><br><img ng-src={{printData.qr_code}} alt="" class=qr-code></span> <span class=type ng-if="printData.invoice_qr_code_location === \'HEADER\' && !printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice && printData.efsta_fiskal_signature_data.qr_code"><br><img ng-src={{printData.efsta_fiskal_signature_data.qr_code}} alt="" class=qr-code></span> <span class=type ng-if="printData.invoice_qr_code_location === \'HEADER\' && !printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice && printData.is_internal_qr_code && printData.internal_qr_code !== \'\' && printData.internal_qr_code !== null"><br><img ng-src={{printData.internal_qr_code}} alt="" class=qr-code></span></div><div class=info-container ng-if=!printData.is_from_cards><div class=info-left><span ng-show="printData.show_works_at_field && printData.guest_details.works_at">{{printData.guest_details.works_at}}<br></span> <span ng-bind-html=printData.guest_details.address></span><br ng-if=printData.tax_number><strong ng-if=printData.tax_number>{{printData.translation.tax_number}}:</strong> {{printData.tax_number}}<br><div class=info-bottom ng-if=!printData.is_deposit_invoice><strong>{{printData.translation.invoice_date}}:</strong>{{printData.invoice_date | date:dateFormat}}<br><span ng-if=printData.should_print_invoice_number><strong><span ng-if=printData.invoice_number_label>{{printData.invoice_number_label}}:</span> <span ng-if=!printData.invoice_number_label>{{printData.translation.invoice_number}}:</span></strong>{{printData.invoice_number}}<br></span> <span ng-show="printData.should_print_ar_invoice_number && shouldShowArInvoiceNumber"><strong><span ng-if=printData.ar_invoice_number_label>{{printData.ar_invoice_number_label}}:</span> <span ng-if=!printData.ar_invoice_number_label>{{printData.translation.ar_invoice_number}}:</span>&nbsp;</strong>{{printData.ar_invoice_number}}<br></span> <span ng-if="!printData.is_informational_invoice && printData.folio_number && printData.is_print_folio_enabled && ((printData.is_print_ar_invoice_number_enabled && (!printData.is_db_payment_exists || !shouldShowArInvoiceNumber)) || !printData.is_print_ar_invoice_number_enabled)"><strong><span ng-if="!printData.folio_number_label && !printData.is_invoice_void_number_enabled">{{printData.translation.folio_number}}:</span> <span ng-if="printData.folio_number_label && !printData.is_invoice_void_number_enabled">{{printData.folio_number_label}}:</span> <span ng-if="printData.is_invoice_void_number_enabled && printData.void_number_label">{{printData.void_number_label}}:</span> <span ng-if="printData.is_invoice_void_number_enabled && !printData.void_number_label">{{printData.translation.void_number}}:</span></strong>{{printData.folio_number}}<br></span> <span ng-show="printData.has_enabled_invoice_number_sequence && printData.mod_invoice_number && !printData.is_informational_invoice"><strong>{{printData.mod_label}}:</strong>{{printData.mod_invoice_number}}<br></span> <span ng-show="printData.control_code !== \'\' && !printData.is_informational_invoice"><strong>{{printData.translation.control_code}}:</strong> {{printData.control_code | limitTo : 30}}<br></span> <span ng-show="printData.control_unit !== \'\' && !printData.is_informational_invoice"><strong>{{printData.translation.control_unit}}:</strong> {{printData.control_unit}}<br></span> <span ng-show="printData.register_id !== \'\' && isInfrasecActivated && isInfrasecActivatedForWorkstation"><strong>{{printData.translation.register_id}}:</strong> {{printData.register_id}}</span></div><div ng-if=printData.is_deposit_invoice><br ng-if=printData.invoice_date><strong>{{printData.translation.invoice_date}}:</strong>{{printData.invoice_date | date:dateFormat}}<br><span ng-if=printData.should_print_invoice_number><strong><span ng-if=printData.invoice_number_label>{{printData.invoice_number_label}}:</span> <span ng-if=!printData.invoice_number_label>{{printData.translation.invoice_number}}:</span></strong>{{printData.invoice_number}}<br></span> <span ng-show=printData.deposit_folio_number><strong><span ng-if=printData.folio_number_label>{{printData.folio_number_label}}:</span><span ng-if=!printData.folio_number_label>{{printData.translation.folio_number}}:</span></strong>{{printData.deposit_folio_number}}<br></span></div></div><div class=info-right><strong>{{printData.translation.arrival_date}}:</strong>{{printData.arrival_date | date:dateFormat}}<br><strong>{{printData.translation.departure_date}}:</strong>{{printData.departure_date | date:dateFormat}}<br><strong>{{printData.translation.room_number}}:</strong>{{printData.room_number}}<br><strong>{{printData.translation.confirmation_number}}:</strong>{{printData.confirmation_number}}<br><strong ng-if=printData.invoice_currency_code>{{printData.translation.invoice_currency}}:</strong>{{printData.invoice_currency_code}}<br><br></div></div><div class="info-container account-info" ng-if=printData.is_from_cards><div class=float><div class=info-left>{{printData.card_details.name}}<br ng-if=printData.card_details.name><span ng-bind-html=printData.card_details.address></span><br ng-if=printData.card_details.address><strong ng-if=printData.card_details.tax_number>{{printData.translation.tax_number}}:</strong> {{printData.card_details.tax_number}}<br></div><div class=info-right><strong>{{printData.translation.guest_name}}:</strong>{{printData.guest_details.first_name}} {{printData.guest_details.last_name}}<br><strong>{{printData.translation.arrival_date}}:</strong>{{printData.arrival_date | date:dateFormat}}<br><strong>{{printData.translation.departure_date}}:</strong>{{printData.departure_date | date:dateFormat}}<br><strong>{{printData.translation.room_number}}:</strong>{{printData.room_number}}<br><strong>{{printData.translation.confirmation_number}}:</strong>{{printData.confirmation_number}}<br><strong>{{printData.translation.number_of_guests}}:</strong>{{printData.no_of_guests}}<br><strong ng-if=printData.invoice_currency_code>{{printData.translation.invoice_currency}}:</strong>{{printData.invoice_currency_code}}<br><br></div></div><div class="info-bottom float"><div class=info-left><div ng-if=!printData.is_deposit_invoice><strong>{{printData.translation.invoice_date}}:</strong>{{printData.invoice_date | date:dateFormat}}<br><span ng-if=printData.should_print_invoice_number><strong><span ng-if=printData.invoice_number_label>{{printData.invoice_number_label}}:</span> <span ng-if=!printData.invoice_number_label>{{printData.translation.invoice_number}}:</span></strong>{{printData.invoice_number}}<br></span> <span ng-show="printData.should_print_ar_invoice_number && shouldShowArInvoiceNumber"><strong><span ng-if=printData.ar_invoice_number_label>{{printData.ar_invoice_number_label}}:</span> <span ng-if=!printData.ar_invoice_number_label>{{printData.translation.ar_invoice_number}}:</span>&nbsp;</strong>{{printData.ar_invoice_number}}<br></span> <span ng-if="!printData.is_informational_invoice && printData.folio_number && printData.is_print_folio_enabled && ((printData.is_print_ar_invoice_number_enabled && (!printData.is_db_payment_exists || !shouldShowArInvoiceNumber)) || !printData.is_print_ar_invoice_number_enabled)"><strong><span ng-if="!printData.folio_number_label && !printData.is_invoice_void_number_enabled">{{printData.translation.folio_number}}:</span> <span ng-if="printData.folio_number_label && !printData.is_invoice_void_number_enabled">{{printData.folio_number_label}}:</span> <span ng-if="printData.is_invoice_void_number_enabled && printData.void_number_label">{{printData.void_number_label}}:</span> <span ng-if="printData.is_invoice_void_number_enabled && !printData.void_number_label">{{printData.translation.void_number}}:</span></strong>{{printData.folio_number}}<br></span> <span ng-show="printData.has_enabled_invoice_number_sequence && printData.mod_invoice_number && !printData.is_informational_invoice"><strong>{{printData.mod_label}}:</strong>{{printData.mod_invoice_number}}<br></span> <span ng-show="printData.control_code !== \'\' && !printData.is_informational_invoice"><strong>{{printData.translation.control_code}}:</strong> {{printData.control_code | limitTo : 30}}<br></span> <span ng-show="printData.control_unit !== \'\' && !printData.is_informational_invoice"><strong>{{printData.translation.control_unit}}:</strong> {{printData.control_unit}}<br></span> <span ng-show="printData.register_id !== \'\' && isInfrasecActivated && isInfrasecActivatedForWorkstation"><strong>{{printData.translation.register_id}}:</strong> {{printData.register_id}}</span> <strong ng-if=printData.reference_number>{{printData.translation.reference_number}}:</strong>{{printData.reference_number}}<br ng-if=printData.reference_number><strong ng-if=printData.payment_due_in_days>{{printData.translation.payment_due_days}}:</strong>{{printData.payment_due_in_days}}<br></div><div ng-if=printData.is_deposit_invoice><span ng-show=printData.should_print_invoice_number><strong><span ng-if=printData.invoice_number_label>{{printData.invoice_number_label}}:</span> <span ng-if=!printData.invoice_number_label>{{printData.translation.invoice_number}}:</span></strong>{{printData.invoice_number}}<br></span> <span ng-show=printData.deposit_folio_number><strong><span ng-if=printData.folio_number_label>{{printData.folio_number_label}}:</span><span ng-if=!printData.folio_number_label>{{printData.translation.folio_number}}:</span></strong>{{printData.deposit_folio_number}}<br></span></div></div><div class=info-right><strong ng-if="printData.card_details.type ===\'COMPANY\' && printData.card_details.corporate_id">{{printData.translation.corp_id}}:</strong>{{printData.card_details.corporate_id}}<br ng-if="printData.card_details.type ===\'COMPANY\'"><strong ng-if="printData.card_details.type ===\'TRAVELAGENT\' && printData.card_details.iata_no">{{printData.translation.iata_number}}:</strong>{{printData.card_details.iata_no}}<br ng-if="printData.card_details.type ===\'TRAVELAGENT\'"><strong ng-if=printData.card_details.ar_number>{{printData.translation.ar_number}}:</strong>{{printData.card_details.ar_number}}</div></div></div><br><div class="invoice-header text-center" ng-bind-html=trustAsHtml(printData.custom_text_header)></div><div class=invoice-body><table class=invoice-details><thead style=display:table-row-group;><tr><th>{{printData.translation.date_of_charge}}</th><th>{{printData.translation.charge_description}}</th><th class=align-right>{{printData.translation.charge_amount}}</th><th class=align-right>{{printData.translation.credit_amount}}</th></tr></thead><tbody><tr ng-repeat="item in printData.charge_details_list"><td>{{item.date | date:dateFormat}}</td><td class=description><strong>{{item.item_description}}</strong> <span>{{item.description}}</span><div class="converted-currency smaller">{{item.rate_coversion_rate}}</div><span class="converted-currency smaller" ng-if="isMultiCurrencyEnabled && item.rate_converted_amount"><span ng-bind-html="item.rate_converted_amount | sntCurrency:this:item.rate_currency"></span></span> <span class=reference ng-show="item.reference_text != \'\'">{{item.reference_text}}</span></td><td ng-if=!item.isCredit class=align-right><span ng-bind-html="item.amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && item.invoice_currency_amount !== null"><span ng-bind-html="item.invoice_currency_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td ng-if=!item.isCredit class=align-right></td><td class=align-right ng-if=item.isCredit></td><td ng-if=item.isCredit class=align-right><span ng-bind-html="item.amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && item.invoice_currency_amount !== null"><span ng-bind-html="item.invoice_currency_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr class="totals first-total"><td></td><td></td><td><strong>{{printData.translation.total_charge}}</strong></td><td><strong><span ng-bind-html="printData.total_fees | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.invoice_currency_total_fees !== null"><span ng-bind-html="printData.invoice_currency_total_fees | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr class=totals><td></td><td></td><td><strong>{{printData.translation.total_credits}}<strong></strong></strong></td><td><strong><span ng-bind-html="printData.credits | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.invoice_currency_credits !== null"><span ng-bind-html="printData.invoice_currency_credits | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr class=totals><td></td><td></td><td><strong>{{printData.translation.net_amount}}</strong></td><td><strong><span ng-bind-html="printData.net_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.invoice_currency_net_amount !== null"><span ng-bind-html="printData.invoice_currency_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr class=totals><td></td><td></td><td><strong>{{printData.translation.balance}}</strong></td><td><strong><span ng-bind-html="printData.balance | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.invoice_currency_balance !== null"><span ng-bind-html="printData.invoice_currency_balance | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr class=totals ng-if=!printData.has_enabled_extended_tax_breakdown ng-repeat="item in printData.tax_details"><td></td><td></td><td>{{item.description}}</td><td><span ng-bind-html="item.amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.invoice_currency_net_amount !== null"><span ng-bind-html="item.invoice_currency_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tbody></table></div><div ng-if=!printData.is_deposit_invoice><strong ng-if=printData.has_enabled_extended_tax_breakdown>{{printData.translation.tax_breakdown}}</strong><table class="invoice-details extended-tax-table" ng-if=printData.has_enabled_extended_tax_breakdown><thead style=display:table-row-group;><tr><th class=text-align-left>{{printData.translation.tax_description}}</th><th>{{printData.translation.gross}}</th><th>{{printData.translation.net}}</th><th>{{printData.translation.tax}}</th></tr></thead><tbody><tr ng-repeat="item in printData.extended_tax_breakdown.details"><td class=text-align-left ng-if="item.description === \'Tax Exempt\'">{{ printData.translation.tax_exempt }}</td><td class=text-align-left ng-if="item.description !== \'Tax Exempt\'">{{ item.description }}</td><td><span ng-bind-html="item.gross_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && item.inv_gross_amount !== null"><span ng-bind-html="item.inv_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.net_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && item.inv_net_amount !== null"><span ng-bind-html="item.inv_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.tax_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && item.inv_tax_amount !== null"><span ng-bind-html="item.inv_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td class=text-align-left><strong>{{printData.translation.total}}</strong></td><td><strong><span ng-bind-html="printData.extended_tax_breakdown.total_gross_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.extended_tax_breakdown.inv_total_gross_amount !== null"><strong><span ng-bind-html="printData.extended_tax_breakdown.inv_total_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></strong></div></td><td><strong><span ng-bind-html="printData.extended_tax_breakdown.total_net_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.extended_tax_breakdown.inv_total_net_amount !== null"><strong><span ng-bind-html="printData.extended_tax_breakdown.inv_total_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></strong></div></td><td><strong><span ng-bind-html="printData.extended_tax_breakdown.total_tax_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.extended_tax_breakdown.inv_total_tax_amount !== null"><strong><span ng-bind-html="printData.extended_tax_breakdown.inv_total_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></strong></div></td></tr></tbody></table></div><br><br><strong ng-if="printData.tax_breakdown_for_deposit.details.length>0 && printData.deposit_folio_number">{{printData.translation.paid_deposit_breakdown}}</strong><br><span ng-if="printData.tax_breakdown_for_deposit.details.length>0 && printData.deposit_folio_number && !printData.is_deposit_invoice"><strong>{{printData.translation.deposit_folio_number}}:</strong>{{printData.deposit_folio_number}}<br></span><table class="invoice-details extended-tax-table" ng-if="printData.tax_breakdown_for_deposit.details.length>0 && printData.is_deposit_invoice"><thead style=display:table-row-group;><tr><th class=text-align-left>{{printData.translation.tax_description}}</th><th>{{printData.translation.gross}}</th><th>{{printData.translation.net}}</th><th>{{printData.translation.tax}}</th></tr></thead><tbody><tr ng-repeat="item in printData.tax_breakdown_for_deposit.details"><td class=text-align-left ng-if="item.description === \'Tax Exempt\'">{{ printData.translation.tax_exempt }}</td><td class=text-align-left ng-if="item.description !== \'Tax Exempt\'">{{ item.description }}</td><td><span ng-bind-html="item.gross_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && item.inv_gross_amount !== null"><span ng-bind-html="item.inv_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.net_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && item.inv_net_amount !== null"><span ng-bind-html="item.inv_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.tax_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && item.inv_tax_amount !== null"><span ng-bind-html="item.inv_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td class=text-align-left><strong>{{printData.translation.total}}</strong></td><td><strong><span ng-bind-html="printData.tax_breakdown_for_deposit.total_gross_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.tax_breakdown_for_deposit.inv_total_gross_amount !== null"><strong><span ng-bind-html="printData.tax_breakdown_for_deposit.inv_total_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></strong></div></td><td><strong><span ng-bind-html="printData.tax_breakdown_for_deposit.total_net_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.tax_breakdown_for_deposit.inv_total_net_amount !== null"><strong><span ng-bind-html="printData.tax_breakdown_for_deposit.inv_total_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></strong></div></td><td><strong><span ng-bind-html="printData.tax_breakdown_for_deposit.total_tax_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol!=\'\' && printData.tax_breakdown_for_deposit.inv_total_tax_amount !== null"><strong><span ng-bind-html="printData.tax_breakdown_for_deposit.inv_total_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></strong></div></td></tr></tbody></table><div class=info-container><div class=info-left ng-show="!printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice && !isEmpty(printData.efsta_fiskal_signature_data) && printData.efsta_fiskal_signature_data.qr_code !== \'\' && printData.efsta_fiskal_signature_data.qr_code !== null"><div><strong>{{printData.translation.tse_transaction_id}}:</strong>{{printData.efsta_fiskal_signature_data.t_id}}<br><strong>{{printData.translation.tse_transaction_start}}:</strong>{{printData.efsta_fiskal_signature_data.start_date | date:dateFormat}}<br><strong>{{printData.translation.tse_transaction_end}}:</strong>{{printData.efsta_fiskal_signature_data.end_date | date:dateFormat}}<br><strong>{{printData.translation.tse_serial_number}}:</strong>{{printData.efsta_fiskal_signature_data.serial_number}}<br><strong>{{printData.translation.tse_sign_counter}}:</strong>{{printData.efsta_fiskal_signature_data.sign_counter}}<br><strong>{{printData.translation.tse_signature}}:</strong>{{printData.efsta_fiskal_signature_data.signature}}<br></div></div><div class=info-right><div ng-show="printData.invoice_qr_code_location === \'FOOTER\' && !printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice"><span class=type ng-if=printData.efsta_fiskal_signature_data.qr_code><br><img ng-src={{printData.efsta_fiskal_signature_data.qr_code}} alt="" class=qr-code></span> <span class=type ng-if="printData.is_internal_qr_code && printData.internal_qr_code !== \'\' && printData.internal_qr_code !== null"><br><img ng-src={{printData.internal_qr_code}} alt="" class=qr-code></span></div><div ng-show="printData.invoice_qr_code_location === \'FOOTER\' && (printData.is_deposit_invoice || !printData.is_informational_invoice)"><span class=type ng-if=printData.qr_code><br><img ng-src={{printData.qr_code}} alt="" class=qr-code></span></div></div><div class=info-bottom></div></div><div ng-if=printData.is_from_cards class="invoice-footer text-center" ng-bind-html=trustAsHtml(printData.ar_invoice_billing_text)></div><div class="invoice-footer text-center" ng-bind-html=trustAsHtml(printData.custom_text_footer)></div>'),
t.put("/assets/partials/bill/rvPrintGroupProfoma.html",'<div class="invoice-logo envelope"><img ng-src={{printData.hotel_logo}} alt=""><h1>{{printData.hotel_name}}</h1><span ng-bind-html=printData.hotel_address ng-if=printData.show_hotel_address></span> <span ng-if=printData.show_hotel_address><br><strong ng-if=printData.hotel_tax_id>{{printData.translation.tax_id}}:&nbsp;</strong>{{printData.hotel_tax_id}}<br ng-if=printData.hotel_tax_id><strong ng-if=printData.hotel_company_registration_number>{{printData.translation.company_reg_number}}:&nbsp;</strong>{{printData.hotel_company_registration_number}}<br ng-if=printData.hotel_company_registration_number></span> <span class=type>{{printData.translation.proforma_invoice}}</span></div><div class="info-container account-info"><div class=float><div class=info-left><span ng-if="printData.card_type === \'COMPANY\'"><span>{{printData.company_card_details.name}}</span><br ng-if=printData.company_card_details.name><span ng-bind-html=printData.company_card_details.address></span><br ng-if=printData.company_card_details.address><strong ng-if=printData.company_card_details.tax_id>{{printData.translation.tax_number}}:&nbsp;</strong>{{printData.company_card_details.tax_id}}<br ng-if=printData.company_card_details.tax_id></span> <span ng-if="printData.card_type === \'TRAVELAGENT\'"><span>{{printData.ta_card_details.name}}</span><br ng-if=printData.ta_card_details.name><span ng-bind-html=printData.ta_card_details.address></span><br ng-if=printData.ta_card_details.address><strong ng-if=printData.ta_card_details.tax_id>{{printData.translation.tax_number}}:&nbsp;</strong>{{printData.ta_card_details.tax_id}}<br ng-if=printData.ta_card_details.tax_id></span></div></div><div class="info-bottom float"><div class=info-left><strong>{{printData.translation.group_start_date}}:</strong> {{printData.group_start_date | date:dateFormat}}<br><strong>{{printData.translation.group_end_date}}:</strong> {{printData.group_end_date | date:dateFormat}}<br><span ng-if=printData.po_number><strong>{{printData.translation.po_number}}:</strong> {{printData.po_number}}<br></span> <span ng-if=printData.payment_date><strong>{{printData.translation.payment_date}}:</strong> {{printData.payment_date | date:dateFormat}}<br></span> <span ng-if=printData.should_print_invoice_number><strong><span ng-if=printData.invoice_number_label>{{printData.invoice_number_label}}:</span> <span ng-if=!printData.invoice_number_label>{{printData.translation.invoice_number}}:</span></strong>{{printData.invoice_number}}<br></span></div><div class=info-right ng-if="printData.card_type === \'COMPANY\'"><strong>{{printData.translation.account_name}}:&nbsp;</strong>{{printData.account_name}}<br></div><div class=info-right ng-if="printData.card_type === \'TRAVELAGENT\'"><strong>{{printData.translation.account_name}}:&nbsp;</strong>{{printData.account_name}}<br></div></div></div><div class=invoice-header>{{printData.custom_text_header}}</div><div class=invoice-body><table class="invoice-details proforma-details"><thead><tr><th class=date>{{printData.translation.date | date:dateFormat}}</th><th class=type>{{printData.translation.type}}</th><th class=occ>{{printData.translation.occupancy}}</th><th class="align-right amount">{{printData.translation.item_price}}</th><th class="align-right qty">{{printData.translation.quantity}}</th><th class="align-right amount">{{printData.translation.debit}}</th><th class="align-right amount">{{printData.translation.credit}}</th><th class="align-right amount">{{printData.translation.total}}</th></tr></thead><tfoot><tr><td colspan=7><strong>{{printData.translation.total_charge}}</strong></td><td><strong><span ng-bind-html="printData.proforma_bill_transactions.total_charge | sntCurrency:this"></span></strong><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.proforma_bill_transactions.invoice_currency_total_charge !== null" ng-bind-html="printData.proforma_bill_transactions.invoice_currency_total_charge | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td colspan=7><strong>{{printData.translation.total_credits}}</strong></td><td><strong><span ng-bind-html="printData.proforma_bill_transactions.total_credit | sntCurrency:this"></span></strong><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.proforma_bill_transactions.invoice_currency_total_credit !== null" ng-bind-html="printData.proforma_bill_transactions.invoice_currency_total_credit | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td colspan=7><strong>{{printData.translation.balance}}</strong></td><td><strong><span ng-bind-html="printData.proforma_bill_transactions.balance | sntCurrency:this"></span></strong><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.proforma_bill_transactions.invoice_currency_balance !== null" ng-bind-html="printData.proforma_bill_transactions.invoice_currency_balance | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td colspan=7>{{printData.translation.net_amount}}</td><td><span ng-bind-html="printData.proforma_bill_transactions.net_amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.proforma_bill_transactions.invoice_currency_net_amount !== null" ng-bind-html="printData.proforma_bill_transactions.invoice_currency_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr ng-if=!printData.has_enabled_extended_tax_breakdown ng-repeat="tax in printData.bill_transactions_info.tax_info"><td colspan=7>{{tax.tax_charge_code_desc}}</td><td><span ng-bind-html="tax.amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && tax.invoice_currency_amount !== null" ng-bind-html="tax.invoice_currency_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td colspan=7>{{printData.translation.total_incl_tax }}</td><td><span ng-bind-html="printData.proforma_bill_transactions.total_incl_tax | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.proforma_bill_transactions.invoice_currency_total_incl_tax !== null" ng-bind-html="printData.proforma_bill_transactions.invoice_currency_total_incl_tax | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tfoot><tbody><tr class=first ng-repeat-start="item in printData.proforma_bill_transactions.transaction_details" ng-class="{\'last\' : printData.proforma_bill_transactions.transaction_details[$index].occupancy_details.length === 1}"><td class=date>{{item.date | date:dateFormat}}</td><td class=type>{{item.occupancy_details[0].type}}</td><td class=occ>{{item.occupancy_details[0].occupancy}}</td><td class="align-right amount"><span ng-if=item.occupancy_details[0].item_price ng-bind-html="item.occupancy_details[0].item_price | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.occupancy_details[0].invoice_currency_item_price !== null" ng-bind-html="item.occupancy_details[0].invoice_currency_item_price | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td class="align-right qty">{{item.occupancy_details[0].quantity}}</td><td class="align-right amount"><span ng-if=item.occupancy_details[0].debit ng-bind-html="item.occupancy_details[0].debit | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.occupancy_details[0].invoice_currency_debit !== null" ng-bind-html="item.occupancy_details[0].invoice_currency_debit | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td class="align-right amount"><span ng-if=item.occupancy_details[0].credit ng-bind-html="item.occupancy_details[0].credit | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.occupancy_details[0].invoice_currency_credit !== null" ng-bind-html="item.occupancy_details[0].invoice_currency_credit | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td class="align-right amount" valign=bottom ng-if="printData.proforma_bill_transactions.transaction_details[$index].occupancy_details.length === 1"><span ng-if=item.total_amount ng-bind-html="item.total_amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.invoice_currency_total_amount !== null" ng-bind-html="item.invoice_currency_total_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr ng-repeat-end="" ng-repeat="occupancyData in item.occupancy_details" ng-if="$index >= 1" ng-class="{\'last\' : $last}"><td></td><td class=type>{{occupancyData.type}}</td><td class=occ>{{occupancyData.occupancy}}</td><td class="align-right amount"><span ng-if=occupancyData.item_price ng-bind-html="occupancyData.item_price | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && occupancyData.invoice_currency_item_price !== null" ng-bind-html="occupancyData.invoice_currency_item_price | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td class="align-right qty">{{occupancyData.quantity}}</td><td class="align-right amount"><span ng-if=occupancyData.debit ng-bind-html="occupancyData.debit | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && occupancyData.invoice_currency_debit !== null" ng-bind-html="occupancyData.invoice_currency_debit | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td class="align-right amount"><span ng-if=occupancyData.credit ng-bind-html="occupancyData.credit | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && occupancyData.invoice_currency_credit !== null" ng-bind-html="occupancyData.invoice_currency_credit | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td class="align-right amount" valign=bottom rowspan={rowspan} ng-if=$last><span ng-if=item.total_amount ng-bind-html="item.total_amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.invoice_currency_total_amount !== null" ng-bind-html="item.invoice_currency_total_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tbody></table></div><table class="invoice-details extended-tax-table" ng-if=printData.has_enabled_extended_tax_breakdown><thead><tr><th class=text-align-left>{{printData.translation.tax_description}}</th><th>{{printData.translation.gross}}</th><th>{{printData.translation.net}}</th><th>{{printData.translation.tax}}</th></tr></thead><tbody><tr ng-repeat="item in printData.extended_tax_breakdown.details"><td class=text-align-left ng-if="item.description === \'Tax Exempt\'">{{ printData.translation.tax_exempt }}</td><td class=text-align-left ng-if="item.description !== \'Tax Exempt\'">{{ item.description }}</td><td><span ng-bind-html="item.gross_amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.inv_gross_amount !== null" ng-bind-html="item.inv_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.net_amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.inv_net_amount !== null" ng-bind-html="item.inv_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.tax_amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.inv_tax_amount !== null" ng-bind-html="item.inv_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tbody><tfoot><tr><td class=text-align-left>{{printData.translation.total}}</td><td><span ng-bind-html="printData.extended_tax_breakdown.total_gross_amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.extended_tax_breakdown.inv_total_gross_amount !== null" ng-bind-html="printData.extended_tax_breakdown.inv_total_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="printData.extended_tax_breakdown.total_net_amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.extended_tax_breakdown.inv_total_net_amount !== null" ng-bind-html="printData.extended_tax_breakdown.inv_total_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="printData.extended_tax_breakdown.total_tax_amount | sntCurrency:this"></span><div class=converted-currency><span ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.extended_tax_breakdown.inv_total_tax_amount !== null" ng-bind-html="printData.extended_tax_breakdown.inv_total_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tfoot></table><div class="invoice-footer text-center" ng-bind-html=trustAsHtml(printData.custom_text_footer)></div>'),t.put("/assets/partials/bill/rvPrintReceipt.html",'<div class="invoice-logo envelope"><img src={{receiptPrintData.hotel_logo}} alt=""><br><br><h1>{{receiptPrintData.hotel_name}}</h1><span ng-bind-html=receiptPrintData.hotel_address></span><br><span ng-if="receiptPrintData.receipt_type === \'tax_payment_receipt\' && receiptPrintData.hotel_tax_id"><strong>{{receiptPrintData.receipt_translations.tax_id}}:</strong> {{receiptPrintData.hotel_tax_id}}</span> <span class=type>{{receiptPrintData.receiptHeading}} <span class=label ng-if="receiptPrintData.receipt_type === \'tax_payment_receipt\' && receiptPrintData.tax_receipt_type !== \'\' && receiptPrintData.tax_receipt_type !== null">{{receiptPrintData.tax_receipt_type}}</span></span><span class=type ng-if="receiptPrintData.qr_code !== \'\' && receiptPrintData.qr_code !== null"><br><img src={{receiptPrintData.qr_code}} alt="" class=qr-code></span></div><br><div class="info-container account-info"><div ng-class="{\'info-left\': isFromBillCard}"><span ng-if=isFromBillCard><span ng-if="!receiptPrintData.is_direct_bill_payment && !receiptPrintData.card_details.address">{{receiptPrintData.guest_details.first_name}} {{receiptPrintData.guest_details.last_name}}<br><span class=type ng-bind-html=receiptPrintData.guest_details.address ng-if=receiptPrintData.guest_details.address></span><br ng-if=receiptPrintData.guest_details.address>{{receiptPrintData.guest_details.city}}<span ng-if="receiptPrintData.guest_details.city !== \'\' && receiptPrintData.guest_details.city!== null">,</span> {{receiptPrintData.guest_details.state}}<span ng-if="receiptPrintData.guest_details.state !== \'\' && receiptPrintData.guest_details.state!== null">,</span> {{receiptPrintData.guest_details.postal_code}}<br ng-if="receiptPrintData.guest_details.city || receiptPrintData.guest_details.state || receiptPrintData.guest_details.postal_code">{{receiptPrintData.guest_details.country_name}}<br></span> <span ng-if=!receiptPrintData.is_direct_bill_payment>{{receiptPrintData.card_details.name}}<br></span> <span ng-bind-html=receiptPrintData.card_details.address ng-if=receiptPrintData.card_details.address></span><br ng-if=receiptPrintData.card_details.address><span ng-if="receiptPrintData.receipt_type === \'tax_payment_receipt\' && receiptPrintData.card_details.tax_number"><strong>{{receiptPrintData.receipt_translations.tax_number}}:</strong> {{receiptPrintData.card_details.tax_number}}</span> <span ng-if="receiptPrintData.receipt_type === \'tax_payment_receipt\' && !receiptPrintData.card_details.tax_number && receiptPrintData.guest_details.tax_number"><strong>{{receiptPrintData.receipt_translations.tax_number}}:</strong> {{receiptPrintData.guest_details.tax_number}}</span></span> <span ng-if=!isFromBillCard><strong>{{receiptPrintData.receipt_translations.account_name}}:</strong> {{receiptPrintData.account_name}}<br><strong>{{receiptPrintData.receipt_translations.account_number}}:</strong> {{receiptPrintData.account_number}}<br></span><div class=info-bottom><strong>{{receiptPrintData.receipt_translations.payment_receipt_number}}:</strong> {{receiptPrintData.receipt_no}}<br><span ng-if="receiptPrintData.receipt_type === \'tax_payment_receipt\' && receiptPrintData.invoice_number !== \'\' && receiptPrintData.invoice_number !== null"><strong>{{receiptPrintData.receipt_translations.invoice_number}}:</strong> {{receiptPrintData.invoice_number}}</span><br><span ng-if="receiptPrintData.receipt_type === \'tax_payment_receipt\' && receiptPrintData.reference_payment_receipt_info"><strong>{{receiptPrintData.receipt_translations.refer_to_tax_payment_receipt}}:</strong> <span style=white-space:nowrap;>{{receiptPrintData.reference_payment_receipt_info}}</span></span></div></div><div class=info-right ng-if=isFromBillCard><strong>{{receiptPrintData.receipt_translations.arrival_date}}:</strong> {{receiptPrintData.arrival_date}}<br><strong>{{receiptPrintData.receipt_translations.departure_date}}:</strong> {{receiptPrintData.departure_date}}<br><strong>{{receiptPrintData.receipt_translations.room_number}}:</strong> {{receiptPrintData.room_no}}<br><strong>{{receiptPrintData.receipt_translations.confirmation_number}}:</strong> {{receiptPrintData.confirmation_number}}<br></div></div><div class=invoice-body><table class=invoice-details><thead><tr><th>{{receiptPrintData.receipt_translations.date_of_payment}}</th><th>{{receiptPrintData.receipt_translations.payment_type}}</th><th class="align-right receipt-amount">{{receiptPrintData.receipt_translations.amount}}</th></tr></thead><tfoot><tr><td colspan=2><strong>{{receiptPrintData.receipt_translations.total_amount}}</strong></td><td><strong><span ng-bind-html="receiptPrintData.payments.total_amount | sntCurrency:this:receiptPrintData.currency_symbol"></span></strong><div class=converted-currency ng-if="receiptPrintData.payments.total_converted_amount !== \'\' && receiptPrintData.payments.total_converted_amount !== null && invoiceCurrencySymbol !=\'\'"><span ng-bind-html="receiptPrintData.payments.total_converted_amount| sntCurrency:this:receiptPrintData.converted_currency_symbol"></span></div></td></tr></tfoot><tbody><tr><td>{{receiptPrintData.payments.date_of_payment}}</td><td class=description>{{receiptPrintData.payments.payment_type}}<span class=reference ng-if="receiptPrintData.payments.credit_card_details.card_number !== null && receiptPrintData.payments.credit_card_details.card_number !== \'\'">{{receiptPrintData.payments.credit_card_details.description}} - Ending: {{receiptPrintData.payments.credit_card_details.card_number}}</span></td><td class="align-right receipt-amount"><span ng-bind-html="receiptPrintData.payments.amount | sntCurrency:this:receiptPrintData.currency_symbol"></span><div class=converted-currency ng-if="receiptPrintData.payments.converted_amount !== \'\' && receiptPrintData.payments.converted_amount !== null && invoiceCurrencySymbol !==\'\'"><span ng-bind-html="receiptPrintData.payments.converted_amount | sntCurrency:this:receiptPrintData.converted_currency_symbol"></span></div></td></tr></tbody></table><table class="invoice-details tax-breakdown" ng-if=receiptPrintData.show_extended_tax><thead><tr><th class=tax-description>{{receiptPrintData.receipt_translations.tax_description}}</th><th>{{receiptPrintData.receipt_translations.gross}}</th><th>{{receiptPrintData.receipt_translations.net}}</th><th>{{receiptPrintData.receipt_translations.tax}}</th></tr></thead><tbody><tr ng-repeat="tax_breakdown in receiptPrintData.payments.extended_tax_breakdown.details"><td ng-if="tax_breakdown.section_value === \'vat\'">{{receiptPrintData.receipt_translations.vat}} {{receiptPrintData.tax_percent}} %</td><td ng-if="tax_breakdown.section_value === \'tax_exempt\'">{{receiptPrintData.receipt_translations.tax_exempt}}</td><td><span ng-bind-html="tax_breakdown.gross_amount | sntCurrency:this"></span> {{currencySymbol}}{{tax_breakdown.gross_amount | number: precisonTwo }}<div class=converted-currency><span ng-bind-html="tax_breakdown.inv_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="tax_breakdown.net_amount | sntCurrency:this"></span><div class=converted-currency><span ng-bind-html="tax_breakdown.inv_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="tax_breakdown.tax_amount | sntCurrency:this"></span><div class=converted-currency><span ng-bind-html="tax_breakdown.inv_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tbody><tfoot><tr><td>Total</td><td><span ng-bind-html="receiptPrintData.payments.extended_tax_breakdown.total_gross_amount | sntCurrency:this"></span><div class=converted-currency><span ng-bind-html="receiptPrintData.payments.extended_tax_breakdown.inv_total_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="receiptPrintData.payments.extended_tax_breakdown.total_net_amount | sntCurrency:this"></span><div class=converted-currency><span ng-bind-html="receiptPrintData.payments.extended_tax_breakdown.inv_total_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="receiptPrintData.payments.extended_tax_breakdown.total_tax_amount | sntCurrency:this"></span><div class=converted-currency><span ng-bind-html="receiptPrintData.payments.extended_tax_breakdown.inv_total_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tfoot></table></div><div class="invoice-footer text-center">{{receiptPrintData.footer}}</div>'),t.put("/assets/partials/bill/rvRegistrationCard.html","<table class=hotel-guest-info><tbody><tr><td class=hotel-info><img ng-src=\"{{ printRegCardData.hotel_logo }}\" alt=\"\"><p>{{ printRegCardData.hotel_name }}<br>{{ printRegCardData.street }}<br>{{ printRegCardData.city }}, {{ printRegCardData.state }} {{printRegCardData.zipcode}}<br><br>Ph: {{ printRegCardData.phone }}</p></td><td class=guest-info><table class=name-addr><tr><td><span>{{ printRegCardData.translation.registered_to }}:</span> <strong>{{ printRegCardData.guest_details.first_name }} {{ printRegCardData.guest_details.last_name }}</strong> <strong><label ng-if=\"printRegCardData.guest_details.street || printRegCardData.guest_details.city\">{{ printRegCardData.guest_details.street }} {{ printRegCardData.guest_details.city }},</label> <label>{{ printRegCardData.guest_details.state }} {{ printRegCardData.guest_details.postal_code }}</label></strong></td><td ng-hide=!isStandAlone><span>{{ printRegCardData.translation.bill_to }}:</span> <strong>{{ printRegCardData.bill_to.name }}</strong> <strong ng-if=\"printRegCardData.bill_to.street1 || printRegCardData.bill_to.street2\">{{ printRegCardData.bill_to.street1 }} {{ printRegCardData.bill_to.street2 }}</strong> <strong><label ng-if=printRegCardData.bill_to.city>{{ printRegCardData.bill_to.city }},</label> <label ng-if=printRegCardData.bill_to.state>{{ printRegCardData.bill_to.state }}</label> <label>{{ printRegCardData.bill_to.postal_code }}</label></strong></td></tr></table><table><tr><td><span>{{ printRegCardData.translation.arrival_date }}:</span> <strong>{{ printRegCardData.arrival_date | date : dateFormat }}</strong></td><td><span>{{ printRegCardData.translation.departure_date }}:</span> <strong>{{ printRegCardData.dep_date | date : dateFormat }}</strong></td><td><span>{{ printRegCardData.translation.confirmation_number }}:</span> <strong>{{ printRegCardData.confirm_no }}</strong></td></tr><tr><td><span>{{ printRegCardData.translation.arrival_time }}:</span> <strong>{{ printRegCardData.arrival_time }}</strong> <span>&nbsp;</span></td><td><span>{{ printRegCardData.translation.departure_time }}:</span> <strong>{{ printRegCardData.departure_time }}</strong> <span>&nbsp;</span></td><td><span>{{ printRegCardData.translation.room_number }}:</span> <strong>{{ printRegCardData.room_number}}</strong> <span>&nbsp;</span></td></tr><tr ng-hide=!isStandAlone><td><span ng-hide=printRegCardData.hide_rates>{{ printRegCardData.translation.amount_paid }}:</span> <strong ng-hide=printRegCardData.hide_rates><span ng-bind-html=\"printRegCardData.amount_paid | sntCurrency:this\"></span></strong></td><td><span>{{ printRegCardData.translation.payment }}:</span> <strong>{{ printRegCardData.payment_type }}</strong></td><td><span>{{ printRegCardData.translation.account }}:</span> <strong>{{ printRegCardData.account }}</strong></td></tr></table><table ng-hide=!isStandAlone class=rate-initial><tr><td ng-hide=printRegCardData.hide_rates><span>{{ printRegCardData.translation.average_daily_rate }}:</span> <strong><span ng-bind-html=\"printRegCardData.adr | sntCurrency:this\"></span></strong></td><td><span>{{ printRegCardData.translation.guest_initials }}:</span></td></tr></table></td></tr></tbody></table><table ng-hide=!isStandAlone class=bill-details ng-if=\"printRegCardData.daily_instances_info.length > 0\"><thead><tr><th>{{ printRegCardData.translation.date }}</th><th ng-hide=printRegCardData.hide_rates>{{ printRegCardData.translation.rate }}</th><th ng-hide=printRegCardData.hide_rates>{{ printRegCardData.translation[\"taxes_fees\"] }}</th><th>{{ printRegCardData.translation.add_on }}</th><th ng-hide=printRegCardData.hide_rates class=addon-price>{{ printRegCardData.translation.add_on_price }}</th></tr></thead><tbody><tr ng-repeat=\"each in printRegCardData.daily_instances_info\"><td>{{ each.date | date : dateFormat }}</td><td ng-hide=printRegCardData.hide_rates><span ng-if=printRegCardData.is_reservation_rate_suppressed>SR</span> <span ng-if=!printRegCardData.is_reservation_rate_suppressed><span ng-bind-html=\"each.rate | sntCurrency:this\"></span></span></td><td ng-hide=printRegCardData.hide_rates><span ng-if=printRegCardData.is_reservation_rate_suppressed>SR</span> <span ng-if=!printRegCardData.is_reservation_rate_suppressed><span ng-bind-html=\"each.tax | sntCurrency:this\"></span></span></td><td class=addons colspan=2><table><tr ng-repeat=\"item in each.addons\"><td>{{ item.name }}</td><td ng-hide=printRegCardData.hide_rates ng-if=\"item.price == 'INCLUDED'\">{{ item.price }}</td><td ng-hide=printRegCardData.hide_rates ng-if=\"item.price != 'INCLUDED'\"><span ng-bind-html=\"item.price | sntCurrency:this\"></span></td></tr></table></td></tr></tbody></table><table class=guest-data-enter ng-if=printRegCardData.is_show_vehiche_info><tr><td>{{ printRegCardData.translation[\"guest_dl_id_no\"] }}</td><td class=details><table><tr><td>{{ printRegCardData.translation['vehicle_make'] }}</td><td>{{ printRegCardData.translation['lic_plate_no'] }}</td><td>{{ printRegCardData.translation['lic_plate_state_prov'] }}</td></tr></table></td></tr></table><table class=\"guest-data-enter fixed\" ng-if=printRegCardData.reg_card_show_contact_info><tbody><tr><td colspan=3><strong>{{ printRegCardData.translation['address'] }}</strong><br>{{printRegCardData.guest_details['street']}}<br>{{printRegCardData.guest_details['street2']}}</td></tr><tr><td><strong>{{ printRegCardData.translation['city'] }}</strong><br><span>{{printRegCardData.guest_details['city']}}</span></td><td><strong>{{ printRegCardData.translation['state'] }}/{{ printRegCardData.translation['postal_code'] }}</strong><br>{{printRegCardData.guest_details['state']}}<span ng-if=\"printRegCardData.guest_details['postal_code'] && printRegCardData.guest_details['state'] && printRegCardData.guest_details['postal_code']!=='' && printRegCardData.guest_details['state']!=='' && printRegCardData.guest_details['postal_code']!==null && printRegCardData.guest_details['state']!==null\">/</span>{{printRegCardData.guest_details['postal_code']}}</td><td><strong>{{ printRegCardData.translation['country'] }}</strong><br>{{printRegCardData.guest_details['country_name']}}</td></tr></tbody></table><table class=\"guest-data-enter fixed\" ng-if=printRegCardData.reg_card_show_contact_info><tbody><tr><td><strong>{{ printRegCardData.translation['phone'] }}</strong><br>{{printRegCardData.guest_details['phone']}}</td><td><strong>{{ printRegCardData.translation['mobile'] }}</strong><br>{{printRegCardData.guest_details['mobile']}}</td><td><strong>{{ printRegCardData.translation['email'] }}</strong><br>{{printRegCardData.guest_details['email']}}</td></tr></tbody></table><table class=\"guest-data-enter fixed\" ng-if=printRegCardData.reg_card_show_contact_info><tbody><tr><td><strong>{{ printRegCardData.translation['id_type'] }}</strong><br>{{printRegCardData.guest_details['id_type']}}</td><td><strong>{{ printRegCardData.translation['id_number'] }}</strong><br>{{printRegCardData.guest_details['id_number']}}</td></tr></tbody></table><table class=\"guest-data-enter fixed\" ng-if=printRegCardData.reg_card_show_contact_info><tbody><tr><td><strong>{{ printRegCardData.translation['birthday'] }}</strong><br>{{printRegCardData.guest_details['birthday']}}</td><td><strong>{{ printRegCardData.translation['nationality'] }}</strong><br>{{printRegCardData.guest_details['nationality_name']}}</td><td><strong>{{ printRegCardData.translation['job_title'] }}</strong><br>{{printRegCardData.guest_details['job_title']}}</td></tr></tbody></table><table class=terms-signature><tr><td ng-if=printRegistrationCardActive colspan=2 class=terms data-ng-bind-html=trustAsHtml(printRegCardData.terms_conditions)></td></tr><tr><td ng-if=\"reservationBillData.signature_details.is_signed === 'true'\" style=\"text-align: left;\"><img ng-src={{printRegCardData.signature_url}} width=50%></td><td ng-if=\"reservationBillData.signature_details.is_signed !== 'true'\" style=\"text-align: left;\"><img ng-src={{printRegCardData.signature_url}} width=50%></td></tr><tr><td><span class=signature1>{{ printRegCardData.translation.guest_signature }}</span></td></tr></table>"),t.put("/assets/partials/bill/rvRegistrationCardArabic.html",'<table class=fixed><tr><td><strong>Guest Registration Card</strong></td><td class=align-right><strong>بطاقة تسجيل ضيف</strong></td></tr></table><table class="guest-data-enter fixed"><tr><td class=inner-table><table class="guest-data-enter fixed"><tbody><tr class=details><td><span class=pull-left>Name</span> <span class="pull-right align-right">اسم</span> <strong class=value>{{printRegCardData.guest_details.first_name}} {{printRegCardData.guest_details.last_name}}</strong></td><td><span class=pull-left>Arrival Date</span> <span class="pull-right align-right">تاريخ الوصول</span> <strong class=value>{{printRegCardData.arrival_date | date : dateFormat}}</strong></td></tr><tr class=details><td><span class=pull-left>Permanent Home Address</span> <span class="pull-right align-right">عنوان الاقامة الدائم</span> <strong class=value ng-bind-html=printRegCardData.guest_details.address></strong></td><td><span class=pull-left>Departure Date</span> <span class="pull-right align-right">تاريخ المغادرة</span> <strong class=value>{{printRegCardData.dep_date | date : dateFormat}}</strong></td></tr><tr class=details><td><span class=pull-left>Country</span> <span class="pull-right align-right">بلد</span> <strong class=value>{{printRegCardData.guest_details.country_name}}</strong></td><td><span class=pull-left>Rate</span> <span class="pull-right align-right">معدل</span> <strong class=value>{{printRegCardData.rate_name}}</strong></td></tr><tr class=details><td><span class=pull-left>City</span> <span class="pull-right align-right">مدينة</span> <strong class=value>{{printRegCardData.guest_details.city}}</strong></td><td><span class=pull-left>Room No.</span> <span class="pull-right align-right">رقم الشقة</span> <strong class=value>{{printRegCardData.room_number}}</strong></td></tr><tr class=details><td><span class=pull-left>Nationality</span> <span class="pull-right align-right">جنسية</span> <strong class=value>{{printRegCardData.guest_details.nationality_name}}</strong></td><td><span class=pull-left>No. of Rooms</span> <span class="pull-right align-right">عدد من الشقق.</span> <strong class=value>{{printRegCardData.no_of_rooms}}</strong></td></tr><tr class=details><td><span class=pull-left>Passport No.</span> <span class="pull-right align-right">جنسية</span> <strong class=value>{{printRegCardData.guest_details.passport_number}}</strong></td><td><span class=pull-left>No. of People</span> <span class="pull-right align-right">عدد الناس</span> <strong class=value>{{printRegCardData.no_of_guests}}</strong></td></tr><tr class=details><td><span class=pull-left>Exp. Date</span> <span class="pull-right align-right">إكسب. تاريخ</span> <strong class=value>{{printRegCardData.guest_details.id_expiration_date | date : dateFormat}}</strong></td><td><span class=pull-left>Company Name</span> <span class="pull-right align-right">اسم الشركة</span> <strong class=value>{{printRegCardData.company_name}}</strong></td></tr><tr class=details><td><span class=pull-left>Telephone No.</span> <span class="pull-right align-right">الهاتف لا.</span> <strong class=value>{{printRegCardData.guest_details.phone}}</strong></td><td><span class=pull-left>Email</span> <span class="pull-right align-right">البريد الإلكتروني</span> <strong class=value>{{printRegCardData.guest_details.email}}</strong></td></tr><tr class=details><td colspan=2><span class=pull-left>Purpose of Stay</span> <span class="pull-right align-right">زيارة الغرض</span></td></tr></tbody></table></td></tr></table><table class="guest-data-enter fixed"><tr><td><span class=pull-left>Payment Method</span> <span class="pull-right align-right">اسم</span> <strong class=value>{{printRegCardData.payment_type}}</strong></td><td><span class=pull-left>Amount (Dhs)</span> <span class="pull-right align-right">اسم</span> <strong class=value>{{printRegCardData.amount_paid}}</strong></td></tr></table><div class="registration-card-text-columns columns-2"><div class=column><ul ng-bind-html=printRegCardData.terms_conditions></ul></div><div class="column align-right"><ul ng-bind-html=printRegCardData.arabic_terms_conditions></ul></div></div><table class="guest-data-enter fixed"><tr><td><span class=pull-left>Checked in by</span> <span class="pull-right align-right">تم الفحص بواسطة</span> <strong class=value>{{printRegCardData.checked_in_by}}</strong></td><td><span class=pull-left>Checked by</span> <span class="pull-right align-right">فحص بواسطة</span></td></tr><tr><td colspan=2><span class=pull-left>Guest Signature</span> <span class="pull-right align-right">توقيع الضيف</span> <strong class=value ng-if=printRegCardData.signature_url><img ng-src={{printRegCardData.signature_url}} width=50%></strong></td></tr></table>'),
t.put("/assets/partials/bill/rvRegistrationCardAustria.html",'<table class="guest-data-enter fixed customized border-top"><tr><td class="headline centered short" style="max-width: 170pt; width: 30%;">GÄSTEBLATT</td><td class=short>Lfd.-Nr:<br><strong>{{ printRegCardData.reg_card_number }}</strong></td><td class="centered short" style="max-width: 150pt; width: 30%;"><strong>{{ printRegCardData.hotel_name }}</strong></td></tr></table><table class="guest-data-enter fixed customized"><tr><td>Famlienname/Last Name<br><strong>{{ printRegCardData.guest_details.last_name }}</strong></td><td style="max-width: 150pt; width: 30%;">Geschlecht/Gender<br><strong>{{ printRegCardData.guest_details.gender.value }}</strong></td></tr></table><table class="guest-data-enter fixed customized"><tr><td>Vorname/First Name<br><strong>{{ printRegCardData.guest_details.first_name }}</strong></td><td style="width: 150pt;">Geburtsdatum/Date of birth<br><strong>{{ printRegCardData.guest_details.birthday | date : dateFormat}}</strong></td><td style="max-width: 150pt; width: 30%;">Beruf/Profession<br><strong>{{ printRegCardData.guest_details.profession }}</strong></td></tr><tr><td colspan=2>Reisedokument & Nummer (Art, z. B. Reisepass/ Personalausweis, Nummer, Ausstellungsdatum, ausstellende Behorde, Staat)Identification Type & Number (Doc type, doc number, doc date of issue, doc place of issue, doc country of issue)<br><strong>{{printRegCardData.documentDetails}}</strong></td><td>Staatsangehörigkeit/Nationality<br><strong>{{printRegCardData.guest_details[\'nationality_name\']}}</strong></td></tr></table><table class="guest-data-enter customized border-bottom"><tbody><tr><td rowspan=2 class=centered style="width: 80pt;"><strong>Hauptwohnsitz</strong> Main Address<br></td><td colspan=3>Strasse/Street<br><strong>{{ printRegCardData.guest_details.street }}</strong></td></tr><tr><td colspan=3 class="inner-table border-left-width"><table class="guest-data-enter customized"><tbody><tr class=details><td style=width:100pt;>Plz/Postal Code<br><strong>{{ printRegCardData.guest_details.postal_code }}</strong></td><td style=width:200pt;>Stadt/City<br><strong>{{ printRegCardData.guest_details.city }}</strong></td><td style=width:150pt;>Bundesland/Province<br><strong>{{ printRegCardData.guest_details.province }}</strong></td><td>Land/Country<br><strong>{{printRegCardData.guest_details[\'country_name\']}}</strong></td></tr></tbody></table></td></tr><tr><td class=centered style="width: 80pt;"><strong>Ehegatte oder eingetr. Partner</strong> Spouse or partner</td><td colspan=4>Vorname, Geburtsjahr/First name, date of birth<br><strong ng-if="printRegCardData.guest_details.accompanying_guest_dob && printRegCardData.guest_details.accompanying_guest_dob !== \'\' && printRegCardData.guest_details.accompanying_guest_dob !== null">{{printRegCardData.guest_details.accompanying_guest_first_name}}, {{printRegCardData.guest_details.accompanying_guest_dob | date : dateFormat}}</strong> <strong ng-if="!(printRegCardData.guest_details.accompanying_guest_dob && printRegCardData.guest_details.accompanying_guest_dob !== \'\' && printRegCardData.guest_details.accompanying_guest_dob !== null)">{{printRegCardData.guest_details.accompanying_guest_first_name}}</strong></td></tr><tr><td rowspan={{printRegCardData.rowspanAustrianRegCardChild}} class=centered style="width: 80pt;"><strong>Kind(er)</strong> Child(ren)</td><td style="width: 130pt">Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong ng-if="printRegCardData.guest_details.accompanying_children[0] && printRegCardData.guest_details.accompanying_children[0].date_of_birth !== \'\' && printRegCardData.guest_details.accompanying_children[0].date_of_birth !== null">{{printRegCardData.guest_details.accompanying_children[0].first_name}}, {{printRegCardData.guest_details.accompanying_children[0].date_of_birth | date : dateFormat}}</strong> <strong ng-if="!(printRegCardData.guest_details.accompanying_children[0] && printRegCardData.guest_details.accompanying_children[0].date_of_birth !== \'\' && printRegCardData.guest_details.accompanying_children[0].date_of_birth !== null)">{{printRegCardData.guest_details.accompanying_children[0].first_name}}</strong></td><td style="width: 130pt">Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong ng-if="printRegCardData.guest_details.accompanying_children[1] && printRegCardData.guest_details.accompanying_children[1].date_of_birth !== \'\' && printRegCardData.guest_details.accompanying_children[1].date_of_birth !== null">{{printRegCardData.guest_details.accompanying_children[1].first_name}}, {{printRegCardData.guest_details.accompanying_children[1].date_of_birth | date : dateFormat}}</strong> <strong ng-if="!(printRegCardData.guest_details.accompanying_children[1] && printRegCardData.guest_details.accompanying_children[1].date_of_birth !== \'\' && printRegCardData.guest_details.accompanying_children[1].date_of_birth !== null)">{{printRegCardData.guest_details.accompanying_children[1].first_name}}</strong></td><td class=inner-table><table class="guest-data-enter fixed customized"><tr class=details><td>Anreise/Arrival<br><strong>{{ printRegCardData.arrival_date | date : dateFormat }}</strong></td><td>Abreise/Departure<br><strong>{{ printRegCardData.dep_date | date : dateFormat }}</strong></td></tr></table></td></tr><tr><td colspan=4 class="inner-table border-left-width"><table class="guest-data-enter customized"><tbody><tr><td style="width: 115pt">Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong>{{printRegCardData.guest_details.accompanying_children[2].first_name}}</strong><span ng-if="printRegCardData.guest_details.accompanying_children[2] && printRegCardData.guest_details.accompanying_children[2].date_of_birth !== \'\' && printRegCardData.guest_details.accompanying_children[2].date_of_birth !== null">,</span> <strong>{{printRegCardData.guest_details.accompanying_children[2].date_of_birth | date : dateFormat }}</strong></td><td style="width: 130pt">Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong>{{printRegCardData.guest_details.accompanying_children[3].first_name}}</strong><span ng-if="printRegCardData.guest_details.accompanying_children[3] && printRegCardData.guest_details.accompanying_children[3].date_of_birth !== \'\' && printRegCardData.guest_details.accompanying_children[3].date_of_birth !== null">,</span><strong>{{printRegCardData.guest_details.accompanying_children[3].date_of_birth | date : dateFormat }}</strong></td><td>Unterschrift des Meldepflichtigen/Signature<br><span class=placeholder>{{ printRegCardData.translation.guest_signature }}</span> <strong><img ng-src={{printRegCardData.signature_url}} width=50%></strong></td></tr></tbody></table></td></tr><tr><td colspan=3 style="width: 130pt" ng-if="printRegCardData.guest_details.accompanying_children.length > 4">Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong>{{printRegCardData.guest_details.accompanying_children[4].first_name}}</strong><span ng-if="printRegCardData.guest_details.accompanying_children[4] && printRegCardData.guest_details.accompanying_children[4].date_of_birth !== \'\' && printRegCardData.guest_details.accompanying_children[4].date_of_birth !== null">,</span><strong>{{printRegCardData.guest_details.accompanying_children[4].date_of_birth | date : dateFormat }}</strong></td></tr><tr><td rowspan=2 class="centered short" style="width: 80pt;"><strong>Bei Reisegruppen</strong> Groups</td><td rowspan=2 class="inner-table short border-right-grey"><table class="guest-data-enter fixed customized"><tbody><tr><td class="short border-right-grey">Gesamtanzahl</td><td class=short>Aufgliederung nach Herkunfts- land</td></tr></tbody></table></td><td colspan=2 class="inner-table short border-bottom-grey"><table class="guest-data-enter fixed customized"><tbody><tr><td class="inner-table short border-right-grey"><table class="guest-data-enter fixed customized"><tbody><tr class=details><td class=short>Herkunftsland</td><td class="short align-right">Anzahl</td></tr></tbody></table></td><td class="inner-table short"><table class="guest-data-enter fixed customized"><tbody><tr class=details><td class=short>Herkunftsland</td><td class="short align-right">Anzahl</td></tr></tbody></table></td></tr></tbody></table></td></tr><tr class=with-borders><td colspan=2 class="inner-table short"><table class="guest-data-enter fixed customized"><tbody><tr><td class="inner-table short border-right-grey"><table class="guest-data-enter fixed customized"><tbody><tr class=details><td class=short>Herkunftsland</td><td class="short align-right">Anzahl</td></tr></tbody></table></td><td class="inner-table short"><table class="guest-data-enter fixed customized"><tbody><tr class=details><td class=short>Herkunftsland</td><td class="short align-right">Anzahl</td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table>'),t.put("/assets/partials/bill/rvRemoveChargePopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post action="" id=edit-charge-options name=edit-charge class="modal-content form edit-charge" ng-click=clearErrorMessage()><button class=modal-close type=button ng-click="callActionsPopupAction(\'close\')" id=modal-close><span class="icons icon-close invert"></span></button><fieldset id=remove-charge class=remove-charge><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message" translate="">REMOVE_CHARGE</span> <span class="text red">{{selectedTransaction.desc}} <strong><span ng-bind-html="selectedTransaction.amount | sntCurrency:this"></span></strong></span><div class="entry full-width"><textarea placeholder="{{\'REMOVAL_REASON_PLACEHOLDER\' | translate}}" rows=2 ng-model=reasonForRemoving></textarea></div><div class=actions><button type=button class="button red modal-close" ng-click=removeCharge(reasonForRemoving) translate="">REMOVE_CHARGE</button> <button type=button class="button blank" ng-click="callActionsPopupAction(\'close\')" translate="">CANCEL</button></div></fieldset></form></div>'),t.put("/assets/partials/bill/rvRouteDetails.html",'<div id=billing-content class=content-wrapper ng-controller=rvRouteDetailsCtrl><fieldset class=content-left><div id=entity-details ng-iscroll=routeDetails ng-iscroll-delay=100 class="entity-details scrollable"><div class=wrapper><div ng-hide="billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity === \'ALLOTMENT_DEFAULT_BILLING\'"><div class=title>{{\'DATE_RANGE\' | translate}}</div><div class=entry><div class=has-datepicker><label for=routing-range-from>{{\'FROM_DATE\' | translate}}</label> <input id=routing-range-from ui-date=routingDateFromOptions class=range-datepicker ng-model=routeDates.from ng-change=onRouteDateChange() readonly=""></div><div class=has-datepicker><label for=routing-range-to>{{\'TO_DATE\' | translate}}</label> <input id=routing-range-to ui-date=routingDateToOptions class=range-datepicker ng-model=routeDates.to ng-change=onRouteDateChange() readonly=""></div></div></div><div class=title>{{\'ENTITY\' | translate}} <button type=button id=edit-entity ng-click=deSelectEntity() class="button with-icon only-icon purple edit" ng-if="isInAddRoutesMode || billingEntity === \'ALLOTMENT_DEFAULT_BILLING\'" ng-hide="billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity === \'GROUP_DEFAULT_BILLING\'"><span class="icons icon-pencil"></span></button></div><div class="entity guest"><figure class=guest-image ng-if="escapeNull(selectedEntity.entity_type) === \'RESERVATION\'"><img src={{selectedEntity.images[0].guest_image}} alt="" ng-if=selectedEntity.images[0].guest_image> <span class="icons icon-{{getGuestTypeIconClass(selectedEntity)}}" ng-if=!selectedEntity.images[0].guest_image></span></figure><figure class=guest-image ng-if="escapeNull(selectedEntity.entity_type) != \'RESERVATION\'"><div class="guest-image icons icon-company" ng-if="escapeNull(selectedEntity.entity_type)==\'COMPANY_CARD\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(selectedEntity.entity_type)==\'TRAVEL_AGENT\'"></div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'GROUP\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'ALLOTMENT\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div></figure><div class=data><h2>{{selectedEntity.name}}</h2><span class=location>{{selectedEntity.account_address}}</span></div><span class="guest-status small-icon" ng-class="getGuestStatusMapped(selectedEntity.reservation_status, selectedEntity.is_opted_late_checkout)" ng-hide="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span> <span class=status ng-class=getEntityRole(selectedEntity) ng-show="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span></div><div class=title ng-show=showPayment ng-hide="(reservationData.reservation_id != selectedEntity.id && selectedEntity.entity_type == \'RESERVATION\') || ((selectedEntity.entity_type == \'GROUP\' || selectedEntity.entity_type == \'HOUSE\') && (billingEntity !== \'GROUP_DEFAULT_BILLING\'))">{{\'PAYMENT\' | translate}} <button type=button id=edit-entity ng-click=editPaymentMethod(); class="button with-icon only-icon purple edit" ng-show="renderAddedPayment != null"><span class="icons icon-pencil"></span></button></div><div ng-iscroll=paymentList ng-iscroll-delay=100 style="position: relative;max-height:210px;overflow: hidden;" ng-show="!isAddPayment && showPayment && renderAddedPayment == null" ng-hide="(((selectedEntity.entity_type == \'GROUP\' || selectedEntity.entity_type == \'HOUSE\') || selectedEntity.has_accompanying_guests || renderAddedPayment != null))"><div class=wrapper><div class=payment ng-class="{\'active\': selectedEntity.selected_payment == paymentType.id}" ng-show="!isAddPayment && showPayment" ng-repeat="paymentType in attachedPaymentTypes" ng-click="selectedEntity.selected_payment = paymentType.id"><span ng-show="paymentType.payment_type_id == 1"><figure class=card-logo><img src=/ui/pms-ui/images/{{paymentType.card_code}}.png alt=""></figure><span class=number>{{\'NUMBER\' | translate}} <span class="value number">{{paymentType.mli_token}}</span></span> <span class=date>{{\'DATE\' | translate}} <span class="value date">{{paymentType.card_expiry}}</span></span></span> <span class="value code" ng-show="paymentType.payment_type_id != 1">{{ paymentType.payment_type }}</span> <span class="icons icon-ok-10" ng-show="selectedEntity.selected_payment == paymentType.id"></span></div></div></div><div class="payment active" ng-show="renderAddedPayment != null && !isAddPayment && showPayment && !saveData.newPaymentFormVisible && ( (selectedEntity.entity_type !== \'GROUP\' && selectedEntity.entity_type !== \'HOUSE\') || billingEntity == \'GROUP_DEFAULT_BILLING\' || billingEntity == \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity == \'TRAVEL_AGENT_DEFAULT_BILLING\')"><span ng-show="renderAddedPayment.payment_type == \'CC\'"><figure class=card-logo><img src="/ui/pms-ui/images/{{renderAddedPayment.creditCardType | lowercase}}.png" alt=""></figure><span class=number>{{\'NUMBER\' | translate}} <span class="value number">{{renderAddedPayment.endingWith}}</span></span> <span class=date>{{\'DATE\' | translate}} <span class="value date">{{renderAddedPayment.cardExpiry}}</span></span></span> <span class="value code" ng-show="renderAddedPayment.payment_type != \'CC\'">{{ renderAddedPayment.payment_type_description }}</span> <span class="icons icon-ok-10"></span></div><button type=button class=add-new-button ng-click=showAddPayment() ng-show=showPaymentOption()>{{\'NEW_PAYMENT\' | translate}}</button><div ng-controller=rvRoutesAddPaymentCtrl class=payment-form style="height: auto" ng-if="isAddPayment && showCreditCardDropDown && showPayment && paymentDetails == null"><snt-payment hotel-config=hotelPaymentConfig workstation-id={{workstation_id}} reservation-id={{reservationData.reservation_id}} account-id={{contactInformation.id}} group-id={{groupConfigData.summary.group_id}} allotment-id={{allotmentConfigData.summary.allotment_id}} fetch-linked-cards=false bill-number=billNumberOnAddCC payment-types=availablePaymentTypes selected-payment-type=selectedPayment selected-c-c=renderAddedPayment amount=renderData.defaultPaymentAmount action-type=ADD_ROUTE_PAYMENT deposit-policy-name={{depositPolicyName}} is-editable=isDepositEditable is-rate-suppressed=isReservationRateSuppressed has-permission=hasPermissionToMakePayment() form-template-url=/assets/partials/payment/rvRoutesAddPaymentPartial.html first-name={{guestCardData.contactInfo.first_name}} last-name={{guestCardData.contactInfo.last_name}} allow-direct-bill=selectedEntity.is_allow_direct_debit></snt-payment></div><div class=title ng-hide=shouldHideSplitCharge()>Split Charges</div><div class=entry ng-hide=shouldHideSplitCharge() ng-class="{\'overlay\': checkBillStatus() || selectedEntity.is_split_evenly}"><label class=checkbox for=split-charges ng-class="{\'checked\': selectedEntity.split_charge_by_50}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': selectedEntity.split_charge_by_50}"></span> <input ng-class="{\'checked\': selectedEntity.split_charge_by_50}" name=split-charges id=split-charges ng-model=selectedEntity.split_charge_by_50 value=1 type=checkbox> Split all charges by {{ selectedEntity.is_split_evenly ? selectedEntity.charge_split_percentage : 50 }}%</label></div><div class=title ng-show="billingEntity === \'GROUP_DEFAULT_BILLING\'">Split Charges (Accompanying Guests)</div><div class=entry ng-show="billingEntity === \'GROUP_DEFAULT_BILLING\'"><label class=checkbox for=split-charges-guests ng-class="{\'checked\': selectedEntity.split_charge_by_guests}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': selectedEntity.split_charge_by_guests}"></span> <input id=split-charges-guests type=checkbox ng-model=selectedEntity.split_charge_by_guests> Split All Charges By 50%</label></div><div ng-hide="isHourlyRateOn || billingEntity === \'GROUP_DEFAULT_BILLING\' || selectedEntity.entity_type === \'HOUSE\' || selectedEntity.entity_type === \'GROUP\'" ng-show="selectedEntity.entity_type === \'RESERVATION\' || selectedEntity.entity_type === \'TRAVEL_AGENT\' || selectedEntity.entity_type === \'COMPANY_CARD\' || billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity === \'ALLOTMENT_DEFAULT_BILLING\'"><div class=title>{{\'CREDIT_LIMIT\' | translate}}<span class=currency>({{currencySymbol}})</span></div><div class=entry><input type=text ng-model=selectedEntity.credit_limit maxlength=8 ng-disabled=!hasPermissionToEditCreditLimit();></div><div class=title>{{\'REFERENCE_NUMBER\' | translate}}</div><div class=entry><input type=text ng-model=selectedEntity.reference_number></div></div></div></div></fieldset><fieldset class=content-right><span class="h2 message" ng-hide="(reservationData.reservation_id != selectedEntity.id && selectedEntity.entity_type == \'RESERVATION\') || billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity === \'ALLOTMENT_DEFAULT_BILLING\' || billingEntity === \'GROUP_DEFAULT_BILLING\' || (selectedEntity.entity_type == \'GROUP\' || selectedEntity.entity_type == \'ALLOTMENT\' || selectedEntity.entity_type == \'HOUSE\')">{{\'ROUTE_TO_BILL\' | translate}}<div class=select><select ng-model=selectedEntity.to_bill ng-disabled=!selectedEntity.is_new name=post-charge-to-bill><option value={{bill.id}} ng-selected="bill.id == selectedEntity.to_bill" ng-repeat="bill in bills" ng-show=bill.is_active>{{bill.bill_number}}</option></select></div></span> <span class="h2 message" ng-show="billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity === \'GROUP_DEFAULT_BILLING\' || billingEntity === \'ALLOTMENT_DEFAULT_BILLING\'" translate="">DETAILS</span><div class=notice ng-show="selectedEntity.is_allow_direct_debit != undefined && !selectedEntity.is_allow_direct_debit"><span translate="">NO_DEBIT_ALLOWED</span></div><ul id=transaction-type class=modal-options><li ng-class="{\'active\' : isBillingGroup}" ng-click=toggleChargeType() translate="">BILLING_GROUP</li><li ng-class="{\'active\' : !isBillingGroup}" ng-click=toggleChargeType() translate="">CHARGE_CODES</li></ul><div id=transactions ng-iscroll=billingGroups ng-iscroll-delay=100 class="transactions scrollable" ng-show=isBillingGroup><div class="entry radio-check wrapper"><label class=checkbox ng-repeat="billingGroup in availableBillingGroups" ng-click=toggleSelectionForBillingGroup(billingGroup)><span class="icon-form icon-checkbox" ng-class="{\'checked\':isBillingGroupSelected(billingGroup)}"></span> <input name=billing-group id=100 value=100 type=checkbox> <span class=value></span> {{billingGroup.name}}</label></div></div><div id=autocomplete-charge-codes class="search-codes charge-code-select" ng-show=!isBillingGroup><input ng-model=chargeCodeSearchText ng-keyup=chargeCodeEntered() name=search-codes id=search-codes type=text placeholder="{{\'SEARCH_OR_SELECT_CODES_PLACEHOLDER\' | translate}}" value="" autocomplete=off><div class=mini-select ng-click=showAvailableChargeCodes()></div></div><div ng-show="(chargeCodeSearchText.length>2 || showChargeCodes)"><div class="billing-info-charges charge-code-list" ng-hide="availableChargeCodes.length === 0" ng-iscroll=chargeCodesList ng-iscroll-delay=100><div class=search-results><ul id=search-list><li ng-repeat="chargeCode in availableChargeCodes" ng-click=selectChargeCode(chargeCode.id) ng-show="chargeCode.is_row_visible === true"><h4" ng-class="{\'grey\':isChargeCodeSelected(chargeCode)}" ng-bind-html="chargeCode.code + \' \' + chargeCode.description |highlight:chargeCodeSearchText:false"></h4"></li></ul></div></div></div><div id=transactions ng-iscroll=chargeCodes ng-iscroll-delay=100 class="transactions codes scrollable billing-info-charge-codes" ng-show="(!isBillingGroup && selectedEntity.attached_charge_codes.length > 0)"><div class="entry radio-check wrapper"><label class=checkbox ng-click=removeChargeCode(selectedChargeCode) ng-repeat="selectedChargeCode in selectedEntity.attached_charge_codes"><span class="icon-form icon-checkbox checked"></span> <input name=billing-group id=100 value=100 type=checkbox checked=""> <span class=value>{{selectedChargeCode.code}}</span> {{selectedChargeCode.description}}</label></div></div><div id=transactions class="transactions codes scrollable no-content" ng-show="(!isBillingGroup && selectedEntity.attached_charge_codes.length == 0)"><div class=info><strong class=h1 translate="">NO_CODES_ADDED</strong></div></div></fieldset></div><div class=actions><button type=button id=close-information class="button blank modal-close" ng-click=headerButtonClicked() ng-hide="billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity === \'ALLOTMENT_DEFAULT_BILLING\' || billingEntity === \'GROUP_DEFAULT_BILLING\'">CANCEL</button> <button type=button id=close-information class="button blank modal-close" ng-click=closeThisDialog() ng-show="billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity === \'ALLOTMENT_DEFAULT_BILLING\' || billingEntity === \'GROUP_DEFAULT_BILLING\'">CANCEL</button> <button type=button class="button green modal-close" ng-click=saveRoute() ng-disabled=saveData.newPaymentFormVisible ng-class="{\'grey\': saveData.newPaymentFormVisible}" ng-hide="billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\'" translate="">SAVE_ROUTE</button> <button type=button class="button green modal-close" ng-click=saveRoute() ng-disabled=saveData.newPaymentFormVisible ng-class="{\'grey\': saveData.newPaymentFormVisible}" ng-show="billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\'" translate="">SAVE</button></div>'),t.put("/assets/partials/bill/rvRoutesAddPayment.html",'<div id=new-payment-method class=form ng-controller=rvRoutesAddPaymentCtrl><div style=margin-right:20 class=payment-form><div class="entry full-width" ng-hide=showCCPage><label for=payment-type translate="">PAYMENT_TYPE</label><div class=select><select name=payment-type ng-model=saveData.payment_type id=payment-type class=placeholder ng-change=selectPaymentType()><option value="" translate="">SELECT_PAYMENT_TYPE</option><option value={{paymentType.name}} ng-repeat="paymentType in availablePaymentTypes">{{paymentType.description}}</option></select></div></div><div class=entry ng-show="paymentGateway === \'sixpayments\' && saveData.payment_type ===\'CC\' && !showCCPage"><label for=card-source>Card Input</label><div class=switch-button ng-class="{\'on\': !isManual}"><input name=card-source id=card-source value=card-source type=checkbox ng-model=isManual ng-change=changeOnsiteCallIn()> <label class=data-off><span class=value>C &amp; P</span> <span class=switch-icon>Manual</span></label> <label class=data-on><span class=switch-icon>C &amp; P</span> <span class=value>Manual</span></label></div></div><div ng-include="\'/assets/partials/roverPayment/rvCardOptions.html\'" ng-controller=RVCardOptionsCtrl ng-show=showCCPage></div><div class=actions><button type=button class="button blank" ng-click=cancelClicked() ng-show=isAddPayment translate="">CANCEl</button></div></div></div>'),t.put("/assets/partials/bill/rvSelectEntity.html",'<div id=billing-content class="content-wrapper no-action" ng-controller=rvSelectEntityCtrl><fieldset class=content-left><div class=search-form role=search><div class=entry><a href=# id=billing-info-clear-query class=clear-query ng-class="{\'visible\': textInQueryBox!=\'\'}"><span class="icons icon-clear-search" ng-click=clearResults() translate="">CLEAR_QUERY</span></a> <button type=submit name=submit class="icons icon-search" translate="">MENU_SEARCH</button> <input name=billing-info-query id=billing-info-query class=query placeholder="{{\'FIND_PLACEHOLDER\' | translate}}" type=search autocomplete=off ng-model=textInQueryBox ng-keyup=queryEntered()></div></div><div id=available-entities><span class="h3 message" ng-hide="textInQueryBox!=\'\'" translate="">ATTACHED_ENTITIES</span><div id=entities ng-iscroll=entities ng-iscroll-delay=100 class="entities-list scrollable" ng-hide="textInQueryBox!=\'\'"><ul class=wrapper><li class="entity guest" ng-show="attachedEntities.hasOwnProperty(\'primary_guest_details\')" ng-click="selectAttachedEntity(-1,\'GUEST\')"><figure class=guest-image><img src={{attachedEntities.primary_guest_details.avatar}} alt="" ng-if=attachedEntities.primary_guest_details.avatar> <span class="icons icon-{{getGuestTypeIconClass(attachedEntities.primary_guest_details)}}" ng-if=!attachedEntities.primary_guest_details.avatar></span></figure><h2>{{attachedEntities.primary_guest_details.name}}</h2><span class="guest-status small-icon" ng-class="getGuestStatusMapped(reservationData.reservation_status, reservationData.is_opted_late_checkout)">{{attachedEntities.primary_guest_details.name}}</span></li><li class="entity accompany" ng-repeat="entity in attachedEntities.accompanying_guest_details" ng-click="selectAttachedEntity($index,\'ACCOMPANY_GUEST\')"><figure class="guest-image accompany"><img ng-src={{entity.primary_avatar}} alt="" ng-if=entity.primary_avatar> <img ng-src={{entity.avatar}} alt="" ng-if=entity.avatar> <span class="icons icon-{{getGuestTypeIconClass(entity)}}" ng-if="!entity.primary_avatar && !entity.avatar"></span></figure><div class=data><h2>{{entity.name}}</h2></div><span class="guest-status small-icon" ng-class="getGuestStatusMapped(reservationData.reservation_status, reservationData.is_opted_late_checkout)">{{entity.name}}</span></li><li class="entity company" ng-show="attachedEntities.hasOwnProperty(\'company_card\')" ng-click="selectAttachedEntity(-1,\'COMPANY_CARD\')"><figure class=guest-image ng-if="escapeNull(attachedEntities.company_card.logo)!=\'\'"><img ng-src={{attachedEntities.company_card.logo}} alt=""></figure><figure class=guest-image ng-if="escapeNull(attachedEntities.company_card.logo)==\'\'"><div class="guest-image icons icon-company"></div></figure><div class=data><h2>{{attachedEntities.company_card.name}}</h2><span class=location>{{attachedEntities.company_card.account_address}}</span></div></li><li class="entity travel-agent" ng-show="attachedEntities.hasOwnProperty(\'travel_agent\')" ng-click="selectAttachedEntity(-1,\'TRAVEL_AGENT\')"><figure class=guest-image ng-if="escapeNull(attachedEntities.travel_agent.logo)!=\'\'"><img ng-src={{attachedEntities.travel_agent.logo}} alt=""></figure><figure class=guest-image ng-if="escapeNull(attachedEntities.travel_agent.logo)==\'\'"><div class="guest-image icons icon-travel-agent"></div></figure><div class=data><h2>{{attachedEntities.travel_agent.name}}</h2><span class=location>{{attachedEntities.travel_agent.account_address}}</span></div></li><li class="entity group" ng-show="billingEntity === \'GROUP_DEFAULT_BILLING\' && attachedEntities.hasOwnProperty(\'posting_account\')" ng-click=selectAttachedEntity(-1,attachedEntities.posting_account.type)><div class=group-info>A</div><h2>{{attachedEntities.posting_account.name}}</h2></li><li class="entity guest" ng-show="billingEntity === \'ALLOTMENT_DEFAULT_BILLING\'" ng-click="selectAttachedEntity(-1, \'ALLOTMENT\')"><figure class=guest-image ng-class=getEntityIconClass(selectedEntity) ng-if="escapeNull(selectedEntity.images[0].guest_image)!=\'\'"><img src={{selectedEntity.images[0].guest_image}} alt=""></figure><figure class=guest-image ng-if="escapeNull(selectedEntity.images[0].guest_image)==\'\'"><div class="guest-image icons icon-company" ng-if="escapeNull(selectedEntity.entity_type)==\'COMPANY_CARD\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(selectedEntity.entity_type)==\'TRAVEL_AGENT\'"></div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'GROUP\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'ALLOTMENT\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div></figure><div ng-class="{\'data\':selectedEntity.account_address}"><h2>{{selectedEntity.name}}</h2><span class=location>{{selectedEntity.account_address}}</span></div><span class="guest-status small-icon" ng-class="getGuestStatusMapped(selectedEntity.reservation_status, selectedEntity.is_opted_late_checkout)" ng-hide="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span> <span class=status ng-class=getEntityRole(selectedEntity) ng-show="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span></li></ul></div><ul id=filter-entities class=modal-options ng-show="textInQueryBox!=\'\'"><li click-touch=toggleClicked(true) ng-class="{\'active\':isReservationActive}" translate="">RESERVATIONS</li><li click-touch=toggleClicked(false) ng-class="{\'active\':!isReservationActive}" translate="">ACCOUNTS_AND_CARDS</li></ul><div ng-if="textInQueryBox!=\'\' && !isReservationActive"><label class="checkbox inline search-filter" ng-class="{\'checked\': hasArNumber}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': hasArNumber}"></span><input type=checkbox ng-click=filterArAccounts() ng-model=hasArNumber> AR Accounts Only</label></div><div id=entities class="entities-list search scrollable entities-list-cards" ng-show="textInQueryBox!=\'\' && !isReservationActive" ng-iscroll=cards_search_scroller ng-iscroll-delay=100 style="height:57%;bottom: 0px; left:0px; width: 100%;overflow:hidden;"><ul class=wrapper><li class="entity company" ng-repeat="row in results.accounts" ng-class="{\'company\': row.account_type.toLowerCase()==\'company\', \'travel-agent\': row.account_type.toLowerCase()==\'travelagent\'}" ng-show="row.is_row_visible==true" ng-hide="results.accounts.length == 0" ng-click="selectEntity($index,\'ACCOUNT\')"><figure class=guest-image ng-if="escapeNull(row.company_logo)!=\'\'"><img ng-src={{row.company_logo}} alt=""></figure><figure class=guest-image ng-if="escapeNull(row.company_logo)==\'\'"><div class="guest-image icons icon-company" ng-if="escapeNull(row.account_type)==\'COMPANY\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(row.account_type)==\'TRAVELAGENT\'"></div></figure><div class=data><h2 ng-bind-html="row.account_name | highlight:textInQueryBox:false"></h2><span class=location>{{row.account_address}}</span></div><span class=status ng-class="{\'company\': row.account_type.toLowerCase()==\'company\', \'travel-agent\': row.account_type.toLowerCase()==\'travelagent\'}"></span></li><li class="entity company" ng-repeat="row in results.posting_accounts" ng-show="row.is_row_visible==true" ng-hide="results.posting_accounts.length == 0" ng-click="selectEntity($index, row.account_type )"><div class=group-info>A</div><h2 ng-bind-html="row.account_name | highlight:textInQueryBox:false"></h2></li></ul><div class=no-content ng-show="results.posting_accounts.length == 0 && results.accounts.length == 0 && textInQueryBox!=\'\' && !isReservationActive"><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1 translate="">NO_MATCH_FOUND_MSG</strong></div></div></div><div id=entities class="entities-list scrollable entities-list-cards" ng-show="textInQueryBox!=\'\' && isReservationActive" ng-iscroll=res_search_scroller ng-iscroll-delay=100 style="height:57%;bottom: 0px; left:0px; width: 100%;overflow:hidden;"><ul class=wrapper><li class="entity guest" ng-repeat="row in results.reservations" ng-show="row.is_row_visible==true" ng-hide="results.reservations.length == 0 || row.images.length >1" ng-class="{\'guest\':row.images.length <= 1,\'accompany\':row.images.length >1}" ng-click="selectEntity($index,\'RESERVATIONS\')"><figure class=guest-image ng-show="row.images.length!=0" ng-class="{\'accompany\': row.images.length >1}"><img ng-src={{row.images[0].guest_image}} alt="" ng-if=row.images[0].guest_image> <span class="icons icon-{{getGuestTypeIconClass(row.images[0])}}" ng-if=!row.images[0].guest_image></span> <span class=vip ng-show="row.vip==true" translate="">VIP</span></figure><div class=data><h2 ng-bind-html="row.lastname + \', \' + row.firstname | highlight:textInQueryBox:false" ng-class="{\'grey\' : row.images.length >1}"></h2><span class=confirmation ng-bind-html="\'#\' + row.confirmation | highlight:textInQueryBox:false"></span> <span class=room>{{\'ROOM_LABEL\' | translate}} <strong ng-bind-html="row.room | highlight:textInQueryBox:false"></strong></span></div><span class="guest-status small-icon {{getGuestStatusMapped(row.reservation_status, row.is_opted_late_checkout)}}"></span></li></ul><div class=no-content ng-show="results.reservations.length==0 && textInQueryBox!=\'\' && isReservationActive"><div class=info><span class=icon-no-content></span> <strong class=h1 translate="">NO_MATCH_FOUND_MSG</strong></div></div></div><rv-pagination ng-if="isReservationActive && showPagination && textInQueryBox!=\'\'" page-options=reservationPaginationObj page-data=totalReservation></rv-pagination><rv-pagination ng-if="!isReservationActive && showPagination && textInQueryBox!=\'\'" page-options=accountsPaginationObj page-data=totalCards></rv-pagination></div></fieldset><fieldset class=content-right><div class=no-content><div class=info><strong class=h1 translate="">ENTITY_NOT_SELECTED</strong> <span class=h2 translate="">SELECT_ENTITY_TO_CONFIGURE</span></div></div></fieldset></div>'),
t.put("/assets/partials/bill/rvShowMessagePopup.html",'<div id=modal class=modal-show role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog();><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h3 red">{{message}}</span> <button type=button class="button blank" ng-click=closeDialog();>Close</button></div></div>'),t.put("/assets/partials/bill/rvSplitChargePopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post action="" id=edit-charge-options name=edit-charge class="modal-content form edit-charge" ng-click=clearErrorMessage()><button class=modal-close type=button ng-click="callActionsPopupAction(\'close\')" id=modal-close><span class="icons icon-close invert"></span></button><fieldset id=split-charge name=split-charge class=split-charge><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message" translate="">SPLIT_CHARGE</span> <span class=text>{{selectedTransaction.desc}} <strong class=currency><span ng-bind-html="selectedTransaction.amount | sntCurrency:this"></span></strong></span><div class="entry full-width with-switch"><label for=split-value translate="">SPLITTING_FOR</label><div class=switch-button ng-class="{\'on\':splitTypeisAmount}"><input name=split-type id=split-type value="" ng-change=showSpiltValues() type=checkbox ng-model=splitTypeisAmount> <label class=data-off><span class=switch-icon>%</span> <span class="value currency">{{currencySymbol}}</span></label> <label class=data-on><span class=value>%</span> <span class="switch-icon currency">{{currencySymbol}}</span></label></div><input name=split-value id=split-value ng-change=showSpiltValues() placeholder="{{\'ENTER_SPLIT_VALUE_PLACEHOLDER\' | translate}}" ng-model=splitValue type=text></div><div id=split-preview class="entry full-width notice" ng-hide="splitValue.length === 0 || !splitValue"><strong class=h4 translate="">CHARGE_WILL_APPEAR_AS</strong><ul><li>{{selectedTransaction.desc}} <span class=value>{{displayFirstValue | number:2}}</span></li><li>{{selectedTransaction.desc}} <span class=value>{{displaySecondValue | number:2}}</span></li></ul></div><div class=actions><button type=button class="button blue modal-close" ng-click=splitCharge(splitValue,splitTypeisAmount) translate="">SPLIT_CHARGE</button> <button type=button class="button blank" ng-click="callActionsPopupAction(\'close\')" translate="">CANCEL</button></div></fieldset></form></div>'),t.put("/assets/partials/bill/rvTotalStayFees.html",'<div class=overview ng-repeat="totalFees in billData.total_fees"><button class="toggle with-rate" type=button ng-click=toggleFeesDetails($parent.$index) ng-hide=billData.hasFeesArray ng-class=showFeesDetailsOpenClose(billData.isOpenFeesDetails)><span class=title translate="">GUEST_BALANCE</span> <span class=value ng-show="isBalanceShown(totalFees.is_rate_suppressed, billData) && !billData.is_void_bill && !billData.is_voided" ng-class=getBalanceClass(totalFees.balance_amount)><span ng-bind-html="totalFees.balance_amount | sntCurrency:this"></span></span> <span class=value ng-show="!isBalanceShown(totalFees.is_rate_suppressed, billData) && !billData.is_void_bill && !billData.is_voided" ng-class=getBalanceClass(totalFees.balance_amount)>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span> <span class=value ng-show=billData.is_void_bill ng-class=getBalanceClass(totalFees.balance_amount)>VOID</span> <span class=value ng-show=billData.is_voided ng-class=getBalanceClass(totalFees.balance_amount)>VOIDED</span></button> <button type=button class="button with-icon green" click-touch=showAdvancedBillDialog() ng-show="( showPayButton ) || allowPmtWithGiftCard === true" ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><span class="icons icon-wallet"></span> {{ \'PAY\' | translate }}</button><button type=button class="button with-icon" ng-class=getInvoiceButtonClass(); ng-disabled=isInvoiceButtonDisabled() ng-click=showFormatBillPopup(reservationBillData.bills[currentActiveBill].bill_number)><span class="icons icon-invoice"></span> Invoice</button><button ng-show=reservationBillData.is_show_registration_card_button type=button ng-click=openRegCardPopup() class="button with-icon brand-colors"><span class="icons icon-print"></span> Registration Card</button> <label ng-show="isStandAlone && reservationBillData.is_show_registration_card_button" class="checkbox inline" for=no-rate-print ng-class="{ \'checked\':reservationBillData.hide_rates }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\':reservationBillData.hide_rates }"></span> <input ng-click=clickedShowRate() id=no-rate-print value="" type=checkbox> {{ \'DONT_PRINT_RATE\' | translate }}</label><label class="checkbox inline" ng-click=setBillAddressType() ng-show="currentActiveBill === 0 && billData.show_invoice_type_toggle" ng-class="{\'overlay\' : !billData.is_active }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\':billData.bill_address_type === \'COMPANY\' }"></span><input type=checkbox> Use Company Address</label></div><div class=overview ng-click=toggleFeesDetails($parent.$index) ng-show=billData.hasFeesArray ng-class=showFeesDetailsOpenClose(billData.isOpenFeesDetails)><p class="toggle with-rate"><span class=title translate="">GUEST_BALANCE</span> <span class=value ng-show=!reservationBillData.is_rate_suppressed_present_in_stay_dates><span class=currency>{{currencySymbol}}</span> 0.00</span> <span class=value ng-show=reservationBillData.is_rate_suppressed_present_in_stay_dates translate="">SUPPRESSED_RATES_TEXT</span> <button type=button class="button with-icon green" ng-click=showAdvancedBillDialog() ng-show="( showPayButton ) || allowPmtWithGiftCard === true" ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><span class="icons icon-wallet"></span> {{ \'PAY\' | translate }}</button> <button ng-show=reservationBillData.is_show_registration_card_button type=button ng-click=openRegCardPopup() class="button with-icon brand-colors"><span class="icons icon-print"></span> Registration Card</button> <button type=button ng-click=clickedEmail() class="button with-icon blue" ng-show=isStandAlone><span class="icons icon-email"></span> E-mail</button> <button type=button ng-click=clickedPrint() class="button with-icon blue" ng-show=isStandAlone><span class="icons icon-print"></span> Print</button></p></div><div class=signature ng-show="isSigned() || isChargeAccepted()" ng-click=showSignature()><button type=button class="toggle has-arrow"><span class=icons ng-class="{\'icon-signature\' : isSigned(), \'icon-smartphone\' : isChargeAccepted()}"></span></button></div><div class="block-item item-payment"><button ng-if="hotelDetails.shiji_detokenization_allowed && hasPermissionToDetokenizeCC() && billData.credit_card_details.payment_type == \'CC\'" ng-click=openDetokenizationPopup() type=button class="button with-icon blue unmask-button"><span class="icons icon-eye"></span> Unmask</button><button type=button class=next-view ng-show="billData.credit_card_details.payment_type == \'CC\'" ng-click=showPaymentList() ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><figure class=card-logo><img ng-if="billData.credit_card_details.card_code !==\'\'" ng-src=/ui/pms-ui/images/{{billData.credit_card_details.card_code}}.png alt=""> <span class=number>{{billData.credit_card_details.card_number}}</span></figure><span class=name>{{billData.guest_or_company_name}}</span><span ng-show=billData.credit_card_details.is_swiped class="icons icon-swiped" ng-class="{\'icon-authenticated\':billData.credit_card_details.auth_color_code === \'green\', \'icon-authentication-failed\': billData.credit_card_details.auth_color_code === \'red\' }">Credit card swiped</span><span ng-show="!billData.credit_card_details.is_swiped && billData.credit_card_details.auth_color_code ==\'green\'" class="icons icon-authenticated">Credit card authenticated</span><span ng-show="!billData.credit_card_details.is_swiped && billData.credit_card_details.auth_color_code ==\'red\'" class="icons icon-authentication-failed">Credit card authentication failed</span></button><button type=button class=next-view ng-show="billData.credit_card_details.payment_type != \'CC\' && billData.credit_card_details.payment_type !=null" ng-click=clickedAddUpdateCCButton() ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><span class=name>{{billData.guest_or_company_name}}</span> <span class=type>{{billData.credit_card_details.payment_type_description}}</span></button><button type=button class=add-new-button ng-show="billData.credit_card_details.payment_type == null" ng-click=clickedAddUpdateCCButton() ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }">+ {{\'ADD_PAYMENT_METHOD\' | translate}}</button> {{feesData.description()}} <button type=button class="button with-icon only-icon brand-colors open-modal move-charge" ng-show="((isAllChargeCodesSelected() || isAnyOneChargeCodeIsExcluded())&& hasMoveToOtherBillPermission())&& isStandAlone" ng-click=moveChargesClicked() ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><span class="icons icon-move"></span> Move selected</button></div><div class=details ng-class="{\'signature-wrapper\' : isSigned(), \'charges-accepted\' : isChargeAccepted()}" ng-show=showSignedSignature><div ng-if=isSigned()><figure><img ng-src={{reservationBillData.signature_details.signed_image}} alt=""></figure><span class=signature-date>{{ \'SIGNED\' | translate }} <em>{{reservationBillData.signature_details.signed_date | date:dateFormat }} {{reservationBillData.signature_details.signed_time}}</em></span></div><div ng-if=isChargeAccepted()>Charges Accepted VIA On-Line Check-In <em>{{reservationBillData.charges_accepted_at | date:dateFormat}}</em></div></div><div class=details ng-class=showFeesDetailsClass(billData.isOpenFeesDetails) ng-repeat="totalFeesArray in billData.total_fees" ng-show="$parent.$index==showActiveBillFeesDetails && totalFeesArray.fees_details.length>0"><table class=total-fees><thead><tr><th><span translate="">DATE</span></th><th><span translate="">CHARGE_CODE</span></th><th><span translate="">DESCRIPTION</span></th><th class=align-right><span translate="">FEES</span></th><th class="credits align-right"><span translate="">CREDITS</span></th><th class=form><span translate="">BILL</span> #</th><th class=action ng-if=isStandAlone><span translate="">EDIT</span></th><th class=action ng-if="hasMoveToOtherBillPermission() && isStandAlone"><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\':isAllChargeCodesSelected(),\'semi-checked\':isAnyOneChargeCodeIsExcluded()}"></span> <input id=bill-1-all ng-model=reservationBillData.isAllChargeCodeSelected type=checkbox ng-change=selectAllChargeCodeToggle() ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"></label></th></tr></thead><tfoot><tr class="active edit"><td colspan=3 class=total-label><button type=button class="button with-icon only-icon blue inline" click-touch=showFormatBillPopup(billData.bill_number)><span class="icons icon-invoice"></span> {{\'INVOICE\' |translate}}</button> <span translate="">STAY_FEES_AS_OF</span> {{totalFeesArray.fees_date | date:dateFormat}} <span ng-if=totalFeesArray.unused_allowance_included translate="">UNUSED_ALLOWANCE_INCLUDE_HINT</span>):</td><td colspan=3 class=total-value><strong ng-show=isBalanceShown(totalFeesArray.is_rate_suppressed)><span ng-bind-html="totalFeesArray.total_amount | sntCurrency:this"></span></strong> <strong ng-show=!isBalanceShown(totalFeesArray.is_rate_suppressed)>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</strong></td><td ng-if=isStandAlone><button type=button class="button with-icon only-icon purple edit hidden" ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><span class="icons icon-pencil"></span> <span translate="">EDIT</span></button></td><td ng-if=isStandAlone><button type=button class="button with-icon only-icon brand-colors open-modal" ng-show="(isAllChargeCodesSelected() || isAnyOneChargeCodeIsExcluded())&& hasMoveToOtherBillPermission()" ng-click=moveChargesClicked() ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><span class="icons icon-move"></span> Move selected</button></td><td ng-if=!isStandAlone></td><td ng-if=!isStandAlone></td></tr><tr class="active edit" ng-hide=showGuestBalance(reservationBillData.reservation_status)><td colspan=3 class=total-label><span translate="">BALANCE_AS_OF</span> {{totalFeesArray.fees_date |date:dateFormat}} ):</td><td colspan=3 ng-show=isBalanceShown(totalFeesArray.is_rate_suppressed) class=total-value ng-class=getBalanceClass(totalFeesArray.balance_amount)><strong><span ng-bind-html="totalFeesArray.balance_amount | sntCurrency:this"></span></strong></td><td colspan=3 ng-show=!isBalanceShown(totalFeesArray.is_rate_suppressed) class=total-value ng-class=getBalanceClass(billData.total_fees.balance_amount)><strong>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</strong></td><td><button type=button class="button with-icon only-icon green" ng-click=showAdvancedBillDialog() ng-show=showPayButton ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><span class="icons icon-wallet"></span> {{ \'PAY\' | translate }}</button></td><td></td></tr><tr class="active edit" ng-show=showGuestBalance(reservationBillData.reservation_status)><td colspan=3 class=total-label><span translate="">GUEST_BALANCE_AS_OF</span> {{totalFeesArray.fees_date |date:dateFormat}}):</td><td colspan=3 ng-show=isBalanceShown(totalFeesArray.is_rate_suppressed) class=total-value ng-class=getBalanceClass(totalFeesArray.balance_amount)><strong><span ng-bind-html="totalFeesArray.balance_amount | sntCurrency:this"></span></strong></td><td colspan=3 ng-show=!isBalanceShown(totalFeesArray.is_rate_suppressed) class=total-value ng-class=getBalanceClass(billData.total_fees.balance_amount)><strong>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</strong></td><td></td><td></td></tr></tfoot><tbody><tr class="active edit" ng-repeat="feesData in totalFeesArray.fees_details"><td>{{feesData.date |date:dateFormat}}</td><td><span ng-repeat="description in feesData.description">{{description.charge_code}}<br></span></td><td class=description ng-class="{\'with-reference\': feesData.reference_text != \'\'}"><span class="icons icon-invoice-blue" ng-show="feesData.reference_text != \'\'"></span> <strong ng-repeat="description in feesData.description" ng-if=!feesData.is_group_by_ref>{{description.item_description}}</strong> <strong ng-repeat="description in feesData.description" ng-class="{\'toggle\': isStandAlone && feesData.is_group_by_ref, \'active\': feesData.isExpanded}" ng-click=expandGroupedCharge(feesData) ng-if="isStandAlone && feesData.is_group_by_ref">{{description.item_description}} <span class="icons icon-double-arrow"></span></strong><ul class=charge-items ng-if="isStandAlone && feesData.is_group_by_ref" ng-class="{\'hidden\': !feesData.isExpanded}"><li ng-repeat="item in feesData.light_speed_data"><strong>{{item.description}}</strong> <span class=cost ng-class="{\'fee\': !item.is_payment, \'credit\': item.is_payment }">{{ item.amount | number:precisonTwo }}</span></li></ul><span ng-repeat="description in feesData.description" class=charge ng-class="{ \'icons edited\' : feesData.is_description_edited }"><span ng-if=description.card_number>{{description.fees_desc}} - {{description.card_number}}</span> <span ng-if=!description.card_number>{{description.fees_desc}}</span> <span class="icons icon-invoice" ng-click=openReceiptDialog()></span><br></span> <span ng-show="feesData.reference_text != \'\'" class=reference>{{feesData.reference_text}}</span> <span class=adjusted ng-show="feesData.adjustment_reason && feesData.adjustment_reason !=\'\'"><em>{{\'ADJUSTMENT\' | translate}}</em> - {{feesData.adjustment_reason}}</span></td><td class=align-right><strong><span ng-repeat="description in feesData.description"><span ng-show="!isBalanceShown(feesData.is_rate_suppressed) && description.fees_amount != \'\' && description.fees_amount != NIL">{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span> <span ng-show="description.fees_amount != \'\' && description.fees_amount != NIL && isBalanceShown(feesData.is_rate_suppressed)"><span ng-bind-html="description.fees_amount | sntCurrency:this"></span></span><br></span></strong></td><td class="credits align-right"><strong ng-show="feesData.credits!=\'\' && isBalanceShown(feesData.is_rate_suppressed)"><span ng-bind-html="feesData.credits | sntCurrency:this"></span></strong> <strong ng-show="!isBalanceShown(feesData.is_rate_suppressed) && feesData.credits!=\'\'">{{\'SUPPRESSED_RATES_TEXT\' | translate}}</strong> <button ng-if=feesData.is_print_receipt_available type=button class="button with-icon only-icon blue open-modal inline" ng-click=openReceiptDialog($index)><span class="icons icon-invoice"></span></button></td><td><div class=select ng-if=!isStandAlone><select iscroll-stop-propagation="" ng-model=feesData.billValue ng-change="moveToBillAction(feesData.oldBillValue, $index)" ng-disabled=!billData.is_active><option value="" disabled=disabled class=placeholder translate="">MOVE_TO_BILL</option><option value={{billNumbers.bill_number}} ng-selected="billNumbers.bill_number==(currentActiveBill+1)" ng-repeat="billNumbers in reservationBillData.bills">{{billNumbers.bill_number}}</option></select></div><div class=select ng-if=isStandAlone><select iscroll-stop-propagation="" ng-show=showMoveChargeDropDown() ng-model=feesData.billValue ng-change="moveToBillAction(feesData.oldBillValue, $index)" ng-disabled=!billData.is_active><option value="" disabled=disabled class=placeholder translate="">MOVE_TO_BILL</option><option value={{billNumbers.bill_number}} ng-selected="billNumbers.bill_number==(currentActiveBill+1)" ng-repeat="billNumbers in reservationBillData.bills">{{billNumbers.bill_number}}</option><option value={{reservationBillData.bills.length+1}}>{{reservationBillData.bills.length+1}} &nbsp;&nbsp;({{\'NEW_BILL\'|translate}})</option></select></div></td><td ng-if=isStandAlone><button type=button ng-show=showEditChargeButton(feesData.type.value) class="button with-icon only-icon purple edit" ng-click="openActionsPopup(feesData.id,feesData.description[0].fees_desc,feesData.description[0].fees_amount,feesData.type.value,feesData.credits, feesData.reference_text_on_edit, feesData.show_ref_on_invoice, feesData.show_split_payment)" ng-if=!feesData.is_group_by_ref ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"><span class="icons icon-pencil"></span> <span translate="">EDIT</span></button></td><td class=action ng-if="(hasMoveToOtherBillPermission() && isStandAlone)"><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\':feesData.isSelected}"></span> <input ng-model=feesData.isSelected type=checkbox ng-disabled=!billData.is_active ng-class="{ \'overlay\' : !billData.is_active }"></label></td><td ng-if=!isStandAlone></td><td ng-if=!isStandAlone></td></tr></tbody></table></div>'),t.put("/assets/partials/bill/rvValidateEmailOnPayment.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form id=validate class="modal-content form confirmation"><button id=modal-close class=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class=text translate="">PLEASE_ASK_THE_GUEST_FOR_EMAIL_ON_PAYMENT</span><div id=guest-email-entry class="entry full-width"><label translate="">EMAIL</label> <input ng-model=saveData.email id=guest-email autocomplete:="" "off",="" name:="" "guest-email",="" type:="" "text",="" value:="" "savedata.email"=""></div><div class="actions float"><a id=submit class="button red modal-close" ng-click=submitAndTriggerEmail() translate="">SUBMIT</a> <a id=cancel class="button blank modal-close" ng-click=cancelEmailUpdate() translate="">Ignore and Proceed</a></div></form></div>'),t.put("/assets/partials/bill/rvVoidBillPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><form class="modal-content form alert medium void-bill"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Void Bill #{{currentActiveBill+1}}?</span> <em class=text>This will void the entire bill contents and bill number.</em><div class="entry full-width"><textarea placeholder="Void reason" rows=2 ng-model=voidData.reason></textarea></div><div class=actions><button type=button class="button red" ng-click="voidBill(\'void\')">Void Bill</button> <button type=button class="button purple" ng-click="voidBill(\'void_and_repost\')">Void and Re-post</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></form></div>'),t.put("/assets/partials/cards/companyCardContent.html",'<div ng-controller=RVCompanyCardCtrl><div id=company-card-content class="card-tabs card-content" ng-class="UICardContentCls(\'company-card\')" ng-if=!searchMode><ul ng-id="{\'company-card-tabs-nav\': account_type == \'COMPANY\', \'travel-agent-card-tabs-nav\': account_type == \'TRAVELAGENT\'}" class="card-tabs-nav float ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-contact-info\'}" ng-click="switchTabTo($event, \'cc-contact-info\')"><a translate="">SUMMARY</a></li><li class=with-filters ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-contracts\'}" ng-click="switchTabTo($event, \'cc-contracts\')"><a translate="">CONTRACTS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Contracts fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'statistics\'}" ng-click="switchTabTo($event, \'statistics\')" ng-if="isStandAlone && !isHourlyRateOn"><a translate="">STATISTICS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Statistics fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab === \'wallet\'}" ng-click="switchTabTo($event, \'wallet\')"><a translate="">WALLET</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Wallet fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-notes\'}" ng-click="switchTabTo($event, \'cc-notes\')"><a translate="">{{ isCloudStorageEnabledForCardType(\'cota_card\') ? \'NOTES_AND_FILES\' : \'NOTES\' }}</a></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-ar-accounts\'}" ng-click="switchTabTo($event, \'cc-ar-accounts\')" ng-show="contactInformation.account_details.accounts_receivable_number || isArTabAvailable"><a ng-class="{\'error\': !arAccountDetails.is_allow_direct_debit}" translate="">AR_ACCOUNT</a></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-ar-transactions\',\'with-filters\':isWithFilters }" ng-click="switchTabTo($event, \'cc-ar-transactions\')" ng-show="contactInformation.account_details.accounts_receivable_number || isArTabAvailable"><a translate="">AR_TRANSACTIONS</a></li><li class=with-filters ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-activity-log\'}" ng-click="switchTabTo($event, \'cc-activity-log\')"><a translate="">ACTIVITY_LOG</a></li><li class=with-filters ng-hide=true ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-reservations\'}" ng-click="switchTabTo($event, \'cc-reservations\')"><a translate="">RESERVATIONS</a></li></ul><span ng-include="\'/assets/partials/companyCard/rvCompanyCardContactInformation.html\'"></span><span ng-include="\'/assets/partials/companyCard/contracts/rvCardContractsMain.html\'"></span><span ng-include="\'/assets/partials/companyCard/rvCompanyCardTravelAgentStatistics.html\'"></span><span ng-include="\'/assets/partials/companyCard/companyCardPayment.html\'"></span><span ng-controller=companyCardArAccountCtrl ng-include="\'/assets/partials/companyCard/rvcompanyCardArAccount.html\'" ng-show="contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable"></span><span ng-controller=RVCompanyCardArTransactionsMainCtrl ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentCardArTransactionsMain.html\'" ng-show="(contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable) && currentSelectedTab == \'cc-ar-transactions\'"></span><span ng-controller=RVCompanyCardActivityLogCtrl ng-include="\'/assets/partials/companyCard/activityLog/rvCompanyCardActivityLog.html\'" ng-show="currentSelectedTab == \'cc-activity-log\'"></span><form method=post id=gc-notes name=gc-notes class="form inner-header card-tab notes-tab no-print" ng-if="currentSelectedTab == \'cc-notes\'"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><span ng-include="\'/assets/partials/companyCard/rvCompanyTAFilesAndNotes.html\'"></span></form></div><div id=company-card-content class="card-search card-content" ng-class="UICardContentCls(\'company-card\')" ng-if=searchMode><button id=new-company ng-show=addNewCards type=button class="button green has-arrow skip" ng-click=createNewCompany() ng-disabled=!hasPermissionToCreateCCard ng-class="{\'overlay\': !hasPermissionToCreateCCard}">Add New Card</button><div id=search-company-content class="search-cards scrollable"><div ng-controller=companyResults class=wrapper ng-show="companySearchIntiated && companies.length > 0" style="height:100%; overflow: hidden;" ng-iscroll=companyResultScroll ng-iscroll-delay=500><ul id=search-company-results class=search-results><li ng-repeat="company in companies" class="card card-result"><a ng-click="selectCardType(company, $event)"><div ng-show="company.logo == \'\'" class="guest-image icons icon-company"></div><figure ng-hide="company.logo == \'\'" class=guest-image><img ng-src={{company.logo}}></figure><div class=data ng-class="{\'no-email\': escapeNull(company.email) === \'\', \'no-confirmation\': escapeNull(company.address.postalCode) === \'\', \'no-address\': escapeNull(company.account_address) === \'\', \'no-phone\': escapeNull(company.phone) === \'\', \'no-access-code\': escapeNull(company.contract_access_code) === \'\'}"><div class=info><h2 ng-bind-html="getHighlightedHTML(company.account_name, searchData.companyCard.companyName)"></h2><div class=rate ng-if="ratesCount(company) === 1"><span class=label>Rate</span> {{getRateName()}}</div><div class=rate ng-if="ratesCount(company) > 1"><span class=label>Multiple Rates</span></div><span ng-if="company.rateList.length > 1" class="icons icon-contracts active">Multiple Contracts</span> <span class="icons icon-contracts active" ng-if="company.rateList.length === 1">{{company.rate.name}}</span></div><span class=confirmation>{{ company.address.postalCode }}</span> <span class="icons icon-contracts access-code" ng-if=company.contract_access_code ng-bind-html="getHighlightedHTML(company.contract_access_code, searchData.companyCard.companyName)"></span> <span class="icons icon-location" ng-if="company.account_address != \'\' && icon-location != null"><span ng-bind-html="getHighlightedHTML(company.account_address, searchData.companyCard.companyCity)"></span></span> <span class="icons icon-phone" ng-if="company.phone != \'\' && company.phone != null">{{ company.phone }}</span> <span class="icons icon-email-grey" ng-if="company.email != \'\' && company.email != null">{{ company.email }}</span></div></a></li></ul></div><div id=search-company-no-results class="search-cards no-content"><div class=info ng-show="companySearchIntiated && companies.length === 0"><span class="icon-no-content icon-cards"></span> <strong class=h1>No Matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Company Name</strong>, <strong>City</strong> or <strong>Corporate ID</strong>.</span></div><div class=info ng-hide=companySearchIntiated><span class="icon-no-content icon-cards"></span> <strong class=h1>Find Company</strong> <span class=h2>Search by <strong>Name</strong>, <strong>City</strong> or <strong>Corporate ID</strong></span></div></div></div></div></div>'),t.put("/assets/partials/cards/groupCardContent.html",'<div ng-controller=RVGroupCardCtrl><div id="{{fetchGroupAllotmentCardId(\'CONTENT\')}}" class="card-tabs card-content" ng-class="UICardContentCls(\'group-card\')" ng-if="!searchMode && !!reservationData.group.id"><ul id=group-card-tabs-nav class="card-tabs-nav float ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class=ui-tabs-active><a translate="">SUMMARY</a></li></ul><span ng-include="\'/assets/partials/groups/summary/rvGroupConfigurationSummaryTab.html\'"></span></div><div id="{{fetchGroupAllotmentCardId(\'CONTENT\')}}" class="card-tabs card-content" ng-class="UICardContentCls(\'group-card\')" ng-if="!searchMode && !!reservationData.allotment.id"><ul id=group-card-tabs-nav class="card-tabs-nav float ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class=ui-tabs-active><a translate="">SUMMARY</a></li></ul><span ng-include="\'/assets/partials/allotments/summary/rvAllotmentConfigurationSummaryTab.html\'"></span></div><div id="{{fetchGroupAllotmentCardId(\'CONTENT\')}}" class="card-search card-content" ng-class="UICardContentCls(\'group-card\')" ng-if=searchMode><div id=search-group-content class="search-cards scrollable"><div class="entry full-width"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><div ng-controller=groupResults class=wrapper ng-show="searchingGroups && searchedGroups.length > 0" style="height:100%; overflow: hidden;" ng-iscroll=groupResultsScroll ng-iscroll-delay=500><ul id=search-group-results class=search-results><li class="group with-image" ng-repeat="result in searchedGroups" ngrepeatend="" ngrepeatstarted=""><a ng-click="selectToGroupORAllotment(result, $event)"><div class="guest-image icons" ng-class="{\'icon-group\' : result.type === \'GROUP\', \'icon-allotment\' : result.type === \'ALLOTMENT\'}"></div><div class=data><h2 ng-bind-html="escapeNull(result.name) | highlight:searchData.groupCard.name:false"></h2><span class=confirmation ng-bind-html="escapeNull(result.code) | highlight:searchData.groupCard.code:false"></span><span class="icons icon-guest-company" ng-hide=isEmpty(result.company)>{{result.company}}</span><span class="icons icon-guest-travelagent" ng-hide=isEmpty(result.travel_agent)>{{result.travel_agent}}</span></div><div class=arrival><span class=guest-status ng-class=getGuestClassForArrival(result)></span><time datetime=result.arrival_date>{{formatDateForUI(result.arrival_date)}}</time></div><div class=departure><span class=guest-status ng-class=getGuestClassForDeparture(result)></span><time datetime=result.departure_date>{{formatDateForUI(result.departure_date)}}</time></div><div class=blocked ng-class=getClassAgainstHoldStatus(result)><strong>{{result.total_booked === null? \'0\':result.total_booked}}</strong> <span>{{result.hold_status}}</span></div><div class=picked ng-class=getClassAgainstPickedStatus(result)><strong>{{result.total_picked_count === null? \'0\' :result.total_picked_count}}</strong> <span>Picked Up</span></div></a></li></ul></div><div id=search-group-no-results class="search-cards no-content"><div class=info ng-show="searchingGroups && searchedGroups.length === 0"><span class="icon-no-content icon-cards"></span> <strong class=h1>No Matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Group or Allotment Name</strong> or <strong>Code</strong></span></div><div class=info ng-hide=searchingGroups><span class="icon-no-content icon-groups"></span> <strong class=h1>Find Allotment or Group</strong> <span class=h2>Search by Allotment or Group <strong>Name</strong> or <strong>Code</strong></span></div></div></div></div></div>'),
t.put("/assets/partials/cards/guestCardContent.html",'<div ng-controller=RVGuestCardCtrl><div id=guest-card-content class="card-tabs card-content" ng-if=!searchMode ng-class="UICardContentCls(\'guest-card\')"><ul class=card-tabs-nav id=guest-card-tabs-nav><li ng-class="{\'ui-tabs-active\': current == \'guest-contact\'}" click-touch="guestCardTabSwitch(\'guest-contact\')"><a id=guest-contact ng-class="{\'error\':contactInfoError}">Contact Information</a></li><li ng-class="{\'ui-tabs-active\': current == \'guest-like\'}" click-touch="guestCardTabSwitch(\'guest-like\')"><a id=guest-like ng-class="{\'error\':likesInfoError}">Likes</a></li><li ng-class="{\'ui-tabs-active\': current == \'guest-wallet\'}" click-touch="guestCardTabSwitch(\'guest-wallet\')"><a id=guest-wallet>Wallet</a></li><li ng-class="{\'ui-tabs-active\': current == \'guest-loyalty\'}" click-touch="guestCardTabSwitch(\'guest-loyalty\')" ng-hide=!loyaltyTabEnabled ng-show=loyaltyTabEnabled><a id=guest-loyalty>Loyalty</a></li><li ng-class="{\'ui-tabs-active\': current == \'guest-statistics\'}" click-touch="guestCardTabSwitch(\'guest-statistics\')" ng-if="isStandAlone && !isHourlyRateOn"><a href=#gc-statistics>Statistics</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Statistics fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': current == \'activity-log\'}" click-touch="guestCardTabSwitch(\'activity-log\')"><a>Activity Log</a></li><li ng-if=isStandAlone ng-class="{\'ui-tabs-active\': current == \'notes\', \'with-filters\': isCloudStorageEnabledForCardType(\'guest_card\')}" ng-click="guestCardTabSwitch(\'notes\')"><a translate="">{{ isCloudStorageEnabledForCardType(\'guest_card\') ? \'NOTES_AND_FILES\' : \'NOTES\' }}</a> <button type=button ng-if="isCloudStorageEnabledForCardType(\'guest_card\')" class="button white icons icon-expand" rv-fullscreen="" fs-sub-header="Notes & Files" fs-toggle-class=fullscreen-card>Fullscreen</button></li></ul><span ng-include="\'/assets/partials/guestCard/guestCardContactInfo.html\'"></span><span ng-include="\'/assets/partials/guestCard/rvGuestCardLikes.html\'"></span><span ng-include="\'/assets/partials/guestCard/guestCardPayment.html\'"></span><span ng-include="\'/assets/partials/guestCard/guestCardLoyalty.html\'"></span><span ng-include="\'/assets/partials/guestCard/rvGuestCardStatistics.html\'"></span><span ng-show="current == \'activity-log\' && isStandAlone" ng-include="\'/assets/partials/guestCard/guestCardActivityLog.html\'"></span><form method=post action={action} id=gc-notes name=gc-notes class="form inner-header card-tab notes-tab no-print" ng-if="current == \'notes\' && isStandAlone"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><span ng-include="\'/assets/partials/guestCard/rvGuestCardNotesAndFiles.html\'"></span></form></div><div id=guest-card-content class="card-search card-content" ng-if=searchMode ng-class="UICardContentCls(\'guest-card\')"><strong class=results-count ng-show="guests.length > 0">{{ guests.length }} possible match<span ng-if="guests.length > 1">es</span></strong> <button id=new-guest ng-show="addNewCards && guestSearchIntiated" type=button class="button green has-arrow skip" ng-click=createNewGuest()>New Guest</button><div id=search-guests-content class="search-cards scrollable"><div class=wrapper ng-controller=guestResults ng-show="guestSearchIntiated && guests.length > 0" style="height:100%; overflow: hidden;" ng-iscroll=guestResultScroll><ul id=search-guests-results class=search-results><li class="reservation identify-guest" ng-repeat="guest in guests"><a ng-click="selectGuest(guest, $event)"><figure class=guest-image ng-class="{\'blacklisted\':guest.is_flagged}"><img ng-src="{{ guest.image }}" alt=""> <span class=stay-count ng-if="guest.stayCount > 0 && isStandAlone">{{::guest.stayCount}}</span> <span ng-show=guest.vip class=vip>VIP</span></figure><div class=data ng-class="{\'no-stay\': guest.stayCount == 0}"><h2><span ng-bind-html="guest.firstName | highlight:searchData.guestCard.guestFirstName:false"></span> <span ng-bind-html="guest.lastName | highlight:searchData.guestCard.guestLastName:false"></span></h2><span class=confirmation ng-if="guest.address.postalCode != \'\' && guest.address.postalCode != null">{{ guest.address.postalCode}}</span> <span class="icons icon-location" ng-hide="(guest.address.city == null || guest.address.city == \'\') && (guest.address.state ==\'\' || guest.address.state == null)"><span ng-bind-html="guest.address.city | highlight:searchData.guestCard.guestCity:false"></span> <span ng-hide="guest.address.city == null || guest.address.city == \'\' || guest.address.state ==\'\' || guest.address.state == null">,</span> <span>{{ guest.address.state }}</span></span> <span class="icons icon-phone" ng-hide="guest.phone == \'\' || guest.phone == null">{{ guest.phone }}</span> <span class="icons icon-email-grey" ng-bind-html="guest.email | highlight:searchData.guestCard.email:false" ng-hide="guest.email == \'\' || guest.email == null"></span></div><div class=last-stay ng-if="guest.stayCount > 0"><span class=label>Last <span class=date>{{ guest.lastStay.date | date: \'MMMM d, yyyy\'}}</span></span> <strong class=room>{{ guest.lastStay.room }}</strong> <em class=type>{{ guest.lastStay.roomType }}</em></div></a></li></ul></div><div class="search-cards no-content"><div class=info ng-show="guestSearchIntiated && guests.length === 0"><span class="icon-no-content icon-guest"></span> <strong class=h1>No Matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Name</strong>, <strong>City</strong> or <strong>Loyalty No.</strong>.</span></div><div class=info ng-hide=guestSearchIntiated><span class="icon-no-content icon-guest"></span> <strong class=h1>Find Guest</strong><span class=h2>Search by <strong>Name</strong>, <strong>E-mail</strong> or <strong>City</strong></span></div></div></div></div></div>'),t.put("/assets/partials/cards/travelAgentCardContent.html",'<div ng-controller=RVTravelAgentCardCtrl><div id=travel-agent-card-content class="card-tabs card-content" ng-if="searchMode == false" ng-class="UICardContentCls(\'travel-agent-card\')"><ul ng-id="{\'company-card-tabs-nav\': account_type == \'COMPANY\', \'travel-agent-card-tabs-nav\': account_type == \'TRAVELAGENT\'}" class="card-tabs-nav float ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-contact-info\'}" ng-click="switchTabTo($event, \'cc-contact-info\')"><a translate="">SUMMARY</a></li><li class=with-filters ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-contracts\'}" ng-click="switchTabTo($event, \'cc-contracts\')"><a translate="">CONTRACTS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Contracts fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab === \'statistics\'}" ng-click="switchTabTo($event, \'statistics\')" ng-if="isStandAlone && !isHourlyRateOn"><a translate="">STATISTICS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Statistics fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab === \'wallet\'}" ng-click="switchTabTo($event, \'wallet\')"><a translate="">WALLET</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Wallet fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-notes\'}" ng-click="switchTabTo($event, \'cc-notes\')"><a translate="">{{ isCloudStorageEnabledForCardType(\'cota_card\') ? \'NOTES_AND_FILES\' : \'NOTES\' }}</a></li><li class=with-filters ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-commissions\'}" ng-click="switchTabTo($event, \'cc-commissions\')" ng-show="isCommissionTabAvailable && account_type == \'TRAVELAGENT\' && !isEmptyObject(contactInformation.commission_details)"><a translate="">COMMISSIONS</a></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-ar-accounts\'}" ng-click="switchTabTo($event, \'cc-ar-accounts\')" ng-show="contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable"><a ng-class="{\'error\': !arAccountDetails.is_allow_direct_debit}" translate="">AR_ACCOUNT</a></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-ar-transactions\',\'with-filters\': isWithFilters }" ng-click="switchTabTo($event, \'cc-ar-transactions\')" ng-show="contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable"><a translate="">AR_TRANSACTIONS</a></li><li class=with-filters ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-activity-log\'}" ng-click="switchTabTo($event, \'cc-activity-log\')"><a translate="">ACTIVITY_LOG</a></li><li class=with-filters ng-hide=true ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-reservations\'}" ng-click="switchTabTo($event, \'cc-reservations\')"><a translate="">RESERVATIONS</a></li></ul><span ng-include="\'/assets/partials/companyCard/rvCompanyCardContactInformation.html\'"></span><span ng-include="\'/assets/partials/companyCard/contracts/rvCardContractsMain.html\'"></span><span ng-include="\'/assets/partials/companyCard/rvCompanyCardTravelAgentStatistics.html\'"></span><span ng-include="\'/assets/partials/companyCard/companyCardPayment.html\'"></span><span ng-include="\'/assets/partials/companyCard/rvCompanyCardCommissions.html\'" ng-controller=companyCardCommissionsCtrl></span><span ng-controller=companyCardArAccountCtrl ng-include="\'/assets/partials/companyCard/rvcompanyCardArAccount.html\'" ng-show="contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable"></span><span ng-controller=RVCompanyCardArTransactionsMainCtrl ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentCardArTransactionsMain.html\'" ng-show="(contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable) && currentSelectedTab == \'cc-ar-transactions\'"></span><span ng-controller=RVCompanyCardActivityLogCtrl ng-include="\'/assets/partials/companyCard/activityLog/rvCompanyCardActivityLog.html\'" ng-show="currentSelectedTab == \'cc-activity-log\'"></span><form method=post id=gc-notes name=gc-notes class="form inner-header card-tab notes-tab no-print" ng-if="currentSelectedTab == \'cc-notes\'"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><span ng-include="\'/assets/partials/companyCard/rvCompanyTAFilesAndNotes.html\'"></span></form></div><div id=travel-agent-card-content class="card-search card-content" ng-if=searchMode ng-class="UICardContentCls(\'travel-agent-card\')"><button id=new-company ng-show=addNewCards type=button class="button green has-arrow skip" ng-click=createNewTravelAgent() ng-disabled=!hasPermissionToCreateTACard ng-class="{\'overlay\': !hasPermissionToCreateTACard}">Add New Card</button><div id=search-travel-agent-content class="search-cards scrollable"><div ng-controller=travelAgentResults class=wrapper ng-show="travelAgentSearchIntiated && travelAgents.length > 0" style="height:100%; overflow: hidden;" ng-iscroll=travelAgentResultScroll><ul id=search-travel-agent-results class=search-results><li ng-repeat="travelAgent in travelAgents" class="card card-result"><a ng-click="selectCardType(travelAgent, $event)"><div ng-show="travelAgent.logo == \'\'" class="guest-image icons icon-travel-agent"></div><figure ng-hide="travelAgent.logo == \'\'" class=guest-image><img ng-src={{travelAgent.logo}}></figure><div class=data ng-class="{\'no-email\': escapeNull(travelAgent.email) === \'\', \'no-confirmation\': escapeNull(travelAgent.address.postalCode) === \'\', \'no-address\': escapeNull(travelAgent.account_address) === \'\', \'no-phone\': escapeNull(travelAgent.phone) === \'\', \'no-access-code\': escapeNull(travelAgent.contract_access_code) === \'\'}"><div class=info><h2 ng-bind-html="getHighlightedHTML(travelAgent.account_name, searchData.travelAgentCard.travelAgentName)"></h2><div class=rate ng-show="ratesCount(travelAgent) === 1"><span class=label>Rate</span> {{getRateName()}}</div><div class=rate ng-show="ratesCount(travelAgent) > 1"><span class=label>Multiple Rates</span></div><span ng-if="travelAgent.activeContracts.length > 1" class="icons icon-contracts active">Multiple Contracts</span> <span ng-if="travelAgent.activeContracts.length === 1" class="icons icon-contracts active">{{travelAgent.rate.name}}</span></div><span class=confirmation>{{ travelAgent.address.postalCode }}</span> <span class="icons icon-contracts access-code" ng-if=travelAgent.contract_access_code ng-bind-html="getHighlightedHTML(travelAgent.contract_access_code, searchData.travelAgentCard.travelAgentName)"></span> <span class="icons icon-location" ng-if="travelAgent.account_address != \'\'">{{travelAgent.account_address}}</span> <span class="icons icon-phone" ng-if="travelAgent.phone != \'\' && travelAgent.phone != null">{{ travelAgent.phone }}</span> <span class="icons icon-email-grey" ng-if="travelAgent.email != \'\' && travelAgent.email != null">{{ travelAgent.email }}</span></div></a></li></ul></div><div id=search-travel-agent-no-results class="search-cards no-content"><div class=info ng-show="travelAgentSearchIntiated && travelAgents.length === 0"><span class="icon-no-content icon-cards"></span> <strong class=h1>No Matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Travel Agent Name</strong>, <strong>City</strong> or <strong>IATA #</strong></span></div><div class=info ng-hide=travelAgentSearchIntiated><span class="icon-no-content icon-cards"></span> <strong class=h1>Find Travel Agent</strong> <span class=h2>Search by <strong>Travel Agent Name</strong>, <strong>City</strong> or <strong>IATA #</strong></span></div></div></div></div></div>'),t.put("/assets/partials/changeStayDates/rvChangeStayDates.html","<div id=change-dates-main><div ng-include=\"'/assets/partials/common/header.html'\"></div><section role=complementary id=edit-reservation class=\"content stay-card-inner check-in\"><div ng-include=\"'/assets/partials/changeStayDates/rvChangeStayDatesHeader.html'\"></div><div class=edit-reservation-content><div ng-include=\"'/assets/partials/common/notification_message.html'\"></div><div id=calendar-holder class=\"reservation-calendar scrollable\" ng-iscroll=edit_staydate_calendar ng-iscroll-delay=100><div class=wrapper><div id=reservationcalendar class=\"fc fc-ltr\" ui-calendar=fullCalendarOptions ng-model=eventSources calendar=myCalendar iscroll-stop-propagation=\"\" ng-hide=isChanging></div><strong id=instruction-title class=notice translate=\"\">DRAG_AND_DROP_TO_CHANGE_STAY_DATES</strong><ul id=reservation-calendar-legend><li><span class=check-in></span>{{'ARRIVAL' | translate}}</li><li><span class=no-availability></span>{{'NO_AVAILABILITY' | translate}}</li><li><span class=mid-stay></span>{{'MID_STAY' | translate}}</li><li><span class=availability></span>{{'ROOM_AVAILABLE' | translate}}</li><li><span class=check-out></span>{{'DEPARTURE' | translate}}</li></ul></div></div><div ng-include=\"'/assets/partials/changeStayDates/rvChangeStayDatesReservationUpdate.html'\"></div></div></section></div>"),t.put("/assets/partials/changeStayDates/rvChangeStayDatesHeader.html",'<div class=reservation-header><div class=data><span data-room-status={{stayDetails.details.room_status}} data-reserv-status={{stayDetails.details.reservation_status}} data-fostatus={{stayDetails.details.fo_status}} class=room><span class="guest-status room" translate="">ROOM</span> <strong id=header-room-num class=room-number ng-class=getColorCode()>{{stayDetails.details.room_number}}</strong> <span id=room-type data-room-type={{stayDetails.details.room_type}}>{{stayDetails.details.room_type_name}}</span></span> <span class=nights ng-class="{\'overlay\' : stayDetails.isOverlay }"><span class="guest-status nights"></span><ng-pluralize count=stayDetails.details.total_nights when="{\'0\': \'Day Use\', \'1\': \'1 night\', other: \'{} nights\'}"></ng-pluralize></span> <span class=date ng-class="{\'overlay\' : stayDetails.isOverlay }"><span class="guest-status small-icon check-in" translate="">CHECK_IN</span> {{getSimplifiedDayName(stayDetails.details.arrival_date)}} {{stayDetails.details.arrival_date|date:dateFormat}}</span> <span class=date ng-class="{\'overlay\' : stayDetails.isOverlay }"><span class="guest-status small-icon check-out" translate="">CHECK_OUT</span> {{getSimplifiedDayName(stayDetails.details.departure_date)}} {{stayDetails.details.departure_date|date:dateFormat}}</span></div></div>'),t.put("/assets/partials/changeStayDates/rvChangeStayDatesReservationUpdate.html",'<div id=reservation-details class=reservation-updates><div id=no-reservation-updates class="updates-content no-content" ng-show="rightSideReservationUpdates==\'\'"><div class=info><strong class=h1 translate="">CAHNGE_STAY_DATE_TO_SEE_ROOM_AND_RATE_CHANGES</strong></div></div><div id=reservation-updates class=updates-content ng-show="rightSideReservationUpdates==\'ROOM_AVAILABLE\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'ROOM_AVAILABLE\'}"><h4 class=available-title translate="">RESERVATION_UPDATES</h4><div id=update-details class="details scrollable" ng-iscroll=edit_staydate_updatedDetails ng-iscroll-delay=100><div class=wrapper><h2 class=room><strong id=room-number class=room-number ng-class=getColorCode()>{{roomSelected}}</strong> <span id=room-type>{{stayDetails.details.room_type_name}}</span></h2><ul class=data><li class=nights><span class="guest-status nights" translate="">NIGHTS</span> <span id=new-nights><ng-pluralize count=calendarNightDiff when="{\'0\': \'Day Use\', \'1\': \'1 night\', other: \'{} nights\'}"></ng-pluralize></span></li><li class=date><span class="guest-status small-icon check-in" translate="">CHECK_IN</span> <span id=new-check-in>{{getSimplifiedDayName(checkinDateInCalender)}} {{checkinDateInCalender|date:dateFormat}}</span></li><li class=date><span class="guest-status small-icon check-out" translate="">CHECK_OUT</span> <span id=new-check-out>{{getSimplifiedDayName(checkoutDateInCalender)}} {{checkoutDateInCalender|date:dateFormat}}</span></li></ul><p class=rate><span class=number ng-show=!isStayRatesSuppressed><span id=avg-daily-rate>{{totCurrencySymbol}}{{avgRate}}</span> /<strong id=total-stay-cost>{{totCurrencySymbol}}{{totRate}}</strong></span> <span class=number ng-show=isStayRatesSuppressed><span id=avg-daily-rate translate="">SUPPRESSED_RATES_TEXT</span> <strong id=total-stay-cost></strong></span> {{stayDetails.calendarDetails.rate_desc}}</p><div class=action><a id=confirm-changes data-transition="nested-view reload-content" class="button back-button brand-colors" ng-click=clickedStayRangeChangeConfirmButton() translate="">CONFIRM_UPDATES</a> <button type=button id=reset-dates class="button blank" ng-click=resetDates() translate="">CANCEL</button></div></div></div></div><div id=room-list class=updates-content ng-show="rightSideReservationUpdates==\'ROOM_TYPE_AVAILABLE\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'ROOM_TYPE_AVAILABLE\'}"><h4 class="available-title error">{{\'ROOM\' | translate}} <span id=current-room>{{stayDetails.details.room_number}}</span> {{\'IS_NOT_AVAILABLE\' | translate}}</h4><strong class=subheading>{{\'PLEASE_SELECT_ANOTHER_ROOM\' | translate }} <button type=button id=reset-dates class="button blank" ng-click=resetDates() translate="">RESET_DATES</button></strong><div id=change-room class="details scrollable" ng-iscroll=edit_staydate_updatedDetails ng-iscroll-delay=100><div class=wrapper><ul class=rooms><li ng-repeat="room in availableRooms"><button type=button ng-click=roomSelectedFromList(room.room_number) class="button white"><span id=room-list-number class=room-number ng-class="getColorCode(stayDetails.calendarDetails.room_ready_status, stayDetails.calendarDetails.use_inspected)">{{room.room_number}}</span></button></li></ul></div></div></div><div id=room-locked class="updates-content no-content" ng-show="rightSideReservationUpdates==\'ROOM_NOT_AVAILABLE\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'ROOM_NOT_AVAILABLE\'}"><div class=info><strong class=h1 translate="">VALIDATION_MSG_DATE</strong> <span class=h2 translate="">PLEASE_SEE_FRONT_DESK</span> <button type=button id=reset-dates class="button blank" ng-click=resetDates() translate="">RESET_DATES</button></div></div><div id=room-locked class="updates-content no-content" ng-show="rightSideReservationUpdates==\'ROOM_IN_HOUSE\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'ROOM_IN_HOUSE\'}"><div class=info><strong class=h1 translate="">ROOM_UNAVAILABLE</strong> <span class=h2 translate="">PLEASE_SEE_FRONT_DESK</span> <button type=button id=reset-dates class="button blank" ng-click=resetDates() translate="">RESET_DATES</button></div></div><div id=room-locked class="updates-content no-content" ng-show="rightSideReservationUpdates==\'MAINTENANCE\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'MAINTENANCE\'}"><div class=info><strong class=h1 translate="">ROOM_SCHEDULED_FOR_MAINTENANCE</strong> <button type=button id=reset-dates class="button blank" ng-click=resetDates() translate="">RESET_DATES</button></div></div><div id=room-locked class="updates-content no-content" ng-show="rightSideReservationUpdates==\'ROOM_CANNOT_UNASSIGN\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'ROOM_CANNOT_UNASSIGN\'}"><div class=info><strong class=h1 translate="">ROOM_CANNOT_UNASSIGN</strong> <button type=button id=reset-dates class="button blank" ng-click=resetDates() translate="">RESET_DATES</button></div></div><div id=room-restricted-continue class=updates-content ng-show="rightSideReservationUpdates==\'RESTRICTION_EXISTS\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'RESTRICTION_EXISTS\'}"><div id=unassign-room class="details scrollable"><div class=wrapper><h3 class=unnasign-from-guest><span ng-repeat="restriction in stayDetails.restrictions | unique: restriction.name">{{restriction.name}} <span ng-show="restriction.days!= null">&nbsp;{{\'OF\'|translate}}&nbsp;</span> <strong>{{restriction.days}}</strong>{{$last ? \'\' : \', \'}} <span ng-show="restriction.days== null && $last && stayDetails.restrictions.length==1" translate="">RESTRICTION</span> <span ng-show="restriction.days== null && $last && stayDetails.restrictions.length>1" translate="">RESTRICTIONS</span></span> <span translate="">APPLIES_TO_RESERVATION</span></h3><button id=extend-stay type=button class="button green" ng-click=checkAvailabilityStatus(); translate="">CONTINUE</button> <button type=button class="button blank" ng-click=resetDates()><span translate="">CANCEL</span></button></div></div></div><div id=room-assigned-to-another class=updates-content ng-show="rightSideReservationUpdates==\'PREASSIGNED\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'PREASSIGNED\'}"><h4 class="available-title error"><span translate="">ROOM</span> {{roomSelected}} <span translate="">NOT_AVAILABLE_FOR_DATE_RANGE</span></h4><div id=unassign-room class="details scrollable"><div class=wrapper><h3 class=unnasign-from-guest><span translate="">UNASSIGN_ROOM_FROM</span> <strong>{{stayDetails.preassignedGuest.name}}</strong>, <span translate="">ARRIVING</span> <strong>{{stayDetails.preassignedGuest.arrival_date|date:dateFormat}}</strong> ?</h3><button id=extend-stay type=button class="button green" ng-click=showRoomAvailable(); translate="">YES</button> <button type=button class="button blank" ng-click=resetDates()><span translate="">NO</span> (<span translate="">RESET_DATES</span>)</button></div></div></div><div id=room-restricted class="updates-content no-content" ng-show="rightSideReservationUpdates==\'STAY_RANGE_RESTRICTED\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'STAY_RANGE_RESTRICTED\'}"><div class=info><strong class=h1 translate="">VALIDATION_MSG_MIN_LENGTH</strong> <span class=h2 translate="">PLEASE_SEE_FRONT_DESK</span> <button type=button id=reset-dates class="button blank" ng-click=resetDates() translate="">RESET_DATES</button></div></div><div class="updates-content no-content" ng-show="rightSideReservationUpdates==\'MAX_LENGTH_EXCEEDED\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'MAX_LENGTH_EXCEEDED\'}"><div class=info><strong class=h1 translate="">VALIDATION_MSG_MAX_LENGTH_EXCEEDED</strong> <span class=h2 translate="">PLEASE_SEE_FRONT_DESK</span> <button type=button class="button blank" ng-click=resetDates() translate="">RESET_DATES</button></div></div><div id=unable-to-extend class="updates-content no-content" ng-show="rightSideReservationUpdates==\'NO_HOUSE_AVAILABLE\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'NO_HOUSE_AVAILABLE\'}"><div class=info><span class="h1 error" translate="">UNABLE_TO_EXTEND_STAY</span> <span class=h2 translate="">NO_ROOMS_AVAILABLE_FOR_ROOM_TYPE</span> <button type=button class="button green" ng-click=goToRoomAndRates() translate="" ng-hide="reservationData.group.id !=\'\'">FIND_ROOMS_AND_RATE_BUTTON_TEXT</button></div></div><div id=unable-to-extend class="updates-content no-content" ng-show="rightSideReservationUpdates==\'HAS_MULTIPLE_RATES\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'HAS_MULTIPLE_RATES\'}"><div class=info><span class=h2 translate="">MULTIPLE_RATES_EXISTS</span> <button type=button class="button green" ng-click=goToRoomAndRates() translate="" ng-hide="reservationData.group.id !=\'\'">FIND_ROOMS_AND_RATE_BUTTON_TEXT</button></div></div><div id=room-locked class="updates-content no-content" ng-show="rightSideReservationUpdates === \'ROOM_OOO\'" ng-class="{\'hidden\': rightSideReservationUpdates !== \'ROOM_OOO\'}"><div class=info><strong class=h1 translate="">ROOMIS_OOO</strong> <button type=button id=reset-dates class="button blank" ng-click=resetDates() translate="">RESET_DATES</button></div></div><div id=room-locked class="updates-content no-content" ng-show="rightSideReservationUpdates==\'NO_ROOM_MOVE\'" ng-class="{\'hidden\': rightSideReservationUpdates!=\'NO_ROOM_MOVE\'}"><div class=info><strong class=h1 translate="">NO_ROOM_MOVE</strong> <span class=h2 translate="">PLEASE_SEE_FRONT_DESK</span> <button type=button id=reset-dates class="button blank" ng-click=resetDates() translate="">RESET_DATES</button></div></div><button type=button id=find-rooms-and-rates class="button green" ng-click=goToRoomAndRates() ng-hide="!isStandAlone || rightSideReservationUpdates==\'ROOM_TYPE_AVAILABLE\' || rightSideReservationUpdates==\'ROOM_AVAILABLE\' || rightSideReservationUpdates==\'ROOM_NOT_AVAILABLE\' || rightSideReservationUpdates==\'NO_HOUSE_AVAILABLE\' || rightSideReservationUpdates==\'HAS_MULTIPLE_RATES\' || rightSideReservationUpdates==\'RESTRICTION_EXISTS\' || reservationData.group.id !=\'\'" translate="">FIND_ROOMS_AND_RATE_BUTTON_TEXT</button></div>'),t.put("/assets/partials/common/bussinessDateChangingPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div id=end-of-day class="modal-content form confirmation"><button class=modal-close type=button ng-click=closeBussinnesDatePopup() id=modal-close><span class="icons icon-close invert"></span></button> <strong class="h2 message">End of Day</strong><div class=notice>End of Day Routine starting now!</div><div class=actions><button class="button green" ng-click=closeBussinnesDatePopup()>Ok</button></div></div></div>'),t.put("/assets/partials/common/header.html",'<header ng-class="{\'no-print\':addNoPrintClass,\'logo-print\':isLogoPrint}" class=nav-bar role=banner><label class=back-button ng-if="searchBackButtonCaption!=\'\'" ng-click=headerBackButtonClicked()>{{searchBackButtonCaption}}</label><label class=back-button href="" ng-if=setPrevState.title ng-hide=setPrevState.hide click-touch=loadPrevState()>{{ setPrevState.title }}</label><div class=logo><img ng-src={{userInfo.logo}} alt=""></div><h1><strong class=hotel>{{currentHotelData.name}}</strong> {{heading | translate}}<div class=user><strong>{{userInfo.first_name}} {{userInfo.last_name}}</strong> <em class=date ng-hide=isEodRunning>{{userInfo.business_date | date:\'EEEE, d MMMM y\'}}</em> <em class="date updating" ng-show=isEodRunning>End of Day Routine in Progress</em> <em class="date updating" ng-show=isEodProcessRunning&&!isEodRunning>EOD running again.</em> <em class="date error" ng-show=isEodProcessFailed&&!(isEodProcessRunning||isEodRunning)>EOD Processes failed, please check log!</em></div></h1></header>'),t.put("/assets/partials/common/notification_err_message_basic.html","<snt-notify message=errorMessage></snt-notify>"),t.put("/assets/partials/common/notification_message.html","<snt-notify message=errorMessage></snt-notify>"),t.put("/assets/partials/common/notification_success_message.html","<snt-notify message=successMessage type=success></snt-notify>"),t.put("/assets/partials/common/rvBussinessDateChangedPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content new-content form warning bussiness-date-changed-popup"><div translate="">BUSINESS_DATE_CHANGED</div><div class="actions float"><button class="button modal-close white red-text" ng-click=goToDashboard()>Ok</button></div></div></div>'),t.put("/assets/partials/common/rvDatePicker.html","<div id=modal class=modal-show ng-class=\"{'modal-show': !modalClosing}\"><div ui-date=dateOptions ng-model=data.selectedDate ui-date-format=yy-mm-dd class=ngmodal-uidate-wrap></div></div>"),t.put("/assets/partials/common/rvFullscreenHeader.html",'<button type=button class="button white icons icon-remove-10" rv-fullscreen="">Close fullscreen</button><div class=screen-info><strong class=info-heading>{{heading | translate}}</strong> <span class=info-subheading>{{fullscreenData.subHeader | translate}}</span></div><div class=app-info><strong class=hotel>{{currentHotelData.name}}</strong><div class=user><span>{{userInfo.first_name}} {{userInfo.last_name}}</span> <em class=date ng-show=!isEodRunning>{{userInfo.business_date | date:\'EEEE, d MMMM y\'}}</em> <em class="date updating" ng-show=isEodRunning>Business Date Change In Progress</em> <em class="date error" ng-show=isEodProcessFailed&&!(isEodProcessRunning||isEodRunning)>Some EOD Processes failed, check log!</em></div></div>'),t.put("/assets/partials/common/rvWarningPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Spaces are not supported in the chosen format</span> <button type=button class="button blank" ng-click=closeDialog()>OK</button></div></div>'),t.put("/assets/partials/companyCard/companyCardPayment.html",'<form ng-controller=RVPaymentCompanyCardCtrl class="form card-tab scrollable" ng-iscroll=paymentList ng-iscroll-delay=1000 ng-show="currentSelectedTab == \'wallet\'"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div class=wrapper><strong class="h3 only-print" ng-class="{\'no-print\': paymentData.data.length === 0}">Credit Cards &amp; Payment</strong><div class="entry full-width"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><a ng-click="openDeleteSetAsPrimaryModal(payment.id, $index)" class="active-item item-payment primary open-modal float active-item-no-transition" ng-repeat="payment in paymentData.data" ng-if="payment.payment_type == \'CC\'"><figure class=card-logo><img ng-src=/ui/pms-ui/images/{{payment.card_code}}.png alt=""></figure><span class=number>Ending with <span class="value number">{{payment.mli_token}}</span></span> <span class=date>Date <span class="value date">{{payment.card_expiry}}</span></span> <span class=name>Name <span class="value name">{{payment.card_name}}</span></span> <span class=primary ng-show=payment.is_primary><span class="value primary">Primary</span></span> <span class="value code" ng-show="payment.payment_type_id != 1"><span class=name>{{ payment.payment_type }}</span> <span class=primary ng-show=payment.is_primary><span class="value primary">Primary</span></span></span></a> <a class=add-new-button click-touch=openAddNewPaymentModel()>+ New Payment Method</a></div></form>'),
t.put("/assets/partials/companyCard/rvArStatementPopupBkup.html",'<div role=dialog id=modal class=modal-show ng-click=clearErrorMessage() ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form format-bill"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <strong class="h2 message">Statement</strong><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry full-width"><label for=company-email>Email</label> <input type=text name=email placeholder="Enter an Email" ng-model=filterData.statementEmailAddress></div><div class=actions><button type=button class="button with-icon open-modal" ng-class="{ \'blue\': filterData.statementEmailAddress !== \'\' , \'grey overlay\': filterData.statementEmailAddress === \'\'}" ng-click=clickedEmailArStatementButton()><span class="icons icon-email"></span> Email</button> <button type=button class="button with-icon blue modal-close" ng-click=clickedPrintArStatementButton()><span class="icons icon-print"></span> Print</button> <button type=button class="button blank modal-close inline" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/companyCard/rvArStatementPrintTemplateBkup.html",'<div class="invoice ar-statement"><div class="invoice-logo envelope"><img ng-src={{printData.hotel_logo}} alt=""><h1>{{printData.hotel_name}}</h1><span ng-bind-html=printData.hotel_address></span> <span class=type translate="">STATEMENT</span></div><div class=statement-header><div class=guest-info><strong>{{printData.card_details.name}}</strong><br><span ng-bind-html=printData.card_details.address></span></div><div class=statement-info><p class=statement-meta><strong translate="">STATEMENT_DATE</strong>{{printData.statement_date}}</p><p class=statement-meta ng-if="printData.account_type === \'COMPANY\'"><strong translate="">CORPORATE_ID</strong>{{printData.corporate_id}}</p><p class=statement-meta ng-if="printData.account_type === \'TRAVELAGENT\'"><strong translate="">IATA_NO</strong>{{printData.iata_no}}</p><p class=statement-meta><strong translate="">INVOICE_NO</strong>{{printData.invoice_no}}</p><p class=statement-meta><strong translate="">PAYMENT_DUE_DAYS</strong>{{printData.payment_due_days}}</p></div></div><div class=statement-header-text ng-if=printData.custom_text_header><p>{{printData.custom_text_header}}</p></div><div class=invoice-body><table class=invoice-details><thead><tr><th></th><th class=charge-date translate="">DATE_OF_CHARGE</th><th class=charge-code translate="">CHARGE_CODE</th><th class=charge-description translate="">CHARGE_DESCRIPTION</th><th class=align-right translate="">CHARGE_AMOUNT</th><th class=align-right translate="">AMOUNT_DUE</th><th class=align-right translate="">CREDITS</th></tr></thead><tbody><tr class=person ng-repeat="statement in printData.statement_details" ng-if=!statement.is_payment_method><td class=person-info><strong class=name>{{statement.reservation_details.guest_name}}</strong><br><span class=person-meta><strong translate="">RESERV</strong> {{statement.reservation_details.reservation_no}}</span> <span class=person-meta><strong translate="">ARRIVAL_DATE</strong> {{statement.reservation_details.arrival_date | date:dateFormat }}</span> <span class=person-meta><strong translate="">DEPARTURE_DATE</strong> {{statement.reservation_details.departure_date | date:dateFormat }}</span></td><td class=charges-table-container colspan=4><table class=charges-table><tr ng-repeat="item in statement.reservation_details.charge_details"><td class=charge-date>{{item.date | date :dateFormat }}</td><td class=charge-code>{{item.charge_code}}</td><td class=charge-description><span>{{item.description}}</span> <span class=reference>{{item.reference_number}}</span> <span class=reference>{{item.reference_text}}</span></td><td class=align-right>{{currencySymbol}}{{item.amount | number: precisonTwo}}</td></tr></table></td><td class=align-right>{{currencySymbol}}{{statement.reservation_details.amount_due | number: precisonTwo}}</td><td></td></tr><tr class=payment ng-repeat="statement in printData.statement_details" ng-if=statement.is_payment_method><td class=person-info><strong class=name>{{statement.payment_details.name}}</strong></td><td class=charge-date>{{statement.payment_details.date_of_charge | date:dateFormat }}</td><td class=charge-code>{{statement.payment_details.charge_code}}</td><td class=charge-description>{{statement.payment_details.charge_description}}</td><td></td><td></td><td class=align-right>{{currencySymbol}}{{statement.payment_details.credits | number: precisonTwo}}</td></tr></tbody><tfoot><tr><td colspan=6><strong translate="">TOTAL_AMOUNT</strong></td><td><strong>{{currencySymbol}}{{printData.total_amount | number: precisonTwo}}</strong></td></tr><tr ng-if=!printData.has_enabled_extended_tax_breakdown ng-repeat="tax in printData.tax_details"><td colspan=6>{{tax.description}}</td><td>{{currencySymbol}}{{tax.tax_amount | number: precisonTwo}}</td></tr></tfoot></table><table class="invoice-details tax-breakdown" ng-if=printData.has_enabled_extended_tax_breakdown><thead><tr><th class=tax-description translate="">TAX_DESCRIPTION</th><th translate="">GROSS</th><th translate="">NET</th><th translate="">TAX</th></tr></thead><tbody><tr ng-repeat="item in printData.extended_tax_breakdown.details"><td ng-if="item.description === \'Tax Exempt\'">{{ printData.translation.tax_exempt }}</td><td ng-if="item.description !== \'Tax Exempt\'">{{ item.description }}</td><td>{{currencySymbol}}{{item.gross_amount | number: precisonTwo}}</td><td>{{currencySymbol}}{{item.net_amount | number: precisonTwo}}</td><td>{{currencySymbol}}{{item.tax_amount | number: precisonTwo}}</td></tr></tbody><tfoot><tr><td>Total</td><td>{{currencySymbol}}{{printData.extended_tax_breakdown.total_gross_amount | number: precisonTwo}}</td><td>{{currencySymbol}}{{printData.extended_tax_breakdown.total_net_amount | number: precisonTwo}}</td><td>{{currencySymbol}}{{printData.extended_tax_breakdown.total_tax_amount | number: precisonTwo}}</td></tr></tfoot></table></div><div class=invoice-footer ng-if=printData.custom_text_footer><p>{{printData.custom_text_footer}}</p></div></div>'),t.put("/assets/partials/companyCard/rvArTransactionsAddCreditsBkup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post action=add-ar-amount id=add-ar-amount name=add-ar-amount class="modal-content form transaction-amount"><button ng-click=closeDialog() class=modal-close id=modal-close type=button><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="message h2" translate="">ADD_AMOUNT</span> <span class=text><span translate="">AVAILABLE_AMOUNT</span>: <strong class=green ng-hide="addedCreditAmount>0">{{currencySymbol}}{{existingCreditAmount}}</strong><strong class=red ng-show="addedCreditAmount>0">{{currencySymbol}}{{existingCreditAmount}}</strong> <strong class=green ng-show="addedCreditAmount>0">{{currencySymbol}}{{totalCreditAmount}}</strong></span><div class="entry full-width"><label for=amount><span translate="">AMOUNT</span> (<span>{{currencySymbol}}</span>)</label><div class=select><select ng-change=addCreditAmount() ng-model=selectedSymbol name=amount-type id=amount-type><option value=+ seleted="">+</option><option value=->-</option></select></div><input ng-keyup=addCreditAmount() ng-model=addedCreditAmount name=amount id=amount value={{addedCreditAmount}} type=text></div><div class=actions><button ng-click=savebuttonClick() type=button class="button green" translate="">SAVE</button> <button ng-click=closeDialog() type=button class="button blank" translate="">CANCEL</button></div></form></div>'),t.put("/assets/partials/companyCard/rvArTransactionsPayCreditsBkup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-click=clearErrorMessage() ng-cloak=""><form ng-show=!showSixPayLoader method=post action=pay-bill id=pay-bill name=pay-bill class="modal-content form pay-bill" ng-class="{\'select-card\':showCCPage}"><button id=modal-close type=button class=modal-close ng-click=handleCloseDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message">{{\'SUBMIT_PAYMENT\' | translate}}</strong><div class=payment-form><snt-payment hotel-config=hotelPaymentConfig workstation-id={{workstation_id}} bill-id=arTransactionDetails.company_or_ta_bill_id payment-types=renderData.paymentTypes selected-payment-type=saveData.paymentType bill-number=billNumber amount=renderData.defaultPaymentAmount payment-currency-amount=renderData.defaultPaymentCurrencyAmount action-type=AR_SUBMIT_PAYMENT has-permission=hasPermissionToMakePayment() form-template-url=/assets/partials/payment/rvARPaymentPartial.html></snt-payment></div></form></div>'),t.put("/assets/partials/companyCard/rvCompanyCardArTransactionsBkup.html",'<form method=post id=cc-ar-transactions name=cc-ar-transactions class="form card-tab inner-header transactions" ng-click=clearErrorMessage()><div class=tab-header><div class="search-form has-dates" ng-class="{\'open\':filterData.filterActive}"><div class="entry filter"><button ng-click=clickedFilter() type=button class="filter button with-icon only-icon" ng-class="{\'active\':filterData.filterActive}"><span class="icons icon-filter" ng-class="{\'active\':filterData.filterActive}"></span></button></div><div class="entry showing"><div class=select><select id=showing-type ng-model=filterData.transactionType ng-change=onTransactionTypeChange()><option value=PAYMENTS ng-selected="filterData.transactionType==\'PAYMENTS\'" translate="">SHOW_PAYMENTS</option><option value=CHARGES ng-selected="filterData.transactionType==\'CHARGES\'" translate="">SHOW_CHARGES</option><option value=ALL ng-selected="filterData.transactionType==\'ALL\'" translate="">SHOW_ALL</option></select></div></div><div class="entry showing"><div class=select><select name=showing id=showing ng-model=filterData.showFilterFlag ng-change=chagedShowFilter()><option ng-selected="filterData.showFilterFlag==\'ALL\'" value=ALL translate="">SHOW_ALL_BILLS</option><option ng-selected="filterData.showFilterFlag==\'OPEN\'" value=OPEN translate="">SHOW_OPEN_BALANCE</option></select></div></div><div class="entry search"><button ng-click="$event.preventDefault(); clearSearchField();" ng-class="{\'visible\': escapeNull(filterData.textInQueryBox) !=\'\' }" class=clear-query><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <button ng-click=queryEntered();$event.preventDefault(); name=submit class="icons icon-search" translate="">SEARCH</button> <input ng-change=queryEntered() ng-model=filterData.textInQueryBox name=ar-transaction-query id=ar--query class=query placeholder="{{ \'SEARCH_BY_NAME_ROOM_PLACEHOLDER\' | translate }}" type=search autocomplete=off></div><div class="entry dates"><div class="entry-data has-datepicker"><label for=ar-transaction-date-from translate="">FROM</label> <button ng-click="$event.preventDefault(); clearFromDateField();" class=clear-query ng-class="{\'visible\': escapeNull(filterData.fromDate) !=\'\'}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input ng-click=clickedFromDate() name=ar-transaction-date-from id=ar-transaction-date-from type=text class=datepicker value="{{ filterData.fromDate | date : dateFormat }}" readonly=""> <button ng-click=clickedFromDate() type=button class=ui-datepicker-trigger></button></div><div class="entry-data has-datepicker"><label for=ar-transaction-date-to translate="">TO</label> <button ng-click="$event.preventDefault(); clearToDateField();" class=clear-query ng-class="{\'visible\': escapeNull(filterData.toDate) !=\'\'}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input name=ar-transaction-date-to id=ar-transaction-date-to type=text class=datepicker value="{{ filterData.toDate | date : dateFormat }}" readonly=""> <button ng-click=clickedToDate() type=button class=ui-datepicker-trigger></button></div></div></div><ul class=totals><li><div class="data with-button"><span class=label translate="">OPEN_GUEST_BILLS</span> <span class=value>{{arTransactionDetails.open_guest_bills}}</span> <button ng-show="arTransactionDetails.open_guest_bills > 0" ng-click=clickedPayAll() type=button class="button green" translate="">PAY_ALL</button></div></li><li><div class=data><span class=label>Total Payments</span> <span class=value><span class=currency>{{currencySymbol}}</span>{{arTransactionDetails.total_payments | number: precisonTwo}}</span></div></li><li><div class=data><span class=label>Total Charges</span> <span class="value grey"><span class=currency>{{currencySymbol}}</span>{{arTransactionDetails.total_charges | number: precisonTwo }}</span></div></li><li><div class=data><span class=label>Current Balance</span> <span class="value red"><span class=currency>{{currencySymbol}}</span>{{arTransactionDetails.current_balance | number: precisonTwo}}</span></div></li><li><div class=data><span class=label>Unallocated Credit</span> <span class="value green"><span class=currency>{{currencySymbol}}</span>{{arTransactionDetails.unallocated_credit | number: precisonTwo}}</span></div><button type=button class="button green with-icon only-icon" ng-click=payAmount()><span class="icons icon-wallet"></span></button></li><li><button ng-show="arTransactionDetails.ar_transactions.length > 0" ng-click=clickedPrintButton() type=button class="button blue with-icon only-icon"><span class="icons icon-print"></span></button> <button ng-show="arTransactionDetails.ar_transactions.length > 0" type=button class="button orange with-icon only-icon" ng-click=clickedArStatementButton()><span class="icons icon-invoice"></span></button></li></ul></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="tab-details scrollable" ng-class="{ \'with-pagination\': ( arTransactionDetails.total_count > filterData.perPage && arTransactionDetails.ar_transactions.length > 0 )}" ng-show="arTransactionDetails.ar_transactions.length > 0" ng-iscroll=ar-transaction-list><div class=wrapper><ul class=search-results><li class="reservation transaction" ng-repeat="transaction in arTransactionDetails.ar_transactions"><div class="faux-anchor has-arrow toggle" ng-click=clickedOnTransaction($index,$event) ng-class="{\'active\':(transaction.active && transaction.transaction_type == \'DEBIT\')}" ng-show="transaction.transaction_type == \'DEBIT\'"><figure class=guest-image ng-if="transaction.associated_type == \'Reservation\'"><img src={{transaction.icon_url}} alt=""> <span class=vip ng-if=transaction.guest_is_vip>VIP</span></figure><div class=data ng-if="transaction.associated_type == \'Reservation\'"><h2><span ng-bind-html="transaction.guest_first_name | highlight:filterData.textInQueryBox:false"></span> <span ng-bind-html="transaction.guest_last_name | highlight:filterData.textInQueryBox:false"></span></h2><span class=confirmation ng-if=transaction.external_reference_number>EXT. REF: <span class=value ng-bind-html=transaction.external_reference_number|highlight:filterData.textInQueryBox:false></span></span> <span class=confirmation ng-if="transaction.reservation_confirm_no && !transaction.external_reference_number">CONF. NO: <span class=value ng-bind-html="transaction.reservation_confirm_no |highlight:filterData.textInQueryBox:false"></span></span><div class=information><span class=invoice>Inv. <span class=value ng-bind-html="transaction.invoice_number |highlight:filterData.textInQueryBox:false"></span></span><div class=arrival><span class="guest-status small-icon check-in">CHECK-IN</span><time><span class=date>{{transaction.reservation_arrival_date| date : dateFormat}}</span> <span ng-if=transaction.is_hourly class=time>{{getTimeConverted(transaction.reservation_arrival_time)}}</span></time></div><div class=departure><span class="guest-status small-icon check-out">CHECK_OUT</span><time><span class=date>{{transaction.reservation_dep_date| date : dateFormat}}</span> <span ng-if=transaction.is_hourly class=time>{{getTimeConverted(transaction.reservation_dep_time)}}</span></time></div></div></div><div class=group-info ng-if="transaction.associated_type == \'PostingAccount\'">A</div><div class="data no-image" ng-if="transaction.associated_type == \'PostingAccount\'"><h2><span>{{transaction.account_name}}</span></h2><span class=confirmation>{{transaction.account_number}}</span><div class=arrival><span class="guest-status small-icon check-in">CHECK-IN</span><time><span class=date>{{transaction.from_date| date : dateFormat}}</span> <span ng-if=transaction.is_hourly class=time></span></time></div><div class=departure><span class="guest-status small-icon check-out">CHECK_OUT</span><time><span class=date>{{transaction.to_date| date : dateFormat}}</span> <span ng-if=transaction.is_hourly class=time></span></time></div></div><div class=amount><span class=currency>{{currencySymbol}}</span>{{transaction.amount | number:precisonTwo }}</div><div class=switch-button ng-class="{\'on\': transaction.paid}"><input value="" type=checkbox> <label class=data-off><span class=value translate="">OPEN</span> <span class=switch-icon translate="">PAID</span></label> <label class=data-on><span class=switch-icon translate="">OPEN</span> <span class=value translate="">PAID</span></label></div></div><div class=faux-anchor ng-show="transaction.transaction_type == \'CREDIT\' && !transaction.is_cc_payment"><div class="data no-image"><h2><em>{{transaction.payment_type}}</em></h2><span class=confirmation>{{transaction.reference_text}}</span><div class=information><div class="icons small-icon icon-time">{{transaction.transaction_date | date : dateFormat}} <span class=time>{{getTimeConverted(transaction.transaction_time)}}</span></div></div></div><div class=amount ng-class="{\'credit\' : transaction.amount >= 0, \'debit\' : transaction.amount < 0}"><span class=currency>{{currencySymbol}}</span>{{transaction.amount | number:2 }}</div><span class=employee>{{transaction.user_name}}</span></div><div class=faux-anchor ng-show="transaction.transaction_type == \'CREDIT\' && transaction.is_cc_payment"><div class="data no-image"><div class=card-data><figure class=card-logo><img ng-src="/ui/pms-ui/images/{{transaction.card_details.card_code | lowercase }}.png" alt=""></figure><span class=number>{{\'ENDING_WITH\' | translate }}<span class=value>{{transaction.card_details.last_digits}}</span></span> <span class=date>Date <span class=value>{{transaction.card_details.expire_date}}</span></span></div><div class="icons small-icon icon-time">{{transaction.transaction_date | date : dateFormat}} <span class=time>{{getTimeConverted(transaction.transaction_time)}}</span></div></div><div class=amount ng-class="{\'credit\' : transaction.amount >= 0, \'debit\' : transaction.amount < 0}"><span class=currency>{{currencySymbol}}</span>{{transaction.amount | number:2 }}</div><span class=employee>{{transaction.user_name}}</span></div><div class=grid-items ng-show=transaction.active><table><thead><tr><th scope=col translate="">CHARGE_CODE</th><th scope=col translate="">DESCRIPTION</th><th scope=col translate="">FEES</th><th scope=col translate="">CREDITS</th></tr></thead><tbody><tr ng-repeat="item in transaction.details" ng-class-even="\'even\'" ng-class-odd="\'odd\'"><td><span ng-if="isStandAlone && !item.is_group_by_ref">{{item.charge_code}}</span> <span ng-class="{\'toggle\': isStandAlone && item.is_group_by_ref, \'active\': item.isExpanded}" ng-click=expandGroupedCharge(item) ng-if="isStandAlone && item.is_group_by_ref"><span class="icons icon-double-arrow"></span></span></td><td class=description>{{item.description}}<ul class=charge-items ng-if="isStandAlone && item.is_group_by_ref" ng-class="{\'hidden\': !item.isExpanded}"><li ng-repeat="object in item.light_speed_data"><span>{{object.description}}</span></li></ul></td><td ng-if=item.fees><span class=currency>{{currencySymbol}}</span>{{item.fees | number:2 }}<ul class=charge-items ng-if="isStandAlone && item.is_group_by_ref" ng-class="{\'hidden\': !item.isExpanded}"><li ng-repeat="object in item.light_speed_data"><span class=cost><span class=currency>{{currencySymbol}}</span>{{object.amount | number:precisonTwo }}</span></li></ul></td><td ng-if=!item.fees></td><td ng-if=item.credits><span class=currency>{{currencySymbol}}</span>{{item.credits | number:2 }}</td><td ng-if=!item.credits></td></tr></tbody></table><div class=actions ng-show=filterData.viewFromOutside><button type=button class="button brand-colors" ng-click=goToReservationDetails($index)>StayCard</button></div></div></li></ul></div><div ng-include="\'/assets/partials/companyCard/rvArStatementPrintTemplate.html\'"></div></div><div class="tab-details no-content" ng-show="arTransactionDetails.ar_transactions.length == 0 && arDetailsFetched"><div class=info><span class="icon-no-content icon-ok"></span> <strong class=h1 translate="">NO_TRANSACTIONS</strong> <span class=h2 translate="">OUTSTANDING_GUEST_BILLS_PAID</span></div></div><div class=search-pagination ng-show="arTransactionDetails.total_count > filterData.perPage && arTransactionDetails.ar_transactions.length > 0"><button type=button class="button dark-grey next" ng-click=loadNextSet() ng-disabled=isNextButtonDisabled() translate="">NEXT</button> <button type=button class="button dark-grey prev" ng-click=loadPrevSet() ng-disabled=isPrevButtonDisabled() translate="">PREVIOUS</button><p><span translate="">SHOWING</span> <strong>{{filterData.start}}-{{filterData.end}}</strong> <span translate="">OF</span> <strong id=total-count>{{arTransactionDetails.total_count}}</strong> <span translate="">ITEMS</span></p></div></form>'),t.put("/assets/partials/companyCard/rvCompanyCardCommissions.html",'<form method=post action={action} id=ta-commisions name=ta-commisions class="form card-tab inner-header commisions" ng-show="currentSelectedTab == \'cc-commissions\'"><div class=tab-header ng-class="{ \'with-filters\' : isCommissionFilterTabOpened, \'no-filters\': !isCommissionFilterTabOpened && !(filterData.selectAll || selectedCommissions.length > 0), \'no-multi-property\': !shouldShowPropertyDropDown}"><div class="search-form has-options has-dates"><div class=filters ng-class="{\'hidden\' : filterData.selectAll || selectedCommissions.length > 0 || prePaidCommissions.length > 0}"><div class="entry dates date-range" ng-class="{\'hidden\': !isCommissionFilterTabOpened}"><div class="entry-data has-datepicker"><label for=commision-date-from translate="">COMMISSION_START_DATE</label> <button class=clear-query ng-click="$event.preventDefault(); clearFromDateField();" ng-class="{\'visible\': escapeNull(filterData.fromDate) !=\'\'}"><span class="icons icon-clear-search" translate="">COMMISSION_CLEAR_QUERY</span></button> <input id=commision-date-from type=text class=datepicker value="{{ filterData.fromDate | date : dateFormat }}" ng-click=clickedFromDate() readonly=""></div></div><div class="entry dates date-range" ng-class="{\'hidden\': !isCommissionFilterTabOpened}"><div class="entry-data has-datepicker"><label for=commision-date-to translate="">COMMISSION_END_DATE</label> <button class=clear-query ng-click="$event.preventDefault(); clearToDateField();" ng-class="{\'visible\': escapeNull(filterData.toDate) !=\'\'}"><span class="icons icon-clear-search" translate="">COMMISSION_CLEAR_QUERY</span></button> <input id=commision-date-to type=text class=datepicker value="{{ filterData.toDate | date : dateFormat }}" ng-click=clickedToDate() readonly=""></div></div><div class="entry select with-label" ng-class="{\'hidden\': !isCommissionFilterTabOpened}"><label for=commision-status translate="">COMMISSION_STATUS</label><select id=commision-status ng-model=filterData.commissionStatus ng-change=onFilterChange()><option value=Commissionable selected="" translate="">COMMISSION_COMMISSIONABLE</option><option value=Non-commissionable translate="">COMMISSION_NON_COMMISSIONABLE</option></select></div><div class="entry paid-status select with-label" ng-class="{\'hidden\': !isCommissionFilterTabOpened}"><label for=commision-paid translate="">COMMISSION_PAID_STATUS</label><select id=commision-paid ng-model=filterData.paidStatus ng-change=onFilterChange()><option value="" translate="">COMMISSION_SET_STATUS</option><option value=All translate="">COMMISSION_ALL</option><option value=Unpaid selected="" translate="">COMMISSION_UNPAID</option><option value=Paid translate="">COMMISSION_PAID</option><option value=Prepaid translate="">COMMISSION_PREPAID</option><option value="On Hold" translate="">COMMISSION_HOLD</option></select></div><div class="entry property select with-label" ng-show=shouldShowPropertyDropDown><label for=commision-property>Property</label><select ng-model=filterData.selectedHotel ng-change=onPropertyFilterChange() ng-options="mps.id as mps.name for mps in multiProperies"></select></div><button type=button class="button button-filter white with-icon only-icon" ng-click=toggleFilter()><span class="icons icon-filter"></span></button></div><div class=recalculate-form ng-show="(filterData.selectAll || selectedCommissions.length > 0)"><div class="entry paid-status"><div class="select with-label"><label for=commision-paid translate="">COMMISSION_HOLD_STATUS</label><select id=commision-paid ng-model=status.groupPaidStatus ng-change=onGroupPaidStatusChange(true)><option value="" translate="">COMMISSION_SET_STATUS</option><option value=Unpaid selected="" translate="">COMMISSION_UNPAID</option><option value="On Hold" translate="">COMMISSION_HOLD</option></select></div></div><div class="entry paid-status" ng-show="filterData.paidStatus != \'Prepaid\'"><div class="select with-label"><label for=commision-paid translate="">COMMISSION_PAID_STATUS</label><select id=commision-paid ng-model=status.groupPaidStatus ng-change=onGroupPaidStatusChange(false)><option value="" translate="">COMMISSION_SET_STATUS</option><option value=Unpaid selected="" translate="">COMMISSION_UNPAID</option><option value=Paid translate="">COMMISSION_PAID</option></select></div></div><div class="entry commission"><div class="entry input with-label"><label for=commision-paid>Recalculate Comm.</label> <input type=text placeholder="Enter Number" ng-model=filterData.commssionRecalculationValue ng-change=recalculationValueChanged()><div class=switch-button ng-class="{\'on\': filterData.toggleCommission}" ng-click=toggleCommission()><input id=recalculate-commission value="" type=checkbox> <label class=data-off><span class=switch-icon>%</span> <span class=value>{{ currencySymbol }}</span></label> <label class=data-on><span class=value>%</span> <span class=switch-icon>{{ currencySymbol }}</span></label></div></div><button type=button class="button green" ng-click=clickedRecalculate() ng-disabled="filterData.commssionRecalculationValue == \'\'" ng-class="{\'grey\' : filterData.commssionRecalculationValue == \'\'}">Recalculate</button></div></div></div><ul class=totals ng-class="{\'selected\' : filterData.selectAll || selectedCommissions.length > 0 || prePaidCommissions.length > 0}"><li>{{\'RESERVATION_TOTAL_REVENUE\' | translate}}<span class=value><span ng-bind-html="commissionSummary.totalReservationsRevenue | sntCurrency:this"></span></span></li><li ng-if=!isCommissionFilterTabOpened>{{\'RESERVATION_COMMISSIONABLE_REVENUE\' | translate}}<span class=value><span ng-bind-html="commissionSummary.totalCommissionableRevenue | sntCurrency:this"></span></span></li><li>{{\'COMMISSION_TO_DATE\' | translate}}<span class="value green"><span ng-bind-html="commissionSummary.totalCommission | sntCurrency:this"></span></span></li><li>{{\'COMMISSION_OWING\' | translate}}<span class="value red"><span ng-bind-html="commissionSummary.totalUnpaidCommission | sntCurrency:this"></span></span></li><li class="action no-margin"><button type=button class="button blue with-icon only-icon" ng-click=clickedPrintButton()><span class="icons icon-print"></span></button></li></ul></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=tab-details ng-class="{\'with-pagination\' : shouldShowPagination()}" ng-show="commissionDetails.length > 0"><ul class=search-results-header><li class=action><label class="checkbox inline" ng-class="{\'hidden\' : filterData.paidStatus == \'Prepaid\'}"><span class="icon-form icon-checkbox" ng-class="{\'checked\' : filterData.selectAll}"></span> <input id=commisions-select ng-model=filterData.selectAll type=checkbox ng-change=toggleSelection()></label></li><li class=reservation>Reservation</li><li class=revenue>{{\'COMMISSION_REVENUE\' | translate}}</li><li class=commissionable>{{\'RESERVATION_COMMISSIONABLE_REVENUE\' | translate}}</li><li class=commission>{{\'COMMISSION_RATE\' | translate}}</li><li class=amount>{{\'COMMISSION_AMOUNT\' | translate}}</li><li class=hold ng-show="commissionDetail.commission_data.paid_status != \'Prepaid\'">{{\'COMMISSION_HOLD\' | translate}}</li><li class=paid>{{\'COMMISSION_PAID\' | translate}}</li></ul><div id=travel-agent-commision-list class=scrollable ng-class="{ \'print-selected\' : (filterData.selectAll || selectedCommissions.length > 0 || prePaidCommissions.length > 0)}" ng-iscroll=commission-list><ul class="search-results wrapper"><li class="reservation commision in-card" ng-repeat="commissionDetail in commissionDetails" ng-class="{\'selected\' : (filterData.selectAll || commissionDetail.is_checked)}"><div class=faux-anchor ng-class="{ \'print-selected\' : commissionDetail.is_checked, \'prepaid\': commissionDetail.commission_data.paid_status == \'Prepaid\'}"><label class="checkbox inline" ng-class="{\'hidden\' : commissionDetail.commission_data.paid_status == \'Prepaid\'}"><span class="icon-form icon-checkbox" ng-class="{\'checked\' : commissionDetail.is_checked}"></span><input ng-model=commissionDetail.is_checked type=checkbox ng-change=onCheckBoxSelection(commissionDetail)></label><a class="has-arrow next-view" ng-click="goToStayCard(commissionDetail.reservation_id, commissionDetail.reservation_no)"><div class=data><h2>{{commissionDetail.guest_name}}</h2><span class=confirmation>{{commissionDetail.reservation_no}}</span></div><div class=revenue><span ng-bind-html="commissionDetail.reservation_revenue | sntCurrency:this"></span></div><div class=commissionable><span ng-bind-html="commissionDetail.commission_data.commissionable_revenue | sntCurrency:this"></span></div><div class=commission ng-class="{\'recalculated\':commissionDetail.commission_data.is_recalculated}"><strong>{{commissionDetail.commission_data.rate}}</strong></div><div class=amount><strong><span ng-if="commissionDetail.commission_data.amount !== undefined"><span ng-bind-html="commissionDetail.commission_data.amount | sntCurrency:this"></span></span></strong></div></a><div class=hold-status><button type=button class="button with-icon" ng-class="{\'active\': commissionDetail.commission_data.paid_status === \'On Hold\'}" ng-click="toggleHoldStatus($event, commissionDetail)" ng-show="commissionDetail.commission_data.paid_status != \'Prepaid\'"><span class="icons icon-hold" ng-class="{\'black\': commissionDetail.commission_data.paid_status !== \'On Hold\', \'red\': commissionDetail.commission_data.paid_status === \'On Hold\'}"></span></button></div><div class=paid-status><span ng-show="commissionDetail.commission_data.paid_status == \'Prepaid\'" translate="">COMMISSION_PREPAID</span><div class=switch-button ng-class="{\'on\': commissionDetail.commission_data.paid_status === \'Paid\',\'overlay\' : !hasPermissionToEditPaid()}" ng-show="commissionDetail.commission_data.paid_status != \'Prepaid\'"><input value="" type=checkbox ng-click=togglePaidStatus(commissionDetail)> <label class=data-off><span class=switch-icon translate="">COMMISSION_UNPAID</span> <span class=value translate="">COMMISSION_PAID</span></label> <label class=data-on><span class=value translate="">COMMISSION_UNPAID</span> <span class=switch-icon translate="">COMMISSION_PAID</span></label></div></div></div></li></ul></div><ul class=journal-footer-print><li>From <span>{{filterData.fromDate}}</span> to <span>{{filterData.toDate}}</span><br>Status <span>{{filterData.commissionStatus}}</span><br>Paid Status <span>{{filterData.paidStatus}}</span></li><li>Business date <span>{{businessDate}}</span><br>User <span>{{userName}}</span></li></ul></div><rv-pagination ng-show="commissionDetails.length > 0 && pagination.totalResultCount > filterData.perPage" page-options=paginationData page-data=pagination.totalResultCount></rv-pagination><div class="tab-details no-content" ng-show="commissionDetails.length == 0"><div class=info><span class="icon-no-content icon-ok"></span> <strong class=h1>No Commisions</strong> <span class=h2>No Commisions for selected Date Range, Commisionable & Paid Statuses</span></div></div></form>'),
t.put("/assets/partials/companyCard/rvCompanyCardContactInformation.html",'<form method=post id=cc-contact-info name=cc-contact-info class="form card-tab scrollable" ng-show="currentSelectedTab == \'cc-contact-info\'" ng-controller=companyCardDetailsContactCtrl ng-iscroll=companyCardDetailsContactCtrl ng-iscroll-delay=2000><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="holder left"><strong class=h3 ng-hide="account_type == \'TRAVELAGENT\'" translate="">COMAPNY_INFO</strong> <strong class=h3 ng-show="account_type == \'TRAVELAGENT\'" translate="">TA_INFO</strong><rv-textbox ng-if="account_type == \'COMPANY\'" value=contactInformation.account_details.account_name label="Company Name" placeholder="Enter Company Name" styleclass=full-width disabled=isUpdateEnabled(true)></rv-textbox><rv-textbox ng-if="account_type == \'TRAVELAGENT\'" value=contactInformation.account_details.account_name label="Travel Agent Name" placeholder="Enter Travel Agent Name" styleclass=full-width disabled=isUpdateEnabledForTravelAgent(true)></rv-textbox><rv-textbox value=contactInformation.address_details.street1 label=Address placeholder="Enter Address Line 1" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.address_line1_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.address_line1_mandatory.is_mandatory ? \'yes\' : \'no\'}}">></rv-textbox><rv-textbox value=contactInformation.address_details.street2 placeholder="Enter Address Line 2" styleclass=no-label disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"></rv-textbox><rv-textbox value=contactInformation.address_details.street3 placeholder="Enter Address Line 3" styleclass="no-label full-width" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"></rv-textbox><rv-textbox value=contactInformation.address_details.city label=City placeholder="Enter City" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.city_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.city_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox value=contactInformation.address_details.postal_code label="Postal code" placeholder="Enter Postal code" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.postal_code_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.postal_code_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox value=contactInformation.address_details.state label=State placeholder="Enter State" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"></rv-textbox><div class=entry><label for=company-country>{{\'COUNTRY\' | translate}}<strong ng-if="contactInformation.mandatoryFields.country_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.country_mandatory.is_mandatory">*</strong></label><div class=select><select ng-model=contactInformation.address_details.country_id ng-options="country.id as country.value for country in countries"><option value="" translate="">SELECT_COUNTRY</option></select></div></div><rv-textbox value=contactInformation.address_details.phone inputtype=tel label=Phone placeholder="Enter Contact Phone" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_phone_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.contact_phone_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox value=contactInformation.address_details.fax inputtype=tel label=Fax placeholder="Enter Contact Fax" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"></rv-textbox><rv-textbox value=contactInformation.address_details.email_address label="E-mail address" placeholder="Enter Contact Email Address" styleclass={{contactInformation.emailStyleClass}} disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_email_address_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.contact_email_address_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox value=contactInformation.e_invoice_address ng-if=contactInformation.mandatoryFields.e_invoice_mandatory.is_visible label="E-Invoice Address" placeholder="Enter E-Invoice Address" maxlength=30 required="{{contactInformation.mandatoryFields.e_invoice_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.e_invoice_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox value=contactInformation.account_details.web_page label="Web Page" placeholder="Enter Web Page" styleclass=full-width disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"></rv-textbox><div class="entry full-width" ng-hide=true><label for=company-logo translate="">COMAPNY_LOGO</label><div class="file-upload with-preview"><input type=file name=company-logo id=company-logo ng-model=contactInformation.account_details.company_logo accept=* app-filereader=""> <button type=button class="button brand-colors" translate="">CHOOSE_FILE</button></div><span class=file-preview ng-if="escapeNull(contactInformation.account_details.company_logo)!=\'\'"><img ng-src={{contactInformation.account_details.company_logo}} alt=""></span><span class=file-preview ng-if="escapeNull(contactInformation.account_details.company_logo)==\'\'"><em translate="">PREVIEW_NOT_AVAILABLE</em></span></div></div><div class="holder right"><strong class=h3 ng-hide="account_type == \'TRAVELAGENT\'" translate="">EXTENDED_COMPANY_DETAILS</strong> <strong class=h3 ng-show="account_type == \'TRAVELAGENT\'" translate="">EXTENDED_TA_DETAILS</strong><rv-textbox ng-if="account_type == \'COMPANY\'" value=contactInformation.account_details.account_number label="Corporate ID" placeholder="Enter Corporate ID" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"></rv-textbox><rv-textbox ng-if="account_type == \'TRAVELAGENT\'" value=contactInformation.account_details.account_number label="IATA Number" placeholder="Enter IATA Number" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"></rv-textbox><rv-textbox ng-if=contactInformation.mandatoryFields.organization_id_mandatory.is_visible value=contactInformation.account_details.organization_id label="Organization Id" placeholder="Enter Organization Id" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.organization_id_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.organization_id_mandatory.is_mandatory ? \'yes\' : \'no\'}}" maxlength=50></rv-textbox><rv-textbox value=contactInformation.account_details.tax_number label="Tax Id" placeholder="Enter Tax Id" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.tax_id_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.tax_id_mandatory.is_mandatory ? \'yes\' : \'no\'}}" maxlength=100></rv-textbox><rv-textbox ng-if=contactInformation.mandatoryFields.regd_tax_office_mandatory.is_visible value=contactInformation.account_details.reg_tax_office label="Registered Tax Office" placeholder="Enter Tax Office" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.regd_tax_office_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.regd_tax_office_mandatory.is_mandatory ? \'yes\' : \'no\'}}" maxlength=100></rv-textbox><div class="entry commission margin" ng-show="!isEmpty(contactInformation.commission_details)&& account_type == \'TRAVELAGENT\'"><label for=travel-agent-commission translate="">COMMISSION</label><div class="switch-button off" ng-class="{\'on\': contactInformation.commission_details.is_on}"><input id=travel-agent-commission ng-click=toggleCommission() value=commission type=checkbox checked="" ng-disabled=isUpdateEnabled()> <label class=data-off><span class=value translate="">OFF</span> <span class=switch-icon translate="">ON</span></label> <label class=data-on><span class="switch-icon grey" translate="">OFF</span> <span class=value translate="">ON</span></label></div><input id=travel-agent-commission-value value={{contactInformation.commission_value}} ng-model=contactInformation.commission_details.value type=number string-to-number="" ng-if=contactInformation.commission_details.is_on ng-disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"><div class=select ng-if=contactInformation.commission_details.is_on><select name=travel-agent-commission-type value=contactInformation.commission_details.type ng-model=contactInformation.commission_details.type ng-disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"><option value=percent>%</option><option value=amount>{{currencySymbol}}</option></select></div><div class=select ng-show="contactInformation.commission_details.is_on && contactInformation.commission_details.type === \'amount\'"><select class=styled ng-model=contactInformation.commission_details.commission_type ng-disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"><option value=perStay translate="">PER_STAY</option><option value=perNight translate="">PER_NIGHT</option></select></div></div><div class="entry commission" ng-show="contactInformation.commission_details.is_on && account_type == \'TRAVELAGENT\'"><label class=checkbox ng-class="{\'checked\': contactInformation.commission_details.is_global_commission}" ng-show=showGlobalCommissionCheckbox()><span class="icon-form icon-checkbox" ng-class="{\'checked\': contactInformation.commission_details.is_global_commission }"></span> <input type=checkbox name=opt-in id=opt-in ng-model=contactInformation.commission_details.is_global_commission ng-disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" ng-change=toggleGlobalCommission()> <span translate="">GLOBAL_COMMISSION</span></label> <label class=checkbox ng-class="{\'checked\': contactInformation.commission_details.is_prepaid}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': contactInformation.commission_details.is_prepaid }"></span> <input type=checkbox name=opt-in id=opt-in ng-model=contactInformation.commission_details.is_prepaid ng-disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"> <span translate="">COMMISSION_IS_PREPAID</span></label></div><div ng-if=displayShowPropertiesButtonFn() class="entry only-button"><button type=button class="button brand-colors" ng-click=openPropertiesPopup() translate="">SHOW_PROPERTIES</button></div><div class="entry full-width hide-on-mobile"><label><span translate="">BILLING_INFORMATION</span> <span ng-show="contactInformation.account_details.routes_count !== undefined">({{contactInformation.account_details.routes_count}} <span translate="">ROUTES_DEFINED</span>)</span></label> <a class="button blue ng-scope ng-binding" ng-click=openBillingInformation(account_type) ng-show="isStandAlone && contactInformation.account_details.routes_count > 0" translate="">BILLLING_INFORMATION</a> <a class="button blue ng-scope ng-binding" ng-click=openBillingInformation(account_type) ng-show="isStandAlone && contactInformation.account_details.routes_count === 0 || contactInformation.account_details.routes_count === undefined" translate="">ADD_BILLLING_INFORMATION</a></div><div class="entry with-button full-width"><label for=company-card-arn translate="">ACCOUNTS_RECIEVABLE_NUMBER</label> <input type=text ng-model=contactInformation.account_details.accounts_receivable_number placeholder="AR Number" ng-readonly=true ng-disabled=true> <button ng-click=clickedCreateArAccountButton($event) ng-if="!(contactInformation.account_details.accounts_receivable_number || isArTabAvailable || !contactInformation.id)" class="button green hide-on-mobile" ng-disabled=!hasPermissionToCreateArAccount() ng-class="{\'grey\': !hasPermissionToCreateArAccount()}" translate="">CREATE_ACCOUNT</button> <button ng-click=deleteArAccount() ng-if=contactInformation.account_details.accounts_receivable_number class="button red hide-on-mobile" ng-disabled=!hasPermissionToCreateArAccount() ng-class="{\'grey\': !hasPermissionToCreateArAccount()}" translate="">DELETE_ACCOUNT</button></div><strong class="h3 margin" translate="">PRIMARY_CONTACT_DETAILS</strong><rv-textbox value=contactInformation.primary_contact_details.contact_first_name label="First name" placeholder="Enter Contact First Name" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_name_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.contact_name_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox value=contactInformation.primary_contact_details.contact_last_name label="Last Name" placeholder="Enter Contact Last Name" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_name_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.contact_name_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox value=contactInformation.primary_contact_details.contact_job_title label="Job title" placeholder="Enter Job Title" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())"></rv-textbox><rv-textbox value=contactInformation.primary_contact_details.contact_phone label=Phone placeholder="Enter Contact Phone" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_phone_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox value=contactInformation.primary_contact_details.contact_email label="E-mail address" placeholder="Enter Contact Email Address" styleclass=full-width disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_email_address_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox></div></div></form>'),t.put("/assets/partials/companyCard/rvCompanyCardDeleteARaccountPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-click=clearErrorMessage()><form class="modal-content new-card" name=message-reminder id=message-reminder><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message" translate="">DELETE_AR_ACCOUNT</span><div class=actions><button class="button red" type=button ng-click=deleteARAccountConfirmed($event) translate="">DELETE</button> <button class="button blank" type=button ng-click=clikedDiscardDeleteAr() translate="">CANCEL</button></div></form></div>'),t.put("/assets/partials/companyCard/rvCompanyCardDetails.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><div id=company-card-nested-first class="nested-view view-current" role=main ng-click=companyCardClicked($event) outside-click-handler=""><div class="cards fullscreen" ng-class="{\'company-card\': account_type == \'COMPANY\', \'travel-agent-card\': account_type == \'TRAVELAGENT\', \'new-card\':isAddNewCard, \'print-statement\' : isPrintArStatement }"><div class=cards-wrapper><header class=cards-header><div id={{dataIdHeader}} ng-id="{\'company-card-header\': account_type == \'COMPANY\', \'travel-agent-card-header\': account_type == \'TRAVELAGENT\'}" class=card-header><input class=hidden type=file name=company-logo id=uplaodCompanyLogo ng-model=contactInformation.account_details.company_logo accept=* app-filereader=""><figure class=guest-image ng-if="escapeNull(contactInformation.account_details.company_logo)!=\'\'"><img ng-click=clickedLogo() ng-src={{contactInformation.account_details.company_logo}} alt=""></figure><div ng-click=clickedLogo() class="guest-image icons icon-company" ng-if="escapeNull(contactInformation.account_details.company_logo)==\'\' && account_type == \'COMPANY\'" translate=""></div><div ng-click=clickedLogo() class="guest-image icons icon-travel-agent" ng-if="escapeNull(contactInformation.account_details.company_logo)==\'\' && account_type == \'TRAVELAGENT\'" translate=""></div><form method=post name=change-company-name id=change-company-name><div class=holder><div class=entry><input name=cc-name-first id=cc-name-first placeholder="" value={{contactInformation.account_details.account_name}} ng-model=contactInformation.account_details.account_name type=text class="masked-input h1" auto-grow-field="" ng-readonly="isUpdateEnabled() || !isUpdateEnabledForName()"></div><div class="switch-button global-flag toggle-display" ng-click=toggleGlobalButton() ng-class="{\'on\': contactInformation.is_global_enabled, \'readonly\': isGlobalToggleReadOnly, \'overlay\': !disableGlobalToggle}"><input id=global-company-card type=checkbox> <label class=data-off><span class=switch-icon>Global</span> <span class=value>Off</span></label> <label class=data-on><span class=value>On</span> <span class=switch-icon>Global</span></label></div><span class="icons icon-notes" ng-show="contactInformation.account_notes_count > 0"></span></div><div class="holder data"><input name=cc-city id=cc-city placeholder="" value={{contactInformation.address_details.city}} ng-model=contactInformation.address_details.city type=text class="masked-input icons icon-gc-location" ng-readonly=isUpdateEnabled() data-size={{contactInformation.address_details.city.length}} auto-grow-field=""> <input name=cc-state id=cc-state placeholder="" value={{contactInformation.address_details.state}} ng-model=contactInformation.address_details.state ng-readonly=isUpdateEnabled() type=text class=masked-input auto-grow-field=""> <input name=cc-phone id=cc-phone placeholder="" value={{contactInformation.address_details.phone}} ng-model=contactInformation.address_details.phone ng-readonly=isUpdateEnabled() type=tel class="masked-input icons icon-gc-phone" auto-grow-field=""> <input name=cc-email id=cc-email placeholder="" value={{contactInformation.address_details.email_address}} ng-model=contactInformation.address_details.email_address ng-readonly=isUpdateEnabled() type=email class="masked-input icons icon-gc-email" auto-grow-field=""></div></form><div class=card-actions ng-show=isAddNewCard><button class="button green" type=button ng-click=clikedSaveNewCard() translate="">SAVE_NEW_CARD</button> <button class="button blank" type=button ng-click=clikedDiscardCard() translate="">DISCARD</button></div></div></header><div class=cards-content><div id=company-card-content class="card-tabs card-content"><ul ng-id="{\'company-card-tabs-nav\': account_type == \'COMPANY\', \'travel-agent-card-tabs-nav\': account_type == \'TRAVELAGENT\'}" class="card-tabs-nav float ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-contact-info\'}" ng-click="switchTabTo($event, \'cc-contact-info\')"><a translate="">SUMMARY</a></li><li class=with-filters ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-contracts\'}" ng-click="switchTabTo($event, \'cc-contracts\')"><a translate="">CONTRACTS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Contracts fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab === \'statistics\'}" ng-click="switchTabTo($event, \'statistics\')" ng-if="isStandAlone && !isHourlyRateOn && shouldShowStatisticsTab"><a translate="">STATISTICS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Statistics fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab === \'wallet\'}" ng-click="switchTabTo($event, \'wallet\')"><a translate="">WALLET</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Wallet fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-notes\', \'with-filters\': isCloudStorageEnabledForCardType(\'cota_card\')}" ng-click="switchTabTo($event, \'cc-notes\')"><a translate="">{{ isCloudStorageEnabledForCardType(\'cota_card\') ? \'NOTES_AND_FILES\' : \'NOTES\' }}</a> <button type=button ng-if="isCloudStorageEnabledForCardType(\'cota_card\')" class="button white icons icon-expand" rv-fullscreen="" fs-sub-header="Notes & Files" fs-toggle-class=fullscreen-card>Fullscreen</button></li><li class=with-filters ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-commissions\'}" ng-click="switchTabTo($event, \'cc-commissions\')" ng-show=shouldShowCommissionsTab()><a translate="">COMMISSIONS</a></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-ar-accounts\'}" ng-click="switchTabTo($event, \'cc-ar-accounts\')" ng-show="contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable"><a ng-class="{\'error\': !arAccountDetails.is_allow_direct_debit}" translate="">AR_ACCOUNT</a></li><li ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-ar-transactions\',\'with-filters\':isWithFilters }" ng-click="switchTabTo($event, \'cc-ar-transactions\')" ng-show="contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable"><a translate="">AR_TRANSACTIONS</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=AR_TRANSACTIONS fs-toggle-class=fullscreen-card>Fullscreen</button></li><li class=with-filters ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-activity-log\'}" ng-click="switchTabTo($event, \'cc-activity-log\')"><a translate="">ACTIVITY_LOG</a></li><li class=with-filters ng-hide=true ng-class="{\'ui-tabs-active\': currentSelectedTab == \'cc-reservations\'}" ng-click="switchTabTo($event, \'cc-reservations\')"><a translate="">RESERVATIONS</a></li></ul><span ng-include="\'/assets/partials/companyCard/rvCompanyCardContactInformation.html\'"></span><span ng-include="\'/assets/partials/companyCard/contracts/rvCardContractsMain.html\'"></span><span ng-include="\'/assets/partials/companyCard/rvCompanyCardTravelAgentStatistics.html\'"></span><span ng-include="\'/assets/partials/companyCard/companyCardPayment.html\'"></span><span ng-include="\'/assets/partials/companyCard/rvCompanyCardCommissions.html\'" ng-controller=companyCardCommissionsCtrl></span><span ng-controller=companyCardArAccountCtrl ng-include="\'/assets/partials/companyCard/rvcompanyCardArAccount.html\'" ng-show="contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable"></span><span ng-controller=RVCompanyCardArTransactionsMainCtrl ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentCardArTransactionsMain.html\'" ng-show="(contactInformation.account_details.accounts_receivable_number.length>0 || isArTabAvailable) && currentSelectedTab == \'cc-ar-transactions\'"></span><span ng-controller=RVCompanyCardActivityLogCtrl ng-include="\'/assets/partials/companyCard/activityLog/rvCompanyCardActivityLog.html\'" ng-show="currentSelectedTab == \'cc-activity-log\'"></span><form method=post id=gc-notes name=gc-notes class="form inner-header card-tab notes-tab no-print" ng-if="currentSelectedTab == \'cc-notes\'"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><span ng-include="\'/assets/partials/companyCard/rvCompanyTAFilesAndNotes.html\'"></span></form></div></div></div></div></div><div id=company-card-nested-second class=nested-view role=main></div>'),t.put("/assets/partials/companyCard/rvCompanyCardNotes.html",'<form method=post id=cc-notes name=cc-notes ng-click=clearErrorMessage() ng-controller=companyCardNotesController class="form card-tab notes-tab"><strong class="h3 margin">Notes</strong><div id=notification-message ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=entry><textarea ng-model=noteText placeholder="Write a note" rows=4></textarea><button type=button ng-click=createNote() class=button ng-class="{\'brand-colors\': noteText.trim()!==\'\', \'grey\': noteText.trim()===\'\'}" ng-disabled="noteText.trim()===\'\'" ng-show="editingNote===null">Post</button> <button type=button class="button brand-colors" ng-class="{\'brand-colors\': noteText.trim()!==\'\', \'grey\': noteText.trim()===\'\'}" ng-show="editingNote!==null" ng-disabled="noteText.trim()===\'\'" ng-click=updateActiveNote()>Save</button> <button type=button class="button blank" ng-show="editingNote!==null" ng-click=cancelEditMode()>Cancel</button></div><div class="holder scrollable" ng-show=notes.length ng-iscroll=companycard_notes_scroller><ul class="notes wrapper"><li ng-repeat="note in notes" ng-class="{\'editing\': (editingNote && note.id === editingNote.id)}" ng-click=clickedOnNote(note)><figure class=guest-image><img ng-if="note.posted_user_image_url===\'\'" src=/ui/pms-ui/images/avatar-trans.png alt=""> <img ng-if="note.posted_user_image_url!==\'\'" ng-src={{note.avatar}} alt=""></figure><div class=note-title><h4>{{note.user_name}}</h4><time datetime=""><span class=time>{{note.time}}</span> <span class=date>{{note.date}}</span></time><strong class=global-label>{{note.hotel_name}}</strong> <button ng-show=note.is_editable type=button class="icons icon-trash" ng-click="deleteNote($event, note.id, $index)">Delete post</button></div><p>{{note.note}}</p></li></ul></div><div class="holder scrollable" ng-show=!notes.length><div class=no-content><div class=info><span class="icon-no-content icon-notes"></span> <strong class=h1>No Notes</strong> <span class=h2>Leave a Note for {{contactInformation.account_details.account_name}}</span></div></div></div></form>'),t.put("/assets/partials/companyCard/rvCompanyCardReservations.html",'<form method=post id=cc-reservations name=cc-reservations class="form card-tab inner-header reservations" ng-show="currentSelectedTab == \'cc-reservations\'"><div id=cc-reservations-header class="tab-header with-filters"><div class="entry date-range"><div class=has-datepicker><input name=check-in-check-out-range-from id=check-in-check-out-range-from class=range-datepicker value=14-01-2014 readonly="" data-range=from></div><span>to</span><div class=has-datepicker><input name=check-in-check-out-range-to id=check-in-check-out-range-to class=range-datepicker value=17-01-2014 readonly="" data-range=to></div></div><div class=actions><button id=company-search-reservations type=button class="button green">Find reservations</button></div></div><div id=cc-reservations-content class="tab-details scrollable"><div class=wrapper><ul id=company-card-reservations class=search-results><li><a href="stay-card/check-in/?accompany=false" class="guest-check-in float" data-transition="inner-page remove-previous"><figure class=guest-image><img ng-src=../images/guest3.jpg alt=""></figure><div class=data><h2>Johnson, Paul</h2><span class=date><span class="guest-status small-icon check-in">check-in</span> Tuesday 14-01-14</span> <span class=date><span class="guest-status small-icon check-out">check-out</span> Friday 17-01-14</span></div><div class=status><span class="guest-status check-in">check-in</span></div><strong class="room-number ready">104</strong></a></li><li><a href="stay-card/inhouse/?accompany=true" class="guest-inhouse float" data-transition="inner-page remove-previous"><figure class=guest-image><img ng-src=../images/guest1.jpg alt=""></figure><div class=data><h2>Smith, Aaron</h2><span class=date><span class="guest-status small-icon check-in">check-in</span> Monday 13-01-14</span> <span class=date><span class="guest-status small-icon check-out">check-out</span> Friday 17-01-14</span></div><div class=status><span class="guest-status inhouse">inhouse</span></div><strong class=room-number>114</strong></a></li><li><a href="stay-card/inhouse/?accompany=true" class="guest-inhouse accompany float" data-transition="inner-page remove-previous"><figure class="guest-image accompany"><img ng-src=../images/guest1.jpg alt=""> <img ng-src=../images/avatar-female.jpg alt=""></figure><div class=data><h2>Smith, Marcy</h2><span class=date><span class="guest-status small-icon check-in">check-in</span> Monday 13-01-14</span> <span class=date><span class="guest-status small-icon check-out">check-out</span> Friday 17-01-14</span></div><div class=status><span class="guest-status inhouse">inhouse</span></div><strong class=room-number>114</strong></a></li></ul></div></div></form>'),t.put("/assets/partials/companyCard/rvCompanyCardTravelAgentStatistics.html",'<form method=post id=gc-statistics name=statistics class="form card-tab card-statistics" ng-controller=RVCompanyCardTravelAgentStatisticsController ng-if="currentSelectedTab === \'statistics\'"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div include-replace="" ng-include="\'/assets/partials/companyCard/rvCompanyCardTravelAgentStatisticsSummary.html\'"></div><div include-replace="" ng-include="\'/assets/partials/companyCard/rvCompanyCardTravelAgentStatisticsDetails.html\'"></div></form>'),t.put("/assets/partials/companyCard/rvCompanyCardTravelAgentStatisticsDetails.html",'<div class=statistics-details ng-show="activeView === \'details\'"><div class=sidebar><ul class=filters><li ng-click="setActiveView(\'summary\')" ng-class="{\'active\': activeView === \'summary\'}">Summary</li><li ng-click="setActiveView(\'details\')" ng-class="{\'active\': activeView === \'details\'}">Details</li></ul><div class="row row-head white"><div class=select><select ng-options="year.value as year.name for year in yearOptions" ng-model=filterData.selectedYear ng-change=onChangeYear()></select></div></div><div class="sidebar-content scrollable" ng-iscroll=cc-sidebar-scroller><div class=wrapper><div class=row ng-repeat="monthlyData in statistics.details.monthly_data" ng-class="{\'no-data\': !shouldShowReservations(monthlyData), \'open\': monthlyData.isOpen}" ng-style=getStyleForExpandedView(monthlyData) ng-click=showMonthlyReservations(monthlyData)><span class="icons icon-double-arrow black" ng-show=shouldShowReservations(monthlyData)></span> {{monthlyData.month}} {{monthlyData.year}}</div></div></div></div><div class=statistics-data><div class="row row-head"><div class=column><strong>Stays</strong></div><div class=column><strong>Nights</strong></div><div class=column><strong>Cancel.</strong></div><div class=column><strong>No Shows</strong></div><div class=column><strong>ADR</strong></div><div class=column><strong>Room Revenue</strong></div><div class=column><strong>Total Revenue</strong></div></div><div class="row row-head white"><div class=column>{{statistics.details.summary.stay_count}}</div><div class=column>{{statistics.details.summary.nights_count}}</div><div class=column>{{statistics.details.summary.cancellation_count}}</div><div class=column>{{statistics.details.summary.no_show_count}}</div><div class=column><span ng-bind-html="statistics.details.summary.adr | sntCurrency:this"></span></div><div class=column><span ng-bind-html="statistics.details.summary.room_revenue | sntCurrency:this"></span></div><div class=column><strong><span ng-bind-html="statistics.details.summary.total_revenue | sntCurrency:this"></span></strong></div></div><div class=scrollable ng-iscroll=cc-monthly-data-scroller><div class=wrapper><span ng-repeat="monthlyData in statistics.details.monthly_data track by $index"><div class=row><div class=column ng-class="{\'no-data\': monthlyData.stay_count === 0}">{{monthlyData.stay_count}}</div><div class=column ng-class="{\'no-data\': monthlyData.nights_count === 0}">{{monthlyData.nights_count}}</div><div class=column ng-class="{\'no-data\': monthlyData.cancellation_count === 0}">{{monthlyData.cancellation_count}}</div><div class=column ng-class="{\'no-data\': monthlyData.no_show_count === 0}">{{monthlyData.no_show_count}}</div><div class=column ng-class="{\'no-data\': monthlyData.adr === 0}"><span ng-bind-html="monthlyData.adr | sntCurrency:this"></span></div><div class=column ng-class="{\'no-data\': monthlyData.room_revenue === 0}"><span ng-bind-html="monthlyData.room_revenue | sntCurrency:this"></span></div><div class=column ng-class="{\'no-data\': monthlyData.total_revenue === 0}"><strong><span ng-bind-html="monthlyData.total_revenue | sntCurrency:this"></span></strong></div></div><div class=statistics-reservations ng-show=monthlyData.isOpen ng-class="{\'res-active\': monthlyData.isOpen}"><ul class=search-results><li class="reservation transaction" ng-repeat="reservation in monthlyData.reservations"><a class=faux-anchor ng-click=navigateToStayCard(reservation) ng-class="{\'no-arrow\': shouldShowNavigation()}"><div class=data><h2 ng-class="{\'grey\': reservation.is_cancelled || reservation.reservation_status === \'NOSHOW\'}"><span>{{reservation.last_name}}</span>, <span>{{reservation.first_name}}</span></h2><span class=confirmation><span class=value>{{reservation.confirmation_no}}</span></span></div><div class=reservation-time ng-if="reservation.arrival_date !== reservation.departure_date"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">arrival</span></div><div class=check-times><time class=guest-time><span>{{reservation.arrival_date| date : dateFormat}}</span> <span class=hours>{{reservation.arrival_time}}</span></time><time class=guest-time><span>{{reservation.departure_date| date : dateFormat}}</span> <span class=hours>{{reservation.departure_time}}</span></time></div></div><div class="reservation-time daily" ng-if="reservation.arrival_date === reservation.departure_date"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">arrival</span></div><div class=check-times><div class=guest-hours><time class=guest-time>{{reservation.arrival_time}}</time>-<time class=guest-time>{{reservation.departure_time}}</time></div><span class=date>{{reservation.arrival_date| date : dateFormat}}</span></div></div><div class="reservation-type red" ng-if=reservation.is_day_use>D</div><div class=reservation-type ng-if="!reservation.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class="guest-data rate"><strong><span ng-bind-html="reservation.adr | sntCurrency:this"></span> ADR</strong> <span>{{reservation.rate_name}}</span></div><div class="guest-data room"><strong ng-show=reservation.room_no>{{reservation.room_no}}</strong> <strong class=no-number ng-show=!reservation.room_no>N/A</strong> <span>{{reservation.room_type_name}}</span></div></a></li></ul><rv-pagination page-options=pageOptions page-data=totalResultCount></rv-pagination></div></span></div></div></div></div>'),
t.put("/assets/partials/companyCard/rvCompanyCardTravelAgentStatisticsSummary.html",'<div class=statistics-summary ng-show="activeView === \'summary\'"><div class=sidebar><ul class=filters><li ng-click="setActiveView(\'summary\')" ng-class="{\'active\': activeView === \'summary\'}">Summary</li><li ng-click="setActiveView(\'details\')" ng-class="{\'active\': activeView === \'details\'}">Details</li></ul><div class="sidebar-content scrollable" ng-iscroll=cc-statistics-summary-sidebar-scroller><div class=wrapper><div class=row>Stays</div><div class=row>Nights</div><div class=row>Cancellations</div><div class=row>No Shows</div><div class=row>ADR</div><div class=row>Room Revenue</div><div class=row>Total Revenue</div></div></div></div><div class=statistics-data><div class="row row-head"><div class=column><div class=select><select ng-options="year.value as year.name for year in yearOptions" ng-model=filterData.selectedYear ng-change=onChangeYear()></select></div></div><div class="column white"><strong>Year to date ({{ currentYear }})</strong></div><div class=column><strong>Total</strong></div></div><div class=scrollable ng-iscroll=cc-statistics-summary-data-scroller><div class=wrapper><div class=row><div class=column>{{statistics.summary.stay_count.annual}}</div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.stay_count.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.stay_count.change_percent)}}></span> {{absVal(statistics.summary.stay_count.change_percent) | number: 2}}%</div>{{statistics.summary.stay_count.ytd}}</div><div class=column>{{statistics.summary.stay_count.total}}</div></div><div class=row><div class=column>{{statistics.summary.night_count.annual}}</div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.night_count.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.night_count.change_percent)}}></span> {{absVal(statistics.summary.night_count.change_percent) | number: 2}}%</div>{{statistics.summary.night_count.ytd}}</div><div class=column>{{statistics.summary.night_count.total}}</div></div><div class=row><div class=column>{{statistics.summary.cancellation_count.annual}}</div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.cancellation_count.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.cancellation_count.change_percent)}}></span> {{absVal(statistics.summary.cancellation_count.change_percent) | number: 2}}%</div>{{statistics.summary.cancellation_count.ytd}}</div><div class=column>{{statistics.summary.cancellation_count.total}}</div></div><div class=row><div class=column>{{statistics.summary.no_show_count.annual}}</div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.no_show_count.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.no_show_count.change_percent)}}></span> {{absVal(statistics.summary.no_show_count.change_percent) | number: 2}}%</div>{{statistics.summary.no_show_count.ytd}}</div><div class=column>{{statistics.summary.no_show_count.total}}</div></div><div class=row><div class=column><span ng-bind-html="statistics.summary.adr.annual | sntCurrency:this"></span></div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.adr.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.adr.change_percent)}}></span> {{absVal(statistics.summary.adr.change_percent) | number: 2}}%</div><span ng-bind-html="statistics.summary.adr.ytd | sntCurrency:this"></span></div><div class=column><span ng-bind-html="statistics.summary.adr.total | sntCurrency:this"></span></div></div><div class=row><div class=column><span ng-bind-html="statistics.summary.room_revenue.annual | sntCurrency:this"></span></div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.room_revenue.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.room_revenue.change_percent)}}></span> {{absVal(statistics.summary.room_revenue.change_percent) | number: 2}}%</div><span ng-bind-html="statistics.summary.room_revenue.ytd | sntCurrency:this"></span></div><div class=column><span ng-bind-html="statistics.summary.room_revenue.total | sntCurrency:this"></span></div></div><div class=row><div class=column><strong><span ng-bind-html="statistics.summary.total_revenue.annual | sntCurrency:this"></span></strong></div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.total_revenue.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.total_revenue.change_percent)}}></span> {{absVal(statistics.summary.total_revenue.change_percent) | number: 2}}%</div><strong><span ng-bind-html="statistics.summary.total_revenue.ytd | sntCurrency:this"></span></strong></div><div class=column><strong><span ng-bind-html="statistics.summary.total_revenue.total | sntCurrency:this"></span></strong></div></div></div></div></div></div>'),t.put("/assets/partials/companyCard/rvCompanyTAFilesAndNotes.html","<rv-file-cloud-storage card-type=account card-id={{contactInformation.id}} show-files=\"isCloudStorageEnabledForCardType('cota_card')\" card-name={{contactInformation.account_details.account_name}} account-type={{account_type}}></rv-file-cloud-storage>"),t.put("/assets/partials/companyCard/rvCompanyTravelAgentCardMandatoryFieldsPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div id=check-in-data class="modal-content form check-in-data ar-create"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">Provide Required Data</span> <span class=text>All fields are mandatory</span><div class=scrollable ng-iscroll=companyTravelAgentMandatory ng-iscroll-delay=2000><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><fieldset ng-if="shouldShowAddress || shouldShowCity || shouldShowPostalCode || shouldShowCountry || shouldShowPhone || shouldShowEmail || (contactInformation.mandatoryFields.e_invoice_mandatory.is_visible && shouldShowEInvoice)"><legend ng-hide="account_type == \'TRAVELAGENT\'" translate="">COMAPNY_INFO</legend><legend ng-show="account_type == \'TRAVELAGENT\'" translate="">TA_INFO</legend><div class=fields><rv-textbox ng-if=shouldShowAddress value=contactInformation.address_details.street1 label="Address Line 1" placeholder="Enter Address Line 1" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.address_line1_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.address_line1_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox ng-if=shouldShowCity value=contactInformation.address_details.city label=City placeholder="Enter City" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.city_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.city_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox ng-if=shouldShowPostalCode value=contactInformation.address_details.postal_code label="Postal code" placeholder="Enter Postal code" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.postal_code_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.postal_code_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><div class=entry ng-if=shouldShowCountry><label for=company-country>{{\'COUNTRY\' | translate}}<strong ng-if="contactInformation.mandatoryFields.country_mandatory.is_mandatory || contactInformation.mandatoryFields.country_mandatory.is_mandatory_on_ar_account_creation">*</strong></label><div class=select><select ng-model=contactInformation.address_details.country_id ng-options="country.id as country.value for country in countries"><option value="" translate="">SELECT_COUNTRY</option></select></div></div><rv-textbox ng-if=shouldShowPhone value=contactInformation.address_details.phone inputtype=tel label=Phone placeholder="Enter Contact Phone" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_phone_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.contact_phone_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox ng-if=shouldShowEmail value=contactInformation.address_details.email_address label="E-mail address" placeholder="Enter Contact Email Address" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_email_address_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.contact_email_address_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox ng-if="contactInformation.mandatoryFields.e_invoice_mandatory.is_visible && shouldShowEInvoice" value=contactInformation.e_invoice_address styleclass=margin label="E-Invoice Address" placeholder="Enter E-Invoice Address" maxlength=30 required="{{contactInformation.mandatoryFields.e_invoice_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.e_invoice_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox></div></fieldset><fieldset ng-if="(contactInformation.mandatoryFields.organization_id_mandatory.is_visible && shouldShowOrganization) || shouldShowTaxNumber || (contactInformation.mandatoryFields.regd_tax_office_mandatory.is_visible && shouldShowRegisteredTaxOffice)"><legend ng-hide="account_type == \'TRAVELAGENT\'" translate="">EXTENDED_COMPANY_DETAILS</legend><legend ng-show="account_type == \'TRAVELAGENT\'" translate="">EXTENDED_TA_DETAILS</legend><div class=fields><rv-textbox ng-if="contactInformation.mandatoryFields.organization_id_mandatory.is_visible && shouldShowOrganization" value=contactInformation.account_details.organization_id label="Organization Id" placeholder="Enter Organization Id" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.organization_id_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.organization_id_mandatory.is_mandatory ? \'yes\' : \'no\'}}" maxlength=50></rv-textbox><rv-textbox ng-if=shouldShowTaxNumber value=contactInformation.account_details.tax_number label="Tax Id" placeholder="Enter Tax Id" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.tax_id_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.tax_id_mandatory.is_mandatory ? \'yes\' : \'no\'}}" maxlength=100></rv-textbox><rv-textbox ng-if="contactInformation.mandatoryFields.regd_tax_office_mandatory.is_visible && shouldShowRegisteredTaxOffice" value=contactInformation.account_details.reg_tax_office label="Registered Tax Office" placeholder="Enter Tax Office" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.regd_tax_office_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.regd_tax_office_mandatory.is_mandatory ? \'yes\' : \'no\'}}" maxlength=100></rv-textbox></div></fieldset><fieldset ng-if="shouldShowPrimaryContactFirstName || shouldShowPrimaryContactLastName"><legend translate="">PRIMARY_CONTACT_DETAILS</legend><div class=fields><rv-textbox ng-if=shouldShowPrimaryContactFirstName value=contactInformation.primary_contact_details.contact_first_name label="First name" placeholder="Enter Contact First Name" styleclass=margin disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_name_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.contact_name_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox><rv-textbox ng-if=shouldShowPrimaryContactLastName value=contactInformation.primary_contact_details.contact_last_name label="Last Name" placeholder="Enter Contact Last Name" disabled="((account_type == \'COMPANY\') ? isUpdateEnabled() : isUpdateEnabledForTravelAgent())" required="{{contactInformation.mandatoryFields.contact_name_mandatory.is_mandatory_on_ar_account_creation || contactInformation.mandatoryFields.contact_name_mandatory.is_mandatory ? \'yes\' : \'no\'}}"></rv-textbox></div></fieldset><fieldset ng-if="shouldShowArNumber || shouldShowPayDays"><legend translate="">AR Account</legend><div class=fields><rv-textbox value=arAccountDetails.ar_number ng-if=shouldShowArNumber label="AR number" placeholder="Enter AR number" styleclass=margin required=yes></rv-textbox><rv-textbox ng-if=shouldShowPayDays value=arAccountDetails.payment_due_days label="Payment due days" placeholder="Enter payment due days" required=yes></rv-textbox></div></fieldset></div></div><div class=actions><button class="button blank modal-close" ng-click=closeDialog()>Cancel</button> <button class=button ng-click=saveCoTaMandatoryData() ng-class="{\'green\': shouldEnableSubmitButton(), \'grey\': !shouldEnableSubmitButton()}" ng-disabled=!shouldEnableSubmitButton()>Submit</button></div></div></div>'),t.put("/assets/partials/companyCard/rvSaveNewCardPrompt.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form class="modal-content new-card" name=message-reminder id=message-reminder><span class="h2 message">{{ \'SAVE_NEW\' | translate }} {{ cardTypeText|lowercase }} {{ \'CARD\' | translate }}</span><div class=actions><button class="button green" type=button ng-click=clikedSaveNewCardViaPopup() translate="">SAVE_NEW_CARD</button> <button class="button blank" type=button ng-click=clikedDiscardCard() translate="">DISCARD</button></div></form></div>'),t.put("/assets/partials/companyCard/rvSelectCardType.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form class="modal-content new-card" name=message-reminder id=message-reminder><span class="h2 message" translate="">CREATE_NEW</span><div class=actions><button class="button blue" type=button ui-sref="rover.companycarddetails({id:\'add\', type: \'COMPANY\', query:textInQueryBox})" ng-click=closeDialog() ng-disabled=!hasCompanyCardCreatePermission ng-class="{\'overlay\': !hasCompanyCardCreatePermission}" translate="">COMPANY_CARD</button> <button class="button purple" type=button ui-sref="rover.companycarddetails({id:\'add\', type: \'TRAVELAGENT\', query:textInQueryBox})" ng-click=closeDialog() ng-disabled=!hasTravelAgentCreatePermission ng-class="{\'overlay\': !hasTravelAgentCreatePermission}" translate="">TA_CARD</button> <button class="button blank modal-close" type=button ng-click=closeDialog() translate="">CANCEL</button></div></form></div>'),t.put("/assets/partials/companyCard/rvTACardPropertiesCommissionsPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content form commissions-properties"><button class=modal-close id=modal-close type=button ng-click=clickedCancel()><span class="icons icon-close invert"></span></button> <span class="h2 message">Commissions</span> <span class=text>Edit commissions for the following properties</span><div class=grid><div class="grid-row with-cells header"><div class=grid-cell>Property</div><div class=grid-cell>Commission</div><div class=grid-cell>$/%</div><div class=grid-cell>Per</div><div class=grid-cell>Prepaid</div></div><div class="grid-row scrollable" ng-iscroll=rvTACardPropertiesCommissionsScroll><div class="grid-row wrapper"><div class="grid-row with-cells" ng-repeat="property in hotelCommissionDetails track by property.id"><div class=grid-cell><strong>{{ property.name }}</strong></div><div class=grid-cell><input ng-model=property.value placeholder=Commission name=Commission value={{property.value}} type=number string-to-number=""></div><div class=grid-cell><div class=select><select id={{property.id}}-commission-type name=commission-type value=property.type ng-model=property.type><option value=percent>%</option><option value=amount>{{property.currency_symbol}}</option></select></div></div><div class=grid-cell><div class=select ng-show="property.type === \'amount\'"><select id={{property.id}}-commission-per ng-model=property.commission_type><option value=perStay translate="">PER_STAY</option><option value=perNight translate="">PER_NIGHT</option></select></div></div><div class=grid-cell><label id={{property.id}}-commison-prepaid class="checkbox inline" ng-class="{\'checked\': property.is_prepaid}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': property.is_prepaid }"></span> <input id={{property.id}}-commison-prepaid type=checkbox ng-model=property.is_prepaid></label></div></div></div></div></div><div class=actions><button type=button class="button blank" ng-click=clickedCancel()>Cancel</button> <button type=button class="button green" ng-click=saveChanges()>Save changes</button></div></div></div>'),t.put("/assets/partials/companyCard/rvcompanyCardArAccount.html",'<form method=post id=cc-ar-accounts name=cc-ar-accounts class="form card-tab scrollable" ng-show="currentSelectedTab == \'cc-ar-accounts\'" ng-iscroll=cardAccountsScroller ng-iscroll-delay=2000 ng-click=clearErrorMessage() ng-class="{\'overlay\' : !hasPermissionToCreateArAccount()}"><div class=wrapper ng-click=clearMessage()><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="holder left"><strong class=h3>Basic Information</strong><div class="entry margin"><label for=company-arn translate="">AR_NUMBER</label> <input name=company-arn id=company-arn value="" type=text placeholder="Enter AR Number" ng-model=arAccountDetails.ar_number ng-disabled=arAccountDetails.is_auto_assign_ar_numbers></div><div class="entry only-switch" ng-class="{\'overlay\' : !hasPermissionToEditDirectBillRestriction()}"><label for=company-direct-debit>Allow Direct Debit</label><div class="switch-button full-width" ng-class="{\'on\':arAccountDetails.is_allow_direct_debit}"><input id=company-direct-debit type=checkbox ng-model=arAccountDetails.is_allow_direct_debit ng-change=checkboxModelChanged();> <label class=data-off><span class=value>No</span> <span class=switch-icon>Yes</span></label> <label class=data-on><span class=switch-icon>No</span> <span class=value>Yes</span></label></div></div><strong class="h3 margin" translate="">AR_NOTES</strong><div class="entry full-width no-label with-notes"><textarea id=company-ar-notes placeholder="Write a note" rows=2 ng-model=ARData.note></textarea> <button type=button id=post-company-ar-note class="button brand-colors post" ng-click=saveNote() translate="">POST</button></div><ul class=notes><li ng-repeat="noteData in arAccountNotes.ar_notes"><figure class=guest-image><img src={{noteData.avatar}} alt=""></figure><div class=note-title><h4>{{noteData.user_name}}</h4><time datetime={timestamp}><span class=time>{{noteData.created_time}}</span> <span class=date>{{noteData.created_at}}</span></time><button type=button class="icons icon-trash" ng-click=deletePost(noteData.id,$index) translate="">DELETE_POST</button></div><p>{{noteData.note}}</p></li></ul></div><div class="holder right"><strong class=h3 translate="">ADDRESS</strong><div class="entry only-switch margin"><label for=company-main-address translate="">USE_MAIN_ADDRESS</label><div class="switch-button full-width" ng-class="{\'on\':arAccountDetails.is_use_main_address}"><input name=company-main-address id=company-main-address type=checkbox ng-model=arAccountDetails.is_use_main_address ng-change=checkboxModelChanged()> <label class=data-off><span class=value>No</span> <span class=switch-icon>Yes</span></label> <label class=data-on><span class=switch-icon>No</span> <span class=value>Yes</span></label></div></div><div class=entry><label for=company-payment-terms translate="">PAYMENT_TERMS</label> <input id=company-payment-terms ng-model=arAccountDetails.payment_due_days type=text placeholder="Enter Payment Due Days"></div><div id=company-main-address-fields class="entry full-width" ng-show=!arAccountDetails.is_use_main_address><rv-textbox value=arAccountDetails.ar_address_details.street1 label=Address placeholder="Enter Address Line 1" styleclass=margin></rv-textbox><rv-textbox value=arAccountDetails.ar_address_details.street2 placeholder="Enter Address Line 2" styleclass=no-label></rv-textbox><rv-textbox value=arAccountDetails.ar_address_details.street3 placeholder="Enter Address Line 3" styleclass="no-label full-width"></rv-textbox><rv-textbox value=arAccountDetails.ar_address_details.city label=City placeholder="Enter City" styleclass=margin></rv-textbox><rv-textbox value=arAccountDetails.ar_address_details.postal_code label="Postal code" placeholder="Enter Postal code"></rv-textbox><rv-textbox value=arAccountDetails.ar_address_details.state label=State placeholder="Enter State" styleclass=margin></rv-textbox><div class=entry><label for=company-country translate="">COUNTRY</label><div class=select><select iscroll-stop-propagation="" id=company-country name=company-country ng-model=arAccountDetails.ar_address_details.country_id><option value="" class=placeholder translate="">SELECT_COUNTRY</option><option ng-repeat="country in countries" value={{country.id}} ng-selected="country.id==contactInformation.address_details.country_id">{{country.value}}</option></select></div></div></div><strong class="h3 margin" translate="">CONTACT</strong><div class="entry only-switch"><label for=company-main-contact translate="">USE_MAIN_CONTACT</label><div class="switch-button full-width" ng-class="{\'on\':arAccountDetails.is_use_main_contact}"><input name=company-main-contact id=company-main-contact type=checkbox ng-model=arAccountDetails.is_use_main_contact ng-change=checkboxModelChanged()> <label class=data-off><span class=value>No</span> <span class=switch-icon>Yes</span></label> <label class=data-on><span class=switch-icon>No</span> <span class=value>Yes</span></label></div></div><div id=company-main-contact-fields class="entry full-width" ng-show=!arAccountDetails.is_use_main_contact><rv-textbox value=arAccountDetails.ar_contact_details.contact_first_name label="First name" placeholder="Enter Contact First Name" styleclass=margin></rv-textbox><rv-textbox value=arAccountDetails.ar_contact_details.contact_last_name label="Last Name" placeholder="Enter Contact Last Name"></rv-textbox><rv-textbox value=arAccountDetails.ar_contact_details.job_title label="Job title" placeholder="Enter Job Title" styleclass=margin></rv-textbox><rv-textbox value=arAccountDetails.ar_contact_details.phone label=Phone placeholder="Enter Contact Phone"></rv-textbox><rv-textbox value=arAccountDetails.ar_contact_details.email label="E-mail address" placeholder="Enter Contact Email Address" styleclass=full-width></rv-textbox></div></div></div></form>'),t.put("/assets/partials/depositBalance/rvDepositBalanceModal.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form name=deposit-balance method=post id=deposit-balance class="modal-content form deposit-balance" action={action}><button type=button id=modal-close class=modal-close ng-click=closeDepositModal()><span class="icons icon-close invert"></span></button><fieldset class=content-left><strong class="h2 message">Balance</strong><ul id=expenses class=expenses><li>Room Cost <span>{{currencySymbol}}{{depositBalanceData.data.room_cost}}</span></li><li>Packages <span>{{currencySymbol}}{{depositBalanceData.data.packages}}</span></li><li class=total>Sub Total <span>{{currencySymbol}}{{depositBalanceData.data.sub_total}}</span></li><li>Fees <span>{{currencySymbol}}{{depositBalanceData.data.fees}}</span></li><li class=total>Stay Total <span>{{currencySymbol}}{{depositBalanceData.data.stay_total}}</span></li><li>Nightly Charge <span>{{currencySymbol}}{{depositBalanceData.data.nightly_charges}}</span></li><li class="total final">Total Cost of Stay <span>{{currencySymbol}}{{depositBalanceData.data.total_cost_of_stay}}</span></li><li class=deposit>Deposit Paid <span class=green>{{currencySymbol}}{{depositBalanceData.data.deposit_paid}}</span></li><li class=balance>Outstanding Stay Total <span class=red>{{currencySymbol}}{{depositBalanceData.data.outstanding_stay_total}}</span></li></ul></fieldset><fieldset class=content-right><strong class="h2 message">Deposit</strong><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry amount"><label for=amount>Amount to pay (<span></span>{{currencySymbol}} )</label> <input type=text ng-model=makePaymentData.amount value={{makePaymentData.amount}} name=amount id=amount></div><ul id=make-payment-options class=modal-options ng-hide=isGiftCard><li id=existing-cards ng-class="{\'active\': !addCardActive}" ng-click=clickedShowExistingCard()>Existing Cards</li><li id=add-new-card ng-class="{\'active\': addCardActive}" ng-click=clickedAddCard()>Add New Card</li></ul><div id=select-make-payment-card class=select-card ng-hide=addCardActive><div data-is-existing-card=no class="cards-list scrollable existing-cards-height" ng-iscroll=available_cards ng-iscroll-delay=50><div class=wrapper><label class="active-item item-payment primary" ng-click=selectPayment(existingPayments.value) ng-show=existingPayments.is_credit_card ng-repeat="existingPayments in depositBalanceData.data.existing_payments"><figure class=card-logo><img ng-src=/ui/pms-ui/images/{{existingPayments.card_code}}.png alt=""></figure><span class=number>Ending with <span class="value number">{{existingPayments.ending_with}}</span></span> <span class=date>Date <span class="value date">{{existingPayments.expiry_date}}</span></span> <span class=primary><span class="value primary primary-selected" ng-show=existingPayments.isSelected>SELECTED</span></span></label></div></div></div><div id=new-make-payment-card class=new-card ng-show=addCardActive ng-hide=isGiftCard><div class=holder><div class="entry margin"><label for=card-number>Card number</label> <input type=text ng-keydown=showMakePaymentButtonActive() ng-readonly="isSwiped || !isManualCCEntryEnabled" ng-model=depositBalanceNewCardData.cardNumber placeholder="Enter Card number" name=card-number maxlength=16 id=card-number></div><div class=entry><label for=expiry-month>Expiration date (<span>MM/YY</span>)</label> <input type=text ng-readonly="isSwiped || !isManualCCEntryEnabled" ng-model=depositBalanceNewCardData.expiryMonth size=3 placeholder=MM name=expiry-month maxlength=2 id=expiry-month> <input type=text ng-readonly="isSwiped || !isManualCCEntryEnabled" ng-model=depositBalanceNewCardData.expiryYear size=3 placeholder=YY name=expiry-year maxlength=2 id=expiry-year></div><div class="entry margin"><label for=name-on-card>Name on card</label> <input type=text ng-model=depositBalanceNewCardData.cardHolderName placeholder="Enter name on card" name=name-on-card id=name-on-card></div><div class=entry><label for=ccv>CCV</label> <input type=text ng-model=depositBalanceNewCardData.ccv size=4 placeholder=CCV name=ccv maxlength=3 id=ccv></div><div class="entry full-width"><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\': depositBalanceNewCardData.addToGuestCard}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': depositBalanceNewCardData.addToGuestCard}"></span> <input ng-model=depositBalanceNewCardData.addToGuestCard id=add-in-guest-card value=1 type=checkbox> {{\'ADD_TO_GUEST_CARD\' | translate}}</label></div></div></div><div class=actions><button type=button id=close class="button blank modal-close" click-touch=closeDepositModal()>Close</button> <button type=button ng-disabled=!makePaymentButtonActive ng-class=showMakePaymentButtonStatus() click-touch=clickedMakePayment() id=make-payment class="button modal-close">Make Payment</button></div></fieldset></form></div>'),t.put("/assets/partials/depositBalance/rvModifiedDepositBalanceModal.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak="" ng-click=clearErrorMessage()><form ng-show=!showSixPayLoader name=deposit-balance method=post id=deposit-balance class="modal-content form deposit-balance" action={action}><button type=button id=modal-close class=modal-close ng-click=closeDepositModal()><span class="icons icon-close invert"></span></button><fieldset class=content-left ng-show="passData.origin==\'STAYCARD\'"><strong class="h2 message">Balance</strong><ul id=expenses class=expenses><li>Room Cost <span ng-if=isBalanceAmountShown()><span ng-bind-html="depositBalanceData.data.room_cost | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li><li>Packages <span ng-if=isBalanceAmountShown()><span ng-bind-html="depositBalanceData.data.packages | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li><li class=total>Sub Total <span ng-if=isBalanceAmountShown()><span ng-bind-html="depositBalanceData.data.sub_total | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li><li>Fees <span ng-if=isBalanceAmountShown()><span ng-bind-html="depositBalanceData.data.fees | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li><li class=total>Stay Total <span ng-if=isBalanceAmountShown()><span ng-bind-html="depositBalanceData.data.stay_total | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li><li>Nightly Charge <span ng-if=isBalanceAmountShown()><span ng-bind-html="depositBalanceData.data.nightly_charges | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li><li class="total final">Total Cost of Stay <span ng-if=isBalanceAmountShown()><span ng-bind-html="depositBalanceData.data.total_cost_of_stay | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li><li class=deposit>Deposit Paid <span class=green ng-if=isBalanceAmountShown()><span ng-bind-html="depositBalanceData.data.deposit_paid | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li><li class=balance>Outstanding Stay Total <span class=red ng-if=isBalanceAmountShown()><span ng-bind-html="depositBalanceData.data.outstanding_stay_total | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li></ul></fieldset><fieldset class=content-left ng-show="passData.origin==\'GROUP\'"><strong class="h2 message">Balance</strong><ul id=expenses class=expenses><li ng-show="depositBalanceData.account_type==\'GROUP\'">Projected Room Revenue <span><span ng-bind-html="depositBalanceData.projected_revenue_details.room_revenue | sntCurrency:this"></span></span></li><li ng-show="depositBalanceData.account_type==\'GROUP\'">Projected Add-On Revenue <span><span ng-bind-html="depositBalanceData.projected_revenue_details.package_revenue | sntCurrency:this"></span></span></li><li ng-show="depositBalanceData.account_type==\'GROUP\'">Projected Tax <span><span ng-bind-html="depositBalanceData.projected_revenue_details.exclusive_tax | sntCurrency:this"></span></span></li><li class=total ng-show="depositBalanceData.account_type==\'GROUP\'">Total Projected Revenue <span><span ng-bind-html="depositBalanceData.projected_revenue_details.total_revenue | sntCurrency:this"></span></span></li><li>Actual Room Revenue <span><span ng-bind-html="depositBalanceData.actual_revenue_details.room_revenue | sntCurrency:this"></span></span></li><li>Actual Add-On Revenue <span><span ng-bind-html="depositBalanceData.actual_revenue_details.package_revenue | sntCurrency:this"></span></span></li><li>Actual Tax <span><span ng-bind-html="depositBalanceData.actual_revenue_details.exclusive_tax | sntCurrency:this"></span></span></li><li class=deposit>Total Balance <span class=red><span ng-bind-html="depositBalanceData.current_balance | sntCurrency:this"></span></span></li><li class=balance>Payments Received <span class=green><span ng-bind-html="depositBalanceData.payments_received | sntCurrency:this"></span></span></li></ul></fieldset><fieldset class=content-right><strong class="h2 message">Deposit</strong><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="dates notice" ng-if="depositBalanceData.data.deposit_dues.length > 0"><strong>Deposit Due</strong><div class=scrollable ng-iscroll=deopositdue><ul class=wrapper><li ng-repeat="depositDue in depositBalanceData.data.deposit_dues" ng-class="{\'paid\': depositDue.paid, \'due\': !depositDue.paid}">{{depositDue.due_date | date : dateFormat}} <span ng-if=isBalanceAmountShown()><span ng-bind-html="depositDue.due_amount | sntCurrency:this"></span></span> <span ng-if=!isBalanceAmountShown()>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</span></li></ul></div></div><div class="dates notice" ng-if=depositBalanceData.paid_deposits><strong>Deposit Paid</strong><div class=scrollable ng-iscroll=deopositdue><ul class=wrapper><li ng-repeat="paidDeposit in depositBalanceData.paid_deposits" class=due>{{paidDeposit.date | date : dateFormat}} <span><span ng-bind-html="paidDeposit.amount | sntCurrency:this"></span></span></li></ul></div></div><div class="payment-form scrollable for-deposit" id=set-payment ng-iscroll=payment-deposit-scroll><div class=wrapper><snt-payment hotel-config=hotelPaymentConfig reservation-id={{reservationData.reservation_card.reservation_id}} bill-id=depositBalanceData.primary_bill_id bill-number=billNumber rate-currency={{depositBalanceMakePaymentData.rateCurrency}} payment-types=passData.details.paymentTypes selected-payment-type=depositBalanceMakePaymentData.payment_type selected-c-c=depositDetails.attached_card amount=depositBalanceMakePaymentData.amount payment-currency-amount=depositBalanceMakePaymentData.payment_amount action-type=DEPOSIT_BALANCE_PAYMENT deposit-policy-name={{depositPolicyName}} workstation-id={{workstation_id}} is-editable=isDepositEditable is-rate-suppressed=isReservationRateSuppressed has-permission=hasPermissionToMakePayment() form-template-url=/assets/partials/payment/rvDepositBalancePartial.html first-name={{passData.details.firstName}} payment-currency-list=paymentCurrencyList has-payment-rounding=hasPaymentRounding last-name={{passData.details.lastName}}></snt-payment></div></div></fieldset></form></div>'),
t.put("/assets/partials/dashboard/rvDashboard.html","<div><div ng-include=\"'/assets/partials/common/header.html'\"></div><section id=dashboard class=\"content scrollable\" role=main ng-iscroll=dashboard_scroller ng-iscroll-delay=100 style=\"position:absolute; top:40px; bottom: 0px; left:0px; width: 100%;overflow:hidden;\"><div class=wrapper><h2>{{greetingsMessage | translate}} {{userDetails.first_name}}!</h2><ul id=guests-today><li><a class=\"button green\" ui-sref=\"rover.search({type:'DUEIN'})\">{{ 'CHECKING_IN' | translate }} <strong>{{dashboardData.due_in_count?dashboardData.due_in_count:0}}</strong></a></li><li><a class=\"button blue\" ui-sref=\"rover.search({type:'INHOUSE'})\">{{ 'INHOUSE' | translate }} <strong>{{dashboardData.inhouse_count?dashboardData.inhouse_count:0}}</strong></a></li><li><a class=\"button red\" ui-sref=\"rover.search({type:'DUEOUT'})\">{{ 'CHECKING_OUT' | translate }} <strong>{{dashboardData.due_out_count?dashboardData.due_out_count:0}}</strong></a></li></ul><ul id=stats-today ng-class=\"{'upsell_on':hotelDetails.upsell_settings.is_upsell_settings_on}\"><li>{{ 'GUEST_REVIEW_SCORE_TITLE' | translate }} <span ng-show=dashboardData.guest_review_score>{{dashboardData.guest_review_score}}</span> <span ng-hide=dashboardData.guest_review_score class=no-data>No data available</span></li><li ng-show=hotelDetails.upsell_settings.is_upsell_settings_on>{{ 'UPSELL_TARGET_TITLE' | translate }} <span class=blue>{{currencySymbol}} {{dashboardData.upsell_target?dashboardData.upsell_target:0}}</span></li><li ng-show=hotelDetails.upsell_settings.is_upsell_settings_on>{{ 'ACTUAL_UPSELL_TITLE' | translate }} <span class=red>{{currencySymbol}} {{dashboardData.actual_upsell?dashboardData.actual_upsell:0}}</span></li><li>{{ 'VIP_CHECKIN_TITLE' | translate }} <span>{{dashboardData.vip_checkin_count?dashboardData.vip_checkin_count:0}}</span></li><li ng-show=hotelDetails.upsell_settings.is_upsell_settings_on>{{ 'ROOMS_FOR_UPSELL_TITLE' | translate }} <span>{{dashboardData.rooms_for_upsell?dashboardData.rooms_for_upsell:0}}</span></li><li ng-show=hotelDetails.upsell_settings.is_upsell_settings_on>{{ 'ROOMS_UPSOLD_TITLE' | translate }} <span>{{dashboardData.rooms_upsold?dashboardData.rooms_upsold:0}}</span></li></ul></div></section></div>"),t.put("/assets/partials/dashboard/rvDashboardRoot.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><div ui-view=""></div>'),t.put("/assets/partials/dashboard/rvDbAvgDailyRateSection.html","<div id=dashboard-adr class=dashboard-block><h3>ADR</h3><ul class=data><li>Today <span class=value ng-show=\"escapeNull(statistics.adr.today)!==''\">{{currencySymbol}}{{statistics.adr.today | round}}</span></li><li>{{tomorrow|date:monthAndDate}} <span class=value ng-show=\"escapeNull(statistics.adr.tomorrow)!==''\">{{currencySymbol}}{{statistics.adr.tomorrow | round}}</span></li><li>{{dayAfterTomorrow|date:monthAndDate}} <span class=value ng-show=\"escapeNull(statistics.adr.day_after_tomorrow)!==''\">{{currencySymbol}}{{statistics.adr.day_after_tomorrow | round}}</span></li><li>{{userInfo.business_date|date:fullMonth}} <span class=value ng-show=\"escapeNull(statistics.adr.current_month)!==''\">{{currencySymbol}}{{statistics.adr.current_month | round}}</span></li><li>{{userInfo.business_date|date:fullYear}} <span class=value ng-show=\"escapeNull(statistics.adr.current_year)!==''\">{{currencySymbol}}{{statistics.adr.current_year | round}}</span></li></ul></div>"),t.put("/assets/partials/dashboard/rvDbGreetingMessageSection.html",'<h2 class=dashboard-hello><span translate="">{{::greetingsMessage}}</span> {{::userDetails.first_name}}</h2>'),t.put("/assets/partials/dashboard/rvDbGuestsSection.html",'<div id=dashboard-guests class="dashboard-block with-actions" ng-controller=rvDashboardGuestWidgetController><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><h3>Guests</h3><ul class=actions><li><a class="button green" ng-click="clickedOnGuestsToday($event, \'DUEIN\', statisticsData.guests.checking_in)"><strong>{{ ::statisticsData.guests.checking_in }}</strong> Arrivals</a></li><li ng-if="::(statisticsData.guests.is_pre_checkin_only ==\'true\' && statisticsData.guests.checkin_action !== \'auto_checkin\')"><a ng-click="clickedOnGuestsToday($event, \'PRE_CHECKIN\', statisticsData.guests.pre_check_in)" class="button orange"><strong>{{ ::statisticsData.guests.pre_check_in }}</strong> <span>Pre Check In</span></a></li><li ng-if="::(statisticsData.guests.is_pre_checkin_only ==\'true\' && statisticsData.guests.checkin_action === \'auto_checkin\')"><a ng-click="clickedOnGuestsToday($event, \'PRE_CHECKIN\', statisticsData.guests.pre_check_in,\'MOBILE_CHECKIN\')" class="button orange"><strong>{{ ::statisticsData.guests.pre_check_in }}</strong> <span translate="">MOBILE_CHECKIN</span></a></li><li ng-if="::(isQueuedRoomsTurnedOn && shouldShowLateCheckout)"><a class="button white red-text" ng-click=clickedOnQueuedRoomsIcon()><strong>{{ ::statisticsData.guests.queued }}</strong>Queued</a></li><li><a class="button blue" ng-click="clickedOnGuestsToday($event, \'INHOUSE\', statisticsData.guests.in_house)"><strong>{{ ::statisticsData.guests.in_house }}</strong> Stayovers</a></li><li><a class="button red" ng-click="clickedOnGuestsToday($event, \'DUEOUT\', statisticsData.guests.checking_out)"><strong>{{ ::statisticsData.guests.checking_out }}</strong> Departures</a></li><li ng-if="::(statisticsData.guests.open_bill_checkout > 0 )"><a class="button red" ng-click="clickedOnGuestsToday($event, \'OPEN_BILL_CHECKOUT\', statisticsData.guests.open_bill_checkout)"><strong>{{ ::statisticsData.guests.open_bill_checkout }}</strong> Checked Out<span>(with balance)</span></a></li><li ng-if="::(isLateCheckoutTurnedOn && shouldShowLateCheckout)"><a class="button red" ng-click=clickedOnHeaderLateCheckoutIcon($event)><strong>{{ ::statisticsData.guests.late_checkout }}</strong> Late check out</a></li><li><a class="button yellow" ng-click="clickedOnGuestsToday($event, \'VIP\', statisticsData.guests.vip)"><strong>{{ ::statisticsData.guests.vip }}</strong> VIPs</a></li></ul></div>'),t.put("/assets/partials/dashboard/rvDbHouseKeepingRoomsSection.html",'<div id=dashboard-rooms class="dashboard-block with-action"><h3>Rooms</h3><ul class=actions><li><a class="button blue" ng-click="clickedOnRoomButton($event, \'INHOUSE_DIRTY\')"><strong>{{statisticsData.rooms.stays_dirty}}</strong> Stays <span>(Dirty)</span></a></li><li><a class="button blue" ng-click="clickedOnRoomButton($event, \'INHOUSE_CLEAN\')"><strong>{{statisticsData.rooms.stays_clean}}</strong> Stays <span>(Clean)</span></a></li><li><a class="button red" ng-click="clickedOnRoomButton($event, \'DEPARTURES_DIRTY\')"><strong>{{statisticsData.rooms.departure_dirty}}</strong> Departures <span>(Dirty)</span></a></li><li><a class="button red" ng-click="clickedOnRoomButton($event, \'DEPARTURES_CLEAN\')"><strong>{{statisticsData.rooms.departure_clean}}</strong> Departures <span>(Clean)</span></a></li></ul></div>'),t.put("/assets/partials/dashboard/rvDbOccupancyHouseKeepingSection.html","<div id=dashboard-occupancy class=dashboard-block><h3>Occupancy</h3><div class=house-col><h4 class=green>Arrivals</h4><ul class=data><li>Today<span class=value>{{statisticsData.occupancy.arrivals.today | round}}</span></li><li>{{tomorrow|date:monthAndDate}}<span class=value>{{statisticsData.occupancy.arrivals.tomorrow | round}}</span></li><li>{{dayAfterTomorrow|date:monthAndDate}}<span class=value>{{statisticsData.occupancy.arrivals.day_after_tomorrow | round}}</span></li></ul></div><div class=house-col><h4 class=blue>Stayovers</h4><ul class=data><li>Today<span class=value>{{statisticsData.occupancy.stayover.today | round}}</span></li><li>{{tomorrow|date:monthAndDate}}<span class=value>{{statisticsData.occupancy.stayover.tomorrow | round}}</span></li><li>{{dayAfterTomorrow|date:monthAndDate}}<span class=value>{{statisticsData.occupancy.stayover.day_after_tomorrow | round}}</span></li></ul></div><div class=house-col><h4 class=red>Departures</h4><ul class=data><li>Today<span class=value>{{statisticsData.occupancy.departures.today | round}}</span></li><li>{{tomorrow|date:monthAndDate}}<span class=value>{{statisticsData.occupancy.departures.tomorrow | round}}</span></li><li>{{dayAfterTomorrow|date:monthAndDate}}<span class=value>{{statisticsData.occupancy.departures.day_after_tomorrow | round}}</span></li></ul></div></div>"),t.put("/assets/partials/dashboard/rvDbOccupancySection.html","<div id=dashboard-occupancy class=dashboard-block><h3>Occupancy</h3><ul class=data><li>Today <span class=value ng-show=\"escapeNull(statisticsData.occupancy.today)!==''\">{{ ::(statisticsData.occupancy.today | round) }}%</span></li><li>{{::(tomorrow|date:monthAndDate)}} <span class=value ng-show=\"escapeNull(statisticsData.occupancy.tomorrow)!==''\">{{ ::(statisticsData.occupancy.tomorrow | round) }}%</span></li><li>{{::(dayAfterTomorrow|date:monthAndDate)}} <span class=value ng-show=\"escapeNull(statisticsData.occupancy.day_after_tomorrow)!==''\">{{ ::(statisticsData.occupancy.day_after_tomorrow | round) }}%</span></li><li>{{ 'MTD' | translate }} <span class=value ng-show=\"escapeNull(statisticsData.occupancy.current_month)!==''\">{{ ::(statisticsData.occupancy.current_month | round) }}%</span></li><li>{{ ::(userInfo.business_date|date:fullYear) }} <span class=value ng-show=\"escapeNull(statisticsData.occupancy.current_year)!==''\">{{ ::(statisticsData.occupancy.current_year | round) }}%</span></li></ul></div>"),t.put("/assets/partials/dashboard/rvDbRateOfTheDaySection.html",'<div id=dashboard-rate-of-day class="dashboard-block last" ng-if="isStandAlone && !!statistics.rate_of_day"><h3>Rate of the Day</h3><ul class=data><li>Today <span class=value ng-show="statistics.rate_of_day.today !== null">{{currencySymbol}}{{statistics.rate_of_day.today.amount | number : 2}}</span> <span class=value ng-hide="statistics.rate_of_day.today !== null">CLOSED</span><span class=rate>{{(statistics.rate_of_day.today && statistics.rate_of_day.today.name) || \'&#160;\'}}</span></li><li>{{tomorrow|date:monthAndDate}} <span class=value ng-show="statistics.rate_of_day.tomorrow !== null">{{currencySymbol}}{{statistics.rate_of_day.tomorrow.amount | number : 2}}</span> <span class=value ng-hide="statistics.rate_of_day.tomorrow !== null">CLOSED</span> <span class=rate>{{(statistics.rate_of_day.tomorrow && statistics.rate_of_day.tomorrow.name) || \'&#160;\'}}</span></li><li>{{dayAfterTomorrow|date:monthAndDate}} <span class=value ng-show="statistics.rate_of_day.day_after_tomorrow !== null">{{currencySymbol}}{{statistics.rate_of_day.day_after_tomorrow.amount | number : 2}}</span> <span class=value ng-hide="statistics.rate_of_day.day_after_tomorrow !== null">CLOSED</span> <span class=rate>{{(statistics.rate_of_day.day_after_tomorrow && statistics.rate_of_day.day_after_tomorrow.name) || \'&#160;\'}}</span></li></ul></div>'),t.put("/assets/partials/dashboard/rvDbRoomSection.html",'<div id=dashboard-rooms class="dashboard-block with-actions" ng-controller=rvDashboardRoomsWidgetController><h3>Rooms</h3><ul class=actions><li><a class="button blue" ng-click="clickedOnRoomButton($event, \'OCCUPIED\')"><strong>{{statisticsData.rooms.occupied}}</strong> Occupied Rooms</a></li><li><a class="button green" ng-click="clickedOnRoomButton($event, \'VACANT_READY\')"><strong>{{statisticsData.rooms.vacant_ready}}</strong> Vacant <span>(Ready)</span></a></li><li><a class="button red" ng-click="clickedOnRoomButton($event, \'VACANT_NOT_READY\')"><strong>{{statisticsData.rooms.vacant_not_ready}}</strong> Vacant <span>(Not Ready)</span></a></li><li><a class="button grey" ng-click="clickedOnRoomButton($event, \'OUTOFORDER_OR_SERVICE\')"><strong>{{statisticsData.rooms.out_of_order}}</strong> Out of Order/Service</a></li></ul></div>'),t.put("/assets/partials/dashboard/rvDbUpSellSection.html",'<div id=dashboard-upsell class="dashboard-block data" ng-show=hotelDetails.upsell_settings.is_upsell_settings_on><h3>Upsell</h3><ul class=data><li>Target <span class=value ng-show="escapeNull(statistics.upsell.target)!==\'\'">{{currencySymbol}}{{statistics.upsell.target | number : 0}}</span></li><li>Actual <span class=value ng-show="escapeNull(statistics.upsell.amount)!==\'\'">{{currencySymbol}}{{statistics.upsell.amount | number : 0}}</span></li></ul></div>'),t.put("/assets/partials/dashboard/rvFrontDeskDashboard.html",'<div ng-if=analyticsDashboardEnabled ng-controller=RVfrontDeskDashboardController><div ng-include="\'/assets/partials/search/rvFrontDeskDashboardSearchReservationsWithAnalytics.html\'"></div><section id=dashboard class="content scrollable" role=main ng-iscroll=dashboard_scroller ng-iscroll-delay=100 ng-if=!dashboardFilter.analyticsActive><div class=wrapper><div ng-include="\'/assets/partials/dashboard/rvDbGreetingMessageSection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbGuestsSection.html\'"></div><div ng-hide=!isStandAlone ng-include="\'/assets/partials/dashboard/rvDbOccupancySection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbUpSellSection.html\'"></div></div></section><ng-include src="\'/assets/partials/search/rvAnalyticsHeader.html\'" ng-if=dashboardFilter.analyticsActive></ng-include><div ng-if=dashboardFilter.analyticsActive ng-controller=rvAnalyticsMainController><section id=dashboard class="content scrollable analytics analytics-summary" role=main ng-iscroll=analytics_scroller ng-iscroll-delay=100 ng-if="dashboardFilter.displayMode === \'DASHBOARD_LIST\' && !dashboardFilter.gridViewActive" ng-include="\'/assets/partials/analytics/rvAnalyticsMain.html\'"></section><section id=dashboard class="content scrollable analytics" role=main ng-iscroll=analytics_details_scroller ng-iscroll-delay=100 ng-if="dashboardFilter.displayMode === \'CHART_DETAILS\' && !dashboardFilter.gridViewActive" ng-include="\'/assets/partials/analytics/rvAnalyticsMain.html\'"></section></div></div><div ng-if=!analyticsDashboardEnabled><div ng-include="\'/assets/partials/search/rvFrontDeskDashboardSearchReservations.html\'"></div><section id=dashboard class="content scrollable" role=main ng-iscroll=dashboard_scroller ng-iscroll-delay=100 ng-controller=RVfrontDeskDashboardController><div class=wrapper><div ng-include="\'/assets/partials/dashboard/rvDbGreetingMessageSection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbGuestsSection.html\'"></div><div ng-hide=!isStandAlone ng-include="\'/assets/partials/dashboard/rvDbOccupancySection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbUpSellSection.html\'"></div></div></section></div>'),t.put("/assets/partials/dashboard/rvHouseKeepingDashboard.html",'<div ng-if=analyticsDashboardEnabled ng-controller=RVhouseKeepingDashboardController><div ng-include="\'/assets/partials/search/rvSearchRoomWidgetWithAnalytics.html\'"></div><section id=dashboard class="content scrollable" role=main ng-iscroll=dashboard_scroller ng-iscroll-delay=100 ng-show=showDashboard ng-if=!dashboardFilter.analyticsActive><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbGreetingMessageSection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbHouseKeepingRoomsSection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbOccupancyHouseKeepingSection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbGuestsSection.html\'"></div></div></section><div ng-if=dashboardFilter.analyticsActive ng-controller=rvAnalyticsMainController><section id=dashboard class="content scrollable analytics analytics-summary" role=main ng-iscroll=analytics_scroller ng-iscroll-delay=100 ng-if="dashboardFilter.displayMode === \'DASHBOARD_LIST\' && !dashboardFilter.gridViewActive" ng-include="\'/assets/partials/analytics/rvAnalyticsMain.html\'"></section><section id=dashboard class="content scrollable analytics" role=main ng-iscroll=analytics_details_scroller ng-iscroll-delay=100 ng-if="dashboardFilter.displayMode === \'CHART_DETAILS\' && !dashboardFilter.gridViewActive" ng-include="\'/assets/partials/analytics/rvAnalyticsMain.html\'"></section></div></div><div ng-if=!analyticsDashboardEnabled><div ng-include="\'/assets/partials/search/rvSearchRoomWidget.html\'"></div><section id=dashboard class="content scrollable" role=main ng-iscroll=dashboard_scroller ng-iscroll-delay=100 ng-show=showDashboard ng-controller=RVhouseKeepingDashboardController><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbGreetingMessageSection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbHouseKeepingRoomsSection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbOccupancyHouseKeepingSection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbGuestsSection.html\'"></div></div></section></div>'),t.put("/assets/partials/dashboard/rvLeftNavbar.html",'<a href=#main-menu class=nav-toggle click-touch=toggleDrawerMenu($event)>Menu</a><div id=nav ng-show="isHotelAdmin || isHotelStaff"><div class=change-hotel ng-show=shouldShowMultiPropertySwitch()><h5 ng-click=toggleHotelList()>{{currentHotelData.name}}</h5><div class=scrollable ng-iscroll=hotels-list><dl class=wrapper><dd ng-repeat="hotel in hotelDetails.userHotelsData.hotel_list"><a ng-click=redirectToHotel(hotel)>{{ hotel.hotel_name}}</a></dd></dl></div></div><h5 ng-hide=shouldShowMultiPropertySwitch()>Menu</h5><div class="menu-scroll scrollable" ng-iscroll=MENU_SCROLLER ng-isroll-delay=300><div class=wrapper><ul id=large-menu class=main><li ng-repeat="menuItem in ::menu | filter:{hidden:\'!\'+true}" ng-class="{\'hide-on-mobile\': menuItem.hideOnMobile, \'show-only-on-mobile\': menuItem.showOnMobile}" ng-click=updateSubMenu($index,menuItem)><a class="icon-menu {{::menuItem.iconClass}}" ng-class="{\'open\':menuOpen && showSubMenu && menuItem.submenu.length >= 1 && activeSubMenu == menuItem.submenu, \'active\':selectedMenuIndex!=\'\' && (selectedMenuIndex == menuItem.menuIndex || (menuItem.submenu | filter:{menuIndex:selectedMenuIndex} : true).length > 0)}" translate={{::menuItem.title}} ng-if="menuItem.action != \'\'" ui-sref={{::menuItem.action}}></a> <a class="icon-menu {{::menuItem.iconClass}}" ng-class="{\'open\':menuOpen && showSubMenu && menuItem.submenu.length >= 1 && activeSubMenu == menuItem.submenu, \'active\':selectedMenuIndex!=\'\' && (selectedMenuIndex == menuItem.menuIndex || (menuItem.submenu | filter:{menuIndex:selectedMenuIndex} : true).length > 0)}" translate={{menuItem.title}} ng-if="menuItem.action == \'\'"></a></li><li id=settings class=hide-on-mobile><a ng-click="$emit(\'updateSettingsSubMenu\', settingsSubmenu[0])" class="icon-menu icon-settings" ng-class="{\'open\':isSettingSubMenuActive}">Settings</a></li><li id=sign-out><a ng-click=logout() class="icon-menu icon-sign-out">Sign Out</a></li></ul></div></div></div><ul id=submenu class=submenu ng-class="{\'active\':menuOpen && showSubMenu && activeSubMenu.length > 0}"><li ng-repeat="menuItem in activeSubMenu" ng-class="{\'hide-on-mobile\':menuItem.hideOnMobile}" ng-hide=menuItem.hidden><a ng-class="{\'active\':selectedMenuIndex == menuItem.menuIndex}" ng-if="menuItem.action != \'\'" ui-sref={{menuItem.action}} ui-sref-opts="{custom: {fromMenuBar: true}}" ng-click=toggleDrawerMenu() translate={{menuItem.title}}></a> <a ng-class="{\'active\':selectedMenuIndex == menuItem.menuIndex}" ng-if="menuItem.action == \'\' && !menuItem.actionPopup" ng-click=toggleDrawerMenu() translate={{menuItem.title}}></a> <a ng-class="{\'active\':selectedMenuIndex == menuItem.menuIndex}" ng-if="menuItem.action == \'\'&& menuItem.actionPopup" ng-click=subMenuAction(menuItem.menuIndex) translate={{menuItem.title}} ng-hide=menuItem.hideItem></a></li><li ng-if="isSystemTranslationEnabled && isSettingSubMenuActive" class=change-language ng-class="{\'active\': showLanguageList}"><div id=active-language class=language-active ng-click=openLanguageSelector()><i class=icon-flag ng-class="\'flag-\'+countryFlagLangMap[selectedLanguage.value]"></i> {{ selectedLanguage.description }}</div><div id=language-switch class=scrollable ng-iscroll=LANGUAGE_SCROLLER><ul class=wrapper><li ng-repeat="language in languages" ng-click=changeLanguage(language.value)><i class=icon-flag ng-class="\'flag-\'+countryFlagLangMap[language.value]"></i>{{ langNameTranslations[language.value] }}<em>{{ language.description }}</em></li></ul></div></li></ul>'),t.put("/assets/partials/dashboard/rvManagerDashboard.html",'<div ng-include="\'/assets/partials/search/rvManagerDashboardSearchReservations.html\'"></div><section id=dashboard class="content scrollable" role=main ng-iscroll=dashboard_scroller ng-iscroll-delay=100 ng-click=clearErrorMessage() ng-if="showDashboard && !dashboardFilter.analyticsActive"><div class=wrapper data-ng-init=pageLoaded() ng-class="{\'has-release-notes\' : !!activeNotification && showNotificationForCurrentUser && !isIpad }"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbGreetingMessageSection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbGuestsSection.html\'"></div><div ng-hide=!isStandAlone ng-include="\'/assets/partials/dashboard/rvDbOccupancySection.html\'"></div><div ng-include="\'/assets/partials/dashboard/rvDbRoomSection.html\'"></div><div class=dashboard-statistics ng-class="{\'active\' : isStatisticsOpened}"><button type=button class="button white has-arrow" ng-class="{\'active\' : isStatisticsOpened}" ng-click=toggleStatistics()>Statistics</button><div ng-include="\'/assets/partials/dashboard/rvDbAvgDailyRateSection.html\'" ng-if=isADRShown()></div><div ng-include="\'/assets/partials/dashboard/rvDbUpSellSection.html\'" ng-if=isStatisticsOpened></div><div ng-include="\'/assets/partials/dashboard/rvDbRateOfTheDaySection.html\'" ng-if=isStatisticsOpened></div></div></div></section><ng-include src="\'/assets/partials/search/rvAnalyticsHeader.html\'" ng-if="dashboardFilter.analyticsActive && dashboardFilter.isManagerDashboard"></ng-include><div ng-if=dashboardFilter.analyticsActive ng-controller=rvAnalyticsMainController><section id=dashboard class="content scrollable analytics analytics-summary" role=main ng-iscroll=analytics_scroller ng-iscroll-delay=100 ng-if="dashboardFilter.displayMode === \'DASHBOARD_LIST\' && !dashboardFilter.gridViewActive" ng-include="\'/assets/partials/analytics/rvAnalyticsMain.html\'"></section><section id=dashboard class="content scrollable analytics" role=main ng-iscroll=analytics_details_scroller ng-iscroll-delay=100 ng-show="dashboardFilter.displayMode === \'CHART_DETAILS\' && !dashboardFilter.gridViewActive" ng-include="\'/assets/partials/analytics/rvAnalyticsMain.html\'"></section><section id=dashboard-grid class=analytics-grid role=main ng-iscroll=analytics_scroller ng-iscroll-delay=100 ng-show=dashboardFilter.gridViewActive ng-include="\'/assets/partials/analytics/rvManagerDistributionGrid.html\'"></section></div><div class=release-notes ng-if="!!activeNotification && showNotificationForCurrentUser"><div class=release-notes_hide><label class="checkbox inline"><span class="icon-form icon-checkbox"></span> <input type=checkbox value=1 ng-click=changeNotificationStatus(activeNotification)> Don\'t Show Again</label></div><div class=release-notes_content><strong class=release-notes_text>{{activeNotification.message}}</strong><div class=release-notes_action><button class="button blank" ng-click=cancelReleaseNote(activeNotification)>Close</button> <a class="button blue" target=_blank ng-click=showReleaseNote(activeNotification) ng-show=!!activeNotification.action_source>View Details</a></div></div></div>'),t.put("/assets/partials/dashboard/rvReleaseNotificationPopup.html",'<div id=modal class=modal-show role=dialog ng-cloak=""><div class="modal-content release-notes-popup"><button id=modal-close type=button class=modal-close click-touch=closeReleaseNote()><span class="icons icon-close invert"></span></button><div class=iframe-scroll><iframe src="{{releaseActionSource| trustAsResourceUrl}}" seamless=""></iframe></div></div></div>'),t.put("/assets/partials/desktopSwipe/rvWebsocketConnectionError.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content new-content form warning warning-modal"><div class=ows_error translate="">WEBSOCKET_CONNECTION_ERROR</div><div class="actions float"><button class="button modal-close white red-text" ng-click=closeThisDialog() translate="">CLOSE</button></div></div></div>'),t.put("/assets/partials/diary/rvDiary.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><section id=diary-content class="content diary-content" role=main><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><form class=diary-header ng-class="{\'editing\': gridProps.edit.active === true || gridProps.unassignedRoomList.isItemSelected === true, \'unassigned\': gridProps.unassignedRoomList.isItemSelected === true, \'auto-assigning-rooms\': gridProps.autoAssignData.lockUI}"><div class="entry switch switch-view" ng-hide=hideToggleMenu()><div class=switch-button ng-class="{\'on\': toggleHourlyNightly}"><input ng-click=navigateToNightlyDiary() id=diary-hours-days type=checkbox><label class=data-off><span class=value>D</span> <span class=switch-icon>N</span></label> <label class=data-on><span class=switch-icon>D</span> <span class=value>N</span></label></div></div><div class="entry switch switch-view show-editing"><div class=switch-button ng-class="{on: gridProps.viewport.hours === 12}"><input ng-click=gridProps.filter.toggleRange() id=diary-view-range type=checkbox><label class=data-off><span class=value>12</span> <span class=switch-icon>24</span></label> <label class=data-on><span class=switch-icon>12</span> <span class=value>24</span></label></div></div><div class="entry date show-editing"><div class=entry-data><input ui-date=dateOptions ng-model=duplicte_arrival_date id=arrival-date type=text class=datepicker readonly=""> <strong class=date>{{ gridProps.filter.arrival_date | date: \'d MMM yyyy\'}}</strong></div></div><div class="entry time"><div class=select><select id=arrival-time name=arrival-time ng-model=gridProps.filter.arrival_time ng-options="arrival_time as arrival_time for arrival_time in gridProps.filter.arrival_times" ng-change=clickedOnArrivalTime()><option value="" selected=selected>Select</option></select></div></div><div class="entry rate"><div class=faux-select ng-click=gridProps.filter.toggleRates()>{{gridProps.filter.rate_type}} Rate</div><div id=diary-rates class=faux-select-options ng-class="{\'showing-search\': gridProps.filter.rate_type === \'Corporate\', \'hidden\': !openRateTypeChoosingBox}"><div class=header><label class="radio inline"><span class="icon-form icon-radio" ng-class="{checked: gridProps.filter.rate_type === \'Standard\'}"></span> <input name=rate-type ng-change=clickedOnRateType() id=standard-rate value=Standard ng-model=gridProps.filter.rate_type type=radio> Standard</label> <label class="radio inline"><span class="icon-form icon-radio" ng-class="{checked: gridProps.filter.rate_type === \'Corporate\'}"></span> <input name=rate-type ng-change=clickedOnRateType() id=corporate-rate value=Corporate ng-model=gridProps.filter.rate_type type=radio> Corporate <span id=selected-company class=placeholder ng-hide=gridProps.filter.rate>Select account</span> <span id=selected-company class="placeholder active" ng-show=gridProps.filter.rate>{{gridProps.filter.rate.label}}</span> <button type=button id=diary-corporate-ok class="icons icon-ok-10" ng-show=gridProps.filter.rate ng-click=compCardOrTravelAgSelected()>Add</button> <button type=button id=diary-corporate-cancel class="icons icon-remove-10" ng-show=gridProps.filter.rate ng-click=discardSelectedCompCardOrTravelAg()>Cancel</button></label></div><div id=corporate-rate-search class="entry search" ng-show="gridProps.filter.rate_type === \'Corporate\'"><a href=# id=diary-corporate-clear-query class=clear-query ng-class="{\'visible\': corporateSearchText != \'\'}" ng-click=clearCorporateSearchText()><span class="icons icon-clear-search">Clear query</span></a> <button type=submit name=submit class="icons icon-search">Search</button> <span role=status aria-live=polite class=ui-helper-hidden-accessible></span> <input auto-complete="" auto-options=autocompleteOptions name=diary-corporate-query id=diary-corporate-query class="query ui-autocomplete-input" placeholder="Type Company or Travel Agent Name" type=search ng-model=corporateSearchText ul-class=find-cards focus-me=focusOnCorporateSearchText></div></div></div><div class="entry room"><div class=select><select id=room-type name=room-type ng-model=gridProps.filter.room_type ng-options="room_type as room_type.name for room_type in gridProps.filter.room_types" ng-change=clickedOnRoomType() class=placeholder><option value="" selected=selected>Select</option></select></div></div><div class="entry edit show-editing" ng-show="gridProps.edit.active || gridProps.unassignedRoomList.isItemSelected"><div class=guest><figure class="guest-image hidden"><img src="" alt=""></figure><div class=guest-info><h2 class=name ng-show=gridProps.edit.originalItem.reservation_primary_guest_full_name>{{gridProps.edit.originalItem.reservation_primary_guest_full_name}}</h2><h2 class=name ng-show="!gridProps.edit.originalItem.reservation_primary_guest_full_name && gridProps.edit.originalItem.primary_guest">{{gridProps.edit.originalItem.primary_guest}}</h2><h2 class=name ng-show=!gridProps.edit.originalItem.reservation_primary_guest_full_name>{{gridProps.edit.originalItem.account_name}}</h2><span class="room hidden"><span class=currency>{currency}</span>{Rate} {Room Type}</span> <span class=room ng-show=gridProps.edit.originalItem.room_type_name>{{gridProps.edit.originalItem.room_type_name}}</span></div><button type=button class="button orange" ng-click=openStayCard()>StayCard</button></div><div class=actions><button type=button class="button blank show-unassigned" ng-click=editCancel()>Cancel</button> <button type=button class="button purple" ng-click=moveRoomButtonClick() ng-hide=hideMoveRoomButton>Move Room</button> <button type=button class="button red" ng-click=unassignRoom() ng-hide=hideRoomUnAssignButton>Unassign Room</button> <button type=button class="button green" ng-click=editSave() ng-if=showSaveChangesAfterEditing>Save Changes</button></div></div><div ng-include="\'/assets/partials/diary/rvDiaryAutoAssignHeader.html\'" include-replace=""></div><div class="entry filters"><button type=button class="button white with-icon only-icon show-unassigned" ng-click=onUnassignedRoomToggle() ng-class="{\'active\': gridProps.unassignedRoomList.open}"><span class=count>{{gridProps.unassignedRoomList.unassignedCount}}</span> <span class="icons icon-filter-room" ng-class="{\'active\': gridProps.unassignedRoomList.open}"></span></button> <button type=button class="button white with-icon only-icon show-unassigned" ng-click=resetEverything()><span class="icons icon-reset"></span></button></div></form><div ng-include="\'/assets/partials/diary/rvDiaryUnAssignedList.html\'" include-replace=""></div><react-component id=component-wrapper class=component-wrapper ng-class="{\'locked\': gridProps.autoAssignData.lockUI}" name=DiaryContent></react-component></section>'),t.put("/assets/partials/diary/rvDiaryAutoAssignHeader.html",'<div class="entry auto-assign-rooms show-assign-rooms"><div class=progress ng-class=gridProps.autoAssignData.statusClass><div class=progress-icon></div><div class=progress-data><h3>{{gridProps.autoAssignData.statusText}} ({{ gridProps.autoAssignData.processDate | date: \'d LLLL yyyy\' }})</h3><div class=progress-description>{{gridProps.autoAssignData.statusDescription}}</div></div><div class=progress-actions><button type=button class="button white with-icon only-icon" ng-if="gridProps.autoAssignData.status === \'pending\'" ng-click=refreshAutoAssignStatus()><span class="icons icon-reset"></span></button> <button type=button class="button purple" ng-if="gridProps.autoAssignData.status !== \'pending\' && gridProps.autoAssignData.status !== \'\'" ng-click=unlockRoomDiary()>Unlock Diary</button></div></div></div>'),
t.put("/assets/partials/diary/rvDiaryAvailabilityPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert diary-assigned"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">There are reservations with unassigned rooms.</span> <span class=notice>No additional availability exists for the selected dates / times.</span> <button type=button class="button blank" ng-click=cancelSelection()>Close Window</button></div></div>'),t.put("/assets/partials/diary/rvDiaryConfirmation.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class="modal-content diary-confirmation"><button id=modal-close class=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span id=diary-modal-title class="h2 message">Reserve <span>{{title}}</span>?</span><div class=diary-reserved ng-show=selection.rooms.length><ul class=details><li class=arrival><span>{{selection.arrival_time}}</span> {{selection.arrival_date}}</li><li class=departure><span>{{selection.departure_time}}</span> {{selection.departure_date}}</li></ul><div id=rooms-reserved class="rooms scrollable" ng-show=selection.rooms.length><ul class=wrapper><li ng-repeat="room in selection.rooms track by $index"><span class=type>{{room.room_type}}</span> <span class=room>{{room.room_no}}</span> <span class=price>{{room.amount}}</span> <span class="icons icon-remove-10" ng-show="selectedReservations.length > 0" ng-click=removeSelectedOccupancy($index)>-</span></li></ul></div></div><div class=actions><button class="button orange" type=button ng-click=selectAdditional()>Select Additional Room</button> <button class="button green" type=button ng-click=routeToSummary() ng-class="{overlay: !selection.rooms.length}" ng-disabled=!selection.rooms.length>Reserve {{title}}</button> <button class="button blank" type=button ng-click=cancelSelection()>Cancel</button></div></div></div>'),t.put("/assets/partials/diary/rvDiaryMessages.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close type=button class=modal-close ng-click=exitPopup()><span class="icons icon-close invert"></span></button> <span class="h2 message"><span class=red ng-repeat="msg in messages">{{msg}}</span></span><div class=actions><button type=button class="button red" ng-click=closeDialog()>Ok</button></div></div></div>'),t.put("/assets/partials/diary/rvDiaryReserveCabin.html",""),t.put("/assets/partials/diary/rvDiaryRoomTransferConfirmation.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class="modal-content diary-move"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">Move results in a price change of:<span class=red>{{currencySymbol}} {{price | number:2}}</span></span><div class=diary-moved><span class=label>From</span><ul class=details><li class=arrival><span>{{roomXfer.current.arrivalTime}}</span> {{roomXfer.current.arrivalDateToShow}}</li><li class=departure><span>{{roomXfer.current.departureTime}}</span> {{roomXfer.current.departureDateToShow}}</li><li class=type>{{roomXfer.current.room.room_type_name}}</li><li class=room>{{roomXfer.current.room.number}}</li><li class=price>{{currencySymbol}} {{roomXfer.current.room.old_price | number:2}}</li></ul></div><div class=diary-moved><span class=label>To</span><ul class=details><li class=arrival><span>{{roomXfer.next.arrivalTime}}</span> {{roomXfer.next.arrivalDateToShow}}</li><li class=departure><span>{{roomXfer.next.departureTime}}</span> {{roomXfer.next.departureDateToShow}}</li><li class=type>{{roomXfer.next.room.room_type_name}}</li><li class=room>{{roomXfer.next.room.number}}</li><li class=price>{{currencySymbol}} {{roomXfer.next.room.new_price | number:2}}</li></ul></div><div class=actions><button type=button class="button brand-colors" ng-click=moveWithoutRateChange()>Move without Rate Change</button> <button type=button class="button green" ng-click=confirm()>Apply Payment</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/diary/rvDiaryUnAssignedList.html",'<div ng-controller=rvDiaryUnassignedListController id=room-diary-rooms class="diary-sidebar diary-unassigned diary-hourly-unassigned" ng-class="{\'visible\': gridProps.unassignedRoomList.open}"><div class=diary-nightly-search-form><div class="entry search"><button class=clear-query ng-class="{\'visible\': queryString.length > 0}"><span class="icons icon-clear-search" ng-click=clearList()>Clear query</span></button> <span class=result-count ng-class="{\'hidden\': queryString.length === 0}">{{currentBookings.length + futureBookings.length}} Matches</span><input class=query placeholder="Search by Guest Name or Conf. No." type=search autocomplete=off ng-model=queryString ng-change=arrangeReservationList()></div></div><div class=sidebar-header><h2>Unassigned Reservations</h2><p>Select reservation to assign a room</p></div><div class="unassigned-list no-actions scrollable scroll-vertical"><div class=no-content ng-if=!bookingsPresent()><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No reservations found</strong></div></div><div class=wrapper ng-if=bookingsPresent()><strong class=unassigned-day>Today <span class=date>{{getActiveDate(true)}}</span> <span class=count>{{currentBookings.length}}</span></strong><div ng-repeat="reservation in currentBookings" class={{reservation.statusClass}} ng-click=clickedUnassignedReservation(reservation) ng-class="{\'selected\': selectedIndex === reservation.reservation_id, \'blocked disable-element\': reservation.arrival_date !== getActiveDate()}"><div class=data><strong class=name ng-bind-html="reservation.primary_guest | highlight:queryString:false"></strong><span class=vip ng-if=reservation.is_vip>VIP</span><span class=guest-room>Conf. <strong ng-bind-html="reservation.confirmation_number | highlight:queryString:false"></strong></span> <span class=guest-room>{{reservation.room_type_name}}</span></div><div class=type>{{reservation.is_hourly ? \'D\' : \'N\'}}</div><div class=nights ng-if=reservation.is_hourly>{{reservation.total_hours}} HOURS <span>{{reservation.arrival_time}}</span></div><div class=nights ng-if=!reservation.is_hourly>{{reservation.no_of_nights}} NIGHTS</div></div><strong class=unassigned-day>Tomorrow <span class=date>{{getNextDate(true)}}</span> <span class=count>{{futureBookings.length}}</span></strong><div ng-repeat="reservation in futureBookings" class={{reservation.statusClass}} ng-click=clickedUnassignedReservation(reservation) ng-class="{\'selected\': selectedIndex === reservation.reservation_id, \'blocked disable-element\': reservation.arrival_date !== getActiveDate()}"><div class=data><strong class=name ng-bind-html="reservation.primary_guest | highlight:queryString:false"></strong><span class=vip ng-if=reservation.is_vip>VIP</span><span class=guest-room>Conf. <strong ng-bind-html="reservation.confirmation_number | highlight:queryString:false"></strong></span> <span class=guest-room>{{reservation.room_type_name}}</span></div><div class=type>{{reservation.is_hourly ? \'D\' : \'N\'}}</div><div class=nights ng-if=reservation.is_hourly>{{reservation.total_hours}} HOURS <span>{{reservation.arrival_time}}</span></div><div class=nights ng-if=!reservation.is_hourly>{{reservation.no_of_nights}} NIGHTS</div></div></div></div></div>'),t.put("/assets/partials/diary/rvDiaryUnAssignedPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert diary-assigned"><button id=modal-close type=button class=modal-close ng-click=exitPopup()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">There are reservations with unassigned rooms.</span> <em class=text>You can still proceed, but it might be good to assign those reservations first.</em> <button type=button class="button green" ng-click=closeDialog()>Continue with book</button> <button type=button class="button blank" ng-click=closeUnAssignedPopup()>Close Window</button></div></div>'),t.put("/assets/partials/diary/rvDiaryUpdateRoomStatusAndServicePopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content form update-room-status update-room-status-diary" ng-class="{\'extended\': !isRoomStatusSectionActive()}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-header {{getClassNameByHkStatus(statusInfo.hkStatus, statusInfo.serviceStatus)}}"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class="icons icon-room"><h1>{{ngDialogData.room_no}}</h1><span>{{ngDialogData.room_type_name}}</span></div><div class=datetime><em>{{todayDate | date: \'dd MMMM yyyy\'}}</em> <em>{{todayDate | date: \'EEEE\'}}</em></div></div><div class=modal-body><ul class=options><li data-show=#room-status ng-click="setActiveSection(\'room\')" ng-class="{\'active\': isRoomStatusSectionActive()}">Room Status</li><li data-show=#service-status ng-click="setActiveSection(\'service\')" ng-class="{\'active\': !isRoomStatusSectionActive()}">Service Status</li></ul><div id=room-status class=status-container ng-if=isRoomStatusSectionActive()><div class="entry radio-check"><label class=radio for={{status.id}} ng-repeat="status in hkStatusList"><span class="icon-form icon-radio" ng-class="{ \'checked\' : statusInfo.hkStatus == status.value }"></span><input name=room-status id={{status.id}} value="{{ status.value }}" type=radio ng-model=statusInfo.hkStatus> {{status.description}}</label></div><div class=actions><button type=button class="button green" ng-click=updateRoomStatus(roomInfo.room_no)>Confirm Status</button><button type=button id=cancel class="button blank" ng-click=closeDialog()>Cancel</button></div></div><div id=service-status class=status-container ng-if=!isRoomStatusSectionActive()><div class="entry float-label"><div class=select><label for=select-service-status class=label>Service Status</label><select id=select-service-status ng-model=serviceStatusDetails.room_service_status_id ng-options="item.id as item.description for item in serviceList" ng-change=onServiceStatusChange()></select></div></div><div id=status-details class=scrollable ng-iscroll=roomStatusServiceUpdateScroller><div class="wrapper room-service-status"><div id=dates class=row><div id=out-from class=entry><label id=room-out-from-label for=room-out-from>From <span>today</span></label><div class=entry-data><input name=room-out-from id=room-out-from type=text class=datepicker ui-date=fromDateOptions ng-model=serviceStatusDetails.from_date ui-date-format=""> <strong id=room-out-from-day class=day>{{serviceStatusDetails.from_date | date:\'dd\' }}</strong> <span id=room-out-from-month class=month>{{serviceStatusDetails.from_date | date:\'MMMM\' }}</span> <span id=room-out-from-year class=year>{{serviceStatusDetails.from_date | date:\'yyyy\' }}</span></div><div class=select ng-hide=isInService()><select id=room-out-from-time class=placeholder ng-show=shouldShowTimeSelector() ng-model=serviceStatusDetails.begin_time><option value="" selected="">From Time</option><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="serviceStatusDetails.begin_time == timeSelector.value">{{timeSelector.text}}</option></select></div></div><div id=out-to class=entry><label id=room-out-to-label for=room-out-to>To <span>Tuesday</span></label><div class=entry-data><input name=room-out-to id=room-out-to type=text class=datepicker ui-date=untilDateOptions ng-model=serviceStatusDetails.to_date ui-date-format=""> <strong id=room-out-to-day class=day>{{serviceStatusDetails.to_date | date:\'dd\' }}</strong> <span id=room-out-to-month class=month>{{serviceStatusDetails.to_date | date:\'MMMM\' }}</span> <span id=room-out-to-year class=year>{{serviceStatusDetails.to_date | date:\'yyyy\' }}</span></div><div class=select ng-hide=isInService()><select id=room-out-to-time class=placeholder ng-show=shouldShowTimeSelector() ng-model=serviceStatusDetails.end_time><option value="" selected="">To Time</option><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="serviceStatusDetails.end_time == timeSelector.value">{{timeSelector.text}}</option></select></div></div></div><div id=reason class="row float" ng-hide="isRoomStatusSectionActive() || isInService()"><div class="entry margin"><label for=reason>Room return status</label><div class=select><select name=reason id=reason class=placeholder ng-model=serviceStatusDetails.return_status_id convert-to-number=""><option value="">Select</option><option ng-repeat="item in returnStatusList" value={{item.id}}>{{item.value}}</option></select></div></div><div class=entry><label for=reason>Reason</label><div class=select><select name=reason id=reason class=placeholder ng-model=serviceStatusDetails.reason_id convert-to-number=""><option value="" selected="">Select</option><option ng-repeat="item in maintenanceReasonsList" value={{item.value}}>{{item.name}}</option></select></div></div><div class="entry full-width"><label for=reason-comments>Comments <span>(optional)</span></label> <textarea name=reason-comments id=reason-comments rows=2 ng-model=serviceStatusDetails.comment></textarea></div></div></div></div><div class=actions><button type=button class="button green" ng-click=updateServiceStatus()>Confirm Status</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div></div></div>'),t.put("/assets/partials/earlyCheckout/rvEarlyCheckout.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form id=early-departure class="modal-content form confirmation"><span class="h2 message" translate="">EARLY_DEPARTURE</span> <span class="h3 message" translate="">EARLY_DEPARTURE_MESSAGE</span><div class="actions float"><a id=ok class="button green modal-close" ng-click=okButtonClicked() translate="">OK</a> <a id=cancel class="button blank modal-close" ng-click=closeDialog() translate="">CANCEL</a></div></form></div>'),t.put("/assets/partials/endOfDay/rvEndOfDayModal.html",'<div role=dialog id=modal class="modal-show end-of-day-modal" ng-click=clearErrorMessage() ng-cloak=""><button type=button id=modal-close ng-click=cancelClicked() class=modal-close><span class="icons icon-close invert"></span></button><section class=modal-content ng-class="{ \'new-content form warning padding-30\' : displayMode === \'NOTIFY_TIME\', \'form admin-form\' : displayMode === \'PROMPT_LOGIN\', \'padding-30\' : displayMode === \'PROMPT_CONFIRMATION\', \'new-content eod form warning\' : displayMode === \'ALERT_START\' }"><div ng-if="displayMode === \'NOTIFY_TIME\'" class=modal-content><div class="padding-30 end-of-day-notification" translate="">BUSSINESS_DATE_NOT_ENDED_MSG</div><div class="actions float actions-end-of-day-container"><button class="button green end-of-day-button" ng-click=yesClick() translate="">YES</button> <button class="button red end-of-day-button" ng-click=cancelClicked() translate="">NO</button></div></div><form ng-show="displayMode === \'PROMPT_LOGIN\'" name=update-settings id=update-settings><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><p class=credentials-title translate="">ENTER_PASSWORD</p><div class="entry full-width"><div id=notification-message></div></div><div class="entry full-width"><label translate="">PASSWORD</label> <input type=password ng-model=userPassword class=normalInputStyle></div><div class="actions float"><button type=submit ng-click=login() class="button green" translate="">VERIFY</button> <button type=button ng-click=cancelClicked() class="button blank modal-close" translate="">CANCEL</button></div></form><div ng-if="displayMode === \'PROMPT_CONFIRMATION\'"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><h3 translate="" class=actions-end-of-day-text>END_OF_DAY</h3><div class=end-of-day-message>{{\'BUSSINESS_DAY_MSG_1\' | translate}} <span class=current-bussiness-date>{{businessDate | date:dateFormat}}</span> {{\'BUSSINESS_DAY_MSG_2\' | translate}} <span class=next-bussiness-date>{{nextBusinessDate | date:dateFormat}}</span></div><div class="actions float padding-30"><button type=button ng-click=startEndOfDayProcess() class=button ng-class="{\'green\':startProcessEnabled}" ng-disabled=!startProcessEnabled translate="">START_END_OF_DAY_PROCESS</button> <button type=button id=cancel ng-click=cancelClicked() class="button blank modal-close" translate="">CANCEL</button></div></div><div ng-if="displayMode === \'ALERT_START\'"><h3 class=actions-end-of-day-text translate="">ARE_YOU_SURE</h3><div class="actions float actions-end-of-day-container"><button id=try-again class="button green end-of-day-button" ng-click=continueClicked() translate="">CONTINUE_WITH_END_OF_DAY</button> <button class="button red end-of-day-button" ng-click=cancelClicked() translate="">CANCEL</button></div></div></section></div>'),t.put("/assets/partials/endOfDay/rvEndOfDayProcess.html",'<section class=content role=main><div class=eod-header><div class=entry><label for=eod-date>Log Date</label><div class=entry-data ng-click=clickedDate()><input name=eod-date id=eod-date type=text class=datepicker readonly=""> <strong class=day>{{day}}</strong> <span class=month>{{month}}</span> <span class=year>{{year}}</span></div></div><button type=button class="button blue" ng-click=setSelectedDateToBussinessDate() ng-show=showSetToTodayButton()>Run EOD</button> <span ng-show=!showSetToTodayButton() class=eod-automatic>EOD set to run automatically at <strong><time datetime="">{{nextEodRunTime}}</time></strong></span></div><div class="eod-content scrollable" ng-iscroll=eod_scroll ng-iscroll-delay=500><div class=wrapper ng-hide=isSameSelectedAndBussiness()><div class=eod-item ng-repeat="eodLogDetail in eodLogDetails" ng-click=showError($index)><h2 ng-class=getClass(eodLogDetail)>{{eodLogDetail.sequence_number}}. {{eodLogDetail.name}}</h2><div class=notice ng-class="{\'hidden\':!eodLogDetail.isOpened }" ng-if="eodLogDetail.status==\'FAILED\'"><h3>{{eodLogDetail.errors[0].title}}</h3><p ng-bind-html=eodLogDetail.errors[0].message></p></div><div class=actions ng-class="{\'hidden\':!eodLogDetail.isOpened }" ng-if="eodLogDetail.status==\'FAILED\'"><button class="button green" ng-click=restartFailedProcess(eodLogDetail) ng-class="{ \'hidden\' : eodLogDetail.name==\'Post Room & Tax\' }">Re-run</button></div></div></div><div class=no-content ng-show=isSameSelectedAndBussiness()><div class=info ng-show=!isBussinessDateChanging><span class="icon-no-content icon-alert" ng-show=isLastEodRunWithin18Hr()></span> <strong class="h1 alert" ng-show=isLastEodRunWithin18Hr()>Business Date has been changed {{lastEodRunInHours}} hours and {{lastEodRunInMinutes}} minutes ago</strong><strong class=h1 ng-hide=isLastEodRunWithin18Hr()>End of Day</strong> <span class=h2>This will close the business day for <strong class=red>{{businessDate | date : dateFormat}}</strong> and change the business date to <strong class=green>{{nextBusinessDate | date : dateFormat}}</strong></span> <button type=submit class=button ng-click=openEndOfDayPopup() ng-class=getClassForEODButton() ng-disabled=disableEODButton()>Start End Of Day</button></div><div class=info ng-show=isBussinessDateChanging><strong class=h1 ng-hide=isLastEodRunWithin18Hr()>End of Day</strong> <span class=h2>EOD is running, changing Business Date to <strong class=green>{{nextBusinessDate | date : dateFormat}}</strong></span> <button type=submit class="button green" ng-click=updateStatus()>Refresh</button></div></div></div></section>'),t.put("/assets/partials/endOfDay/rvEndofDay.html",'<div id=page-inner-first class="page page-current"><div id=eod><div role=main id=view-nested-first class="nested-view view-current"><div ng-include="\'/assets/partials/common/header.html\'"></div><div ng-class="{ \'return-back\': returnBack }"><div ui-view=""></div></div></div></div></div>'),t.put("/assets/partials/endOfDay/rvEodDatepicker.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ui-date=dateOptions ng-model=date ui-date-format=yy-mm-dd class="ngmodal-uidate-wrap ui-datepicker datepicker-position-absolute"></div></div>'),t.put("/assets/partials/errorPopup/rvTimeoutError.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content new-content form warning warning-modal"><div class=ows_error>Rover is having trouble to respond. Please re-try. If the issue persists please visit the <a href=# ng-click=onClickSupportLink()>Support Portal</a> to submit a ticket.</div><div class="actions float"><button class="button modal-close white red-text" ng-click=closeThisDialog() translate="">CLOSE</button></div></div></div>'),t.put("/assets/partials/financials/rvFinancials.html",'<div id=page-inner-first class="page page-current"><div id=financials><div role=main id=view-nested-first class="nested-view view-current"><div ng-include="\'/assets/partials/common/header.html\'"></div><div ng-class="{ \'return-back\': returnBack }"><div ui-view=""></div></div></div></div></div>'),t.put("/assets/partials/groupAllowances/rvGroupAllowances.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post action="" id=edit-charge-options name=edit-charge class="modal-content form allowances"><button class=modal-close type=button ng-click=closeDialog() id=modal-close><span class="icons icon-close invert"></span></button><div id=allowances-header class=modal-header><div class=data><h1>Allowances</h1></div><div class=group-by ng-if=isActivitiesTabOpen><label for=allowances-group-by>Group By</label><div class="switch-button on"><input name=allowances-group-by id=allowances-group-by ng-model=isGroupedByDate ng-click=toggleGrouping() type=checkbox> <label class=data-on><span ng-class="{value: !isGroupedByDate, \'switch-icon\': isGroupedByDate}">Date</span> <span ng-class="{value: isGroupedByDate, \'switch-icon\': !isGroupedByDate}">Allowance</span></label></div></div><div class=header-actions ng-class="{\'sharing\': !isActivitiesTabOpen}"><button type=button class="button orange" ng-class="{\'orange\': isActivitiesTabOpen, \'white\': !isActivitiesTabOpen}" ng-click=toggleMode()>Activity</button> <button type=button class="button white" ng-class="{\'orange\': !isActivitiesTabOpen, \'white\': isActivitiesTabOpen}" ng-click=toggleMode()>Sharing</button></div></div><div id=allowances-body class=modal-body ng-if=isActivitiesTabOpen><div class=allowances-details ng-if=isGroupedByDate><div class=allowances-header><ul class=allowance-item><li class=date>Date</li><li class=time>Time</li><li class=charge-code>Charge code</li><li class=allowance>Allowance</li><li class=amount>Amount</li><li class=consumed>Consumed</li></ul></div><div class="allowances-details-body scrollable"><div class=wrapper><div ng-repeat="(key, entries) in reservationBillData.groupedAllowances.dataByDate"><ul class=allowance-item ng-repeat="entry in entries"><li class="date bold"><span ng-if="$index === 0">{{ entry.date }}</span></li><li class=time>{{ entry.time }}</li><li class=charge-code>{{ entry.charge_code }}</li><li class=allowance><span ng-if="entry.type === \'ALLOWANCE LOAD\' || entry.type === \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ entry.description }}</span> <span class=allowance-info ng-if="entry.type === \'ALLOWANCE LOAD\'">{{ entry.allowance_load_value }}</span></li><li class="amount bold" ng-bind-html="entry.amount | sntCurrency:this"></li><li class=consumed><span ng-if="(entry.type !== \'ALLOWANCE LOAD\' || entry.type === \'CONSUMED\') && entry.type !== \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ entry.description }}</span> <span class=consumed-info ng-if="entry.type !== \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ entry.reference_text }}</span></li></ul></div></div></div></div><div class=allowances-details ng-if=!isGroupedByDate><div class=allowances-header><ul class=allowance-item><li class=allowance>Allowance</li><li class=date>Date</li><li class=time>Time</li><li class=charge-code>Charge code</li><li class=amount>Amount</li><li class=consumed>Consumed</li></ul></div><div class="allowances-details-body scrollable"><div class=wrapper><div ng-repeat="(key, entries) in reservationBillData.groupedAllowances.dataByAllowance"><ul class=allowance-item ng-repeat="entry in entries"><li class=allowance><span ng-if="entry.type === \'ALLOWANCE LOAD\' || entry.type === \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'"><strong>{{ entry.description }}</strong><br><span class=allowance-info ng-if="entry.type === \'ALLOWANCE LOAD\'">{{ entry.allowance_load_value }}</span></span></li><li class=date><span>{{ entry.date }}</span></li><li class=time>{{ entry.time }}</li><li class=charge-code>{{ entry.charge_code }}</li><li class="amount bold" ng-bind-html="entry.amount | sntCurrency:this"></li><li class=consumed><span ng-if="(entry.type !== \'ALLOWANCE LOAD\' || entry.type === \'CONSUMED\') && entry.type !== \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ description }}</span> <span class=consumed-info ng-if="entry.type !== \'UNUSED ALLOWANCE / ALLOWANCE LOSS\'">{{ entry.reference_text }}</span></li></ul></div></div></div></div></div><div id=allowances-body class=modal-body ng-if=!isActivitiesTabOpen><fieldset class=content-left><div class=search-form><div class="entry search"><button class=clear-query><span class="icons icon-clear-search" ng-click="query = \'\'">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input name=allownces-query id=allowances-query class=query ng-model=shareQuery.query ng-keyup=debounceQueryUpdate() placeholder="Search by Room No. or Guest Name" type=search autocomplete=off></div></div><div class=scrollable ng-class="{\'no-results\': filteredShareData.length === 0}"><div class=wrapper><ul class=search-results><li class=no-content ng-if="filteredShareData.length === 0 && shareQuery.query.length > 0"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>Nothing found</strong> <span class=h2>There are no more reservations with the matching allowance for your search.</span></div></li><li class=guest ng-if="filteredShareData.length > 0" ng-repeat="item in filteredShareData"><div class=faux-anchor ng-click="onSelect(item, $event)"><figure class=guest-image><img ng-src="{{ item.guest_images[0] }}" alt=""></figure><div class=data><h2>{{ item.firstname}}, {{ item.lastname }}</h2><strong class=room-number ng-class="{\'no-number\': !item.room}">{{ item.room ? item.room : \'UNASSIGNED\' }}</strong><h3>{{ item.confirm_no }}</h3></div><span class="guest-status small-icon {{ statusMap[item.reservation_status.value] }}">{{ statusMap[item.reservation_status.value] }}</span></div></li></ul></div></div></fieldset><fieldset class=content-right><div class=no-content ng-if="keys(groupedSharedAllowances).length === 0"><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1>Nothing to share</strong> <span class=h2>Select a room to share an allowance with first</span></div></div><div class=shared-allowances ng-if="keys(groupedSharedAllowances).length > 0"><h2 class=h2>Shared Allowances</h2><span class="text message">unselect a room to exclude or select to include</span><div class="notice success_message" ng-if=successMessage.length>{{ successMessage }}</div><div class="notice error_message" ng-if=errorMessage.length>{{ errorMessage }}</div><div class="shared-allowances-list scrollable"><div class=wrapper ng-repeat="(allowanceKey, allowanceType) in groupedSharedAllowances"><h2 class=allowance-type>{{ allowanceType[0].name }}</h2><ul class=search-results><li class=guest ng-repeat="item in allowanceType track by $index" ng-class="{\'guest-excluded\': !isChecked(item.item_id, allowanceType[0].id)}"><div class=faux-anchor ng-click="toggleChecked(item.item_id, allowanceType[0].id)"><label class="checkbox inline" ng-class="{\'checked\': isChecked(item.item_id, allowanceType[0].id)}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': isChecked(item.item_id, allowanceType[0].id)}"></span><input type=checkbox></label><figure class=guest-image><img ng-src="{{ item.images.guest_image }}" alt=""></figure><div class=data><h2>{{ item.firstname }}, {{ item.lastname }}</h2><strong class=room-number ng-class="{\'no-number\': !item.room}">{{ item.room ? item.room : \'UNASSIGNED\' }}</strong></div><span class="guest-status small-icon {{ statusMap[item.reservation_status] }}">{{ item.reservation_status }}</span></div></li></ul></div></div></div></fieldset></div><div class=actions data-content=list><button type=button class="button blank modal-close" ng-click=closeDialog()>Cancel</button> <button type=button class="button green" ng-click=saveSharing()>Save Sharing</button></div></form></div>'),t.put("/assets/partials/groups/rvGroupBillingInfoDeleteConfirmPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">Remove Billing instructions from the group and all associated reservations</span> <button type=button class="button green modal-close" ng-click=deleteGroupBillingInfo()>Proceed</button> <button type=button class="button blank modal-close" ng-click=closeDialog()>Cancel</button></div></div>'),t.put("/assets/partials/groups/rvGroupConfiguration.html",'<div class="group-card cards" ng-class="{\'new-card\': isInAddMode() , \'fullscreen\' : !isInAddonSelectionMode()}"><div class=cards-wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><header class=cards-header><div id=group-card-header class=card-header ng-class="{\'no-print\' : addNoPrintClass}"><form class=dual-actions><div class=holder><div class=entry><input id=group-name placeholder="Group Name" ng-model=groupConfigData.summary.group_name type=text class="masked-input h1" data-size={{groupConfigData.summary.group_name.length}} auto-grow-field=""></div></div><div class="holder data"><input placeholder="" ng-init="focusedCompanyCard = false" ng-focus="focusedCompanyCard = true" ng-blur="focusedCompanyCard = false" ng-class="{\'active\': focusedCompanyCard}" class="masked-input icons icon-gc-company" auto-complete="" auto-options=companyAutoCompleteOptions data-card-type="" type=text value="" autocomplete=off ng-change=onCompanyCardChange() ng-model=groupConfigData.summary.company.name style="width:{{ ((groupConfigData.summary.company && groupConfigData.summary.company.name && groupConfigData.summary.company.name.length) || 2) * 9 + 45}}px"><input placeholder="" ng-init="focusedTravelAgent = false" ng-focus="focusedTravelAgent = true" ng-blur="focusedTravelAgent = false" ng-class="{\'active\': focusedTravelAgent}" class="masked-input icons icon-gc-ta" auto-complete="" auto-options=travelAgentAutoCompleteOptions data-card-type="" type=text value="" autocomplete=off ng-change=onTravelAgentCardChange() ng-model=groupConfigData.summary.travel_agent.name style="width:{{ ((groupConfigData.summary.travel_agent && groupConfigData.summary.travel_agent.name && groupConfigData.summary.travel_agent.name.length) || 2) * 9 + 45}}px"></div></form><div class="card-actions dual-actions" ng-hide=isInAddMode()><button type=button class="button blue hidden" ng-click=duplicateGroup()>Duplicate</button><button type=button class="button company" ng-click=goToCompanyCard() ng-show=shouldShowCompanyCardNavigationButton()><span class="icons icon-company"></span></button><button type=button class="button travel-agent" ng-click=goToTACard() ng-show=shouldShowTravelAgentNavigationButton()><span class="icons icon-travel-agent"></span></button></div><div class=card-actions ng-show=isInAddMode()><button type=button class="button green" ng-click=createGroup()>Save Group</button> <button type=button class="button blank" ng-click=discardNewGroup()>Discard</button></div></div></header><div class=cards-content ng-if=!isInAddonSelectionMode()><div id=group-card-content class="card-tabs card-content"><ul id=group-card-tabs-nav class="card-tabs-nav no-print"><li click-touch="switchTabTo(\'SUMMARY\')" event-shall-pass=true ng-class="{\'ui-tabs-active\' : groupConfigData.activeTab == \'SUMMARY\'}"><a id=summary>Summary</a></li><li class=with-filters click-touch="switchTabTo(\'ROOM_BLOCK\')" event-shall-pass=true ng-class="{\'ui-tabs-active\' : groupConfigData.activeTab == \'ROOM_BLOCK\'}"><a>Room Block Details</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header="Room Block Details" fs-toggle-class=fullscreen-card>Fullscreen</button></li><li click-touch="switchTabTo(\'ACCOUNT\')" event-shall-pass=true ng-class="{\'ui-tabs-active\' : groupConfigData.activeTab == \'ACCOUNT\'}"><a id=AccountTab>Account</a></li><li ng-show=shouldShowRoomingListTab() class=with-filters click-touch="switchTabTo(\'ROOMING\')" event-shall-pass=true ng-class="{\'ui-tabs-active\' : groupConfigData.activeTab == \'ROOMING\'}"><a>Rooming List</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header="Rooming List" fs-toggle-class=fullscreen-card>Fullscreen</button></li><li click-touch="switchTabTo(\'TRANSACTIONS\')" event-shall-pass=true ng-class="{\'ui-tabs-active\' : groupConfigData.activeTab == \'TRANSACTIONS\'}"><a>Transactions</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Transactions fs-toggle-class=fullscreen-card>Fullscreen</button></li><li click-touch="switchTabTo(\'ACTIVITY\')" event-shall-pass=true ng-class="{\'ui-tabs-active\' : groupConfigData.activeTab == \'ACTIVITY\'}"><a>Activity Log</a></li><li ng-class="{\'ui-tabs-active\': groupConfigData.activeTab == \'NOTES_AND_FILES\', \'with-filters\': isCloudStorageEnabledForCardType(\'group\')}" ng-click="switchTabTo(\'NOTES_AND_FILES\')" ng-if="isCloudStorageEnabledForCardType(\'group\')"><a translate="">NOTES_AND_FILES</a> <button type=button ng-if="isCloudStorageEnabledForCardType(\'group\')" class="button white icons icon-expand" rv-fullscreen="" fs-sub-header="Notes & Files" fs-toggle-class=fullscreen-card>Fullscreen</button></li></ul><ng-include src="\'/assets/partials/groups/summary/rvGroupConfigurationSummaryTab.html\'" ng-show="groupConfigData.activeTab == \'SUMMARY\'"></ng-include><ng-include src="\'/assets/partials/groups/roomBlock/rvGroupConfigurationRoomBlockTab.html\'" ng-show="groupConfigData.activeTab == \'ROOM_BLOCK\'"></ng-include><ng-include src="\'/assets/partials/groups/rooming/rvGroupRoomingListTab.html\'" ng-show="groupConfigData.activeTab == \'ROOMING\'"></ng-include><ng-include src="\'/assets/partials/accounts/accountsTab/rvAccountsSummary.html\'" ng-show="groupConfigData.activeTab == \'ACCOUNT\'"></ng-include><ng-include src="\'/assets/partials/accounts/transactions/rvAccountTransactions.html\'" ng-show="groupConfigData.activeTab == \'TRANSACTIONS\'"></ng-include><ng-include src="\'/assets/partials/groups/activity/rvGroupConfigurationActivityTab.html\'" ng-show="groupConfigData.activeTab == \'ACTIVITY\'"></ng-include><form method=post id=gc-notes name=gc-notes class="form inner-header card-tab notes-tab no-print" ng-if="groupConfigData.activeTab == \'NOTES_AND_FILES\'"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><span ng-include="\'/assets/partials/groups/notesAndFiles/rvGroupConfigurationNotesAndFiles.html\'"></span></form></div></div></div></div><div ng-if=isInAddonSelectionMode() ng-include="\'/assets/partials/groups/summary/rvGroupConfigurationAddons.html\'"></div>'),
t.put("/assets/partials/groups/rvGroupRoot.html","<div ng-include=\"'/assets/partials/common/header.html'\"></div><ui-view></ui-view>"),t.put("/assets/partials/guestId/rvGuestIDDetailsErrorPopup.html",'<div role=dialog id=modal class=modal-show><div class="modal-content new-content form warning warning-modal"><div class=ows_error ng-if=guestIdData.errorMessage translate="">{{ guestIdData.errorMessage }}</div><div class=ows_error ng-if=!guestIdData.errorMessage translate="">ID_DETAILS_UPDATION_ERROR</div><div class="actions float"><button class="button modal-close white red-text" ng-click=closeErrorPopup() translate="">CLOSE</button></div></div></div>'),t.put("/assets/partials/guestId/rvGuestIDDobCalendar.html","<div id=modal class=modal-show><div ui-date=dateOfBirthdateOptions ng-model=guestIdData.date_of_birth ui-date-format=mm-dd-yy class=ngmodal-uidate-wrap></div></div>"),t.put("/assets/partials/guestId/rvGuestIDExpiryCalendar.html","<div id=modal class=modal-show><div ui-date=idExpiryDateOptions ng-model=guestIdData.expiration_date ui-date-format=mm-dd-yy class=ngmodal-uidate-wrap></div></div>"),t.put("/assets/partials/guestId/rvGuestId.html",'<div role=dialog id=modal class=modal-show><div id=guest-id class="modal-content form guest-id"><button id=modal-close type=button class=modal-close ng-click=closeGuestIdModal()><span class="icons icon-close invert"></span></button><div class=modal-body><div class=content-left style="padding-top: 20px;"><h2 class=message translate="">ID_DETAILS</h2><div class=scrollable ng-iscroll=id-details style="max-height: 600px;"><ul class=details><li><span>{{ \'ID_LAST_NAME\' | translate }}</span><div class=entry><input type=text placeholder="" ng-model=guestIdData.last_name></div></li><li><span>{{ \'ID_FIRST_NAME\' | translate}}</span><div class=entry><input type=text placeholder="" ng-model=guestIdData.first_name></div></li><li><span>{{ \'ID_DOB\' | translate}}</span><div class="entry has-datepicker"><button ng-click=clearDob() class="clear-query visible" ng-class="{\'visible\': guestIdData.dob_for_display && guestIdData.dob_for_display.length > 0 }" style=""><span class="icons icon-clear-search">Clear query</span></button> <input name="" placeholder="Set Date" class="datepicker hasDatepicker" ng-model=guestIdData.dob_for_display ng-click=openDobCalendar() readonly=""></div></li><li><span>{{ \'ID_NATIONALITY\' | translate}}</span><div class=entry><div class=select><select class=placeholder ng-model=guestIdData.nationality_id><option value="">Select a Nationality</option><option ng-repeat="country in countyList" value="{{ country.id }}">{{ country.value }}</option></select></div></div></li><li><span>{{ \'PERSONAL_NUMBER\' | translate}}</span><div class=entry><input type=text placeholder="" ng-model=guestIdData.id_scan_info.personal_id_no></div></li><li><span>{{ \'DOCUMENT_NUMBER\' | translate}}</span><div class=entry><input type=text placeholder="" ng-model=guestIdData.document_number></div></li><li><span>{{ \'ID_EXPIRY\' | translate}}</span><div class="entry has-datepicker"><button ng-click=clearExpiryDate() class="clear-query visible" ng-class="{\'visible\': guestIdData.expiry_date_for_display && guestIdData.expiry_date_for_display.length > 0 }" style=""><span class="icons icon-clear-search">Clear query</span></button> <input name="" placeholder="Set Date" class="datepicker hasDatepicker" ng-model=guestIdData.expiry_date_for_display ng-click=openExpiryCalendar() readonly=""></div></li><li ng-if="guestIdData.signature.length > 0"><span>{{ \'ID_SIGNATURE\' | translate}}</span> <img src="{{ guestIdData.signature }}" alt="" style="background: #fff"></li></ul></div></div><div class=content-right><div class="select document-type" ng-hide="screenData.extCamForFrontIDActivated || screenData.extCamForBackIDActivated"><select name=document-type class=placeholder ng-model=guestIdData.document_type><option value="" disabled="">Select document type</option><option value=ID_CARD translate="">ID card</option><option value=PASSPORT translate="">PASSPORT</option></select></div><div class="select document-type" ng-show=deviceConfig.useExtCamera><select ng-model=selectedCamera class=placeholder ng-options="camera.id as camera.label for camera in connectedCameras" ng-change=cameraSourceChanged(selectedCamera)><option value="" disabled="">Select Camera</option></select></div><div class=guest-documents ng-class="{\'scan-mode\': screenData.extCamForFrontIDActivated || screenData.extCamForBackIDActivated}"><div class=guest-document ng-hide=screenData.extCamForBackIDActivated><h2 class=message translate="">ID_FRONT</h2><div class=guest-info ng-class="{\'missing\' : guestIdData.front_image_data.length === 0}" ng-hide=screenData.extCamForFrontIDActivated><img src="{{ guestIdData.front_image_data }}"> <input type=file id=front-image-upload accept=image/* ng-model=guestIdData.front_image_data app-filereader="" style="display: none;" ng-change="ImageChange(\'front-image\')"><div class=document-actions ng-show="guestIdData.front_image_data.length > 0"><button type=button class="button white green-text needsclick" ng-click=scanFrontSide() ng-show="showScanOption && !deviceConfig.useExtCamera">Re-Scan</button> <button type=button class="button white green-text needsclick" ng-click="startExtCameraCapture(\'front-image\')" ng-show="showScanOption && deviceConfig.useExtCamera">Re-Scan</button> <button type=button class="button white blue-text needsclick" ng-click=uploadFrontImage() translate="">RE_UPLOAD</button><button type=button class="button white red-text" ng-click="saveGuestIdDetails(\'DELETE\', \'front-image\')" ng-show=showScanOption style="width: calc(200% + 10px)" translate="">DELETE</button> <button type=button class="button white red-text" ng-click="saveGuestIdDetails(\'DELETE\', \'front-image\')" ng-hide=showScanOption translate="">DELETE</button></div><span class="icons icon-identity-card-missing" ng-show="guestIdData.front_image_data.length === 0"></span><h3 ng-show="guestIdData.front_image_data.length === 0" translate="">NO_IMAGE</h3><p ng-show="guestIdData.front_image_data.length === 0" translate="">SCAN_ID_INSTRUCTIONS</p><button type=button class="button white green-text needsclick" ng-show="guestIdData.front_image_data.length === 0 && showScanOption && !deviceConfig.useExtCamera" ng-click=scanFrontSide() translate="">SCAN_ID</button> <button type=button class="button white green-text needsclick" ng-show="guestIdData.front_image_data.length === 0 && showScanOption && deviceConfig.useExtCamera" ng-click="startExtCameraCapture(\'front-image\')" translate="">SCAN_ID</button> <button type=button class="button white blue-text needsclick" ng-show="guestIdData.front_image_data.length === 0" ng-click=uploadFrontImage() translate="">UPLOAD_IMAGE</button></div><div class=guest-info ng-show=screenData.extCamForFrontIDActivated><video id=id-video style=width:100%; autoplay=""></video><button type=button class="button white green-text needsclick half-width-buttons" ng-click=captureFrontImageUsingExtCamera() style="margin-top: 20px;">Capture</button> <button type=button class="button white red-text needsclick half-width-buttons" ng-click="stopExtCamera(\'front-image\')" style="margin-top: 20px;">Cancel</button></div></div><div class=guest-document ng-hide=screenData.extCamForFrontIDActivated><h2 class=message translate="">ID_BACK</h2><div class=guest-info ng-class="{\'missing\' : guestIdData.back_image_data.length === 0}" ng-hide=screenData.extCamForBackIDActivated><img src="{{ guestIdData.back_image_data }}"> <input type=file id=back-image-upload accept=image/* ng-model=guestIdData.back_image_data app-filereader="" style="display: none;" ng-change="ImageChange(\'back-image\')"><div class=document-actions ng-show="guestIdData.back_image_data.length > 0"><button type=button class="button white green-text needsclick" ng-click=scanBackSide() ng-show="showScanOption && screenData.showBackSideScan && !deviceConfig.useExtCamera" "="">Re-Scan</button> <button type=button class="button white green-text needsclick" ng-click="startExtCameraCapture(\'back-image\')" ng-show="showScanOption && screenData.showBackSideScan && deviceConfig.useExtCamera">Re-Scan</button> <button type=button class="button white blue-text needsclick" ng-click=uploadBackImage() translate="">RE_UPLOAD</button><button type=button class="button white red-text" ng-click="saveGuestIdDetails(\'DELETE\',\'back-image\')" translate="">DELETE</button></div><span class="icons icon-identity-card-missing" ng-show="guestIdData.back_image_data.length === 0"></span><h3 ng-show="guestIdData.back_image_data.length === 0" translate="">NO_IMAGE</h3><p ng-show="guestIdData.back_image_data.length === 0" translate="">SCAN_ID_INSTRUCTIONS</p><button type=button class="button white green-text needsclick" ng-show="guestIdData.back_image_data.length === 0 && showScanOption && screenData.showBackSideScan && !deviceConfig.useExtCamera" ng-click=scanBackSide() translate="">SCAN_ID</button> <button type=button class="button white green-text needsclick" ng-show="guestIdData.back_image_data.length === 0 && showScanOption && screenData.showBackSideScan && deviceConfig.useExtCamera" ng-click="startExtCameraCapture(\'back-image\')" translate="">SCAN_ID</button> <button type=button class="button white blue-text needsclick" ng-show="guestIdData.back_image_data.length === 0" ng-click=uploadBackImage() translate="">UPLOAD_IMAGE</button></div><div class=guest-info ng-show=screenData.extCamForBackIDActivated><video id=id-back-video style=width:100%; autoplay=""></video><button type=button class="button white green-text needsclick half-width-buttons" ng-click=captureBackImageUsingExtCamera() style="margin-top: 20px;">Capture</button> <button type=button class="button white red-text needsclick half-width-buttons" ng-click="stopExtCamera(\'back-image\')" style="margin-top: 20px;">Cancel</button></div></div></div><button type=button class="button green" ng-click=saveGuestIdDetails() ng-hide="screenData.extCamForFrontIDActivated || screenData.extCamForBackIDActivated" translate="">SAVE</button></div></div></div><input type=file accept=image/* capture=environment id=front-image ng-upload-change=frontImageChanged($event) value="" style="display: none !important;"> <input type=file accept=image/* capture=environment id=back-image ng-upload-change=backImageChanged($event) value="" style="display: none !important;"><div></div></div>'),t.put("/assets/partials/guestCard/contactInfoCalendarPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ui-date=dateOptions ng-model=contactInfoDate ui-date-format=yy-mm-dd class="ngmodal-uidate-wrap ui-datepicker datepicker-position-absolute"></div></div>'),t.put("/assets/partials/guestCard/guestCard.html",'<div id=guest-card class="guest-card cards" ng-class=cardCls() ng-controller=guestCardController style="height: {{guestCardHeight}}px;" ui-jq=resizable ui-options=resizableOptions ng-click=guestCardClick($event);clickedOnGuestCard($event) resize="" ng-if=!viewState.searching><div class=cards-wrapper><header class=cards-header><section ng-include="\'/assets/partials/cards/header/guestCardHeader.html\'"></section><section ng-include="\'/assets/partials/cards/header/companyCardHeader.html\'"></section><section ng-include="\'/assets/partials/cards/header/travelAgentCardHeader.html\'"></section><section ng-include="\'/assets/partials/cards/header/groupCardHeader.html\'" ng-if="!(isHourlyRateOn || hotelDiaryConfig.mode === \'FULL\')"></section></header><div class=cards-content><section ng-include="\'/assets/partials/cards/guestCardContent.html\'"></section><section ng-include="\'/assets/partials/cards/companyCardContent.html\'"></section><section ng-include="\'/assets/partials/cards/travelAgentCardContent.html\'"></section><section ng-include="\'/assets/partials/cards/groupCardContent.html\'" ng-if="!(isHourlyRateOn || hotelDiaryConfig.mode === \'FULL\')"></section></div></div></div>'),t.put("/assets/partials/guestCard/guestCardActivityLog.html",'<form ng-controller=RVGuestCardActivityLogController method=post name=cc-activity-log class="form card-tab inner-header activity-log no-print"><div class="tab-header with-filters hidden no-print"><div class="search-form has-dates"><div class=entry><div class=select><select id=company-module><option value=all selected="">All Modules</option><option value={module}>{Module}</option>... repeat for modules</select></div></div><div class="entry dates"><div class="entry-data has-datepicker"><label for=activity-log-date-from>From</label> <button id=activity-log-date-from-clear class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input name=activity-log-date-from id=activity-log-date-from type=text class=datepicker value={date-from} readonly=""></div><div class="entry-data has-datepicker"><label for=activity-log-date-to>To</label> <button id=activity-log-date-to-clear class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input name=activity-log-date-to id=activity-log-date-to type=text class=datepicker value={date-to} readonly=""></div></div><div class=entry><div class=select><select id=activity-log-activities><option value=all selected="">All Activities</option><option value={activity}>{Activity}</option>... repeat for all actvities</select></div></div><div class="entry search"><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input name=activity-log-search class=query placeholder="Search by Details" type=search autocomplete=off></div><div class=entry><div class="multi-select active"><span class=value>All Users</span></div><div class=multi-select-options><div class=search><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input class=query placeholder="Search User" autocomplete=off type=search></div><div class=scrollable><div class=wrapper><label class="checkbox inline"><span class="icon-form icon-checkbox"></span> <input value={user} type=radio> <span class=text>{User}</span></label> ... repeat for each user</div></div></div></div><button type=button class="button green">Filter</button></div></div><div class="tab-details scrollable no-print" ng-iscroll=rvGuestCardActivityLogScroll ng-iscroll-delay=100 ng-class="{ \'with-pagination\': showPagination() }"><div class=wrapper><table><thead><tr><th><span ng-click="sortByAction(\'USERNAME\')" class=sort ng-class="{\'sorting-asc\':activityLogFilter.user == \'asc\',\'sorting-desc\':activityLogFilter.user == \'desc\'}">User</span></th><th><span ng-click="sortByAction(\'DATE\')" class=sort ng-class="{\'sorting-asc\':activityLogFilter.date == \'asc\',\'sorting-desc\':activityLogFilter.date == \'desc\'}">Date &amp; Time</span></th><th><span ng-click="sortByAction(\'ACTION\')" class=sort ng-class="{\'sorting-asc\':activityLogFilter.action == \'asc\',\'sorting-desc\':activityLogFilter.action == \'desc\'}">Action</span></th><th><span>Details</span></th></tr></thead><tbody><tr ng-repeat="item in activityLogObj.response.results" ng-if=!isEmptyArray(item.details)><td class=name>{{item.user_name}} <span class=property>{{item.property}}</span></td><td class=date>{{item.date | date: dateFormat }}, {{item.time}}</td><td class=action>{{item.action}}</td><td class=details><span ng-repeat="details in item.details"><span class=old ng-show=isOldValue(details.old_value)>{{ details.key }} <strong ng-show="details.key != \'Amount\' && details.key != \'amount\'">{{ details.old_value }}</strong> <strong ng-show="details.key == \'Amount\' || details.key == \'amount\'">{{ details.old_value | number:2 }}</strong></span> {{details.key}} <span class=currency ng-show="details.key != \'Amount\' && details.key != \'amount\'"><strong>{{details.new_value }}</strong></span> <span class=currency ng-show="details.key == \'Amount\' || details.key == \'amount\'"><strong>{{details.new_value | number:2 }}</strong></span></span></td></tr></tbody></table></div></div><rv-pagination ng-show=showPagination() page-options=activityLogPagination page-data=activityLogObj.response></rv-pagination></form>'),t.put("/assets/partials/guestCard/guestCardContactInfo.html",'<form id=gc-contact-info outside-click-handler="" name=gc-contact-info class="form card-tab scrollable" ng-controller=RVContactInfoController ng-show="current == \'guest-contact\' || printState.clicked" ng-iscroll=contact_info ng-iscroll-delay=1000 ng-iscroll-form=true><div class=wrapper><div class="entry full-width"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><div class="holder left"><rv-textbox id=titleId value=guestCardData.contactInfo.title label=Title styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.title, \'clear\')}}"></rv-textbox><rv-textbox value=guestCardData.contactInfo.first_name label="First name" required="{{guestCardData.contactInfo.guest_admin_settings.first_name.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" ng-if=guestCardData.contactInfo.guest_admin_settings.first_name.is_visible styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.first_name, \'\')}}"></rv-textbox><rv-textbox value=guestCardData.contactInfo.last_name label="Last Name" required="{{guestCardData.contactInfo.guest_admin_settings.last_name.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" ng-if=guestCardData.contactInfo.guest_admin_settings.last_name.is_visible styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.last_name, \'\')}}"></rv-textbox><rv-textbox value=guestCardData.contactInfo.works_at styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.works_at, \'\')}}" label="Works at"></rv-textbox><rv-textbox ng-if=guestCardData.contactInfo.guest_admin_settings.job_title.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.job_title.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" value=guestCardData.contactInfo.job_title label="Job title" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.job_title, \'\')}}"></rv-textbox><rv-textbox value=guestCardData.contactInfo.tax_number label="Tax Number" ng-if=guestCardData.contactInfo.guest_admin_settings.tax_number.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.tax_number.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.tax_number, \'\')}}"></rv-textbox><div ng-if=guestCardData.contactInfo.guest_admin_settings.date_of_birth.is_visible class="entry has-datepicker" ng-class="{\'no-print\': !birthdayText}"><label for=birthday>Birthday <strong ng-if=guestCardData.contactInfo.guest_admin_settings.date_of_birth.is_mandatory_on_guest_card_creation>*</strong></label> <input type=text ng-value="guestCardData.contactInfo.birthday | date:dateFormat" ng-model=guestCardData.contactInfo.birthday name=guest-birthday maxlength=8 id=guest-birthday class=datepicker ng-click="popupCalendarForGuestContactInfoDate(\'birthday\')" readonly=""></div><div ng-if=guestCardData.contactInfo.guest_admin_settings.nationality.is_visible class=entry ng-class="{\'no-print\': !guestCardData.contactInfo.nationality_id}"><label for=country>Nationality<strong ng-if=guestCardData.contactInfo.guest_admin_settings.nationality.is_mandatory_on_guest_card_creation>*</strong></label><div form=contact-info class=select><select iscroll-stop-propagation="" ng-options="country.id as country.value for country in countries" ng-model=guestCardData.contactInfo.nationality_id><option style=display:none value=""></option></select></div></div><div class=entry ng-if="isStandAlone && languageData.show_language_field" ng-class="{\'no-print\': !guestCardData.contactInfo.language_id}"><label for=languages>Language</label><div form=contact-info class=select><select convert-to-number="" iscroll-stop-propagation="" ng-model=guestCardData.contactInfo.language_id><option style=display:none value=""></option><option value={{item.id}} ng-repeat="item in languageData.languages" ng-selected="item.id === guestCardData.contactInfo.language_id" ng-if="item.id === guestCardData.contactInfo.language_id || item.is_show_on_guest_card">{{item.language}}</option></select></div></div><div class=entry ng-class="{\'no-print\': !guestCardData.contactInfo.id_type}"><label for=country>Id Type <strong ng-if=guestCardData.contactInfo.guest_admin_settings.id_type.is_mandatory_on_guest_card_creation>*</strong></label><div form=contact-info class=select><select iscroll-stop-propagation="" ng-options="idType.id as idType.value for idType in idTypeList" ng-model=guestCardData.contactInfo.id_type><option style=display:none value=""></option></select></div></div><rv-textbox value=guestCardData.contactInfo.id_number label="Id Number" required="{{guestCardData.contactInfo.guest_admin_settings.id_number.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" ng-if=guestCardData.contactInfo.guest_admin_settings.id_number.is_visible styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.id_number, \'\')}}"></rv-textbox><div class="entry has-datepicker" id=issue-date ng-if=guestCardData.contactInfo.guest_admin_settings.id_issue_date.is_visible><label for="id date issue">ID Date of issue <strong ng-if=guestCardData.contactInfo.guest_admin_settings.id_issue_date.is_mandatory_on_guest_card_creation>*</strong></label> <input type=text ng-value="guestCardData.contactInfo.id_issue_date | date:dateFormat" ng-model=guestCardData.contactInfo.id_issue_date class=datepicker ng-click="popupCalendarForGuestContactInfoDate(\'idDate\')" readonly=""></div><div class=entry id=place-of-issue ng-if=guestCardData.contactInfo.guest_admin_settings.id_place_of_issue.is_visible><label for="id place issue">ID Place of issue <strong ng-if=guestCardData.contactInfo.guest_admin_settings.id_place_of_issue.is_mandatory_on_guest_card_creation>*</strong></label> <input type=text ng-model=guestCardData.contactInfo.id_place_of_issue></div><div class=entry id=country-of-issue ng-if=guestCardData.contactInfo.guest_admin_settings.id_country_of_issue.is_visible><label for="id date issue">ID Country of issue <strong ng-if=guestCardData.contactInfo.guest_admin_settings.id_country_of_issue.is_mandatory_on_guest_card_creation>*</strong></label><div class=select><select iscroll-stop-propagation="" ng-options="country.id as country.value for country in countries" ng-model=guestCardData.contactInfo.id_country_id><option style=display:none value=""></option></select></div></div><div class="entry has-datepicker" id=expiry-date ng-if=guestCardData.contactInfo.guest_admin_settings.id_expiration_date.is_visible><label for="entry date">ID Date of Expiry <strong ng-if=guestCardData.contactInfo.guest_admin_settings.id_expiration_date.is_mandatory_on_guest_card_creation>*</strong></label> <input type=text ng-value="guestCardData.contactInfo.id_expiration_date | date:dateFormat" ng-model=guestCardData.contactInfo.id_expiration_date class=datepicker ng-click="popupCalendarForGuestContactInfoDate(\'idExpirationDate\')" readonly=""></div><div class="entry has-datepicker" id=entry-date ng-if=guestCardData.contactInfo.guest_admin_settings.entry_date.is_visible><label for="entry date">Entry Date <strong ng-if=guestCardData.contactInfo.guest_admin_settings.entry_date.is_mandatory_on_guest_card_creation>*</strong></label> <input type=text ng-value="guestCardData.contactInfo.entry_date | date:dateFormat" ng-model=guestCardData.contactInfo.entry_date class=datepicker ng-click="popupCalendarForGuestContactInfoDate(\'entryDate\')" readonly=""></div><rv-textbox ng-if=guestCardData.contactInfo.guest_admin_settings.father_name.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.father_name.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" value=guestCardData.contactInfo.father_name label="Name of Father" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.father_name, \'\')}}"></rv-textbox><rv-textbox ng-if=guestCardData.contactInfo.guest_admin_settings.mother_name.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.mother_name.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" value=guestCardData.contactInfo.mother_name label="Name of Mother" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.mother_name, guestCardData.contactInfo.is_father_name_visible ? \'\' : \'\')}}"></rv-textbox><rv-textbox ng-if=guestCardData.contactInfo.guest_admin_settings.birth_place.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.birth_place.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" value=guestCardData.contactInfo.birth_place label="Place of Birth" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.birth_place, (guestCardData.contactInfo.is_father_name_visible && guestCardData.contactInfo.is_mother_name_visible) || (!guestCardData.contactInfo.is_father_name_visible && !guestCardData.contactInfo.is_mother_name_visible) ? \'\' : \'\')}}"></rv-textbox><div class=entry ng-if=guestCardData.contactInfo.guest_admin_settings.gender.is_visible ng-class="getStyleClassForPrint(guestCardData.contactInfo.genderTypeList, (guestCardData.contactInfo.is_father_name_visible && guestCardData.contactInfo.is_mother_name_visible) || (!guestCardData.contactInfo.is_father_name_visible && !guestCardData.contactInfo.is_mother_name_visible) ? \'\' : \'\')"><label for=country>Gender <strong ng-if=guestCardData.contactInfo.guest_admin_settings.gender.is_mandatory_on_guest_card_creation>*</strong></label><div form=contact-info class=select><select iscroll-stop-propagation="" ng-options="genderType.id as genderType.value for genderType in guestCardData.contactInfo.genderTypeList" ng-model=guestCardData.contactInfo.gender_id required="{{guestCardData.contactInfo.guest_admin_settings.gender.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}"><option style=display:none value=genderType.id></option></select></div></div><rv-textbox ng-if=guestCardData.contactInfo.guest_admin_settings.home_town.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.home_town.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" value=guestCardData.contactInfo.home_town label="Home Town" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.home_town, \'\')}}"></rv-textbox><rv-textbox required="{{guestCardData.contactInfo.guest_admin_settings.place_of_residence.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" ng-if=guestCardData.contactInfo.guest_admin_settings.place_of_residence.is_visible value=guestCardData.contactInfo.place_of_residence label="Place Of Residence" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.place_of_residence, \'\')}}"></rv-textbox><rv-textbox required="{{guestCardData.contactInfo.guest_admin_settings.registration_number.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" ng-if=guestCardData.contactInfo.guest_admin_settings.registration_number.is_visible value=guestCardData.contactInfo.vehicle_registration_number label="Vehicle Registration Number" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.vehicle_registration_number, \'\')}}"></rv-textbox><div class=entry ng-if=guestCardData.contactInfo.guest_admin_settings.vehicle_country_mark.is_visible><label for=vehicle-country-mark>Vehicle Country Mark<strong ng-if=guestCardData.contactInfo.guest_admin_settings.vehicle_country_mark.is_mandatory_on_guest_card_creation>*</strong></label><div class=select><select iscroll-stop-propagation="" ng-options="country.code as country.code for country in countries" ng-model=guestCardData.contactInfo.country_code><option style=display:none value=""></option></select></div></div><rv-textbox required="{{guestCardData.contactInfo.guest_admin_settings.personal_id_no.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" ng-if=guestCardData.contactInfo.guest_admin_settings.personal_id_no.is_visible value=guestCardData.contactInfo.personal_id_no label="Personal No." styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.personal_id_no, \'\')}}"></rv-textbox></div><div class="holder right"><rv-textbox value=guestCardData.contactInfo.email label="E-mail address" ng-if=guestCardData.contactInfo.guest_admin_settings.email.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.email.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.email, \'full-width\')}}"></rv-textbox><div click-tap="" class="entry radio-check full-width no-label" ng-class="{\'no-print\': !guestCardData.contactInfo.is_opted_promotion_email}"><label class=only-print for=opt-in>Email Opt In</label> <label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': guestCardData.contactInfo.is_opted_promotion_email}"></span> <input name=opt-in id=opt-in value=opt-in type=checkbox ng-model=guestCardData.contactInfo.is_opted_promotion_email> Promotions &amp; News Email Opt In</label></div><rv-textbox value=guestCardData.contactInfo.address.street1 label=Address ng-if=guestCardData.contactInfo.guest_admin_settings.address.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.address.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.address.street1, \'\')}}"></rv-textbox><rv-textbox value=guestCardData.contactInfo.address.street2 label="Address 2" ng-if=guestCardData.contactInfo.guest_admin_settings.address2.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.address2.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" styleclass={{getStyleClassForPrint(guestCardData.contactInfo.address.street2)}}></rv-textbox><rv-textbox value=guestCardData.contactInfo.address.city ng-if=guestCardData.contactInfo.guest_admin_settings.city.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.city.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.address.city, \'\')}}" label=City></rv-textbox><rv-textbox value=guestCardData.contactInfo.address.postal_code label="Postal code" ng-if=guestCardData.contactInfo.guest_admin_settings.postal.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.postal.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.address.postal_code, \'\')}}"></rv-textbox><rv-textbox value=guestCardData.contactInfo.address.state ng-if=guestCardData.contactInfo.guest_admin_settings.state.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.state.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.address.state, \'\')}}" label=State></rv-textbox><div class=entry ng-class="{\'no-print\': !guestCardData.contactInfo.address.country_id}"><label for=country>Country <strong ng-if=guestCardData.contactInfo.guest_admin_settings.country.is_mandatory_on_guest_card_creation>*</strong></label><div form=contact-info class=select><select iscroll-stop-propagation="" ng-options="country.id as country.value for country in countries" ng-model=guestCardData.contactInfo.address.country_id><option style=display:none value=""></option></select></div></div><rv-textbox value=guestCardData.contactInfo.phone ng-if=guestCardData.contactInfo.guest_admin_settings.phone.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.phone.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.phone, \'\')}}" label=Phone></rv-textbox><rv-textbox value=guestCardData.contactInfo.mobile label=Mobile ng-if=guestCardData.contactInfo.guest_admin_settings.mobile.is_visible required="{{guestCardData.contactInfo.guest_admin_settings.mobile.is_mandatory_on_guest_card_creation ? \'yes\' : \'no\'}}" styleclass="{{getStyleClassForPrint(guestCardData.contactInfo.mobile, \'\')}}"></rv-textbox><div class="entry blacklisted" ng-if=isStandAlone ng-class="{\'overlay\': !hasPermissionToFlagGuest, \'no-print\': !guestCardData.contactInfo.is_flagged}"><label for=guest-blacklist>Flag Guest</label><div class="switch-button no-print" ng-class="{\'on\':guestCardData.contactInfo.is_flagged}"><input id=guest-blacklist type=checkbox ng-model=guestCardData.contactInfo.is_flagged ng-click=onBlackListToggle()><label class=data-off><span class=value>Off</span> <span class="switch-icon red">On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div><input id=guest-blacklist-reason type=text ng-class="{\'hidden\':!guestCardData.contactInfo.is_flagged}" placeholder=Reason ng-model=guestCardData.contactInfo.flagged_reason></div></div></div></form>'),
t.put("/assets/partials/guestCard/guestCardLoyalty.html",'<form method=post ng-controller=RVGuestCardLoyaltyController id=gc-loyalty name=loyalty class="form card-tab scrollable" ng-iscroll=loyaltyList ng-iscroll-delay=50 ng-show="current == \'guest-loyalty\'"><div class=wrapper><div class="entry full-width"><div id=notification-message ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><div class="holder left" ng-hide=!hotelFrequentFlyerProgramEnabled><strong class=h3 translate="">FREQUENT_FLYER_PROGRAM</strong> <a class="active-item item-loyalty" ng-repeat="freaquentLoyalty in loyaltyData.userMemberships.frequentFlyerProgram track by freaquentLoyalty.id" click-touch="showDeleteModal(freaquentLoyalty.id, $index, \'FFP\')"><span class="value code">{{freaquentLoyalty.membership_type}}</span> <span class="value number">{{freaquentLoyalty.membership_card_number}}</span> <span class="value name">{{freaquentLoyalty.membership_level}}</span></a> <span class=only-print ng-if="loyaltyData.userMemberships.frequentFlyerProgram.length === 0">No Programs</span> <a click-touch=addNewFreaquentLoyality() class=add-new-button>+ <span translate="">NEW_FREQUENT_FLYER_PROGRAM</span></a></div><div class="holder right" ng-hide=!hotelLoyaltyProgramEnabled><strong class=h3 translate="">HOTEL_LOYALTY_PROGRAM</strong> <a class="active-item item-loyalty" ng-repeat="hotelLoyalty in loyaltyData.userMemberships.hotelLoyaltyProgram track by hotelLoyalty.id" click-touch="showDeleteModal(hotelLoyalty.id, $index, \'HLP\')"><span class="value code">{{hotelLoyalty.membership_type}}</span> <span class="value number">{{hotelLoyalty.membership_card_number}}</span> <span class="value name">{{hotelLoyalty.membership_level}}</span></a> <span class=only-print ng-if="loyaltyData.userMemberships.hotelLoyaltyProgram.length === 0">No Programs</span> <a click-touch=addNewHotelLoyality() class=add-new-button>+ <span translate="">NEW_HOTEL_LOYALTY_PROGRAM</span></a></div></div></form>'),t.put("/assets/partials/guestCard/guestCardNotes.html",'<form method=post id=gc-notes name=gc-notes ng-click=clearErrorMessage() ng-controller=rvGuestCardNotesCtrl class="form card-tab notes-tab no-print"><strong class="h3 margin no-print">Notes</strong><div id=notification-message ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry no-print"><textarea ng-model=noteText placeholder="Write a note" rows=4></textarea> <label class="checkbox inline" ng-hide=true><span class="icon-form icon-checkbox"></span> <input value={value} type=checkbox> Add to Stay Card</label> <button type=button ng-click=createGuestcardNote() class=button ng-class="{\'brand-colors\': noteText.trim()!==\'\', \'grey\': noteText.trim()===\'\'}" ng-disabled="noteText.trim()===\'\'" ng-show="editingNote===null">Post</button> <button type=button class="button brand-colors" ng-class="{\'brand-colors\': noteText.trim()!==\'\', \'grey\': noteText.trim()===\'\'}" ng-show="editingNote!==null" ng-disabled="noteText.trim()===\'\'" ng-click=updateActiveNote()>Save</button> <button type=button class="button blank" ng-show="editingNote!==null" ng-click=cancelEditMode()>Cancel</button></div><div class="holder scrollable no-print" ng-show=notes.length ng-iscroll=guestcard_notes_scroller><ul class="notes wrapper"><li ng-repeat="note in notes" ng-class="{\'editing\': (editingNote && note.id === editingNote.id)}" ng-click=clickedOnNote(note)><figure class=guest-image><img ng-if="note.posted_user_image_url===\'\'" src=/ui/pms-ui/images/avatar-trans.png alt=""> <img ng-if="note.posted_user_image_url!==\'\'" ng-src={{note.posted_user_image_url}} alt=""></figure><div class=note-title><h4>{{note.posted_user_first_name}} {{note.posted_user_last_name}}</h4><time datetime=""><span class=time>{{note.time}}</span> <span class=date>{{formatDateForUI(note.date)}}</span></time><button type=button class="icons icon-trash" ng-click="deleteGuestcardNote($event, note.id, $index)">Delete post</button></div><p>{{note.text}}</p></li></ul></div><div class="holder scrollable no-print" ng-show=!notes.length><div class=no-content><div class=info><span class="icon-no-content icon-notes"></span> <strong class=h1>No Notes</strong> <span class=h2>Leave a Note for {{guestCardData.contactInfo.first_name}} {{guestCardData.contactInfo.last_name}}</span></div></div></div></form>'),t.put("/assets/partials/guestCard/guestCardPayment.html",'<form ng-controller=RVPaymentGuestCtrl class="form card-tab scrollable" ng-iscroll=paymentList ng-iscroll-delay=1000 ng-show="current == \'guest-wallet\'"><div class=wrapper><strong class="h3 only-print" ng-class="{\'no-print\': paymentData.data.length === 0}">Credit Cards &amp; Payment</strong><div class="entry full-width"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><a ng-click="openDeleteSetAsPrimaryModal(payment.id, $index)" class="active-item item-payment primary open-modal float active-item-no-transition" ng-repeat="payment in paymentData.data" ng-if="payment.payment_type == \'CC\'"><figure class=card-logo><img ng-src=/ui/pms-ui/images/{{payment.card_code}}.png alt=""></figure><span class=number>Ending with <span class="value number">{{payment.mli_token}}</span></span> <span class=date>Date <span class="value date">{{payment.card_expiry}}</span></span> <span class=name>Name <span class="value name">{{payment.card_name}}</span></span> <span class=primary ng-show=payment.is_primary><span class="value primary">Primary</span></span> <span class="value code" ng-show="payment.payment_type_id != 1"><span class=name>{{ payment.payment_type }}</span> <span class=primary ng-show=payment.is_primary><span class="value primary">Primary</span></span></span></a> <a class=add-new-button click-touch=openAddNewPaymentModel()>+ New Payment Method</a></div></form>'),t.put("/assets/partials/guestCard/rvGuestCardContentSection.html",'<div><div id=guest-card-content class="card-tabs card-content" ng-class="UICardContentCls(\'guest-card\')"><ul class=card-tabs-nav id=guest-card-tabs-nav><li ng-class="{\'ui-tabs-active\': current == \'guest-contact\'}" click-touch="guestCardTabSwitch(\'guest-contact\')"><a id=guest-contact ng-class="{\'error\':contactInfoError}">Contact Information</a></li><li ng-class="{\'ui-tabs-active\': current == \'guest-like\'}" click-touch="guestCardTabSwitch(\'guest-like\')"><a id=guest-like ng-class="{\'error\':likesInfoError}">Likes</a></li><li ng-class="{\'ui-tabs-active\': current == \'guest-wallet\'}" click-touch="guestCardTabSwitch(\'guest-wallet\')"><a id=guest-wallet>Wallet</a></li><li ng-class="{\'ui-tabs-active\': current == \'guest-loyalty\'}" click-touch="guestCardTabSwitch(\'guest-loyalty\')" ng-show=loyaltyTabEnabled><a id=guest-loyalty>Loyalty</a></li><li ng-class="{\'ui-tabs-active\': current == \'guest-statistics\'}" click-touch="guestCardTabSwitch(\'guest-statistics\')" ng-if="isStandAlone && !isHourlyRateOn && shouldShowStatisticsTab"><a href=#gc-statistics>Statistics</a> <button type=button class="button white icons icon-expand" rv-fullscreen="" fs-sub-header=Statistics fs-toggle-class=fullscreen-card>Fullscreen</button></li><li ng-class="{\'ui-tabs-active\': current == \'activity-log\'}" click-touch="guestCardTabSwitch(\'activity-log\')"><a>Activity Log</a></li><li ng-if=isStandAlone ng-class="{\'ui-tabs-active\': current == \'notes\', \'with-filters\': isCloudStorageEnabledForCardType(\'guest_card\')}" ng-click="guestCardTabSwitch(\'notes\')"><a translate="">{{ isCloudStorageEnabledForCardType(\'guest_card\') ? \'NOTES_AND_FILES\' : \'NOTES\' }}</a> <button type=button ng-if="isCloudStorageEnabledForCardType(\'guest_card\')" class="button white icons icon-expand" rv-fullscreen="" fs-sub-header="Notes & Files" fs-toggle-class=fullscreen-card>Fullscreen</button></li></ul><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span ng-include="\'/assets/partials/guestCard/guestCardContactInfo.html\'"></span><span ng-include="\'/assets/partials/guestCard/rvGuestCardLikes.html\'"></span><span ng-include="\'/assets/partials/guestCard/guestCardPayment.html\'"></span><span ng-include="\'/assets/partials/guestCard/guestCardLoyalty.html\'"></span><span ng-include="\'/assets/partials/guestCard/rvGuestCardStatistics.html\'"></span><span ng-show="current == \'activity-log\' && isStandAlone" ng-include="\'/assets/partials/guestCard/guestCardActivityLog.html\'"></span><form method=post action={action} id=gc-notes name=gc-notes class="form inner-header card-tab notes-tab no-print" ng-if="current == \'notes\' && isStandAlone"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><span ng-include="\'/assets/partials/guestCard/rvGuestCardNotesAndFiles.html\'"></span></form></div><div id=guest-card-content class="card-search card-content" ng-if=searchMode ng-class="UICardContentCls(\'guest-card\')"><strong class=results-count ng-show="guests.length > 0">{{ guests.length }} possible match<span ng-if="guests.length > 1">es</span></strong> <button id=new-guest ng-show="addNewCards && guestSearchIntiated" type=button class="button green has-arrow skip" ng-click=createNewGuest()>New Guest</button><div id=search-guests-content class="search-cards scrollable"><div class=wrapper ng-controller=guestResults ng-show="guestSearchIntiated && guests.length > 0" style="height:100%; overflow: hidden;" ng-iscroll=guestResultScroll><ul id=search-guests-results class=search-results><li class="reservation identify-guest" ng-repeat="guest in guests"><a ng-click="selectGuest(guest, $event)"><figure class=guest-image ng-class="{\'blacklisted\':guest.is_flagged}"><img ng-src="{{ guest.image }}" alt=""> <span ng-show=guest.vip class=vip>VIP</span></figure><div class=data ng-class="{\'no-stay\': guest.stayCount == 0}"><h2><span ng-bind-html="guest.firstName | highlight:searchData.guestCard.guestFirstName:false"></span> <span ng-bind-html="guest.lastName | highlight:searchData.guestCard.guestLastName:false"></span></h2><span class=stay-count ng-if="guest.stayCount > 1">{{ guest.stayCount }} stays</span> <span class=stay-count ng-if="guest.stayCount == 1">{{ guest.stayCount }} stay</span> <span class=confirmation ng-if="guest.address.postalCode != \'\' && guest.address.postalCode != null">{{ guest.address.postalCode}}</span> <span class="icons icon-location" ng-hide="(guest.address.city == null || guest.address.city == \'\') && (guest.address.state ==\'\' || guest.address.state == null)"><span ng-bind-html="guest.address.city | highlight:searchData.guestCard.guestCity:false"></span> <span ng-hide="guest.address.city == null || guest.address.city == \'\' || guest.address.state ==\'\' || guest.address.state == null">,</span> <span>{{ guest.address.state }}</span></span> <span class="icons icon-phone" ng-hide="guest.phone == \'\' || guest.phone == null">{{ guest.phone }}</span> <span class="icons icon-email-grey" ng-bind-html="guest.email | highlight:searchData.guestCard.email:false" ng-hide="guest.email == \'\' || guest.email == null"></span></div><div class=last-stay ng-if="guest.stayCount > 0"><span class=label>Last <span class=date>{{ guest.lastStay.date | date: \'MMMM d, yyyy\'}}</span></span> <strong class=room>{{ guest.lastStay.room }}</strong> <em class=type>{{ guest.lastStay.roomType }}</em></div></a></li></ul></div><div class="search-cards no-content"><div class=info ng-show="guestSearchIntiated && guests.length === 0"><span class="icon-no-content icon-guest"></span> <strong class=h1>No Matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Name</strong>, <strong>City</strong> or <strong>Loyalty No.</strong>.</span></div><div class=info ng-hide=guestSearchIntiated><span class="icon-no-content icon-guest"></span> <strong class=h1>Find Guest</strong><span class=h2>Search by <strong>Name</strong>, <strong>E-mail</strong> or <strong>City</strong></span></div></div></div></div></div>'),t.put("/assets/partials/guestCard/rvGuestCardDeleteLoyaltyModal.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form id=edit-payment class="modal-content form confirmation" name=edit-payment method=post action=index.html><button id=modal-close class=modal-close ng-click=closeDialog() type=button><span class="icons icon-close invert"></span></button> <button id=loyalty-delete class="button red modal-close" type=button name=delete ng-click=deleteLoyalty()>Delete</button> <input id=loyalty_id type=hidden></form></div>'),t.put("/assets/partials/guestCard/rvGuestCardDetails.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><div class="guest-card cards fullscreen" id=guest-card ng-class="{\'card-print\': printState.clicked }"><div class=cards-wrapper><header class=cards-header><section ng-include="\'/assets/partials/guestCard/rvGuestCardHeaderSection.html\'"></section></header><div class=cards-content><section ng-include="\'/assets/partials/guestCard/rvGuestCardContentSection.html\'"></section></div></div></div>'),t.put("/assets/partials/guestCard/rvGuestCardHeaderSection.html",'<div id=guest-card-header class=card-header><section><input class=hidden type=file name=guest-image id=uploadImage ng-model=guestCardData.contactInfo.guestImageBase64 ng-change=onImageUpload() accept=* app-filereader=""><figure class=guest-image ng-click="switchCard(\'guest-card\');uploadGuestImage()" ng-class="{\'blacklisted\':guestCardData.contactInfo.is_flagged}"><img ng-src={{guestImage}} alt=""> <span class=stay-count ng-if="guestCardData.contactInfo.stay_count > 0 && isStandAlone">{{guestCardData.contactInfo.stay_count}}</span> <span class=vip ng-show=guestCardData.contactInfo.vip>VIP</span></figure><form name=change-name id=change-name class=dual-actions><div class=holder><div class="entry no-print" ng-click=openGuestCard()><input type=text class="masked-input h1" data-size={{guestCardData.contactInfo.first_name.length}} ng-model=guestCardData.contactInfo.first_name placeholder="First Name" ng-blur=updateContactInfo() auto-grow-field=""> <input type=text class="masked-input h1" data-size={{guestCardData.contactInfo.last_name.length}} ng-model=guestCardData.contactInfo.last_name placeholder="Last Name" ng-blur=updateContactInfo() auto-grow-field=""></div><div class="only-print name">{{guestCardData.contactInfo.first_name}} {{guestCardData.contactInfo.last_name}}</div><span class="icons icon-notes" ng-show=guestCardData.contactInfo.notes_count></span> <strong class=status>{{guestCardData.selectedLoyaltyLevel}}</strong><div class=switch-button ng-class="{ \'on\': guestCardData.contactInfo.vip}"><input name=vip id=vip type=checkbox ng-model=guestCardData.contactInfo.vip ng-click=vipToggleClicked()> <label class=data-off><span class="switch-icon vip">VIP</span> <span class=value>Off</span></label> <label class=data-on><span class=value>On</span> <span class="switch-icon vip">VIP</span></label></div></div><div class="holder data no-print"><input type=text data-size={{guestCardData.contactInfo.address.city.length}} class="masked-input icons icon-gc-location" placeholder="" ng-model=guestCardData.contactInfo.address.city ng-blur=updateContactInfo() auto-grow-field=""> <input type=text data-size={{guestCardData.contactInfo.address.state.length}} class=masked-input ng-model=guestCardData.contactInfo.address.state ng-blur=updateContactInfo() auto-grow-field=""> <input type=text id=gc-mobile data-size={{guestCardData.contactInfo.mobile.length}} class="masked-input icons icon-gc-mobile" ng-model=guestCardData.contactInfo.mobile ng-blur=updateContactInfo() auto-grow-field=""> <input type=tel data-size={{guestCardData.contactInfo.phone.length}} class="masked-input icons icon-gc-phone" ng-model=guestCardData.contactInfo.phone ng-blur=updateContactInfo() auto-grow-field=""> <input type=text data-size={{guestCardData.contactInfo.email.length}} class="masked-input icons icon-gc-email" ng-model=guestCardData.contactInfo.email ng-blur=updateContactInfo() auto-grow-field=""></div><ul class=only-print><li ng-if=guestCardData.contactInfo.address.city>City: {{guestCardData.contactInfo.address.city}}</li><li ng-if=guestCardData.contactInfo.address.state>State: {{guestCardData.contactInfo.address.state}}</li><li ng-if=guestCardData.contactInfo.mobile>Mobile: {{guestCardData.contactInfo.mobile}}</li><li ng-if=guestCardData.contactInfo.phone>Phone: {{guestCardData.contactInfo.phone}}</li><li ng-if=guestCardData.contactInfo.email>Email: {{guestCardData.contactInfo.email}}</li></ul></form><div class="card-actions dual-actions" ng-if=viewState.isAddNewCard><button class="button green ng-scope" type=button ng-click=clickedSaveGuestCard() translate="">Save new card</button> <button class="button red ng-scope" type=button ng-click=clickedDiscardGuestCard() translate="">Discard</button></div><div class="card-actions dual-actions" ng-show=!viewState.isAddNewCard><button type=button class="button add-new-button" ng-click=createReservationFromGuestCard()>+ {{ \'CREATE_RESERVATION\' | translate}}</button> <button type=button class="button toggle has-arrow" ng-click=toggleCardActions() ng-class="{\'active\' : manageCardState.isOpen, \'\' : !manageCardState.isOpen}">Manage Card</button><div class=manage-cards ng-class="{\'hidden\': !manageCardState.isOpen, \'\' : manageCardState.isOpen}"><button type=button class="button blue" ng-click=printGuestCard()>Print Card</button> <button type=button class=button ng-click=removeGuestDetails(guestCardData.contactInfo.user_id) ng-class="{\'grey\':shouldDisableRemoveGuestBtn(),\'white red-text\': !shouldDisableRemoveGuestBtn()}" ng-disabled=shouldDisableRemoveGuestBtn()>Remove</button> <button type=button class="button purple" ng-hide=true>Archive Card</button> <button type=button class="button red" ng-hide=true>Delete Card</button></div></div></section></div>{{}}'),t.put("/assets/partials/guestCard/rvGuestCardLikes.html",'<form outside-click-handler="" ng-controller=RVLikesController name=likes method=post id=likes class="form card-tab scrollable" ng-show="current == \'guest-like\' || printState.clicked" ng-iscroll=likes_info ng-iscroll-delay=1000 ng-iscroll-form=true><div class=wrapper><div class="entry full-width"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><div class="holder left"><strong class=h3 ng-show="guestCardData.likes.newspapers.length >0 || guestCardData.likes.roomtype.length >0 || guestCardData.likes.preferences.length >0" translate="">PREFERENCES</strong><div class="entry full-width" ng-show="guestCardData.likes.newspapers.length >0" ng-class="{\'no-print\': guestCardData.likes.user_newspaper.length === 0 }"><label for=newspaper translate="">NEWSPAPER</label><div class=select><select iscroll-stop-propagation="" ng-model=guestCardData.likes.user_newspaper><option value=""></option><option ng-repeat="newspapers in guestCardData.likes.newspapers" ng-value={{newspapers.id}}>{{newspapers.name}}</option></select></div></div><div class="entry full-width" ng-show="guestCardData.likes.roomtype.length >0" ng-class="{\'no-print\': guestCardData.likes.user_roomtype.length === 0 }"><label for=roomtype translate="">ROOM_TYPE</label><div class=select><select iscroll-stop-propagation="" ng-model=guestCardData.likes.user_roomtype><option value=""></option><option ng-repeat="roomtype in guestCardData.likes.roomtype" ng-value={{roomtype.id}}>{{roomtype.name}}</option></select></div></div><div class="entry radio-check" ng-show="guestCardData.likes.preferences.length >0" ng-repeat="preferences in guestCardData.likes.preferences" ng-class="{\'no-print\': !preferences.isChecked}"><div ng-if="\'dropdown\' == preferences.type" class="entry full-width"><label>{{ preferences.name }}</label><div class=select><select ng-model=preferences.isChecked ng-change="changedRadioComboPreference( $parent.$index )" iscroll-stop-propagation=""><option value=""></option><option ng-repeat="value in preferences.values" ng-value={{value.id}}>{{value.details}}</option></select></div></div><div ng-if="\'radio\' == preferences.type" class="entry full-width"><label>{{ preferences.name }}</label><div class=check-block ng-repeat="x in getHalfArrayPref(preferences.values) track by $index"><label class=checkbox ng-class="{ \'checked\': preferences.isChecked === preferences.values[$index*2].id }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\': preferences.isChecked === preferences.values[$index*2].id }"></span> <input type=checkbox ng-model=preferences.isChecked ng-true-value={{preferences.values[$index*2].id}} ng-false-value="" ng-change="changedRadioComboPreference( $parent.$index)"> {{ preferences.values[$index*2].details }}</label> <label class=checkbox ng-class="{ \'checked\': preferences.isChecked === preferences.values[$index*2+1].id }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\': preferences.isChecked === preferences.values[$index*2+1].id }"></span> <input type=checkbox ng-model=preferences.isChecked ng-true-value={{preferences.values[$index*2+1].id}} ng-false-value="" ng-change="changedRadioComboPreference( $parent.$index)"> {{ preferences.values[$index*2+1].details }}</label></div></div><div ng-if="\'dropdown\' != preferences.type && \'radio\' != preferences.type" class="entry full-width"><label>{{ preferences.name }}</label><div class=check-block ng-repeat="x in getHalfArrayPref(preferences.values) track by $index"><label class=checkbox ng-class="{ \'checked\': preferences.values[$index*2].isChecked }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\': preferences.values[$index*2].isChecked }"></span> <input type=checkbox name="{{ preferences.name }}" ng-model=preferences.values[$index*2].isChecked> {{ preferences.values[$index*2].details }}</label> <label class=checkbox ng-class="{\'checked\': preferences.values[$index*2+1].isChecked}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': preferences.values[$index*2+1].isChecked}"></span> <input type=checkbox name={{preferences.name}} ng-model=preferences.values[$index*2+1].isChecked> {{ preferences.values[$index*2+1].details }}</label></div></div></div><span class=only-print ng-if="guestCardData.likes.user_newspaper.length === 0 && guestCardData.likes.user_roomtype.length === 0 && guestCardData.likes.user_preference.length === 0">No Preference</span></div><div class="holder right" ng-show=shouldShowRoomFeatures(guestCardData.likes.room_features)><strong class=h3 translate="">ROOM_FEATURES</strong> <span ng-repeat="roomFeatures in guestCardData.likes.room_features"><div click-tap="" class="entry radio-check" ng-repeat="x in getHalfArray(roomFeatures.values) track by $index"><label class="checkbox print-block" ng-class="{\'checked\': roomFeatures.values[$index*2].isSelected}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': roomFeatures.values[$index*2].isSelected}"></span> <input ng-model=roomFeatures.values[$index*2].isSelected type=checkbox> {{roomFeatures.values[$index*2].details}}</label> <label class="checkbox print-block" ng-if=showLabel(roomFeatures.values[$index*2+1].details) ng-class="{\'checked\': roomFeatures.values[$index*2 +1].isSelected}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': roomFeatures.values[$index*2 + 1].isSelected}"></span> <input ng-model=roomFeatures.values[$index*2+1].isSelected type=checkbox> {{roomFeatures.values[$index*2+1].details}}</label></div></span> <span class=only-print ng-if=!hasRoomFeatures()>No Features</span></div></div></form>'),t.put("/assets/partials/guestCard/rvGuestCardNotesAndFiles.html","<rv-file-cloud-storage card-type=guest_card card-id={{guestCardData.userId}} show-files=\"isCloudStorageEnabledForCardType('guest_card')\" card-name=\"{{guestCardData.contactInfo.first_name + ' '+ guestCardData.contactInfo.last_name}}\"></rv-file-cloud-storage>"),t.put("/assets/partials/guestCard/rvGuestCardStatistics.html",'<form method=post id=gc-statistics name=statistics class="form card-tab card-statistics" ng-controller=RVGuestCardStatisticsController ng-if="current === \'guest-statistics\'"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div include-replace="" ng-include="\'/assets/partials/guestCard/rvGuestCardStatisticsSummary.html\'"></div><div include-replace="" ng-include="\'/assets/partials/guestCard/rvGuestCardStatisticsDetails.html\'"></div></form>'),t.put("/assets/partials/guestCard/rvGuestCardStatisticsDetails.html",'<div class="statistics-details no-print" ng-show="activeView === \'details\'"><div class=sidebar><ul class=filters><li ng-click="setActiveView(\'summary\')" ng-class="{\'active\': activeView === \'summary\'}">Summary</li><li ng-click="setActiveView(\'details\')" ng-class="{\'active\': activeView === \'details\'}">Details</li></ul><div class="row row-head white"><div class=select><select ng-options="year.value as year.name for year in yearOptions" ng-model=filterData.selectedYear ng-change=onChangeYear()></select></div></div><div class="sidebar-content scrollable" ng-iscroll=guest-sidebar-scroller><div class=wrapper><div class=row ng-repeat="monthlyData in statistics.details.monthly_data" ng-class="{\'no-data\': monthlyData.reservations.reservations.length === 0, \'open\': monthlyData.isOpen}" ng-style=getStyleForExpandedView(monthlyData) ng-click=showMonthlyReservations(monthlyData)><span class="icons icon-double-arrow black" ng-show="monthlyData.reservations.reservations.length > 0"></span> {{monthlyData.month}} {{monthlyData.year}}</div></div></div></div><div class=statistics-data><div class="row row-head"><div class=column><strong>Stays</strong></div><div class=column><strong>Nights</strong></div><div class=column><strong>Cancel.</strong></div><div class=column><strong>No Shows</strong></div><div class=column><strong>ADR</strong></div><div class=column><strong>Room Revenue</strong></div><div class=column><strong>Total Revenue</strong></div></div><div class="row row-head white"><div class=column>{{statistics.details.summary.stay_count}}</div><div class=column>{{statistics.details.summary.nights_count}}</div><div class=column>{{statistics.details.summary.cancellation_count}}</div><div class=column>{{statistics.details.summary.no_show_count}}</div><div class=column><span ng-bind-html="statistics.details.summary.adr | sntCurrency:this"></span></div><div class=column><span ng-bind-html="statistics.details.summary.room_revenue | sntCurrency:this"></span></div><div class=column><strong><span ng-bind-html="statistics.details.summary.total_revenue | sntCurrency:this"></span></strong></div></div><div class=scrollable ng-iscroll=guest-monthly-data-scroller><div class=wrapper><span ng-repeat="monthlyData in statistics.details.monthly_data track by $index"><div class=row><div class=column ng-class="{\'no-data\': monthlyData.stay_count === 0}">{{monthlyData.stay_count}}</div><div class=column ng-class="{\'no-data\': monthlyData.nights_count === 0}">{{monthlyData.nights_count}}</div><div class=column ng-class="{\'no-data\': monthlyData.cancellation_count === 0}">{{monthlyData.cancellation_count}}</div><div class=column ng-class="{\'no-data\': monthlyData.no_show_count === 0}">{{monthlyData.no_show_count}}</div><div class=column ng-class="{\'no-data\': monthlyData.adr === 0}"><span ng-bind-html="monthlyData.adr | sntCurrency:this"></span></div><div class=column ng-class="{\'no-data\': monthlyData.room_revenue === 0}"><span ng-bind-html="monthlyData.room_revenue | sntCurrency:this"></span></div><div class=column ng-class="{\'no-data\': monthlyData.total_revenue === 0}"><strong><span ng-bind-html="monthlyData.total_revenue | sntCurrency:this"></span></strong></div></div><div class=statistics-reservations ng-class="{\'hidden\': !monthlyData.isOpen}"><ul class=search-results><li class="reservation transaction" ng-repeat="reservation in monthlyData.reservations.reservations"><a class=faux-anchor ng-click=navigateToStayCard(reservation) ng-class="{\'no-arrow\': shouldShowNavigation()}"><div class=data><h2 ng-class="{\'grey\': reservation.is_cancelled || reservation.reservation_status === \'NOSHOW\'}"><span>{{reservation.last_name}}</span>, <span>{{reservation.first_name}}</span></h2><span class=confirmation><span class=value>{{reservation.confirmation_no}}</span></span></div><div class=reservation-time ng-if="reservation.arrival_date !== reservation.departure_date"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">arrival</span></div><div class=check-times><time class=guest-time><span>{{reservation.arrival_date| date : dateFormat}}</span> <span class=hours>{{reservation.arrival_time}}</span></time><time class=guest-time><span>{{reservation.departure_date| date : dateFormat}}</span> <span class=hours>{{reservation.departure_time}}</span></time></div></div><div class="reservation-time daily" ng-if="reservation.arrival_date === reservation.departure_date"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">arrival</span></div><div class=check-times><div class=guest-hours><time class=guest-time>{{reservation.arrival_time}}</time>-<time class=guest-time>{{reservation.departure_time}}</time></div><span class=date>{{reservation.arrival_date| date : dateFormat}}</span></div></div><div class="reservation-type red" ng-if=reservation.is_day_use>D</div><div class=reservation-type ng-if="!reservation.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class="guest-data rate"><strong><span ng-bind-html="reservation.adr | sntCurrency:this"></span> ADR</strong> <span>{{reservation.rate_name}}</span></div><div class="guest-data room"><strong ng-show=reservation.room_no>{{reservation.room_no}}</strong> <strong class=no-number ng-show=!reservation.room_no>N/A</strong> <span>{{reservation.room_type_name}}</span></div></a></li></ul></div></span></div></div></div></div>'),t.put("/assets/partials/guestCard/rvGuestCardStatisticsSummary.html",'<div class="statistics-summary no-print" ng-show="activeView === \'summary\'"><div class=sidebar><ul class=filters><li ng-click="setActiveView(\'summary\')" ng-class="{\'active\': activeView === \'summary\'}">Summary</li><li ng-click="setActiveView(\'details\')" ng-class="{\'active\': activeView === \'details\'}">Details</li></ul><div class="sidebar-content scrollable" ng-iscroll=guest-statistics-summary-sidebar-scroller><div class=wrapper><div class=row>Stays</div><div class=row>Nights</div><div class=row>Cancellations</div><div class=row>No Shows</div><div class=row>ADR</div><div class=row>Room Revenue</div><div class=row>Total Revenue</div></div></div></div><div class=statistics-data><div class="row row-head"><div class=column><div class=select><select ng-options="year.value as year.name for year in yearOptions" ng-model=filterData.selectedYear ng-change=onChangeYear()></select></div></div><div class="column white"><strong>Year to date ({{ currentYear }})</strong></div><div class=column><strong>Total</strong></div></div><div class=scrollable ng-iscroll=guest-statistics-summary-data-scroller><div class=wrapper><div class=row><div class=column>{{statistics.summary.stay_count.annual}}</div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.stay_count.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.stay_count.change_percent)}}></span> {{absVal(statistics.summary.stay_count.change_percent) | number: 2}}%</div>{{statistics.summary.stay_count.ytd}}</div><div class=column>{{statistics.summary.stay_count.total}}</div></div><div class=row><div class=column>{{statistics.summary.night_count.annual}}</div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.night_count.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.night_count.change_percent)}}></span> {{absVal(statistics.summary.night_count.change_percent) | number: 2}}%</div>{{statistics.summary.night_count.ytd}}</div><div class=column>{{statistics.summary.night_count.total}}</div></div><div class=row><div class=column>{{statistics.summary.cancellation_count.annual}}</div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.cancellation_count.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.cancellation_count.change_percent)}}></span> {{absVal(statistics.summary.cancellation_count.change_percent) | number: 2}}%</div>{{statistics.summary.cancellation_count.ytd}}</div><div class=column>{{statistics.summary.cancellation_count.total}}</div></div><div class=row><div class=column>{{statistics.summary.no_show_count.annual}}</div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.no_show_count.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.no_show_count.change_percent)}}></span> {{absVal(statistics.summary.no_show_count.change_percent) | number: 2}}%</div>{{statistics.summary.no_show_count.ytd}}</div><div class=column>{{statistics.summary.no_show_count.total}}</div></div><div class=row><div class=column><span ng-bind-html="statistics.summary.adr.annual | sntCurrency:this"></span></div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.adr.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.adr.change_percent)}}></span> {{absVal(statistics.summary.adr.change_percent) | number: 2}}%</div><span ng-bind-html="statistics.summary.adr.ytd | sntCurrency:this"></span></div><div class=column><span ng-bind-html="statistics.summary.adr.total | sntCurrency:this"></span></div></div><div class=row><div class=column><span ng-bind-html="statistics.summary.room_revenue.annual | sntCurrency:this"></span></div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.room_revenue.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.room_revenue.change_percent)}}></span> {{absVal(statistics.summary.room_revenue.change_percent) | number: 2}}%</div><span ng-bind-html="statistics.summary.room_revenue.ytd | sntCurrency:this"></span></div><div class=column><span ng-bind-html="statistics.summary.room_revenue.total | sntCurrency:this"></span></div></div><div class=row><div class=column><strong><span ng-bind-html="statistics.summary.total_revenue.annual | sntCurrency:this"></span></strong></div><div class="column white"><div class="stat {{getStatusClass(statistics.summary.total_revenue.change_percent)}}"><span class={{getStatusIconClass(statistics.summary.total_revenue.change_percent)}}></span> {{absVal(statistics.summary.total_revenue.change_percent) | number: 2}}%</div><strong><span ng-bind-html="statistics.summary.total_revenue.ytd | sntCurrency:this"></span></strong></div><div class=column><strong><span ng-bind-html="statistics.summary.total_revenue.total | sntCurrency:this"></span></strong></div></div></div></div></div></div>'),
t.put("/assets/partials/guestCard/rvGuestCardaddFreaquentLoyaltyPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form ng-click=setPosition() name=new-ffp method=post id=new-ffp class="modal-content form new-content"><button type=button id=modal-close click-touch=cancel() class=modal-close><span class="icons icon-close invert"></span></button> <strong class="h2 message" translate="">NEW_FREQUENT_FLYER_PROGRAM</strong><div class="entry full-width"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><div class="entry full-width"><div id=notification-message></div></div><div class="entry full-width"><label for=airline translate="">AIRLINE</label><div form=contact-info class=select><select ng-options="userMembership.ff_value as userMembership.ff_description for userMembership in userMembershipTypes" ng-model=userMembershipType><option style=display:none value=""></option></select></div></div><div class="entry full-width"><label for=code translate="">CODE</label> <input type=text ng-model=userMembershipNumber name=code id=ff-code></div><div class=actions><button type=button id=cancel class="button blank modal-close" click-touch=cancel() translate="">CANCEL</button> <button type=button id=save class="button green modal-close" click-touch=save() translate="">ADD</button></div><input type=hidden id=newffp_id></form></div>'),t.put("/assets/partials/guestCard/rvGuestCardaddHotelLoyaltyPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form name=new-hlp ng-click=setPosition() method=post id=new-hlp class="modal-content form new-content"><button type=button id=modal-close click-touch=cancel() class=modal-close><span class="icons icon-close invert"></span></button> <strong class="h2 message" translate="">NEW_HOTEL_LOYALTY_PROGRAM</strong><div class="entry full-width"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><div class="entry full-width"><div id=notification-message></div></div><div class="entry full-width"><label for=type translate="">TYPE</label><div class=select><select ng-options="userMembership.hl_value as userMembership.hl_description for userMembership in userMembershipTypes" ng-model=userMembershipType ng-change=memberShipTypeChanged()><option style=display:none value=""></option></select></div></div><div id=hlplevek class="entry full-width" ng-show=isLevelsAvailable><label for=level translate="">LEVEL</label><div class=select><select ng-options="userMembership.membership_level as userMembership.membership_level for userMembership in userMembershipLevels" ng-model=userMembershipLevel><option style=display:none value=""></option></select></div></div><div class="entry full-width"><label for=code translate="">PROGRAM_NUMBER</label> <input type=text ng-model=userMembershipNumber name=code id=ff-code></div><div class="actions float"><button type=button id=cancel class="button blank modal-close" click-touch=cancel() translate="">CANCEL</button> <button type=button id=save class="button green modal-close" click-touch=save() translate="">ADD</button></div><input type=hidden id=newhlp_id></form></div>'),t.put("/assets/partials/houseEvents/rvAddHouseEventPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content form new-event"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">New Event</span><div class="error notice" ng-if=errorMsg><span>{{errorMsg}}</span></div><div class=holder><div class=entry><label for=event-type>Type</label><div class=select><select id=event-type ng-model=eventData.eventType ng-change="onFieldChange(eventData.eventType, \'eventType\')" ng-class="{\'error\': fieldErrors.eventType}"><option value="">Select Event Type</option><option ng-repeat="event in eventTypes" value={{event.id}}>{{event.description}}</option></select></div></div></div><div class="entry full-width"><label for=event-type>Name</label> <input type=text placeholder="Enter Event Name" ng-model=eventData.eventName ng-change="onFieldChange(eventData.eventName, \'eventName\')" ng-class="{\'error\': fieldErrors.eventName}" maxlength=255></div><div class="entry full-width"><label for=event-type>Description <span>(Optional)</span></label> <textarea placeholder="Enter Event Description" ng-model=eventData.description ng-change="onFieldChange(eventData.description, \'description\')" ng-class="{\'error\': fieldErrors.description}" maxlength=255></textarea></div><div class=holder><div class="entry margin has-datepicker"><label for=sale-date>Start Date</label> <input id=from-date ui-date=eventStartDateOptions ng-model=eventDates.start type=text class=datepicker value="" readonly="" ng-change="onFieldChange(eventDates.start, \'startDate\')" ng-class="{\'error\': fieldErrors.startDate}" placeholder="Select Date"></div><div class="entry margin has-datepicker"><label for=sale-date>End Date</label> <input id=to-date ui-date=eventEndDateOptions ng-model=eventDates.end type=text class=datepicker value="" readonly="" ng-change="onFieldChange(eventDates.end, \'endDate\')" ng-class="{\'error\': fieldErrors.endDate}" placeholder="Select Date"></div></div><div class=actions><button type=button id=cancel class="button blank modal-close" ng-click=closeDialog()>Cancel</button> <button type=button id=save class="button green modal-close" ng-click=onCreateEvent()>Add Event</button></div></div></div>'),t.put("/assets/partials/houseEvents/rvDeleteHouseEventConfirmationPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content alert medium event-delete"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Delete Event?</span> <em class=text>Deleting this Event will permanently remove it from Rover</em> <button type=button class="button red modal-close" ng-click=deleteEvent()>Delete Event</button> <button type=button class="button blank modal-close" ng-click=closeDialog()>Cancel</button></div></div>'),t.put("/assets/partials/houseEvents/rvHouseEvents.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><form method=get action="" name=find-events-search-form id=find-events-search-form class="search-form enable-adding events-search has-dates" role=search><div class="entry event-type-select"><div class="select with-label"><label for=event-type>Show</label><select id=event-type ng-model=filter.eventType ng-change=search()><option value="">All Event Types</option><option ng-repeat="event in eventTypes" value={{event.id}}>{{event.description}}</option></select></div></div><div class="entry search"><button id=find-events-clear-query class=clear-query ng-click="clearFilter($event, \'eventName\', filter, \'\', true)" ng-class="{\'visible\': filter.eventName}"><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input name=find-events-query id=find-events-query class=query placeholder="Search by Event Name" type=search autocomplete=off data-search-for=events ng-model=filter.eventName ng-change=onEventNameSearch()></div><div class="entry dates"><div class="entry-data has-datepicker"><label for=find-events-date-from>Date(s) From</label><button id=find-events-date-from-clear class=clear-query ng-class="{\'visible\': filterStartDate}" ng-click="clearFilter($event,\'startDate\', filter, \'startDate\', true)"><span class="icons icon-clear-search">Clear query</span></button> <input name=find-events-date-from id=find-events-date-from type=text class=datepicker ng-model=filterStartDate ui-date=startDateOptions readonly=""></div><div class="entry-data has-datepicker"><label for=find-events-date-to>Date(s) To</label><button id=find-events-date-to-clear class=clear-query ng-class="{\'visible\': filterEndDate}" ng-click="clearFilter($event, \'endDate\', filter, \'endDate\', true)"><span class="icons icon-clear-search">Clear query</span></button> <input name=find-events-date-to id=find-events-date-to type=text class=datepicker ng-model=filterEndDate ui-date=endDateOptions readonly=""></div></div><a href="" class=add-new-button ng-click=addEvent()>+ New Event</a><div class="entry refresh"><button type=button class="button white with-icon only-icon" ng-click=refreshEventsList()><span class="icons icon-reset"></span> Refresh</button></div></form><section id=find-events class="content no-results no-pagination" role=complementary ng-if=!events.length><div class=events-col><div id=find-events-scroll class=scrollable><div class=wrapper><ul id=revenue-events-search-results class=search-results><li class=no-content><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>Events</strong> <span class=h2>Search by <strong>Event</strong></span></div></li></ul></div></div></div></section><section id=find-events class=content role=complementary ng-class="{\'no-pagination\': !shouldShowPagination(), \'cols-2\': shouldShowEventDetails}" ng-if=events.length><div class=events-col><ul class=find-events-header><li class=event>Event</li><li class=type>Type</li><li class=start-date ng-hide=shouldShowEventDetails>Start Date</li><li class=end-date ng-hide=shouldShowEventDetails>End Date</li><li class=dates ng-show=shouldShowEventDetails>Dates</li></ul><div id=find-events-scroll class=scrollable ng-iscroll=events_list_scroller><div class=wrapper><ul id=revenue-events-search-results class=search-results><li class="no-content hidden"><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>Events</strong> <span class=h2>Search by <strong>Event</strong></span></div></li><li class=find-event ng-repeat="event in events"><div class="faux-anchor event-item" ng-click=showEventDetails(event) ng-class="{\'active\': event.active}"><div class=data><h2 ng-bind-html=escapeNull(event.eventName)|highlight:filter.eventName:false></h2><span class=description ng-if=event.description>{{event.description}}</span></div><div class=type>{{event.eventTypeDesc}}</div><div class=start-date ng-hide=shouldShowEventDetails>{{event.startDate | date:dateFormat }}</div><div class=end-date ng-hide=shouldShowEventDetails>{{event.endDate | date:dateFormat}}</div><div class=dates ng-show=shouldShowEventDetails><span>{{event.startDate | date:dateFormat}}</span> <span>{{event.endDate | date:dateFormat}}</span></div></div></li></ul></div></div><rv-pagination page-options=eventsSearchPagination page-data=totalResultCount ng-if=events.length></rv-pagination></div><div class=event-details ng-show=shouldShowEventDetails><div class=report-col><h3>Edit event details</h3><div class="error notice" ng-if=errorMsg>{{errorMsg}}</div><div id=eventDetailsForm class=scrollable ng-iscroll=event_details_scroller><div class=wrapper><div class=entry><label for=event-type>Type</label><div class=select><select id=event-type ng-model=eventData.eventType convert-to-number="" ng-change="onFieldChange(eventData.eventType, \'eventType\')" ng-class="{\'error\': fieldErrors.eventType}"><option ng-repeat="event in eventTypes" value={{event.id}}>{{event.description}}</option></select></div></div><div class=entry><label for=event-title>Name</label> <input name=event-title id=event-title placeholder="Event Name" type=text autocomplete=off ng-model=eventData.eventName ng-change="onFieldChange(eventData.eventName, \'eventName\')" ng-class="{\'error\': fieldErrors.eventName}" maxlength=255></div><div class=entry><label for=event-description>Description <span>(Optional)</span></label> <textarea name=event-description id=event-description placeholder="Event Description" autocomplete=off ng-model=eventData.description ng-change="onFieldChange(eventData.description, \'description\')" ng-class="{\'error\': fieldErrors.description}" maxlength=255>\n                        </textarea></div><div class=entry><label for=event-start>Start Date</label><div class=has-datepicker ng-class="{\'overlay\': eventData.disableStartDate}"><button class=clear-query ng-class="{\'visible\': eventDates.start}" ng-click="clearFilter($event, \'startDate\', eventData, \'start\', false, true)"><span class="icons icon-clear-search">Clear query</span></button> <input id=event-start type=text class=datepicker readonly="" ui-date=eventStartDateOptions ng-model=eventDates.start ng-change="onFieldChange(eventDates.start, \'startDate\')" ng-class="{\'error\': fieldErrors.startDate}" ng-disabled=eventData.disableStartDate placeholder="Select Date"></div></div><div class=entry><label for=event-end>End Date</label><div class=has-datepicker ng-class="{\'overlay\': eventData.disableEndDate }"><button class=clear-query ng-class="{\'visible\': eventDates.end}" ng-click="clearFilter($event, \'endDate\', eventData, \'end\', false, true)"><span class="icons icon-clear-search">Clear query</span></button> <input id=event-end type=text class=datepicker readonly="" ng-model=eventDates.end ui-date=eventEndDateOptions ng-change="onFieldChange(eventDates.end, \'endDate\')" ng-class="{\'error\': fieldErrors.endDate}" ng-disabled=eventData.disableEndDate placeholder="Select Date"></div></div></div></div><div class=column-actions><button type=button class="button green" ng-click=updateEvent()>Save Changes</button> <button type=button class="button red" ng-click=showDeleteConfirmationPopup()>Delete Event</button> <button type=button class="button blank" ng-click=discardEdit()>Cancel</button></div></div></div></section>'),t.put("/assets/partials/housekeeping/rvAssignRoomModal.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content form new-worksheet"><button class=modal-close id=modal-close ng-click=closeDialog() type=button><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message">Assign Room</span><div class="entry full-width"><div class=select><select id=work-type name=work-type ng-model=assignRoom.work_type_id ng-options="work.id as work.name for work in workTypes" ng-change=assignRoomWorkTypeChanged()><option value="">Select Worktype</option></select></div></div><div class="entry full-width"><div class=select><select id=employees name=employees ng-model=assignRoom.user_id ng-options="emp.id as emp.name for emp in activeWorksheetEmp"><option value="">Select Employee</option></select></div></div><div class=actions><button ng-click=submitAssignRoom() type=button ng-disabled=!assignRoom.user_id ng-class="{\'grey\' : !assignRoom.user_id}" class="button green">Assign</button> <button ng-click=closeDialog() type=button class="button blank">Cancel</button></div></div></div>'),t.put("/assets/partials/housekeeping/rvChangeHkStatusModal.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content update-room-status" ng-class="{\'extended\': isServiceStatusUpdate}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><button ng-click=closeHkStatusDialog() class=modal-close id=modal-close type=button><span class="icons icon-close invert"></span></button><strong class="h2 message" ng-hide=multiRoomAction.allChosen data-translate=UPDATE_ROOMS data-translate-values="{ roomCount: multiRoomAction.rooms.length}"></strong> <strong class="h2 message" ng-show=multiRoomAction.allChosen data-translate=UPDATE_ROOMS data-translate-values="{ roomCount: allRoomIDs.length}"></strong><ul class=options><li data-show=#room-status ng-class="{\'active\':isRoomStatusUpdate}" ng-click=toggleRoomServiceStatusUpdate() translate="">ROOM_STATUS</li><li data-show=#service-status ng-class="{\'active\':isServiceStatusUpdate}" ng-click=toggleRoomServiceStatusUpdate() translate="">SERVICE_STATUS</li></ul><div id=room-status class=status-container ng-if=isRoomStatusUpdate><div class="entry radio-check"><label ng-repeat="status in hkStatusList" class=radio for={{status.id}}><span class="icon-form icon-radio" ng-class="{ \'checked\' : multiRoomAction.hkStatusId == status.id }"></span> <input name=room-status type=radio id="{{ status.id }}" value="{{ status.id }}" ng-model=multiRoomAction.hkStatusId> {{ status.description }}</label></div><div class=actions><button ng-click=submitHkStatusChange() type=button class="button green" translate="">CONFIRM</button> <button ng-click=closeHkStatusDialog() type=button class="button blank" translate="">CANCEL</button></div></div><div id=service-status class=status-container ng-if=isServiceStatusUpdate><div class="entry float-label"><div class=select><label for=select-service-status class=label translate="">SERVICE_STATUS</label><select name=room-service-status id=room-service-status ng-model=updateServiceData.room_service_status_id ng-options="item.id as item.description for item in serviceStatusList" ng-change="refreshScroller(\'room-service-status-update\')"></select></div></div><div id=status-details class=scrollable ng-iscroll=room-service-status-update><div class="wrapper room-service-status"><div id=dates class=row><div id=out-from class=entry><label id=room-out-from-label for=room-out-from data-translate=HK_FROM_DAY data-translate-values="{ dayName: getSimplifiedDayName(updateServiceData.from_date)}"></label><div class=entry-data><input name=room-out-from id=room-out-from type=text class=datepicker ui-date=fromDateOptions ng-model=updateServiceData.from_date ui-date-format="" readonly=""> <strong id=room-out-from-day class=day>{{ updateServiceData.from_date | date:\'dd\' }}</strong> <span id=room-out-from-month class=month>{{ updateServiceData.from_date | date:\'MMMM\' }}</span> <span id=room-out-from-year class=year>{{ updateServiceData.from_date | date:\'yyyy\' }}</span></div><div class=select ng-show=shouldShowTimeSelector()><select id=room-out-from-time class=placeholder ng-model=updateServiceData.begin_time><option value="" selected="" translate="">FROM_TIME</option><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="">{{timeSelector.text}}</option></select></div></div><div id=out-to class=entry><label id=room-out-to-label for=room-out-to data-translate=HK_TO_DAY data-translate-values="{ dayName: getSimplifiedDayName(updateServiceData.to_date)}"></label><div class=entry-data><input name=room-out-to id=room-out-to type=text class=datepicker ui-date=untilDateOptions ng-model=updateServiceData.to_date ui-date-format="" readonly=""> <strong id=room-out-to-day class=day>{{ updateServiceData.to_date | date:\'dd\' }}</strong> <span id=room-out-to-month class=month>{{ updateServiceData.to_date | date:\'MMMM\' }}</span> <span id=room-out-to-year class=year>{{ updateServiceData.to_date | date:\'yyyy\' }}</span></div><div class=select ng-show=shouldShowTimeSelector()><select id=room-out-to-time class=placeholder ng-model=updateServiceData.end_time><option value="" selected="" translate="">TO_TIME</option><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="">{{timeSelector.text}}</option></select></div></div></div><div id=return-status class=row ng-if="isStandAlone && updateServiceData.room_service_status_id != 1"><div class=entry><label for=return-status translate="">ROOM_RETURN_STATUS</label><div class=select><select name=return-status id=return-status class=placeholder ng-model=updateServiceData.return_status_id ng-options="item.id as item.value for item in hkStatusList"><option value="" translate="">SELECT</option></select></div></div></div><div id=reason class=row ng-if="updateServiceData.room_service_status_id != 1"><div class=entry><label for=reason translate="">REASON</label><div class=select><select name=reason id=reason ng-model=updateServiceData.reason_id ng-options="item.value as item.name for item in maintenanceReasonsList"><option value="" translate="">CHOOSE_REASON</option></select></div></div><div class=entry><label for=reason-comments translate="">COMMENTS_OPT</label> <textarea name=reason-comments id=reason-comments ng-model=updateServiceData.comments rows=4></textarea></div></div></div></div><div class=actions><button type=button class="button blank" ng-click=closeHkStatusDialog() translate="">CANCEL</button> <button type=button class="button green" ng-click=updateServiceStatus() translate="">UPDATE</button></div></div></div></div>'),t.put("/assets/partials/housekeeping/rvCheckoutDialogPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class=icons ng-class="{ \'icon-popup-success\': isSuccess, \'icon-popup-alert\': !isSuccess }"></span> <span class="h2 message">{{ message }}</span> <button type=button class="button blue" ng-class="{ \'blank\': isSuccess, \'blue\': !isSuccess }" ng-click=closeDialog()>Ok</button></div></div>'),t.put("/assets/partials/housekeeping/rvCheckoutDialogWithHkStatusPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class=modal-content><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class="h3 message">{{ message }}</div><div class=status><label for=room-status>Room Status</label><div class=switch-button ng-class="{\'on\': flag.roomStatusReady}"><input id=room-status name=room-status type=checkbox value=not-ready ng-model=flag.roomStatusReady> <label class=data-off><span class=switch-icon>Not Ready</span> <span class=value>Ready</span></label> <label class=data-on><span class=value>Not Ready</span> <span class=switch-icon>Ready</span></label></div></div><button id=ok class="button modal-close green" ng-click=manualRoomStatusChange()>Ok</button></div></div>'),t.put("/assets/partials/housekeeping/rvGuestTab.html",'<div ng-controller=RVHKGuestTabCtrl><div class=room-actions><div class=select><select id=front-office-status name=front-office-status disabled="" ng-hide=true><option value=arrival>Arrival</option><option value=arrived>Arrived</option><option value=due-out>Due Out</option><option value=departed>Departed</option><option value=stayover>Stayover</option></select></div></div><div class="room-content no-content" ng-if="roomDetails.is_occupied == \'false\'"><div class=info><span class="icon-no-content icon-room"></span> <strong class=h1 translate="">ROOM_IS_VACANT</strong></div></div><div class="room-content scrollable" ng-if="roomDetails.is_occupied == \'true\'" ng-iscroll=room-details-scroller ng-iscroll-delay=100><div class=wrapper><strong class=h2><label ng-show="roomDetails.is_late_checkout == \'true\'" translate="">LATE_CHECKOUT</label>&nbsp; {{ roomDetails.current_room_reservation_status }}. <span class=red><span translate="">DEPARTING</span> <label ng-show="!!roomDetails.departure.time && !roomDetails.departure.date" data-translate=AT_TIME_DOT data-translate-values="{depTime: roomDetails.departure.time}"></label> <label ng-show="!!roomDetails.departure.time && !!roomDetails.departure.date" data-translate=AT_TIME data-translate-values="{depTime: roomDetails.departure.time}"></label> <label ng-show=!!roomDetails.departure.date data-translate=ON_DATE data-translate-values="{ depDate: roomDetails.departure.date, dateFormat: dateFormat }"><label></label></label></span></strong><figure ng-class="{\'blacklisted\':roomDetails.is_flagged === \'true\',\'guest-image\':true}"><img src="{{ roomDetails.avatar_src }}" alt=""> <span class=stay-count ng-if="roomDetails.guest_stay_count > 0 && isStandAlone">{{::roomDetails.guest_stay_count}}</span> <span ng-if="roomDetails.is_vip == \'true\'" class=vip>VIP</span></figure><h2><span class="guest-status {{ guestViewStatus }}"></span> <span class=name>{{ roomDetails.guest_name }}</span> <span class=no-service ng-if="::isStandAlone && (roomDetails.is_room_service_opted === false)" translate="">NO_SERVICE</span></h2><button ng-if="roomDetails.is_suite === false" type=button class="button red" ng-show="roomDetails.reservation_is_due_out && hasCheckOutReservationPermission()" ng-click=checkOutReservation() translate="">GUEST_CHECK_OUT</button><div class=room-accompanying-guests ng-if=roomDetails.accompanying_guests.length><h2>Accompanying Guests</h2><div class=room-accompanying-guests-list><div class="room-accompanying-guest col-xs-5" ng-repeat="accompanyingGuest in roomDetails.accompanying_guests"><figure class=guest-image><span class="icons icon-{{setProfileImageForAccompanyingGuests(accompanyingGuest.guest_type)}}"></span></figure><h3 class=guest-name>{{accompanyingGuest.guest_name}}</h3></div></div></div></div></div><div class="entry actions" ng-if="isStandAlone && !hotelDetails.is_hourly_rate_on"><div class=action><button type=button class="button white with-icon only-icon" ng-click=changeHouseKeepingStatus() style="margin: 0 auto; display: block;"><span class="icons icon-reset"></span></button></div></div></div>'),t.put("/assets/partials/housekeeping/rvHkOWSError.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content new-content form warning warning-modal"><div class=ows_error translate="">OWS_ERROR_MSG</div><div class="actions float"><button class="button modal-close white red-text" ng-click=closeThisDialog() translate="">CLOSE</button> <button id=try-again class="button white red-text" ng-click=tryAgainButtonClicked() translate="">TRY_AGAIN</button></div></div></div>'),t.put("/assets/partials/housekeeping/rvHkRoomDetails.html",'<div class="page inner-page page-current" id=page-inner-first><div ng-include="\'/assets/partials/common/header.html\'"></div><section id=room-details class=content><header id=room-header class="room-header {{ getHeaderColor() }}" role=banner ng-class="{ \'on-hold\': roomDetails.is_on_hold }"><div class="icons icon-room"><h1>{{ roomDetails.current_room_no }}</h1><span>{{ roomDetails.room_type.name }}</span></div><ul id=room-detail-options class=display><li ng-class="{ \'active\': openTab === \'Guest\' }" click-touch="tabSwitch(\'Guest\')"><span class="icons icon-navbar icon-hk-guest" translate="">GUEST</span></li><li ng-class="{ \'active\': openTab === \'Work\' }" click-touch="tabSwitch(\'Work\')"><span class="icons icon-navbar icon-hk-work" translate="">WORK</span></li><li ng-class="{ \'active\': openTab === \'Room\' }" click-touch="tabSwitch(\'Room\')"><span class="icons icon-navbar icon-hk-room" translate="">ROOM</span></li><li ng-hide=!isStandAlone ng-class="{ \'active\': openTab === \'Log\' }" click-touch=showLogTab()><span class="icons icon-navbar icon-hk-log" translate="">LOG</span></li></ul></header><div ng-if="openTab === \'Guest\'" ng-include="\'/assets/partials/housekeeping/rvGuestTab.html\'" class=room-info></div><div ng-if="openTab === \'Work\'" ng-include="\'/assets/partials/housekeeping/rvWorkTab.html\'" class=room-info></div><div ng-if="openTab === \'Room\'" ng-include="\'/assets/partials/housekeeping/rvRoomTab.html\'" class=room-info></div><div class=room-info ui-view=""></div></section></div>'),t.put("/assets/partials/housekeeping/rvHkRoomStatus.html",'<div ng-show=localLoader id=loading><div id=loading-spinner></div></div><div ng-include="\'/assets/partials/common/header.html\'"></div><div id=pull-refresh-page ng-hide=filterOpen ng-class="::{\'has-options\': isStandAlone }"><span id=refresh-icon></span> <span id=refresh-text translate="">PULL_REFRESH</span></div><div id=pull-load-next ng-hide=filterOpen><span id=load-text translate="">PULL_LOAD</span> <span id=load-icon></span></div><form method=get action="" name=rooms-search-form id=rooms-search-form class="search-form room-search" role=search ng-class="{\'has-options\': isStandAlone, \'showing-filters\': filterOpen }"><div class="entry check" id=hk-multi-select ng-if=::isStandAlone ng-class="{ \'rooms-checked\': multiRoomAction.anyChosen }"><label class="checkbox inline" for=select-all-rooms><span class="icon-form icon-checkbox" ng-class="{ \'semi-checked\': (multiRoomAction.anyChosen && !multiRoomAction.allChosen), \'checked\': multiRoomAction.allChosen }"></span> <input id=select-all-rooms type=checkbox ng-model=multiRoomAction.allChosen ng-change=toggleRoomSelection($event)></label><button type=button class="button purple with-icon only-icon hidden" ng-class="{ \'hidden\': !multiRoomAction.anyChosen }" ng-click=openChangeHkStatusModal()><span class="icons icon-pencil" translate=""></span> {{\'UPDATE\' | translate}}</button></div><button type=button class="button white with-icon only-icon refresh" ng-click=refreshData()><span class="icons icon-reset"></span> {{::( \'Refresh\' | translate)}}</button><button type=button class="button white with-icon only-icon filter" ng-click=showFilters()><span class="icons icon-filter"></span> {{::(\'FILTER_ROOMS\' | translate)}}</button><div class="entry search" ng-class="{ \'rooms-checked\': multiRoomAction.anyChosen }"><a href=# id=rooms-clear-query class=clear-query ng-show="query != \'\'" ng-click=clearSearch() ng-class="{\'visible\': query != \'\'}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></a> <button type=submit name=submit class="icons icon-search" translate="">MENU_SEARCH</button> <input name=rooms-query id=rooms-query class=query placeholder="{{\'SEARCH_BY_ROOM_NO\' | translate}}" type=search autocomplete=off ng-model=query ng-change=filterByQuery()></div><div class="entry switch" ng-if="::(isStandAlone && !isHourlyRateOn)"><div class=switch-button ng-class="{ \'on\': currentView === \'ROOMS\', \'off\': currentView===\'TASKS\' }"><input id=room-task-toggle value="" type=checkbox ng-click=toggleView() checked=""> <label class=data-off><span class=value translate="">ROOM</span> <span class=switch-icon translate="">TASK</span></label> <label class=data-on><span class=switch-icon translate="">ROOM</span> <span class=value translate="">TASK</span></label></div></div><button type=button class="button blue with-icon only-icon print" ng-click=printData() ng-class="{ \'rooms-checked\': multiRoomAction.anyChosen }"><span class="icons icon-print"></span> Print</button><div id=filter-actions class=filter-actions><button class="button blank" ng-show=isFilterChcked() ng-click=clearFilters() type=button translate="">CLEAR</button> <button type=button class="button green" ng-click=filterDoneButtonPressed() translate="">APPLY</button></div></form><div class="worksheet-summary scrollable" ng-iscroll=tasks-summary-scroller ng-iscroll-delay=100 ng-if="!isHourlyRateOn && isStandAlone && hasActiveWorkSheet"><ul class=wrapper style="width: {{getWidthForSummary()}}px"><li><strong class=title>Time Allocated</strong> <span class=value>{{::summary.total_time_allocated}}</span> <span class=total>{{::summary.shift_length}}</span></li><li ng-repeat="item in ::summary.work_types track by $index"><strong class=title>{{::item.name}}</strong> <span class=value>{{::item.tasks_completed_count}}</span> <span class=total>{{::item.tasks_assigned_count}}</span></li></ul></div><section id=rooms class="content scrollable" ng-class="{\'has-summary\': hasActiveWorkSheet, \'hidden\': currentView == \'summary\', \'has-pagination\': (!disablePrevBtn || !disableNextBtn), \'no-options\': !isStandAlone}" div-touch-move-stop-propogate=""><ul class=search-results ng-hide="uiTotalCount == 0"><li class=mobile-pagination ng-show="!filterOpen && (!disablePrevBtn || !disableNextBtn)"><p class=page-count data-translate=SHOWING_ITEMS data-translate-values="{ resultFrom: resultFrom, resultUpto: resultUpto, netTotalCount: netTotalCount }"></p><p class=pull-msg ng-show=!disablePrevBtn translate="">PULL_LOAD_PREV</p><p class=pull-msg ng-show=disablePrevBtn translate="">PULL_REFRESH</p></li><li class="room with-checkbox" ng-repeat="room in rooms track by $index" emit-when="{event: \'ALL_RENDERED\', condition: $last}"><div ng-if=::isStandAlone class=check><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{ \'checked\' : room.selected }"></span> <input type=checkbox ng-model=room.selected ng-change="roomSelectChange(room, $index)"></label></div><a ng-click=roomListItemClicked(room)><div class=room-info ng-class="{ \'on-hold\': room.is_on_hold }"><h2 class="{{ room.roomStatusClass }}"><span>{{ ::room.room_no }}</span> <span class="icons icon-suite" ng-show=room.is_suite translate="">SUITE_ROOM</span></h2><span class="room-status {{ room.roomStatusClass }}" ng-if="room.hk_status.value !== \'DO_NOT_DISTURB\'">{{room.hk_status.value}}</span> <span class="room-status {{ room.roomStatusClass }}" ng-if="room.hk_status.value === \'DO_NOT_DISTURB\'">{{ \'DO_NOT_DISTURB\' | translate }}</span> <span class=room-dot ng-if="room.room_type && room.room_type.name">·</span> <span class=room-type>{{::room.room_type.name}}</span></div><div class=reservation-status><div class="current {{ ::room.leaveStatusClass }}"><span class="guest-status {{ ::room.leaveStatusClass }}">{{ ::room.room_reservation_status }}</span><span class=reservation-time>{{ ::room.timeOrOut }}<span class=occupancy ng-if=shouldShowStayoverGuestCount(room)><span class=occupancy-number><span class="icons icon-adult-2"></span> {{room.guest_details.adults}}</span> <span class=occupancy-number><span class="icons icon-student"></span> {{room.guest_details.children}}</span> <span class=occupancy-number><span class="icons icon-baby"></span> {{room.guest_details.infants}}</span></span></span></div><div class="next {{ ::room.enterStatusClass }}"><span class="guest-status {{ ::room.enterStatusClass }}">{{ ::room.room_reservation_status }}</span> <span class=reservation-time>{{ ::room.timeOrIn }}<span class=occupancy ng-if=shouldShowArrivingGuestCount(room)><span class=occupancy-number><span class="icons icon-adult-2"></span> {{room.guest_details.adults}}</span> <span class=occupancy-number><span class="icons icon-student"></span> {{room.guest_details.children}}</span> <span class=occupancy-number><span class="icons icon-baby"></span> {{room.guest_details.infants}}</span></span></span></div></div><span class={{::room.assigned_staff.class}}>{{::room.assigned_staff.name}}</span><div class=last-column><span class=no-service ng-if="::isStandAlone && !room.ooOsTitle && (room.is_room_service_opted === false)">No Service</span><span ng-if="::isStandAlone && room.ooOsTitle"><span class=service-status ng-if="::!isHourlyRateOn || hotelDiaryConfig.mode !== \'FULL\'">{{::room.ooOsTitle}} until <strong>{{::room.service_status.end_date}}</strong></span> <span class=service-status ng-if="::isHourlyRateOn || hotelDiaryConfig.mode === \'FULL\'">{{::room.ooOsTitle}} until <strong>{{::room.service_status.end_date}} {{::room.service_status.end_time}}</strong></span></span><div class=print-date ng-show="room.is_occupied && room.arrival_date && room.departure_date"><div class=arrival-date><span class="guest-status check-in" translate="">CHECK_IN</span><time datetime={{room.arrival_date}}>{{formatDateForUI(room.arrival_date)}}</time></div><div class=departure-date><span class="guest-status check-out" translate="">CHECK_OUT</span><time datetime={{room.departure_date}}>{{formatDateForUI(room.departure_date)}}</time></div></div></div><figure class=guest-image ng-if="!room.is_queued && room.is_occupied" ng-class="{\'blacklisted\':room.is_flagged === \'true\'}"><span ng-if=room.is_vip class=vip translate="">VIP</span> <span class=stay-count ng-if="room.guest_stay_count > 0 && isStandAlone">{{::room.guest_stay_count}}</span> <img ng-src={{::room.avatar_src}} alt=""></figure><div ng-if="!room.is_queued && !room.is_occupied" class=show-vacant translate="">VACANT</div><div ng-if=::room.is_queued class="icons icon-queued has-time" translate="">QUEUED <span class=time pretty-time-ago=::room.is_queued_till></span></div><ul class=tasks ng-if="currentView === \'TASKS\'"><li ng-repeat="task in ::room.room_tasks track by $index" ng-class="{ \'completed\': task.is_completed }">{{::task.name}}</li></ul></a></li><li class="mobile-pagination on-bottom-pagination" ng-show="!filterOpen && (!disablePrevBtn || !disableNextBtn)"><p class=page-count data-translate=SHOWING_ITEMS data-translate-values="{ resultFrom: resultFrom, resultUpto: resultUpto, netTotalCount: netTotalCount }"></p><p class=pull-msg ng-show=!disableNextBtn translate="">PULL_LOAD_NEXT</p></li></ul><ul id=dashboard-search-results class="search-results wrapper" ng-show="uiTotalCount == 0"><li class=no-content><div class=info><span class="icon-no-content icon-room"></span> <strong ng-show="!isStandAlone || !topFilter.byEmployee" class=h1 translate="">NO_MATCHING_ROOMS</strong> <strong ng-show="isStandAlone && !!topFilter.byEmployee" class=h1 translate="">NO_ROOMS_ASSIGNED</strong> <span class=h2 translate="">MODIFY_THE_FILTERS</span> <span class=h2 translate="">SEARCH_BY_ROOM_NUMBER</span></div></li></ul></section><div ng-show="!filterOpen && (!disablePrevBtn || !disableNextBtn)"><rv-pagination page-options=hkSearchPagination page-data=netTotalCount></rv-pagination></div><section id=filter-rooms class=content ng-class="{ \'hidden\' : !filterOpen, \'showing-filters\': filterOpen }"><div id=filter-options class="content scrollable" ng-iscroll=room-status-filter><div class=wrapper><div class=holder ng-if=::isStandAlone><strong class=title translate="">WORK_TYPE</strong><div class=entry><div class=select><select id=work-type ng-model=currentFilters.filterByWorkType ng-class="{ \'placeholder\': !currentFilters.filterByWorkType }" iscroll-stop-propagation=""><option value="" selected="" translate="">ALL_WORK_TYPES</option><option ng-repeat="item in workTypes" value={{item.id}} ng-selected="item.id === currentFilters.filterByWorkType">{{item.name}}</option></select></div></div><strong class=title ng-hide="isMaintenanceStaff && hasActiveWorkSheet" translate="">EMP</strong><div class=entry ng-hide="isMaintenanceStaff && hasActiveWorkSheet"><div class=select><select id=employees ng-model=currentFilters.filterByEmployeeName ng-class="{ \'placeholder\': !currentFilters.filterByEmployeeName }" iscroll-stop-propagation=""><option value="" selected="" translate="">All Employees</option><option ng-repeat="emp in employees" value={{emp.id}} ng-selected="emp.id === currentFilters.filterByEmployeeName">{{emp.maid_name}}</option></select></div></div></div><div class=holder><strong class=title translate="">HK_FLOORS</strong><div class="entry radio-check floors"><label class="checkbox checked"><span class="icon-form icon-checkbox" ng-class="{\'checked\': currentFilters.showAllFloors}"></span> <input name=room-allfloors id=room-allfloors value=room-allfloors type=checkbox checked="" ng-click=allFloorsClicked()> <label translate="">SHOW_ALL_FLOORS</label></label><div id=filter-floors class=entry-data ng-class="{\'hidden\': currentFilters.showAllFloors}"><div class=left data-content="{{\'HK_OR\' | translate}}"><span class=h4 translate="">HK_SINGLE</span><div class=select><select name=floor-filter-single id=floor-filter-single class="placeholder floor-filter" ng-model=currentFilters.floorFilterSingle ng-change="validateFloorSelection(\'SINGLE_FLOOR\')" iscroll-stop-propagation=""><option selected="" translate="">FLOOR_#</option><option ng-repeat="floor in ::floors track by $index" value={{::floor.floor_number}} ng-selected="floor.floor_number==currentFilters.floorFilterSingle">{{::floor.floor_number}}</option></select></div></div><div class=right><span class=h4 translate="">HK_MULTIPLE</span><div class=select><select name=floor-filter-start id=floor-filter-start class="placeholder floor-filter" ng-model=currentFilters.floorFilterStart ng-change="validateFloorSelection(\'FROM_FLOOR\')" iscroll-stop-propagation=""><option selected="" translate="">HK_FROM</option><option ng-repeat="floor in ::floors track by $index" value={{::floor.floor_number}} ng-selected="floor.floor_number==currentFilters.floorFilterStart">{{::floor.floor_number}}</option></select></div><div class=select><select name=floor-filter-stop id=floor-filter-stop class="placeholder floor-filter" ng-model=currentFilters.floorFilterEnd ng-change="validateFloorSelection(\'TO_FLOOR\')" iscroll-stop-propagation=""><option selected="" translate="">HK_TO</option><option ng-repeat="floor in ::floors track by $index" value={{::floor.floor_number}} ng-selected="floor.floor_number==currentFilters.floorFilterEnd">{{::floor.floor_number}}</option></select></div></div></div></div></div><div class=holder><strong class=title translate="">HOUSEKEEPING_STATUS</strong><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.dirty}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.dirty> <label translate="">SHOW_DIRTY</label></label></div><div class="entry radio-check" ng-show=showPickup><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.pickup}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.pickup> <label translate="">SHOW_PICKUP</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.clean}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.clean> <label translate="">SHOW_CLEAN</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.inspected}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.inspected> <label translate="">SHOW_INSPECTED</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': currentFilters.out_of_order}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.out_of_order ng-click="checkOooAndOosFilterValidation(\'OO\')"> <label translate="">SHOW_OOO</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.out_of_service}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.out_of_service ng-click="checkOooAndOosFilterValidation(\'OS\')"> <label translate="">SHOW_OOS</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.exclude_out_of_order}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.exclude_out_of_order ng-click="checkOooAndOosFilterValidation(\'OOO\')"> <label translate="">EXCLUDE_OOO</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.exclude_out_of_service}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.exclude_out_of_service ng-click="checkOooAndOosFilterValidation(\'OOS\')"> <label translate="">EXCLUDE_OOS</label></label></div></div><div class=holder ng-if=::roomTypes.length><strong class=title translate="">ROOM_TYPE_FILTER_TITLE</strong><div class="entry rooms"><div class=select><select id=roomType ng-model=currentFilters.singleRoomType ng-class="{ \'placeholder\': !currentFilters.singleRoomType }" ng-change=singleRoomTypeFiltered() iscroll-stop-propagation=""><option value="" selected="" translate="">All Room Types</option><option ng-repeat="type in roomTypes" value={{type.id}} ng-selected="type.id === currentFilters.singleRoomType">{{type.name}}</option></select></div></div></div><div class=holder><strong class=title translate="">RESERVATION_STATUS</strong><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.vacant}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.vacant> <label translate="">SHOW_VACANT</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.occupied}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.occupied> <label translate="">SHOW_OCCUPIED</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.queued}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.queued> <label translate="">SHOW_QUEUED</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.lateCheckout}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.lateCheckout> <label translate="">HK_LATE_CHECKOUT</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.pre_checkin}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.pre_checkin> <label translate="">PRE_CHECKIN</label></label></div></div><div class=holder><strong class=title translate="">FRONT_OFFICE_STATUS</strong><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.stayover}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.stayover> <label translate="">SHOW_STAYOVER</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.not_reserved}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.not_reserved> <label translate="">SHOW_NOT_RESERVED</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.arrival}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.arrival> <label translate="">SHOW_ARRIVAL</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.arrived}"></span> <input name=room-filters id=room-filters13 type=checkbox ng-model=currentFilters.arrived> <label translate="">SHOW_ARRIVED</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.dayuse}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.dayuse> <label translate="">SHOW_DAY_USE</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.dueout}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.dueout> <label translate="">SHOW_DUE_OUT</label></label></div><div class="entry radio-check"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\' : currentFilters.departed}"></span> <input name=room-filters type=checkbox ng-model=currentFilters.departed> <label translate="">SHOW_DEPARTED</label></label></div></div></div></div></section>'),
t.put("/assets/partials/housekeeping/rvHkServiceStatusDateSelector.html","<div id=modal class=modal-show ng-class=\"{'modal-show': !modalClosing}\"><div ui-date=dateOptions ng-model=updateService.selected_date ui-date-format=yy-mm-dd class=ngmodal-uidate-wrap></div></div>"),t.put("/assets/partials/housekeeping/rvHousekeeping.html",'<div class="nested-view view-current"><div class=container ng-class="{ \'return-back\': returnBack }"><div ui-view="" class=main-view></div></div></div>'),t.put("/assets/partials/housekeeping/rvLogTab.html",'<div><div class="room-content scrollable report-content" ng-iscroll=LOG_TAB_SCROLL><div class=wrapper><table class=log-table><thead><tr><th><span translate="">USER_NAME</span></th><th><span class="sort sorting-asc" translate="">DATE_AND_TIME</span></th><th><span translate="">ACTION</span></th><th><span translate="">FO_STATUS</span></th><th><span translate="">ROOM_STATUS</span></th><th><span translate="">SERVICE_STATUS</span></th></tr></thead><tbody><tr class=row-break ng-repeat="roomLog in roomLogData"><td data-content="Changed By">{{roomLog.user_name}}</td><td data-content="Date &amp; Time">{{roomLog.date}}, {{roomLog.time}}</td><td data-content=Source>{{roomLog.action}}</td><td data-content="Front Office Status"><span class="status old" ng-show="roomLog.front_office_status.old_value!==roomLog.front_office_status.new_value">{{roomLog.front_office_status.old_value}}</span> <span class=status>{{roomLog.front_office_status.new_value}}</span></td><td data-content="Room Status"><span class="status old" ng-show="roomLog.room_status.old_value!==roomLog.room_status.new_value">{{roomLog.room_status.old_value}}</span> <span class=status ng-class=getRoomStatusClass(roomLog.room_status.new_value)>{{roomLog.room_status.new_value}}</span></td><td data-content="Service Status"><span class="status old" ng-show="roomLog.service_status.old_value!==roomLog.service_status.new_value">{{roomLog.service_status.old_value}}</span> <span class=status>{{roomLog.service_status.new_value}}</span></td></tr></tbody></table><div class=log-table-mobile><div class=row-break ng-repeat="roomLog in roomLogData"><div data-content="Changed By">{{roomLog.user_name}}</div><div data-content="Date &amp; Time">{{roomLog.date}}, {{roomLog.time}}</div><div data-content=Source>{{roomLog.action}}</div><div data-content="Front Office Status"><span class="status old" ng-show="roomLog.front_office_status.old_value!==roomLog.front_office_status.new_value">{{roomLog.front_office_status.old_value}}</span> <span class=status>{{roomLog.front_office_status.new_value}}</span></div><div data-content="Room Status"><span class="status old" ng-show="roomLog.room_status.old_value!==roomLog.room_status.new_value">{{roomLog.room_status.old_value}}</span> <span class=status ng-class=getRoomStatusClass(roomLog.room_status.new_value)>{{roomLog.room_status.new_value}}</span></div><div data-content="Service Status"><span class="status old" ng-show="roomLog.service_status.old_value!==roomLog.service_status.new_value">{{roomLog.service_status.old_value}}</span> <span class=status>{{roomLog.service_status.new_value}}</span></div></div></div></div></div><rv-pagination page-options=pageOptions page-data=totalResultCount ng-if="openTab === \'Log\'"></rv-pagination></div>'),t.put("/assets/partials/housekeeping/rvRoomTab.html",'<div ng-controller=RVHKRoomTabCtrl><div class="room-actions has-date" ng-class="{\'overlay\': !hasPermissionPutRoomOOS }"><div class=has-datepicker><label for=room-service-date translate="">DATE</label> <input name=room-service-date id=room-service-date type=text class=datepicker ui-date=selectDateOptions ng-model=updateService.selected_date ui-date-format="" readonly=""></div><div class=select><label for=room-service-status translate="">SERVICE_STATUS</label><select name=room-service-status id=room-service-status ng-model=updateService.room_service_status_id ng-options="item.id as item.description for item in allServiceStatus" ng-change=statusChange()></select></div></div><div id=room-content class="room-content row scrollable" ng-iscroll=room-tab-scroll ng-class="{\'overlay\': !hasPermissionPutRoomOOS }"><div class="wrapper room-service-status"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-if="inService && showInseviceOnLoad"><strong class=h2 translate="">IN_SERVICE</strong> <span class="icon-no-content icon-ok"></span></div><form method=post action="" name=room-content ng-hide="inService && showInseviceOnLoad"><strong class=h2 ng-show=inService translate="">IN_SERVICE</strong> <strong class=h2 ng-hide=inService>{{ ooOsTitle }}</strong><div id=dates class=row><div id=out-from class=entry ng-class="{\'disabled\':showSaved}"><label id=room-out-from-label for=room-out-from data-translate=HK_FROM_DAY data-translate-values="{ dayName: getSimplifiedDayName(updateService.from_date)}"></label><div class="entry-data ui-datepicker-trigger"><input name=room-out-from ng-disabled=showSaved id=room-out-from type=text class=datepicker ui-date=fromDateOptions ng-model=updateService.from_date ui-date-format="" readonly="" style=display:block!important;position:absolute!important;left:0;right:0;top:0;bottom:0;z-index:3;margin:0!important;opacity:0> <strong id=room-out-from-day class=day>{{ updateService.from_date | date:\'dd\' }}</strong> <span id=room-out-from-month class=month>{{ updateService.from_date | date:\'MMMM\' }}</span> <span id=room-out-from-year class=year>{{ updateService.from_date | date:\'yyyy\' }}</span></div><div class=select ng-show=shouldShowTimeSelector()><select id=room-out-from-time class=placeholder ng-model=updateService.begin_time><option value="" selected="" translate="">FROM_TIME</option><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="updateService.begin_time==timeSelector.value">{{timeSelector.text}}</option></select></div></div><div id=out-to class=entry ng-class="{\'disabled\':showSaved}"><label id=room-out-to-label for=room-out-to data-translate=HK_TO_DAY data-translate-values="{ dayName: getSimplifiedDayName(updateService.to_date)}"></label><div class="entry-data ui-datepicker-trigger"><input name=room-out-to ng-disabled=showSaved id=room-out-to type=text class=datepicker ui-date=untilDateOptions ng-model=updateService.to_date ui-date-format="" readonly="" style=display:block!important;position:absolute!important;left:0;right:0;top:0;bottom:0;z-index:3;margin:0!important;opacity:0> <strong id=room-out-to-day class=day>{{ updateService.to_date | date:\'dd\' }}</strong> <span id=room-out-to-month class=month>{{ updateService.to_date | date:\'MMMM\' }}</span> <span id=room-out-to-year class=year>{{ updateService.to_date | date:\'yyyy\' }}</span></div><div class=select ng-show=shouldShowTimeSelector()><select id=room-out-to-time class=placeholder ng-model=updateService.end_time ng-disabled=showSaved><option value="" selected="" translate="">TO_TIME</option><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="updateService.end_time==timeSelector.value">{{timeSelector.text}}</option></select></div></div></div><div id=return-status class=row ng-hide="inService || !isStandAlone"><div class=entry><label for=return-status translate="">ROOM_RETURN_STATUS</label><div class=select><select name=return-status id=return-status class=placeholder ng-model=updateService.return_status_id ng-disabled=showSaved ng-options="item.id as item.value for item in returnStatusList"><option value="" translate="">SELECT</option></select></div></div></div><div id=reason class=row ng-hide=inService><div class=entry><label for=reason translate="">REASON</label><div class=select><select name=reason id=reason ng-model=updateService.reason_id ng-disabled=showSaved ng-options="item.value as item.name for item in maintenanceReasonsList"><option value="" translate="">CHOOSE_REASON</option></select></div></div><div class=entry ng-hide=inService><label for=reason-comments translate="">COMMENTS_OPT</label> <textarea name=reason-comments id=reason-comments rows=4 ng-model=updateService.comment ng-disabled=showSaved></textarea></div></div><div id=actions class=row><button type=button class="button green" ng-click=edit() translate="">{{ showSaved ? (\'EDIT\' | translate) : (\'UPDATE\' | translate) }}</button></div></form></div></div></div>'),t.put("/assets/partials/housekeeping/rvWorkTab.html",'<div ng-controller=RVHKWorkTabCtrl><div class=room-actions><div class=select><label for=room-status translate="">ROOM_STATUS</label><select id=room-status name=room-status ng-if=isStandAlone ng-model=roomDetails.current_hk_status ng-options="item.value as item.description for item in roomDetails.hk_status_list" ng-change=manualRoomStatusChanged() ng-disabled=isStarted></select><select id=room-status name=room-status ng-if=!isStandAlone ng-model=roomDetails.current_hk_status ng-options="item.value as item.description for item in roomDetails.hk_status_list" ng-change=manualRoomStatusChanged() ng-disabled=!!ooOsTitle></select></div></div><div class="room-content scrollable" ng-iscroll=room-status-content><div ng-if=!isStandAlone><div ng-if=!!ooOsTitle><strong class=h2 data-translate=HK_ROOM_STATUS data-translate-values="{ ooOsTitle: ooOsTitle}"></strong> <span class="icon-no-content icon-ok"></span></div><div ng-if="!ooOsTitle && checkShow(\'clean\')"><strong class=h2 translate="">ROOM_IS_CLEAN</strong> <span class="icon-no-content icon-ok"></span></div><div ng-if="!ooOsTitle && checkShow(\'dirty\') && !isStarted"><strong class=h2 translate="">HK_ROOM_IS_DIRTY</strong></div><div ng-if="!ooOsTitle && checkShow(\'pickup\') && !isStarted"><strong class=h2><span class=orange translate="">HK_PICKUP_ROOM</span></strong></div><div ng-if="!ooOsTitle && isStarted"><strong class=h2 translate="">WIP</strong></div></div><div class=wrapper ng-if=isStandAlone><strong ng-if="!ooOsTitle && checkShow(\'clean\')" class=h2 translate="">HK_ROOM_IS_CLEAN</strong> <strong ng-if="!ooOsTitle && checkShow(\'dirty\')" class=h2 translate="">HK_ROOM_IS_DIRTY</strong> <strong ng-if="!ooOsTitle && checkShow(\'pickup\')" class=h2 translate=""><span class=orange translate="">HK_PICKUP_ROOM</span></strong> <strong ng-if="!ooOsTitle && checkShow(\'dnd\')" class=h2 translate="">HK_ROOM_IS_DND</strong><div id=room-tasks ng-if="isStandAlone && isTaskPresent()"><div class=room-actions><div class=select><label for=select-task translate="">TASK</label><select id=select-task name=room-status ng-if=isStandAlone ng-model=currentTaskID ng-options="item.id as item.name for item in taskDetails" ng-change=changedTask(currentTaskID) ng-disabled=isStarted></select></div></div><div class=room-task><span ng-show=!isCompleted class=label translate="">ASSIGNED_TO</span> <span ng-show=isCompleted class=label translate="">COMPLETED_BY</span> <strong class=h3>{{ currentTask.assigned_maid }}</strong> <span ng-show=isCompleted class="icon-no-content icon-ok"></span><div ng-show="isStarted && !disableDone"><span class=progress></span> <button type=button class="button green action" ng-click=doneWorking() translate=""></button></div><button ng-show="isOpen && !disableStart" type=button class="button blue action" ng-click=startWorking() translate="">START</button></div></div></div></div></div>'),t.put("/assets/partials/keys/rvKeyEmailPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content key-delivery" ng-class=data.colorCodeClass><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><button ng-if=!viewFromBillScreen ng-click=closeDialog() type=button id=modal-close class=modal-close ng-class=data.colorCodeClassForClose><span class="icons icon-close"></span></button><div id=room-status class=scan-key><span ng-show="data.is_late_checkout == \'true\'" class="h2 message">{{data.reservationStatusText}}<br>{{data.late_checkout_time}}</span> <span ng-show="data.is_late_checkout == \'false\'" class="h2 message">{{data.reservationStatusText}}</span><h1 class=icon-key>{{data.user_name}}<span>{{data.room_number}}</span></h1><span class=number>{{ \'RESERVATION\' | translate }} {{data.confirmation_number}}</span></div><div id=key-status class=scan-key><span class="h2 message" translate="">ROOM_KEY_EMAILED</span><div class=action><em class=info>{{ \'EMAIL_WITH_QR_CODE_SENT_TO\' | translate }} {{guestCardData.contactInfo.email}}</em> <a ng-show="fromView==\'checkin\'" class="modal-close button brand-colors" ng-click=goToStaycard() translate="">VIEW_STAY_CARD</a> <a ng-show="fromView==\'checkin\'" class="modal-close button blue" ng-click=goToSearch() translate="">SEARCH</a></div></div></div></div>'),t.put("/assets/partials/keys/rvKeyEncodePopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form id=print-key name=print-key class="modal-content form key-delivery" ng-class=data.colorCodeClass><button ng-if=!viewFromBillScreen id=modal-close type=button class=modal-close click-touch=closeDialog() ng-class=data.colorCodeClassForClose><span class="icons icon-close"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=room-status class=print-key ng-class="{\'connecting\': deviceConnecting, \'connected\': showPrintKeyOptions || keysPrinted, \'not-connected\' : deviceNotConnected || pressedCancelStatus, \'completed\' : keysPrinted}"><span ng-show="data.is_late_checkout === true" class="h2 message">{{data.reservationStatusText}}<br>{{data.late_checkout_time}}</span> <span ng-show="data.is_late_checkout === false" class="h2 message">{{data.reservationStatusText}}</span><h1 ng-class="{\'icon-key\' : keysPrinted}"><span class=trim>{{guestCardData.contactInfo.first_name}} {{guestCardData.contactInfo.last_name}}</span> <span class="trim room-number">{{data.roomNumber}}</span></h1><span class=number>{{ \'RESERVATION\' | translate }} {{data.confirmNumber}}</span></div><div id=key-status class=pin ng-show="data.key_settings == \'pin\'"><span class="h2 message">Pin Code</span> <span class=text ng-if=!!data.room_pin translate="">YOUR_ROOM_PIN_IS</span> <span class=text ng-if=!data.room_pin translate="">NO_PIN_MSG</span> <span class=pin-number>{{data.room_pin }}</span><div class=actions><button class="button blue" click-touch=sendEmailWithPincode(); ng-if="hasValidEmail && !!data.room_pin">Email</button> <button class="button blue" click-touch=printPinCode(); ng-if=!!data.room_pin>Print</button> <button class="button blue" click-touch=generatePinCode(); ng-if="data.room_pin_interface === \'AXBASE3000\' || data.room_pin_interface === \'CONCEPT4000\'">Generate</button> <button class="button blank modal-close" click-touch=closeDialog(); ng-if="data.room_pin_interface !== \'AXBASE3000\' && data.room_pin_interface !== \'CONCEPT4000\'">Close Window</button></div></div><div id=key-status class=print-key ng-class="{\'connecting\': deviceConnecting, \'connected\': showPrintKeyOptions || keysPrinted , \'not-connected\' : deviceNotConnected || pressedCancelStatus, \'completed\' : keysPrinted}" ng-show="data.key_settings != \'pin\'"><span ng-show="deviceConnecting && !isRemoteEncodingEnabled"><span class="h2 message" translate="">PRINT_ROOM_KEY</span> <em class="status icon-key pending" translate="">CONNECTING_TO_KEY_CARD_READER</em></span> <span ng-show="deviceNotConnected && !isRemoteEncodingEnabled"><span class="h2 message" translate="">PRINT_ROOM_KEY</span> <em class="status icon-key error" translate="">ERROR_CONNECTING_TO_KEY_CARD_READER</em><div class=actions><button type=button id=try-again class="button blue" ng-click=tryAgainButtonPressed() translate="">TRY_AGAIN</button> <button type=button class="button blank" click-touch=closeDialog(); translate="">CANCEL</button></div></span> <span ng-show=showPrintKeyOptions><span ng-if="keyType === \'New\'" class="h2 message" translate="">PRINT_NEW_ROOM_KEY</span> <span ng-if="keyType === \'Duplicate\'" class="h2 message" translate="">PRINT_DUPLICATE_ROOM_KEY</span> <span ng-if="keyType === \'New\'" class=validate-keys-section><span translate="">THIS_KEYS_TEXT</span> <b><span class=keys-msg-bold translate="">WILL_VALIDATE_PREVIOUS</span></b> <span translate="">INVALIDATE_KEYS_TEXT</span></span> <span ng-if="keyType === \'Duplicate\'" class=validate-keys-section><span translate="">THIS_KEYS_TEXT</span> <b><span class=keys-msg-bold translate="">WILL_NOT_VALIDATE_PREVIOUS</span></b> <span translate="">INVALIDATE_KEYS_TEXT</span></span> <em class="status icon-key {{status}}">{{statusMessage}}</em><div id=print-keys><div class="entry full-width" ng-show=isRemoteEncodingEnabled><label>Key Encoder</label><div class=select><select name=encoder-type class=placeholder ng-model=encoderSelected ng-change=selectedEncoder()><option value="" class=placeholder>Select</option><option value={{item.id}} class=placeholder ng-repeat="item in encoderTypes">{{item.description}}</option></select></div></div><div class="entry radio-check"><label for=keys>{{ \'HOW_MANY_KEYS\' | translate }}</label> <label ng-repeat="i in [1,2,3,4]" ng-class="{\'checked\':numberOfKeysSelected>=($index+1), \'printed\' :printedKeysCount>=($index+1)}" class=only-number><input name=keys id=key{{$index+1}} value={{$index+1}} type=checkbox ng-checked="numberOfKeysSelected>=($index+1)" click-touch=keySelected($index+1) ng-disabled=writingInProgress> {{$index+1}}</label></div><div class="actions float"><button type=button id=create-key class=button ng-class="{\'grey\':!isPrintKeyEnabled() , \'green\': isPrintKeyEnabled()}" ng-disabled=!isPrintKeyEnabled() click-touch=clickedPrintKey()>{{buttonText}}</button> <button type=button class="button blank" click-touch=closeDialog(); translate="">CANCEL</button></div></div></span> <span ng-show=keysPrinted><span class="h2 message" translate="">PRINT_ROOM_KEY</span> <em class="info print-status-msg" translate="">KEY_PRINTED</em><div class=action><a ng-if="fromView==\'checkin\'" class="modal-close button brand-colors" ng-click=goToStaycard() translate="">VIEW_STAY_CARD</a> <a ng-if="fromView==\'checkin\'" class="modal-close button blue" ng-click=goToSearch() translate="">SEARCH</a> <button ng-if="fromView !==\'checkin\'" type=button class="button blank modal-close" ng-click=closeDialog() translate="">CLOSE</button></div></span> <span ng-show=pressedCancelStatus><span class="h2 message" translate="">PRINT_ROOM_KEY</span> <em class="info print-status-msg" translate="">{{printKeyFailMsg}}</em><div class=action><a ng-if="fromView==\'checkin\'" class="modal-close button brand-colors" ng-click=goToStaycard() translate="">VIEW_STAY_CARD</a> <a ng-if="fromView==\'checkin\'" class="modal-close button blue" ng-click=goToSearch() translate="">SEARCH</a> <button ng-if="fromView !==\'checkin\'" type=button class="button blank modal-close" ng-click=closeDialog() translate="">CLOSE</button></div></span></div></form></div>'),t.put("/assets/partials/keys/rvKeyPopupNewDuplicate.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content key-delivery new-key" ng-class=data.colorCodeClass><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content confirmation"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <button type=button class="button green" ng-click=newKeyInit()>New Key(s)</button> <button type=button class="button blue" ng-click=duplicateKeyInit()>Duplicate Key(s)</button><div class=notice ng-if=!!reservationData.reservation_card.room_pin>EXISTING PIN: {{reservationData.reservation_card.room_pin}}</div><button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/keys/rvKeyQrcodePopup.html",'<div role=dialog id=modal class="ui-draggable modal-show qr-code-popup" data-position=bottom-right data-drag=true jqyoui-draggable={animate:true}><div class="modal-content key-delivery" ng-class=data.colorCodeClass><button ng-if=!viewFromBillScreen ng-click=closeDialog() type=button id=modal-close class=modal-close ng-class=data.colorCodeClassForClose><span class="icons icon-close"></span></button><div class=scan-key id=room-status><span ng-show="data.is_late_checkout == \'true\'" class="h2 message">{{data.reservationStatusText}}<br>{{data.late_checkout_time}}</span> <span ng-show="data.is_late_checkout == \'false\'" class="h2 message">{{data.reservationStatusText}}</span><h1 class=icon-key>{{data.user_name}}<span>{{data.room_number}}</span></h1><span class=number>{{ \'RESERVATION\' | translate }} {{data.confirmation_number}}</span></div><div class=scan-key id=key-status><span class="h2 message" translate="">SCAN_ROOM_KEY</span><div class=action><a ng-show="fromView==\'checkin\'" class="modal-close button brand-colors" ng-click=goToStaycard() translate="">VIEW_STAY_CARD</a> <a ng-show="fromView==\'checkin\'" class="modal-close button blue" ng-click=goToSearch() translate="">SEARCH</a></div><div class=qr-holder><img alt="" ng-src={{data.qr_code_image}}></div></div></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiary.html","<div ng-include=\"'/assets/partials/common/header.html'\"></div><div ng-include=\"'/assets/partials/nightlyDiary/rvNightlyDiaryTopFilterBar.html'\" include-replace=\"\"></div><div ng-include=\"'/assets/partials/common/notification_message.html'\"></div><section id=diary-nightly ng-class=\"{ 'diary-days-7': (diaryData.numberOfDays === 7), 'diary-days-21': (diaryData.numberOfDays === 21), 'with-overlay': diaryData.totalSearchResults > 0, 'with-reservation-overlay': diaryData.totalRoomNumberSearchResults > 0, 'assigning-rooms': (diaryData.isAssignRoomViewActive || diaryData.isMoveRoomViewActive), 'showing-available': diaryData.isBookRoomViewActive, 'locked': diaryData.autoAssign.showHeader }\" class=content role=main><div class=grid-timeline><div ng-include=\"'/assets/partials/nightlyDiary/rvNightlyDiaryRoomNumberSearch.html'\" include-replace=\"\"></div><div ng-include=\"'/assets/partials/nightlyDiary/rvNightlyDiaryTimeline.html'\" include-replace=\"\"></div></div><div ng-include=\"'/assets/partials/nightlyDiary/rvNightlyDiaryRoomNumberSearchResult.html'\" include-replace=\"\"></div><div id=nightlyDiaryMain class=grid-wrapper></div><div ng-include=\"'/assets/partials/nightlyDiary/rvNightlyDiaryRightFilterBar.html'\" include-replace=\"\"></div><div ng-include=\"'/assets/partials/nightlyDiary/rvNightlyDiaryUnassignedList.html'\" include-replace=\"\"></div></section>"),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryAutoAssign.html",'<div class="entry auto-assign-rooms show-assign-rooms" ng-controller=nightlyDiaryAutoAssignController><div class=data><strong>{{ diaryData.autoAssign.processDate | date: \'d LLLL yyyy\' }}</strong><div class=count-reservations><span class=count>{{selectedReservations.length}}</span> Unassigned Reservations</div></div><div class="entry show-assign-rooms assign-room-types"><div class="multi-select with-label" ng-click="showRoomTypes = !showRoomTypes" ng-class="{\'active\': showRoomTypes}"><label for=room-type>Room Type</label> <span class=value ng-if="selectedRoomTypes.length !== 0"><span>{{selectedRoomTypes.length}}</span> selected</span></div><div class=multi-select-options ng-class="{\'hidden\': !showRoomTypes}"><div class="scrollable scroll-vertical"><div class=wrapper><label class="checkbox inline" ng-repeat="roomType in diaryData.filterList.roomType" ng-class="{\'checked\':roomType.selected}" ng-click=roomTypeSelected(roomType)><span class="icon-form icon-checkbox" ng-class="{\'checked\':roomType.selected}"></span> <input name=rooomTypes[] type=checkbox ng-class="{\'checked\':roomType.selected}"> <span class=text>{{roomType.name}}</span></label></div></div></div></div><div class="entry show-assign-rooms assign-floors"><div class="multi-select with-label" ng-click="showFloors = !showFloors" ng-class="{\'active\': showFloors}"><label for=room-type>Floors</label> <span class=value ng-if="selectedFloors.length !== 0"><span>{{selectedFloors.length}}</span> selected</span></div><div class=multi-select-options ng-class="{\'hidden\': !showFloors}"><div class="scrollable scroll-vertical"><div class=wrapper><label class="checkbox inline" ng-repeat="floorList in diaryData.filterList.floorList" ng-class="{\'checked\':floorList.selected}" ng-click=floorSelected(floorList)><span class="icon-form icon-checkbox" ng-class="{\'checked\':floorList.selected}"></span> <input name=roomFloors[] type=checkbox ng-class="{\'checked\':floorList.selected}"> <span class=text>{{floorList.floor_number}}</span></label></div></div></div></div><div class=notice>ROOM PREFERENCES APPLY!</div><div class=actions><button type=button class="button blank text-white" ng-click=cancelAutoAssign()>Cancel</button> <button type=button class=button ng-click=autoAssignRooms() ng-class="{\'grey disable-element\': selectedReservations.length === 0, \'green\':selectedReservations.length !== 0}">Assign Rooms</button></div><div class=progress ng-class=diaryData.autoAssign.statusClass><div class=progress-icon></div><div class=progress-data><h3>{{diaryData.autoAssign.statusText}} ({{ diaryData.autoAssign.processDate | date: \'d LLLL yyyy\' }})</h3><div class=progress-description>{{diaryData.autoAssign.statusDescription}}</div></div><div class=progress-actions><button type=button class="button white with-icon only-icon" ng-if="diaryData.autoAssign.status === \'pending\'" ng-click=refreshAutoAssignStatus()><span class="icons icon-reset"></span></button> <button type=button class="button purple" ng-if="diaryData.autoAssign.status !== \'pending\' && diaryData.autoAssign.status !== \'\'" ng-click=unlockRoomDiary()>Unlock Diary</button></div></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryBookRoomFilter.html",'<div class="entry single-date" ng-class="{\'hidden\': !diaryData.showBookFilterPanel }"><div class=entry-date ng-click="clickedDatePicker(\'BOOK_FILTER_ARRIVAL\')"><label for=diary-nightly-arrival>Arrival Date</label> <input id=diary-nightly-arrival type=text value="{Arrival Date}" readonly=""> <span class="date arrival">{{diaryData.bookRoomViewFilter.fromDate | date: \'d MMM yyyy\'}}</span></div><div class="entry-time select"><label for=diary-nightly-arrival-time>Time</label><select id=diary-nightly-arrival-time ng-model=diaryData.bookRoomViewFilter.arrivalTime ng-change=arrivalTimeChanged()><option ng-repeat="time in diaryData.bookRoomViewFilter.arrivalTimeList" value="{{time[\'24\']}}">{{time[\'12\']}}</option></select></div></div><div class="entry single-date" ng-class="{\'hidden\': !diaryData.showBookFilterPanel }"><div class=entry-date ng-click="clickedDatePicker(\'BOOK_FILTER_DEPARTURE\')"><label for=diary-nightly-departure>Departure Date</label> <input id=diary-nightly-departure type=text readonly=""> <span class="date departure">{{diaryData.bookRoomViewFilter.toDate | date: \'d MMM yyyy\'}}</span></div><div class="entry-time select"><label for=diary-nightly-departure-time>Time</label><select id=diary-nightly-departure-time ng-model=diaryData.bookRoomViewFilter.departureTime ng-change=departureTimeChanged()><option ng-repeat="time in diaryData.bookRoomViewFilter.departureTimeList" value="{{time[\'24\']}}">{{time[\'12\']}}</option></select></div></div><div class="entry action" ng-class="{\'hidden\': !diaryData.showBookFilterPanel }"><button type=button class="button green" ng-click=clickedFindRooms()>Find Rooms</button></div>');t.put("/assets/partials/nightlyDiary/rvNightlyDiaryContinueWithBookPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert diary-assigned"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span><span class="h2 message">There are reservations with unassigned rooms.</span> <em class=text>You can still proceed, but it might be good to assign those reservations first.</em> <button type=button class="button green" ng-click=ngDialogData.callbackAction()>Continue with book</button> <button type=button class="button blank" ng-click=closeDialog()>Close Window</button></div></div>');t.put("/assets/partials/nightlyDiary/rvNightlyDiaryDatePicker.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ui-date=dateOptions ng-model=date ui-date-format=yy-mm-dd class="ngmodal-uidate-wrap ui-datepicker datepicker-position-absolute"></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryErrorMessage.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message"><span class=red>{{ngDialogData.errorMessage}}</span></span><div class=actions><button type=button class="button red" ng-click=closeDialog()>Ok</button></div></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryFilterbarSearch.html",'<div class="entry search" ng-class="{\'hidden\': diaryData.showBookFilterPanel }" ng-controller=rvNightlyDiaryFilterbarSearchController><button class=clear-query ng-class="{\'visible\': textInQueryBox.length > 0}"><span class="icons icon-clear-search" ng-click=clearResults()>Clear query</span></button> <span class=result-count ng-show="diaryData.totalSearchResults !== 0">{{diaryData.totalSearchResults}} Matches</span> <span class=result-count ng-show="(diaryData.totalSearchResults === 0 && textInQueryBox.length > 2 )">0 Matches</span> <input class=query placeholder={{getPlaceholderText()}} type=search autocomplete=off ng-change=queryEntered() ng-model=textInQueryBox><div class=diary-search ng-show="diaryData.reservationSearchResults.length > 0"><div class=list-header><span class=name>Name</span> <span class=room>Room</span> <span class=nights>Nights</span></div><div class="list scrollable scroll-vertical"><div class=wrapper><div class=guest ng-click="clickedOnResultItem(row.room_id, row.id)" ng-repeat="row in diaryData.reservationSearchResults" ng-class="{\'no-room\': escapeNull(row.room) === \'\', \'no-status\': row.reservation_status === \'RESERVED\'}"><div class=data><span ng-if="row.reservation_status !== \'RESERVED\'" class="guest-status small-icon" ng-class=getReservationClass(row.reservation_status)></span><div class=information ng-class="{\'with-card\': escapeNull(row.company)!==\'\' || escapeNull(row.travel_agent)!==\'\' || escapeNull(row.group)!==\'\' || escapeNull(row.allotment)!==\'\'}"><span class=name ng-show="escapeNull(row.lastname) !== \'\' || escapeNull(row.firstname) !== \'\'" ng-bind-html="getGuestName(escapeNull(row.firstname), escapeNull(row.lastname))| highlightWords:searchWords"></span> <span class=name ng-class="{\'pending\': escapeNull(row.lastname)=== \'\' && escapeNull(row.firstname)=== \'\'}" translate="" ng-if="escapeNull(row.lastname)=== \'\' && escapeNull(row.firstname)=== \'\'">PENDING</span> <span class="icons icon-guest-company" ng-if="escapeNull(row.company)!==\'\'" ng-bind-html=escapeNull(row.company)|highlight:textInQueryBox:false></span> <span class="icons icon-guest-travelagent" ng-if="escapeNull(row.travel_agent)!==\'\'" ng-bind-html=escapeNull(row.travel_agent)|highlight:textInQueryBox:false></span> <span class="icons icon-group" ng-if="escapeNull(row.group)!==\'\'" ng-bind-html=escapeNull(row.group)|highlight:textInQueryBox:false></span> <span class="icons icon-allotment" ng-if="escapeNull(row.allotment)!==\'\'" ng-bind-html=escapeNull(row.allotment)|highlight:textInQueryBox:false></span></div><div class=arrival ng-show="row.reservation_status === \'RESERVED\'"><span class="guest-status small-icon check-in"></span> {{ row.arrival_date }}</div></div><div class=room ng-show="escapeNull(row.room) !== \'\'">{{ row.room }}</div><div class="room pending" ng-if="escapeNull(row.room) === \'\'">N/A</div><div class=nights>{{ row.no_of_nights }}</div></div></div></div></div></div>'),
t.put("/assets/partials/nightlyDiary/rvNightlyDiaryMaxOccupancyPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content modal-vertical-centered" style="position: relative;padding: 40px;text-align: center;"><div class="centeralign alert-box"><span translate="">MAXIMUM_OCCUPANCY_LABEL</span> {{max_occupancy}}<br><a ng-click=confirm() class="btn btn-close" style="" translate="">ASSIGN_LABEL</a> <a ng-click=closeThisDialog() class="btn btn-close occupancy-cancel" style="" translate="">CANCEL_LABEL</a></div></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryMessages.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message"><span class=red ng-repeat="msg in messages">{{msg | translate}}</span></span><div class=actions><button type=button class="button red" ng-click=closeDialog()>Ok</button></div></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryNoAvailableRooms.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialogAndRefresh(ngDialogData.isRefresh)><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">{{ngDialogData.warningMessage}}</span> <button type=button class="button blank modal-close" ng-click=closeDialogAndRefresh(ngDialogData.isRefresh)>Close Window</button></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryReservationWithUnassignedRoom.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert diary-assigned"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">There are reservations with unassigned rooms.</span> <span class=notice>No additional availability exists for the selected dates / times.</span> <button type=button class="button blank" ng-click=closeDialog()>Close Window</button></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryRightFilterBar.html",'<div id=diary-nightly-filters class="diary-nightly-sidebar diary-nightly-filters" ng-controller=rvNightlyDiaryRightFilterBarController ng-class=isShowRightFilter()><div class=sidebar-header><h2>Filters</h2><p>Select filters and press "apply"</p></div><div class="filters-list scrollable scroll-vertical"><div class=wrapper><div class=entry ng-hide=diaryData.isReservationSelected><div class="multi-select with-label" ng-click="diaryData.hideRoomType = !diaryData.hideRoomType"><label for=room-type>Room Type</label> <span class=value>{{diaryData.selectedRoomCount}} selected ...</span></div><div class=multi-select-options ng-class="{\'hidden\': diaryData.hideRoomType}"><label class="checkbox inline" ng-repeat="roomType in diaryData.filterList.roomType" ng-class="{\'checked\':roomType.isSelected}" ng-click=toggleRoomSelection($index)><span class="icon-form icon-checkbox" ng-class="{\'checked\':roomType.isSelected}"></span> <input type=checkbox> <span class=text>{{roomType.name}}</span></label></div></div><div class=entry ng-hide=diaryData.isReservationSelected><div class="multi-select with-label" ng-click="diaryData.hideFloorList = !diaryData.hideFloorList"><label for=room-type>Floor</label> <span class=value>{{diaryData.selectedFloorCount}} selected ...</span></div><div class="multi-select-options halfs" ng-class="{\'hidden\': diaryData.hideFloorList}"><label class="checkbox inline" ng-repeat="floorList in diaryData.filterList.floorList" ng-class="{\'checked\':floorList.isSelected}" ng-click=toggleFloorSelection($index)><span class="icon-form icon-checkbox" ng-class="{\'checked\':floorList.isSelected}"></span> <input type=checkbox> <span class=text>{{floorList.floor_number}}</span></label></div></div><div class="entry join radio-check" ng-hide=diaryData.isReservationSelected ng-repeat="feature in diaryData.filterList.roomFeatures"><strong class=label>{{feature.group_name}}</strong> <label class=checkbox ng-repeat="item in feature.items" ng-class="{\'checked\': item.selected}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': item.selected}"></span> <input type=checkbox ng-click="setSelectionForFeature($parent.$index, $index)"> {{item.name}}</label></div><div class=entry ng-show=diaryData.isReservationSelected><div class="select with-label"><label>Floors</label><select ng-model=diaryData.roomAssignmentFilters.floorId><option value="">All Floors Selected</option><option ng-repeat="floor in diaryData.roomAssignmentFilters.floors.floor_details" value={{floor.id}}>{{floor.floor_number}}</option></select></div></div><div class="entry join radio-check" ng-show=diaryData.isReservationSelected ng-repeat="feature in diaryData.roomAssignmentFilters.room_features"><strong class=label>{{feature.group_name}}</strong> <label class=checkbox ng-repeat="item in feature.items" ng-class="{\'checked\': item.selected}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': item.selected}"></span> <input type=checkbox ng-click="setSelectionForFeature($parent.$index, $index)"> {{item.name}}</label></div></div></div><div class="actions dual-actions" ng-if=!diaryData.isReservationSelected><button ng-if=!diaryData.isReservationSelected type=button class="button blank" ng-click=clearCommonFilter()>Clear All</button> <button ng-if=!diaryData.isReservationSelected type=button class="button green" ng-click=applyCommonFilter()>Apply</button></div><div class="actions dual-actions" ng-if=diaryData.isReservationSelected><button ng-if=diaryData.isReservationSelected type=button class="button blank" ng-click=clearGuestPreferenceFilter()>Clear All</button> <button ng-if=diaryData.isReservationSelected type=button class="button green" ng-click=applyGuestPreferenceFilter()>Apply</button></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryRoomNumberSearch.html",'<div class=grid-room-search ng-controller=rvNightlyDiaryRoomNumberSearchController><button class=clear-query ng-click=clearResults() ng-class="{\'visible\': diaryData.textInQueryBox.length>0}"><span class="icons icon-clear-search">Clear query</span></button><input type=search placeholder="Go to Room No." ng-change=queryEntered() ng-model=diaryData.textInQueryBox></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryRoomNumberSearchResult.html",'<div class="grid-room-search-results scroll-vertical" ng-show=diaryData.showSearchResultsArea ng-class="{\'visible\': diaryData.showSearchResultsArea}" ng-controller=rvNightlyDiaryRoomNumberSearchResultController><div class=wrapper><div class=room ng-repeat="row in diaryData.roomNumberSearchResults" ng-click=gotoSelectedRoom(row)><span ng-class=\'(row.service_status === "IN_SERVICE") ? "room-number "+row.hk_status : "room-number out"\' ng-bind-html="row.room_no | highlight:diaryData.textInQueryBox:false"></span> <span class=room-type>{{row.room_type_name}}</span></div></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiarySetTimePopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert form diary-times"><button id=modal-close type=button class=modal-close ng-click=closeSetTimePopup()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span><span class="h2 message">Day use reservation occupies this room.</span> <em class=text>Pick arrival/departure times for this reservation.</em><div class=fields><div class="entry margin"><label for=arrival>Arrival Time</label><div class=select><select ng-class="{\'placeholder\': setTimePopupData.selectedArrivalTime === \'\'}" ng-model=setTimePopupData.selectedArrivalTime><option value="">Set Arrival Time</option><option ng-repeat="time in setTimePopupData.arrivalTimeList" value="{{time[\'24\']}}">{{time[\'12\']}}</option></select></div></div><div class=entry><label for=departure>Departure Time</label><div class=select><select ng-class="{\'placeholder\': setTimePopupData.selectedDepartureTime === \'\'}" ng-model=setTimePopupData.selectedDepartureTime><option value="">Set Departure Time</option><option ng-repeat="time in setTimePopupData.departureTimeList" value="{{time[\'24\']}}">{{time[\'12\']}}</option></select></div></div></div><div class=actions><button type=button class="button green" ng-class="{\'grey disable-element\': setTimePopupData.selectedArrivalTime === \'\' || setTimePopupData.selectedDepartureTime === \'\'}" ng-click=saveAndContinueClicked()>Save & Continue</button> <button type=button class="button blank" ng-click=closeSetTimePopup()>Cancel</button></div></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiarySuiteRooms.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert diary-assigned"><button id=modal-close type=button class=modal-close ng-click=closeDialogAndRefresh()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Suite Room Type Assigned</span> <em class=text>Please navigate to staycard for assigning the room</em> <button type=button class="button grey green modal-close hidden">Go to Room Assignment</button> <button type=button class="button blank modal-close" ng-click=closeDialogAndRefresh()>Close Window</button></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryTimeline.html",'<div class=grid-dates ng-show="diaryData.numberOfDays === 7"><div class=day ng-repeat="item in diaryData.datesGridData | limitTo: 7" ng-class="{ \'today\':(item.date === diaryData.businessDate ) , \'weekend\': item.isWeekend, \'no-radius\': diaryData.eventsCount[item.date] > 0 }" ng-click="showHouseEventsListPopup(diaryData.eventsCount[item.date], item.date)"><div data-events={{diaryData.eventsCount[item.date]}} class="has-event-block no-radius" ng-if="diaryData.eventsCount[item.date] > 0"><span>{{ item.date | date: \'EEEE\' }}</span> <strong>{{ item.date | date: \'MMMM dd\' }}</strong></div><span ng-if="!diaryData.eventsCount[item.date] || diaryData.eventsCount[item.date] <= 0">{{ item.date | date: \'EEEE\' }}</span> <strong ng-if="!diaryData.eventsCount[item.date] || diaryData.eventsCount[item.date] <= 0">{{ item.date | date: \'MMMM dd\' }}</strong></div></div><div class=grid-dates ng-show="diaryData.numberOfDays === 21"><div class=month ng-show=!diaryData.hasMultipleMonth><strong>{{ diaryData.fromDate | date: \'MMMM yyyy\' }}</strong><div class=days><span ng-repeat="item in diaryData.datesGridData" class=day data-events={{diaryData.eventsCount[item.date]}} ng-class="{ \'today\':(item.date === diaryData.businessDate ) , \'weekend\': item.isWeekend, \'has-event-block diary-month-day-events\': diaryData.eventsCount[item.date] > 0 }" ng-click="showHouseEventsListPopup(diaryData.eventsCount[item.date], item.date)">{{ item.date | date: \'dd\' }}<div class=event-block-count ng-if="diaryData.eventsCount[item.date] > 0">{{diaryData.eventsCount[item.date]}}</div></span></div></div><div class="month first" ng-show=diaryData.hasMultipleMonth><strong ng-if="diaryData.firstMonthDateList.length > 2">{{ diaryData.fromDate | date: \'MMMM yyyy\' }}</strong> <strong ng-if="diaryData.firstMonthDateList.length <= 2"></strong><div class=days><span ng-repeat="item in diaryData.firstMonthDateList" class=day data-events={{diaryData.eventsCount[item.date]}} ng-class="{ \'today\':(item.date === diaryData.businessDate ) , \'weekend\': item.isWeekend, \'has-event-block diary-month-day-events\': diaryData.eventsCount[item.date] > 0 }" ng-click="showHouseEventsListPopup(diaryData.eventsCount[item.date], item.date)">{{ item.date | date: \'dd\' }}<div class=event-block-count ng-if="diaryData.eventsCount[item.date] > 0">{{diaryData.eventsCount[item.date]}}</div></span></div></div><div class="month last" ng-show=diaryData.hasMultipleMonth><strong ng-if="diaryData.secondMonthDateList.length > 2">{{ diaryData.toDate | date: \'MMMM yyyy\' }}</strong> <strong ng-if="diaryData.secondMonthDateList.length <= 2"></strong><div class=days><span ng-repeat="item in diaryData.secondMonthDateList" class=day data-events={{diaryData.eventsCount[item.date]}} ng-class="{ \'today\':(item.date === diaryData.businessDate ) , \'weekend\': item.isWeekend, \'has-event-block diary-month-day-events\': diaryData.eventsCount[item.date] > 0 }" ng-click="showHouseEventsListPopup(diaryData.eventsCount[item.date], item.date)">{{ item.date | date: \'dd\' }}<div class=event-block-count ng-if="diaryData.eventsCount[item.date] > 0">{{diaryData.eventsCount[item.date]}}</div></span></div></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryTopEditBar.html",'<div class="entry edit show-editing" ng-controller=rvNightlyDiaryTopEditBarController><div class=guest><figure class=guest-image><img src={{currentSelectedReservation.guest_details.image}} alt=Guest-Image></figure><div class=guest-info><h2 class=name>{{currentSelectedReservation.guest_details.full_name}}</h2><span class=room>{{currentSelectedReservation.room_type_name}}</span></div><button type=button class="button orange" ng-click="goToStayCard(currentSelectedReservation, currentSelectedRoom)">Stay Card</button></div><div class=actions><button type=button class="button blank" ng-click=cancelEditReservation() ng-if=!diaryData.isMoveRoomViewActive>Cancel</button> <button type=button class="button blank show-unassigned" ng-click=cancelEditUnassignedReservation() ng-if="diaryData.isReservationSelected && !diaryData.isMoveRoomViewActive">Cancel</button> <button type=button class="button purple" ng-click=moveRoomButtonClick() ng-hide="diaryData.hideMoveButton || diaryData.isMoveRoomViewActive || diaryData.showSaveChangeButtonAfterShortenOrExtent.show || diaryData.isReservationSelected">Move Room</button> <button type=button class="button blank show-unassigned" ng-click=cancelMoveRoomButtonClick() ng-if=diaryData.isMoveRoomViewActive>Cancel Move Room</button><button type=button class="button white red-text" ng-if=!diaryData.showSaveChangeButtonAfterShortenOrExtent.show ng-hide="diaryData.isMoveRoomViewActive || diaryData.hideUnassignRoomButton || diaryData.isReservationSelected" ng-click=unAssignRoomButtonClick()>Unassign Room</button> <button type=button class="button green" ng-click=saveEditedReservation() ng-if=diaryData.showSaveChangeButtonAfterShortenOrExtent.show ng-hide=diaryData.isMoveRoomViewActive>Save Changes</button></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryTopFilterBar.html",'<div class=diary-header-nightly ng-controller=rvNightlyDiaryTopFilterBarController ng-class="{ \'editing\': diaryData.isEditReservationMode, \'unassigned\': diaryData.isReservationSelected, \'auto-assigning-rooms\': diaryData.autoAssign.showHeader, \'with-progress\': diaryData.autoAssign.isLocked }"><div class="entry switch switch-view" ng-hide=hideToggleMenu()><div class=switch-button ng-class="{\'on\': toggleHourlyNightly}"><input ng-click=navigateToHourlyDiary() id=diary-hours-days type=checkbox> <label class=data-off><span class=value>D</span> <span class=switch-icon>N</span></label> <label class=data-on><span class=switch-icon>D</span> <span class=value>N</span></label></div></div><div class="entry switch switch-view"><div class=switch-button ng-class="{\'on\' : diaryData.numberOfDays === 7 }" ng-click=toggleSwitchMode()><input value="" type=checkbox checked=""> <label class=data-off><span class=value>7</span> <span class=switch-icon>21</span></label> <label class=data-on><span class=switch-icon>7</span> <span class=value>21</span></label></div></div><div class="entry switch switch-available" ng-click=toggleBookedOrAvailable() ng-class="{\'overlay\': disableAvlToggle() }"><div class=switch-button ng-class="{\'on\' : !diaryData.showBookFilterPanel }"><input id=diary-availability type=checkbox checked=""> <label class=data-off><span class=value>View</span> <span class=switch-icon>Book</span></label> <label class=data-on><span class=switch-icon>View</span> <span class=value>Book</span></label></div></div><div class="entry date" ng-hide=diaryData.showBookFilterPanel><button type=button class="button white with-icon only-icon" ng-class="{\'overlay\': disableLeftDateShift() }" ng-click=clickedDateLeftShift()><span class="icons icon-double-arrow black"></span></button><div class=entry-data ng-click="clickedDatePicker(\'MAIN_FILTER\')"><input type=text class=datepicker readonly=""> <span class=date-range>{{ diaryData.fromDate | date: \'d MMM\' }} - {{ diaryData.toDate | date: \'d MMM yyyy\' }}</span></div><button type=button class="button white with-icon only-icon" ng-click=clickedDateRightShift()><span class="icons icon-double-arrow black rotate-right"></span></button></div><div ng-include="\'/assets/partials/nightlyDiary/rvNightlyDiaryFilterbarSearch.html\'" include-replace=""></div><div ng-include="\'/assets/partials/nightlyDiary/rvNightlyDiaryBookRoomFilter.html\'" include-replace=""></div><div ng-include="\'/assets/partials/nightlyDiary/rvNightlyDiaryTopEditBar.html\'" include-replace=""></div><div ng-include="\'/assets/partials/nightlyDiary/rvNightlyDiaryAutoAssign.html\'" include-replace=""></div><div class="entry filters" ng-class="{\'show-one\': diaryData.showBookFilterPanel }"><button type=button class="button white with-icon only-icon" ng-class="{\'active\' : checkForUnassignedResActiveClass(), \'hidden\': diaryData.showBookFilterPanel, \'show-unassigned\': (diaryData.isReservationSelected && !diaryData.isMoveRoomViewActive)}" ng-click="toggleFilter(\'UNASSIGNED_RESERVATION\')"><span class=count>{{diaryData.unassignedReservationList.reservations.length}}</span> <span class="icons icon-filter-room" ng-class="{\'active\': checkForUnassignedResActiveClass() }"></span></button> <button type=button class="button white with-icon only-icon" ng-class="{\'active\' : checkForResFilterActiveClass(), \'show-unassigned\': (diaryData.isReservationSelected && !diaryData.isMoveRoomViewActive)}" ng-click="toggleFilter(\'RESERVATION_FILTER\')"><span class=count ng-if=!diaryData.isReservationSelected>{{diaryData.selectedRoomCount + diaryData.selectedFloorCount + diaryData.selectedRoomFeaturesCount}}</span> <span class=count ng-if=diaryData.isReservationSelected>{{diaryData.roomAssignmentFilters.count}}</span> <span class="icons icon-filter" ng-class="{\'active\': checkForResFilterActiveClass() }"></span></button><button type=button class="button white with-icon only-icon" ng-click=clickedResetButton()><span class="icons icon-reset"></span></button></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryUnassignedList.html",'<div ng-controller=rvNightlyDiaryUnassignedListController class="diary-nightly-sidebar diary-unassigned diary-nightly-unassigned" ng-class=isShowUnassignedList()><div class=diary-nightly-search-form><div class="entry date"><button type=button class="button white with-icon only-icon" ng-class="{\'overlay\': (diaryData.arrivalDate <= diaryData.fromDate || diaryData.arrivalDate <= businessDate)}" ng-click=clickedDateLeftShift()><span class="icons icon-double-arrow black"></span></button><div class=entry-data ng-click=clickedDatePicker()><input id=diary-nightly-arrival type=text readonly="" class=hasDatepicker> <span class=label>Arrival Date</span> <span class=date-range>{{ diaryData.arrivalDate | date: \'d LLLL yyyy\' }}</span></div><button type=button class="button white with-icon only-icon" ng-class="{\'overlay\': diaryData.arrivalDate >= diaryData.toDate }" ng-click=clickedDateRightShift()><span class="icons icon-double-arrow black rotate-right"></span></button></div><div class="entry search"><button class=clear-query ng-click=clearQuery() ng-class="{\'visible\': searchQuery.length > 0}"><span class="icons icon-clear-search">Clear query</span></button> <span class=result-count ng-show="searchQuery.length > 0">{{diaryData.unassignedReservationList.reservations.length}} Matches</span><input ng-model=searchQuery ng-change=searchUnassignedList() class=query placeholder="Search by Guest Name or Conf. No." type=search autocomplete=off></div></div><div class=sidebar-header><h2>Unassigned Reservations</h2><p>Select reservation to assign a room</p></div><div class="unassigned-list with-date scrollable scroll-vertical"><div class=no-content ng-show="diaryData.unassignedReservationList.reservations.length === 0"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No reservations found</strong></div></div><div class=wrapper ng-show="diaryData.unassignedReservationList.reservations.length !== 0"><div class="guest {{reservation.statusClass}}" ng-class="{\'selected\': diaryData.selectedUnassignedReservation.reservation_id === reservation.reservation_id, \'blocked disable-element\': reservation.is_hourly }" ng-repeat="reservation in diaryData.unassignedReservationList.reservations" ng-click=clickedUnassignedItem($index)><div class=data><strong class=name ng-bind-html="reservation.fullName | highlight:searchQuery:false"></strong> <strong class=name ng-if="escapeNull(reservation.fullName) == \'\'" translate="">PENDING</strong> <span ng-if=reservation.is_vip class=vip>VIP</span> <span class=guest-room>Conf. <strong ng-bind-html="reservation.confirm_no | highlight:searchQuery:false"></strong></span> <span class=guest-room>{{reservation.room_type_name}}</span></div><div class=type ng-if=reservation.is_hourly>D</div><div class=nights ng-if=reservation.is_hourly>{{reservation.total_hours}} HOURS<span>{{reservation.arrival_time}}</span></div><div class=type ng-if=!reservation.is_hourly>N</div><div class=nights ng-if=!reservation.is_hourly>{{reservation.no_of_nights}} NIGHTS</div></div></div></div><div id=unassignedActions class=unassigned-actions ng-if=enableAutoAssign()><button type=button class="button orange" ng-click=initiateAutoAssign() ng-class="{\'grey disable-element\': diaryData.isEditReservationMode}">Auto Assign Rooms</button></div></div>'),t.put("/assets/partials/nightlyDiary/rvNightlyDiaryValidateStayChanges.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content diary-change-stay"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">Extend Stay Failed!</span> <span class="stay-info-text hidden">From</span><div class="stay-info from hidden"><div class=stay-nights><span class="guest-status nights"></span> {nights} Nights</div><div class=arrival><span class="guest-status check-in"></span> {Arrival Day} {Arrival Date}</div><div class=departure><span class="guest-status check-out"></span> {Departure Day} {Departure Date}</div></div><span class="stay-info-text hidden">To</span><div class="stay-info hidden"><div class=stay-nights><span class="guest-status nights"></span> {nights} Nights</div><div class=arrival><span class="guest-status check-in"></span> {Arrival Day} {Arrival Date}</div><div class=departure><span class="guest-status check-out"></span> {Departure Day} {Departure Date}</div></div><div class=stay-change-status><h3 class=red>{{popupData.message}}</h3><p ng-if="popupData.showOverBookingButton && popupData.diaryMode !== \'FULL\'">Overbook or Try different dates</p><button ng-if="popupData.showOverBookingButton && popupData.diaryMode !== \'FULL\'" ng-class="{\'grey overlay\': popupData.disableOverBookingButton, \'blue\': !popupData.disableOverBookingButton }" type=button class=button ng-click=clickedOverBookButton()>Overbook</button></div><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close Window</button></div></div></div>'),t.put("/assets/partials/overBooking/rvAddOverBookingPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form overbooking new-overbooking" ng-class="{\'showing-rooms\': addOverBookingObj.applyForRoomTypes }"><button id=modal-close ng-click=closeDialog() type=button class=modal-close><span class="icons icon-close invert"></span></button><fieldset class=overbooking-rooms ng-show=addOverBookingObj.applyForRoomTypes><h3 translate="">APPLY_TO_ROOM_TYPES</h3><div class=scrollable ng-iscroll=roomTypeFilterList ng-iscroll-delay=500><div class=wrapper><div class=row ng-click=clickedRoomTypeCheckbox($index) ng-repeat="item in addOverBookingObj.roomTypeList track by $index"><label class="checkbox inline" ng-class="{\'checked\': item.isChecked}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': item.isChecked}"></span> <input type=checkbox> {{item.name}}</label></div></div></div></fieldset><fieldset class=overbooking-limit><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message" translate="">ADD_SELL_LIMITS</strong> <em class="text warning" translate="">OVERBOOKING_WARN_MSG</em><div ng-click="showDatePicker(\'FROM\')" class="entry margin has-datepicker"><label for=start-date translate="">FROM</label> <input id=start-date type=text class=datepicker value="{{addOverBookingObj.fromDate | date:dateFormat}}" readonly=""></div><div ng-click="showDatePicker(\'TO\')" class="entry has-datepicker"><label for=end-date translate="">TO</label> <input id=end-date type=text class=datepicker value="{{addOverBookingObj.toDate | date:dateFormat}}" readonly=""></div><div class="entry full-width"><label translate="">EVERY</label><div class=limit-days><label class=checkbox ng-click=clickedWeekDay($index) ng-repeat="day in addOverBookingObj.weekDayList" ng-class="{\'checked\': day.isChecked}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': day.isChecked}"></span> <input type=checkbox> {{day.name}}</label></div></div><div class="entry full-width break"><label translate="">APPLY_FOR</label><div class=limit-apply><label for=apply-house class=checkbox ng-class="{\'checked\': addOverBookingObj.applyForHouse}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': addOverBookingObj.applyForHouse}"></span> <input ng-click=clickedApplyForHouse() id=apply-house type=checkbox checked=""> {{\'HOUSE\' | translate}}</label><label for=apply-room-type class=checkbox ng-class="{\'checked\': addOverBookingObj.applyForRoomTypes}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': addOverBookingObj.applyForRoomTypes}"></span> <input ng-click=clickedApplyForRoomTypes() id=apply-room-type type=checkbox> {{\'ROOM_TYPE_S\' | translate}}</label></div></div><div class="entry full-width entry-limit"><div class=limit-input><label class=switch-label for=limit-value translate="">LIMIT</label><div class="switch-button overlay hidden"><input id=limit-type type=checkbox><label class=data-off><span class=switch-icon translate="">RMS</span> <span class=value>%</span></label> <label class=data-on><span class=value translate="">RMS</span> <span class=switch-icon>%</span></label></div><input ng-model=addOverBookingObj.limitValue type=number id=limit-value></div></div><div class=actions><button ng-click=addOverBookingApiCall() type=button class="button green" translate="">ADD_LIMIT</button> <button ng-click=closeDialog() type=button class="button blank" translate="">CANCEL</button></div></fieldset></div></div>'),t.put("/assets/partials/overBooking/rvEditOverBookingPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form overbooking"><button id=modal-close ng-click=closeDialog() type=button class=modal-close><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message">{{overBookingObj.editData.date | date:fulldayInWeek}} , {{overBookingObj.editData.date | date:shortMonthAndDate}}</strong> <em class="text warning" translate="">OVERBOOKING_WARN_MSG_EDIT</em> <em class="text warning" ng-if="overBookingObj.editData.type == \'HOUSE\'" translate="">HOUSE_LIMIT</em> <em class="text warning" ng-if="overBookingObj.editData.type == \'ROOM_TYPE\'">{{overBookingObj.editData.roomTypeName}}</em><div class="entry full-width entry-limit"><div class=limit-input><label class=switch-label for=limit-value ng-if="overBookingObj.editData.type == \'HOUSE\'" translate="">HOUSE_LIMIT</label> <label class=switch-label for=limit-value ng-if="overBookingObj.editData.type == \'ROOM_TYPE\'" translate="">ROOM_TYPE_VALUE</label><div class="switch-button overlay hidden"><input id=limit-type type=checkbox><label class=data-off><span class=switch-icon translate="">RMS</span> <span class=value>%</span></label> <label class=data-on><span class=value translate="">RMS</span> <span class=switch-icon>%</span></label></div><input type=number ng-model=overBookingObj.editData.limitValue id=limit-value></div></div><div class=actions><button type=button ng-click=editOverBookingApiCall() class="button green" translate="">SET_LIMT</button> <button type=button ng-click=closeDialog() class="button blank" translate="">CANCEL</button></div></div></div>'),t.put("/assets/partials/overBooking/rvOverBookingDatePicker.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ui-date=dateOptions ng-model=date ui-date-format=yy-mm-dd class="ngmodal-uidate-wrap ui-datepicker datepicker-position-absolute"></div></div>'),t.put("/assets/partials/overBooking/rvOverBookingGrid.html",'<div class="overbooking-grid scrollable" ng-iscroll=overBookingGridScroll ng-iscroll-delay=500 ng-show="overBookingObj.overBookingGridData.roomTypeSellLimits.length > 0"><div class=wrapper><div class=row ng-repeat="($indexOne, row) in overBookingObj.overBookingGridData.roomTypeSellLimits track by $index"><div class=cell ng-click="clickedEditOverBookingCell(\'ROOM_TYPE\', $indexOne, $indexTwo)" ng-repeat="($indexTwo, cell) in row.overbooking_details track by $index" ng-class="{\'weekend\': overBookingObj.overBookingGridData.dateRangeList[$index].isWeekend}"><span ng-show=overBookingObj.isShowRoomsLeftToSell class=rooms ng-class="{\'unavailable\':cell.left_to_sell < 3 }">{{cell.left_to_sell}}</span> <span class=limit>{{cell.sell_limit}}</span></div></div></div></div>'),t.put("/assets/partials/overBooking/rvOverBookingHeader.html",'<div class=overbooking-header ng-controller=RvOverBookingHeaderCtrl><div class="entry date"><button ng-click=clickedPrevDateButton() ng-class="{\'overlay\': disablePrevDateButton() }" type=button class="button with-icon only-icon"><span class="icons icon-double-arrow black"></span></button><div ng-click=showDatePicker() class=entry-data><input type=text class=datepicker value="{Start Date}" readonly=""> <span class=date-range>{{overBookingObj.startDate|date:\'dd MMM\'}} - {{overBookingObj.endDate|date:\'dd MMM yyyy\'}}</span></div><button ng-click=clickedNextDateButton() type=button class="button with-icon only-icon"><span class="icons icon-double-arrow black rotate-right"></span></button></div><div ng-click=clickedShowRoomsLeftTosell() class=entry><label class=checkbox ng-class="{\'checked\':overBookingObj.isShowRoomsLeftToSell}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':overBookingObj.isShowRoomsLeftToSell}"></span> <input type=checkbox> {{ \'SHOW_ROOMS_LEFT_TO_SELL\' | translate }}</label></div><div class="entry room-type"><div class=multi-select ng-class="{\'active\': overBookingObj.isShowRoomTypeFilter }" ng-click=toggleRoomTypeFilter()><label translate="">ROOM_TYPE_S</label> <span class=value>{{showRoomTypeSelectionStatus()}}</span></div><div class="multi-select-options scrollable" ng-show=overBookingObj.isShowRoomTypeFilter ng-iscroll=roomTypeFilterList ng-iscroll-delay=500><div class=wrapper><label class="checkbox inline" ng-repeat="item in overBookingObj.roomTypeList track by $index" ng-class="{\'checked\': item.isChecked}" ng-click=clickedRoomTypeCheckbox($index)><span class="icon-form icon-checkbox" ng-class="{\'checked\': item.isChecked}"></span> <input type=checkbox ng-checked=item.isChecked> {{item.name}}</label></div></div></div><div class=actions><button type=button class="button blue with-icon only-icon" ng-click=clickedPrintButton()><span class="icons icon-print"></span></button> <button ng-click=clickedAddOverBookingButton() type=button class="button green" translate="">ADD_SELL_LIMITS</button></div></div>'),
t.put("/assets/partials/overBooking/rvOverBookingLeftSection.html",'<div class=overbooking-rooms><div class=overbooking-timeline><strong ng-if=overBookingObj.isShowRoomsLeftToSell class=label translate="">HOUSE_ROOMS_AND_LIMIT</strong> <strong ng-if=!overBookingObj.isShowRoomsLeftToSell class=label translate="">HOUSE_LIMIT</strong></div><div class="overbooking-grid scrollable" ng-iscroll=overBookingLeftSectionScroll><div class=wrapper><div ng-repeat="roomTypeName in overBookingObj.overBookingGridData.selectedRoomTypeNameList" class=row>{{roomTypeName}}</div></div></div></div>'),t.put("/assets/partials/overBooking/rvOverBookingMain.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-include="\'/assets/partials/overBooking/rvOverBookingHeader.html\'" include-replace=""></div><section class=overbooking-content ng-class="{\'showing-rooms\': overBookingObj.isShowRoomsLeftToSell}"><div ng-include="\'/assets/partials/overBooking/rvOverBookingLeftSection.html\'" include-replace=""></div><div class=overbooking-limits><div ng-include="\'/assets/partials/overBooking/rvOverBookingTimelineAndHouseLimit.html\'" include-replace=""></div><div ng-include="\'/assets/partials/overBooking/rvOverBookingGrid.html\'" include-replace=""></div><div class="overbooking-grid no-content" ng-if="overBookingObj.overBookingGridData.roomTypeSellLimits.length == 0"><div class=info><span class="icon-no-content icon-room"></span> <strong class=h1 translate="">NO_ROOM_TYPES</strong> <span class=h2 translate="">MESSAGE_NOT_SELECTED_ANY_ROOM_TYPES</span></div></div></div></section>'),t.put("/assets/partials/overBooking/rvOverBookingTimelineAndHouseLimit.html",'<div class="overbooking-timeline scrollable" ng-iscroll=overBookingDateScroll ng-iscroll-delay=500><div class=wrapper><div class=row><div ng-repeat="eachDate in overBookingObj.overBookingGridData.dateRangeList track by $index" ng-class="{\'weekend\': eachDate.isWeekend}" class="cell day"><span>{{eachDate.date|date:dayInWeek}}</span> <strong>{{eachDate.date|date:shortMonthAndDate}}</strong></div></div><div class=row><div class=cell ng-click="clickedEditOverBookingCell( \'HOUSE\', $index)" ng-repeat="cell in overBookingObj.overBookingGridData.houseSellLimits track by $index" ng-class="{\'weekend\': overBookingObj.overBookingGridData.dateRangeList[$index].isWeekend}"><span ng-if=overBookingObj.isShowRoomsLeftToSell class=rooms ng-class="{\'unavailable\':cell.left_to_sell < 3 }">{{cell.left_to_sell}}</span> <span class=limit>{{cell.sell_limit}}</span></div></div></div></div>'),t.put("/assets/partials/packages/showPackages.html",'<div role=dialog id=modal class="modal-show inline-modal" ng-class="{\'modal-show\': !modalClosing}" ng-click=clearErrorMessage() ng-cloak=""><div class="modal-content form room-enhancements" ng-class="{\'customization-disabled\': !showCustomPosting(), \'show-right-content\': showRightContentForMobile}"><button id=modal-close type=button class=modal-close ng-click=closePopup()><span class="icons icon-close invert"></span></button><div class=content-left><h2 class="message h2" ng-if=!showCustomPosting()>Room Enhancements</h2><div class=scrollable ng-class="{\'with-two-actions\': shouldShowAddMoreButton()}" ng-iscroll=resultDetails ng-iscroll-delay=50><ul class=wrapper><li class=block-item ng-repeat="addon in packageData.existing_packages" ng-click=selectPurchasedAddon(addon) ng-class="{\'item-active\': addon.name === selectedPurchesedAddon.name}"><div class=data><h3 class=enhancement-name ng-class="{\'small\': addon.name.length > 25, \'tiny\': addon.name.length > 50}">{{ addon.name }} <small ng-hide=shouldHideCount(addon)>({{getAddonCount(addon)}})</small></h3><span class=enhancement-desc ng-hide="addon.is_rate_addon && addon.is_inclusive">at <span ng-bind-html="addon.amount | sntCurrency:this:addon.addon_currency"></span> / {{addon.amount_type.description}} {{addon.post_type.description}}</span> <span class=enhancement-desc ng-show=addon.is_inclusive>INCL</span></div><span class=price ng-hide="addon.is_rate_addon && addon.is_inclusive"><span ng-bind-html="getAddonTotal(addon) | sntCurrency:this:addon.addon_currency"></span></span><span class=delete ng-hide="addon.is_rate_addon || addon.is_inclusive" ng-click="removeChosenAddons($event, $index, addon)"><span class="icons icon-remove-10"></span></span></li></ul></div><div ng-show=!showCustomPosting() class=actions><button ng-if=shouldShowAddMoreButton() type=button class="button orange" ng-click=goToAddons()>Add More to This Room</button> <button type=button class="button blank" ng-click=closeAddOnPopup()>Close Window</button></div></div><div class=content-right ng-class="{\'hidden\': !showCustomPosting()}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=content-initial ng-hide=selectedPurchesedAddon><div class=no-content><div class=info><span class="icon-no-content icon-layers"></span><strong class=h1>Add Ons for {{currentHotelData.name}}</strong> <span class=h2>Select add on to set dates/days of week</span></div></div><div class=actions><button type=button class="button orange" ng-click=goToAddons()>Add More to This Room</button> <button type=button class="button blank" ng-click=closeAddOnPopup()>Close Window</button></div></div><div class=content-dates ng-show=selectedPurchesedAddon ng-class="{\'hide-on-mobile\': !showRightContentForMobile}"><div class=scrollable><div class=wrapper><span class="h2 message" ng-if=selectedPurchesedAddon.name>{{selectedPurchesedAddon.name | limitTo: selectedPurchesedAddon.nameCharLimit}}{{selectedPurchesedAddon.name.length > 23 ? \'...\': \'\'}}</span><span class=text ng-if="selectedPurchesedAddon.amount && selectedPurchesedAddon.amount_type && selectedPurchesedAddon.post_type">at <span ng-bind-html="selectedPurchesedAddon.amount | sntCurrency:this:selectedPurchesedAddon.addon_currency"></span> / {{selectedPurchesedAddon.amount_type.description}} {{selectedPurchesedAddon.post_type.description}}</span> <span class=text ng-if="selectedPurchesedAddon.post_day_of_the_week && selectedPurchesedAddon.post_type.value !== \'CUSTOM\' && selectedPurchesedAddon.post_type.value !== \'NIGHT\' && selectedPurchesedAddon.post_type.value !== \'LAST_NIGHT\'">Post day - {{selectedPurchesedAddon.post_day_of_the_week}}</span> <span class=text ng-if="selectedPurchesedAddon.post_type.value === \'CUSTOM\'">{{ getCustomPostingInfo() }}</span><div class=content-entries ng-class="{\'hidden\': selectedPurchesedAddon.post_type.value !== \'STAY\'}"><div class="entry margin"><label>From</label><div class=has-datepicker ng-click="clickedOnDatePicker(\'start_date\')"><input placeholder="Select Date" class=hasDatepicker readonly=yes type=text ng-model=selectedPurchesedAddon.start_date> <button type=button class=ui-datepicker-trigger>...</button></div></div><div class=entry><label>To</label><div class=has-datepicker ng-click="clickedOnDatePicker(\'end_date\')"><input placeholder="Select Date" class=hasDatepicker readonly=yes type=text ng-model=selectedPurchesedAddon.end_date> <button type=button class=ui-datepicker-trigger>...</button></div></div></div><div class=content-entries><div class="entry full-width" ng-class="{\'hidden\': selectedPurchesedAddon.post_type.value !== \'STAY\'}"><label>For Every</label><ul class="entry-days float"><li ng-repeat="day in daysOfWeek"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': selectedPurchesedAddon.selected_post_days[day]}"></span><input ng-model=selectedPurchesedAddon.selected_post_days[day] type=checkbox ng-disabled=!selectedPurchesedAddon.adminConfiguredDays[day]> {{day | limitTo : 3}}</label></li><li><button ng-show=shouldShowSelectAllDaysOfWeek() ng-click=togglePostDaysSelectionForAddon(true)>Select All</button> <button ng-show=shouldShowSelectNoDaysOfWeek() ng-click=togglePostDaysSelectionForAddon(false)>Select None</button></li></ul></div></div></div></div><div class="actions inline"><button class="button blank hide-on-mobile" ng-click=setDeafultDisplay()>{{addonPopUpData.cancelLabel}}</button> <button class="button green" ng-disabled="selectedPurchesedAddon.post_type.value !== \'STAY\'" ng-class="{\'green\': selectedPurchesedAddon.post_type.value === \'STAY\', \'grey\': selectedPurchesedAddon.post_type.value !== \'STAY\'}" ng-click=proceedBooking()>{{addonPopUpData.saveLabel}}</button><button class="button blank hide-on-desktop" ng-click=goBackToAddonsList()>{{addonPopUpData.cancelLabel}}</button></div></div></div></div></div>'),t.put("/assets/partials/pay/rvPaymentModal.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-click=clearErrorMessage() ng-cloak=""><form ng-show=!shouldShowWaiting method=post action=pay-bill id=pay-bill name=pay-bill class="modal-content form pay-bill" ng-class="{\'has-card\':showCreditCardInfo && !showCCPage && saveData.paymentType ===\'CC\',\'select-card\':showCCPage}"><button id=modal-close type=button class=modal-close ng-click=handleCloseDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message">{{\'PAY_BILL\' | translate}}<div class=select><select convert-to-number="" name=post-charge-to-bill ng-model=renderData.billNumberSelected ng-change=billNumberChanged()><option ng-repeat="bills in billsArray" value={{bills.bill_number}} ng-selected="{{bills.bill_number == renderData.billNumberSelected}}">{{bills.bill_number}}</option></select></div></strong> <span ng-hide="saveData.paymentType === \'GIFT_CARD\'" ng-show="saveData.paymentType !== \'GIFT_CARD\'" class=text>Or enter negative amount to make a refund</span> <span ng-show="saveData.paymentType === \'GIFT_CARD\'" ng-hide="saveData.paymentType !== \'GIFT_CARD\'" class=text>No Refunds available for Gift Cards</span><div ng-show="messageOfSuccessSplitPayment!=\'\' && splitBillEnabled" ng-class="{notice: messageOfSuccessSplitPayment!=\'\'}" class="success success_message"><span ng-bind-html=messageOfSuccessSplitPayment></span></div><div ng-show="paymentErrorMessage!=\'\' && splitBillEnabled" ng-class="{notice: paymentErrorMessage!=\'\'}" class="error error_message" ng-switch="" on=paymentErrorMessage.length ng-click=clearPaymentErrorMessage()><span class=close-btn ng-click=clearPaymentErrorMessage()></span> <span ng-bind-html=paymentErrorMessage></span></div><div class=payment-form><div class="entry split" ng-class="{active: splitBillEnabled }" ng-hide="depositPaidSuccesFully || saveData.paymentType === \'GIFT_CARD\' || !isStandAlone" ng-if=false><label class="checkbox inline" ng-class="{checked: splitBillEnabled }"><span class="icon-form icon-checkbox" ng-class="{checked: splitBillEnabled }"></span> <input id=enable-split value=1 type=checkbox ng-click=resetSplitPaymentDetail()> Split Bill Payment</label> <label class=only-number ng-class=classForPaymentSplitButton(1) ng-click=spliteButtonClicked(1)><input name=split-bill value=1 type=checkbox checked=""> 1</label> <label class=only-number ng-click=spliteButtonClicked(2) ng-class=classForPaymentSplitButton(2)><input name=split-bill value=2 type=checkbox>2</label> <label class=only-number ng-click=spliteButtonClicked(3) ng-class=classForPaymentSplitButton(3)><input name=split-bill value=3 type=checkbox> 3</label> <label class=only-number ng-click=spliteButtonClicked(4) ng-class=classForPaymentSplitButton(4)><input name=split-bill value=4 type=checkbox> 4</label> <label class=only-number ng-click=spliteButtonClicked(5) ng-class=classForPaymentSplitButton(5)><input name=split-bill value=5 type=checkbox> 5</label></div><div ng-init="isPaymentModal = true" ng-include="\'/assets/partials/payment/rvSelectPaymentType.html\'"></div><div ng-show="saveData.paymentType === \'GIFT_CARD\'" ng-hide="saveData.paymentType !== \'GIFT_CARD\'" class="entry card-number card-type"><label for=card-number>Card number (<span>No spaces</span>)</label> <input ng-show="saveData.paymentType === \'GIFT_CARD\'" name=card-number id=card-number placeholder="Enter Card number" ng-model=cardData.cardNumber maxlength=22 type=text ng-change="cardNumberInput(cardData.cardNumber, this)"> <label ng-show="depositWithGiftCard && giftCardAmountAvailable" ng-hide=!giftCardAmountAvailable>Available Card Balance ({{currencySymbol}})</label> <input ng-show="depositWithGiftCard && giftCardAmountAvailable" ng-hide=!giftCardAmountAvailable name=giftCardAmount id=amount ng-model=giftCardAvailableBalance ng-readonly=true type=text class=amount value="{{ giftCardAvailableBalance }}"></div><div class=entry ng-show="paymentGateway === \'sixpayments\' && saveData.paymentType ===\'CC\' && !showCCPage"><div ng-include="\'/assets/partials/payment/rvSixPayCardInput.html\'"></div></div><div id=selected-card class="entry full-width" ng-show="showCreditCardInfo && !showCCPage && (paymentGateway !== \'sixpayments\' || isManual) && saveData.paymentType === \'CC\' && !depositPaidSuccesFully" ng-click=showGuestCreditCardList()><label>{{\'CREDIT_CARD\' | translate}} (<span translate="">TAP_TO_CHANGE</span>)</label> <label class="active-item item-payment"><figure class=card-logo><img src=/ui/pms-ui/images/{{defaultPaymentTypeCard}}.png alt=""></figure><span class=number>{{\'ENDING_WITH\' | translate}} <span class="value number">{{defaultPaymentTypeCardNumberEndingWith}}</span></span> <span class=date>{{\'DATE\' | translate}} <span class="value date">{{defaultPaymentTypeCardExpiry}}</span></span></label></div><div ng-controller=RVCardOptionsCtrl ng-include="\'/assets/partials/roverPayment/rvCardOptions.html\'" ng-show=showCCPage></div><div class="entry full-width" ng-hide="showCCPage || depositPaidSuccesFully" ng-class="{\'amount\': isShowFees()}"><label for=amount>{{\'AMOUNT_TO_PAY\' | translate}} (<span>{{currencySymbol}}</span>)</label><input ng-keyup=calculateFee() value={{renderData.defaultPaymentAmount}} type=text ng-model=renderData.defaultPaymentAmount class=amount ng-disabled=splitSelected ng-change=updatedAmountToPay(renderData.defaultPaymentAmount) ng-class="{\'red-text\': saveData.paymentType === \'GIFT_CARD\' && !validPayment}"> <span ng-show=isShowFees() class=delimiter>+</span> <input ng-show=isShowFees() name=fee id=fee ng-keyup=calculateTotalAmount(renderData.defaultPaymentAmount) ng-model=feeData.calculatedFee value={{feeData.calculatedFee}} type=text class=fee> <span ng-show=isShowFees() class=delimiter>fee</span> <span ng-show=isShowFees() class=total>Total: <strong id=total-deposit-amount>{{currencySymbol}}{{feeData.totalOfValueAndFee}}</strong></span></div><div class="entry full-width reference" ng-show="!showCCPage && referenceTextAvailable && !depositPaidSuccesFully"><label for=reference>Reference</label> <input name=reference id=reference ng-model=renderData.referanceText type=text></div><div class="entry full-width" ng-show=showAddtoGuestCardBox()><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\': newPaymentInfo.addToGuestCard}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': newPaymentInfo.addToGuestCard}"></span> <input ng-model=newPaymentInfo.addToGuestCard id=add-in-guest-card value=1 type=checkbox> {{\'ADD_TO_GUEST_CARD\' | translate}}</label></div><div class=actions ng-hide="showCCPage || depositPaidSuccesFully"><button type=button id=cancel-payment class="button blank modal-close" ng-click=handleCloseDialog() translate="">CANCEL</button> <button type=button id=pay ng-disabled="disableMakePayment() || disableMakePaymentButton" ng-class="{\'grey\':disableMakePayment() || disableMakePaymentButton ,\'green\':!disableMakePayment() || disableMakePaymentButton }" class=button click-touch=submitPayment() ng-show=shouldShowMakePaymentButton&&!splitBillEnabled translate="">MAKE PAYMENT</button> <button type=button id=pay ng-disabled="disableMakePayment() || disableMakePaymentButton" ng-class="{\'grey\':disableMakePayment() || disableMakePaymentButton ,\'green\':!disableMakePayment() || disableMakePaymentButton }" class=button click-touch=submitPayment() ng-show=shouldShowMakePaymentButton&&splitBillEnabled translate="">MAKE PAYMENT ({{splitePaymentDetail["completedSplitPayments"]+1}}/{{splitePaymentDetail["totalNoOfsplits"]}})</button> <button type=button id=pay ng-disabled="disableMakePayment() || disableMakePaymentButton" ng-class="{\'grey\':disableMakePayment() || disableMakePaymentButton ,\'blue\':!disableMakePayment() || disableMakePaymentButton }" class=button click-touch=submitPayment() ng-show=!shouldShowMakePaymentButton&&!splitBillEnabled translate="">REFUND {{currencySymbol}}{{defaultRefundAmount|number:2}}</button> <button type=button id=pay ng-disabled="disableMakePayment() || disableMakePaymentButton" ng-class="{\'grey\':disableMakePayment() || disableMakePaymentButton ,\'blue\':!disableMakePayment() || disableMakePaymentButton }" class=button click-touch=submitPayment() ng-show=!shouldShowMakePaymentButton&&splitBillEnabled translate="">REFUND {{currencySymbol}}{{defaultRefundAmount|number:2}} ({{splitePaymentDetail["completedSplitPayments"]+1}}/{{splitePaymentDetail["totalNoOfsplits"]}})</button></div><div class=actions ng-hide=!depositPaidSuccesFully><button type=button id=cancel-payment class="button blank modal-close" ng-click=handleCloseDialog() translate="">CLOSE</button></div></div></form><div ng-show=shouldShowWaiting class="modal-content modal-vertical-centered" style="position: relative;padding: 40px;text-align: center;"><div class="centeralign alert-box">WAITING FOR PAYMENT COMPLETION</div><div class=waiting-payment>&nbsp;</div></div></div>'),t.put("/assets/partials/payment/rvARPaymentPartial.html",'<div class="entry amount" ng-class="{\'amount\': feeData.showFee}" ng-hide="paymentAttempted && !isPaymentFailure"><label>Amount to pay(<span>{{payment.selectedPaymentCurrencySymbol}}</span>)</label> <input ng-change=onPaymentInfoChange() ng-model=payment.amount type=text ng-value=payment.amount class=amount ng-disabled="actionType === \'AR_REFUND_PAYMENT\'" onpaste="return false"> <span ng-show=feeData.showFee class=delimiter>+</span> <input ng-show=feeData.showFee ng-change=onFeeOverride() ng-model=feeData.calculatedFee ng-value=feeData.calculatedFee type=text class=fee> <span ng-show=feeData.showFee class=delimiter>fee</span><div class=select ng-hide="selectedPaymentType === \'CC\'"><select ng-options="paymentCurrency.id as paymentCurrency.symbol for paymentCurrency in paymentCurrencyList" ng-change=onPaymentCurrencyChange() ng-model=payment.selectedPaymentCurrencyId><option style=display:none value="">Select Currency</option></select></div><span ng-show=feeData.showFee class=total>Total: <strong ng-if=!payment.isRateSuppressed><span ng-bind-html="feeData.totalOfValueAndFee | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></strong></span></div><div class="entry full-width" ng-if="selectedPaymentType === \'CC\' && hotelConfig.paymentGateway === \'SHIJI\' && getShijiOfflineStatus()"><label for=auth-code>{{ \'ENTER_MANUAL_AUTH_CODE\' | translate }}</label> <input id=auth-code ng-model=payment.auth_code type=text></div><div class="entry full-width reference" ng-show="((isDisplayRef && (!paymentAttempted || isPaymentFailure)) || actionType === \'AR_REFUND_PAYMENT\')"><label>Reference</label> <input ng-disabled="actionType === \'AR_REFUND_PAYMENT\'" ng-model=payment.referenceText value=payment.referenceText type=text></div><div class=feedback ng-show="paymentAttempted && !isPaymentFailure"><div class="notice success">Amount paid!</div><ul class=transaction><li ng-show=!!payment.authorizationCode>Your Authorize code is: <span class=auth>{{payment.authorizationCode}}</span></li><li ng-if=feeData.showFee>Amount paid: <span class=value><i ng-bind-html="payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></i> + <i ng-bind-html="feeData.calculatedFee | sntCurrency:this"></i> fee</span></li><li ng-if=!feeData.showFee>Amount paid: <span class=value ng-bind-html="payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></li></ul></div><div class="entry full-width" ng-hide="((paymentAttempted && !isPaymentFailure) || actionType === \'AR_REFUND_PAYMENT\')"><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\': payment.allocatePaymentAfterPosting}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': payment.allocatePaymentAfterPosting}"></span> <input ng-model=payment.allocatePaymentAfterPosting id=add-in-guest-card value=1 type=checkbox> {{\'ALLOCATE_PAYMENT_AFTER_POSTING\' | translate}}</label></div><div ng-hide="paymentAttempted && !isPaymentFailure"><div class=actions ng-hide="actionType === \'AR_REFUND_PAYMENT\'"><button type=button class="button blank modal-close" ng-click=closeThePopup() translate="">CANCEL</button> <button type=button class="button green" ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" click-touch=submitPayment() ng-show=!isRefund()>MAKE PAYMENT</button></div><div class=actions ng-show="actionType === \'AR_REFUND_PAYMENT\'"><button type=button class="button blank modal-close" ng-click=closeThePopup() translate="">CLOSE</button> <button type=button class="button blue" ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" click-touch=submitPayment() ng-show=isRefund()>REFUND <span ng-bind-html="-1 * payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></button></div></div><div class=actions ng-show="paymentAttempted && !isPaymentFailure"><button type=button class="button blank modal-close" ng-click=closeThePopup() translate="">CLOSE</button></div>'),t.put("/assets/partials/payment/rvAccountPaymentPartial.html",'<div class="entry amount" ng-class="{\'amount\': feeData.showFee}" ng-hide="paymentAttempted && !isPaymentFailure"><section ng-show="selectedPaymentType === \'GIFT_CARD\'"><input placeholder="Enter Card number" ng-model=giftCard.number maxlength=22 rv-delay-textbox="" delay=1000 function-to-fire=onChangeGiftCard type=text> <label ng-show=giftCard.amountAvailable>Available Card Balance (<span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span>)</label> <input ng-show=giftCard.amountAvailable ng-readonly=true ng-model=giftCard.availableBalance type=text></section><label>Amount to pay (<span><span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span></span>)</label> <input ng-change=onPaymentInfoChange() ng-model=payment.amount type=text ng-disabled=!payment.isEditable class=amount> <span ng-show=feeData.showFee class=delimiter>+</span> <input ng-show=feeData.showFee ng-change=onFeeOverride() ng-model=feeData.calculatedFee value={{feeData.calculatedFee}} type=text class=fee> <span ng-show=feeData.showFee class=delimiter>fee</span><div class=select ng-hide="selectedPaymentType === \'CC\'"><select ng-options="paymentCurrency.id as paymentCurrency.symbol for paymentCurrency in paymentCurrencyList" ng-change=onPaymentCurrencyChange() ng-model=payment.selectedPaymentCurrencyId><option style=display:none value="">Select Currency</option></select></div><span ng-show=feeData.showFee class=total>Total: <strong><span ng-bind-html="feeData.totalOfValueAndFee | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></strong></span></div><div id=refund-field class="entry full-width" ng-show="isRefund() && hotelConfig.selectedReceiptTypeValue === \'tax_payment_receipt\' && ((paymentAttempted && isPaymentFailure) || !paymentAttempted)"><label for=reference ng-if="selectedPaymentType !== \'DB\'">Payment Receipt</label><div class="notice smaller hidden"><strong>Please Review!</strong><p>Amount entered is greater than original receipt.</p></div><div class="notice success" ng-if="selectedPaymentType !== \'DB\' && (!receiptsList || receiptsList.receipts.length === 0)">There are no Payment Receipts for this refund</div><div id=noticeSelectReceipt class=notice ng-show="selectedPaymentType !== \'DB\' && receiptsList.receipts.length > 0 && !payment.receipt_id">Select a Payment Receipt for this refund</div><div class="notice hidden">Checking for payment receipts for this refund...</div><div class=select ng-if="receiptsList.receipts.length > 0 && selectedPaymentType !== \'DB\'"><select class=placeholder ng-options="receiptData.receipt_id as receiptData.description for receiptData in receiptsList.receipts" ng-model=payment.receipt_id><option style=display:none value="">Select Payment Receipt</option></select></div></div><div class="entry full-width" ng-if="selectedPaymentType === \'CC\' && hotelConfig.paymentGateway === \'SHIJI\' && getShijiOfflineStatus()"><label for=auth-code>{{ \'ENTER_MANUAL_AUTH_CODE\' | translate }}</label> <input id=auth-code ng-model=payment.auth_code type=text></div><div class="entry full-width reference" ng-hide="paymentAttempted && !isPaymentFailure"><label>Reference</label> <input ng-model=payment.referenceText type=text></div><div class=feedback ng-show="paymentAttempted && !isPaymentFailure"><div class="notice success">Amount paid!<br><span ng-if="selectedPaymentType === \'CA\' && hasPaymentRounding">Final invoiced amount is subject to rounding!!</span></div><ul class=transaction><li ng-show=!!payment.authorizationCode>Your Authorize code is: <span class=auth>{{payment.authorizationCode}}</span></li><li ng-if=feeData.showFee>Amount paid: <span class=value><i ng-bind-html="payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></i> + <i ng-bind-html="feeData.calculatedFee | sntCurrency:this"></i> fee</span></li><li ng-if=!feeData.showFee>Amount paid: <span class=value><span ng-bind-html="payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></span></li></ul></div><div class=actions ng-hide="paymentAttempted && !isPaymentFailure"><button type=button class="button blank modal-close" ng-click=closeThePopup() translate="">CANCEL</button> <button type=button class="button green" click-touch=submitAccountPayment() ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" ng-show=!isRefund()>MAKE PAYMENT</button> <button type=button class="button blue" click-touch=submitAccountPayment() ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" ng-show=isRefund()>REFUND <span ng-bind-html="-1 * payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></button></div><div class=actions ng-show="paymentAttempted && !isPaymentFailure"><button type=button class="button blank modal-close" ng-click=closeThePopup() translate="">CLOSE</button></div>'),t.put("/assets/partials/payment/rvAccountReceivableMessagePopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form ng-if=!isCreateNewARAccountMode class="modal-content form new-content ng-pristine ng-valid" method=post name=new-payment ng-click=setPosition()><button id=modal-close class=modal-close ng-click=closeDialog() type=button><span class="icons icon-close invert"></span></button> <strong class="h2 message ng-scope" translate="">AR_ACCOUNT_NIL</strong><div class=ng-scope ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content form warning ar-popup-content"><label ng-if=hasPermissionToCreateArAccount() translate="">AR_ACCOUNT_NOT_CREATED</label> <label ng-if=!hasPermissionToCreateArAccount() translate="">AR_ACCOUNT_NO_PERMISSION</label></div><div class="actions float"><button id=cancel class="button blank modal-close ng-scope" ng-click=closeDialog() type=button translate="">CANCEL</button> <button id=save ng-hide=!hasPermissionToCreateArAccount() class="button green modal-close ng-scope" ng-click=createAccountAction() type=button translate="">CREATE_AR_ACCOUNT</button></div></form><form ng-if=isCreateNewARAccountMode class="modal-content form new-content ng-pristine ng-valid" method=post name=new-payment ng-click=setPosition()><button id=modal-close class=modal-close ng-click=closeDialog() type=button><span class="icons icon-close invert"></span></button> <strong class="h2 message ng-scope" translate="">NEW_ACCOUNT_RECEIVABLE</strong><div class=ng-scope ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry full-width"><label class=ng-scope for=ar-account-no translate="">ENTER_AR_ACCOUNT_NUMBER</label> <input id=ar-account-no class="ng-pristine ng-valid" type=text name=ar-account-no placeholder="{{ENTER_AR_ACCOUNT_NUMBER | translate}}" ng-model=data.ar_number></div><div class="actions float"><button id=cancel class="button blank modal-close ng-scope" ng-click=cancelButtonClick() type=button translate="">CANCEL</button> <button id=save class="button modal-close ng-scope" ng-click=createAccountReceivable() ng-class="{\'overlay grey\': isCreateButtonDisabled, \'green\': !isCreateButtonDisabled}" type=button translate="">CREATE</button></div></form></div>'),t.put("/assets/partials/payment/rvAccountReceivablesCreatePopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form id=new-payment class="modal-content form new-content ng-pristine ng-valid" method=post action="http://stayntouch.perceptiveinteractive.com/with-cards/app/modals/new-payment-method/" name=new-payment ng-click=setPosition()><button id=modal-close class=modal-close ng-click=closeDialog() type=button><span class="icons icon-close invert"></span></button> <strong class="h2 message ng-scope" translate="">NEW_ACCOUNT_RECEIVABLE</strong><div class=ng-scope ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry full-width"><label class=ng-scope for=ar-account-no translate="">ENTER_AR_ACCOUNT_NUMBER</label> <input id=ar-account-no class="ng-pristine ng-valid" type=text name=ar-account-no placeholder="{{ENTER_AR_ACCOUNT_NUMBER | translate}}" value="" ng-model=ar_number></div><div class="actions float"><button id=cancel class="button blank modal-close ng-scope" ng-click=closeDialog() type=button translate="">CANCEL</button> <button id=save class="button modal-close ng-scope" ng-click=createAccountReceivable() type=button translate="" ng-class="{\'overlay grey\': isCreateButtonDisabled, \'green\': !isCreateButtonDisabled}">CREATE</button></div></form></div>'),t.put("/assets/partials/payment/rvCancelReservationPartial.html",'<section ng-hide="paymentAttempted && !isPaymentFailure"><div class="entry amount" ng-class="{\'amount\': feeData.showFee}"><label>Amount to pay (<span>{{currencySymbol}}</span>)</label> <input ng-change=onPaymentInfoChange() ng-model=payment.amount disabled=true type=text class=amount ng-if=!payment.isRateSuppressed> <input type=text disabled=true class=amount ng-if=payment.isRateSuppressed value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}"> <span ng-show=feeData.showFee class=delimiter>+</span> <input ng-show="feeData.showFee && !payment.isRateSuppressed" ng-change=onFeeOverride() ng-model=feeData.calculatedFee value={{feeData.calculatedFee}} type=text class=fee> <input ng-show="feeData.showFee && payment.isRateSuppressed" value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}" type=text class=fee> <span ng-show=feeData.showFee class=delimiter>fee</span><div class=select ng-hide="selectedPaymentType === \'CC\'"><select ng-options="paymentCurrency.id as paymentCurrency.symbol for paymentCurrency in paymentCurrencyList" ng-change=onPaymentCurrencyChange() ng-model=payment.selectedPaymentCurrencyId><option style=display:none value="">Select Currency</option></select></div><span ng-show=feeData.showFee class=total>Total: <strong ng-if=!payment.isRateSuppressed><span ng-bind-html="feeData.totalOfValueAndFee | sntCurrency:this"></span></strong> <strong ng-if=payment.isRateSuppressed>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</strong></span></div><div class="entry full-width reference" ng-show=isDisplayRef><label>Reference</label> <input ng-model=payment.referenceText type=text></div><div class="entry full-width" ng-show="!showCCPage && cancellationData.paymentType ===\'CC\' && (paymentGateway !== \'sixpayments\' || isManual) && newCardAdded && !depositPaidSuccesFully"><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\': cancellationData.addToGuestCard}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': cancellationData.addToGuestCard}"></span> <input ng-model=cancellationData.addToGuestCard id=add-in-guest-card value=1 type=checkbox> {{\'ADD_TO_GUEST_CARD\' | translate}}</label></div></section><div class=feedback ng-show="paymentAttempted && !isPaymentFailure"><div class="notice success">Amount paid!</div><ul class=transaction><li ng-show=!!payment.authorizationCode>Your Authorize code is: <span class=auth>{{payment.authorizationCode}}</span></li><li ng-if=feeData.showFee>Amount paid: <span class=value><i ng-bind-html="payment.amount | sntCurrency:this"></i> + <i ng-bind-html="feeData.calculatedFee | sntCurrency:this"></i> fee</span></li><li ng-if=!feeData.showFee>Amount paid: <span class=value ng-bind-html="payment.amount | sntCurrency:this"></span></li></ul></div><div class=actions ng-hide="paymentAttempted && !isPaymentFailure"><button type=button class="button blank modal-close" ng-click=closeThePopup()>Close</button> <button type=button ng-disabled=!selectedPaymentType ng-class="{\'grey\': !selectedPaymentType}" class="button green" click-touch=submitPayment()>Make Payment</button></div><div class=actions ng-show="paymentAttempted && !isPaymentFailure"><button type=button class="button blank modal-close" ng-click=continueAction(true) translate="">CANCEL_RESERVATION</button></div>'),
t.put("/assets/partials/payment/rvDeleteSetAsPrimary.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form name=edit-payment method=post id=edit-payment class="modal-content form confirmation" action=index.html><button type=button id=credit-card-set-as-primary class="button green modal-close" ng-click=setAsPrimary()>Set as primary</button> <button type=button id=credit-card-delete class="button red modal-close" ng-click=deletePayment()>Delete</button></form></div>'),t.put("/assets/partials/payment/rvDepositBalancePartial.html",'<section ng-hide="paymentAttempted && !isPaymentFailure"><div class="entry amount deposit-amount" ng-class="{\'amount\': feeData.showFee}"><div class="entry card-number" ng-show="selectedPaymentType === \'GIFT_CARD\'"><label>Card number (<span>No spaces</span>)</label> <input placeholder="Enter Card number" ng-model=giftCard.number maxlength=22 rv-delay-textbox="" delay=1000 function-to-fire=onChangeGiftCard type=text> <label ng-show=giftCard.amountAvailable>Available Card Balance(<span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span>)</label> <input ng-show=giftCard.amountAvailable ng-readonly=true ng-model=giftCard.availableBalance type=text></div><div class="entry full-width"><label>Amount to pay (<span><span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span></span>)</label><input ng-change=onPaymentInfoChange() ng-model=payment.amount type=text ng-disabled=!payment.isEditable class=amount ng-if=!payment.isRateSuppressed><input type=text ng-disabled=!payment.isEditable class=amount ng-if=payment.isRateSuppressed value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}"> <span ng-show=feeData.showFee class=delimiter>+</span> <input ng-show="feeData.showFee && !payment.isRateSuppressed" ng-change=onFeeOverride() ng-model=feeData.calculatedFee value={{feeData.calculatedFee}} type=text class=fee> <input ng-show="feeData.showFee && payment.isRateSuppressed" value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}" type=text class=fee> <span ng-show=feeData.showFee class=delimiter>fee</span><div class=select ng-hide="selectedPaymentType === \'CC\'"><select ng-options="paymentCurrency.id as paymentCurrency.symbol for paymentCurrency in paymentCurrencyList" ng-change=onPaymentCurrencyChange() ng-model=payment.selectedPaymentCurrencyId><option style=display:none value="">Select Currency</option></select></div><span ng-show=feeData.showFee class=total>Total: <strong ng-if=!payment.isRateSuppressed><span ng-bind-html="feeData.totalOfValueAndFee | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></strong> <strong ng-if=payment.isRateSuppressed>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</strong></span></div></div><div class="entry full-width" ng-if="selectedPaymentType === \'CC\' && hotelConfig.paymentGateway === \'SHIJI\' && getShijiOfflineStatus()"><label for=auth-code>{{ \'ENTER_MANUAL_AUTH_CODE\' | translate }}</label> <input id=auth-code ng-model=payment.auth_code type=text></div><div class="entry full-width reference" ng-show=hotelConfig.isStandAlone><label>Reference</label> <input ng-model=payment.referenceText type=text></div></section><div class="feedback no-top-border" ng-show="paymentAttempted && !isPaymentFailure"><div class="notice success">Amount paid!<br><span ng-if="selectedPaymentType === \'CA\' && hasPaymentRounding">Final invoiced amount is subject to rounding!!</span></div><ul class=transaction><li ng-show=!!payment.authorizationCode>Your Authorize code is: <span class=auth>{{payment.authorizationCode}}</span></li><li ng-if=feeData.showFee>Amount paid: <span class=value><i ng-bind-html="payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></i> + <i ng-bind-html="feeData.calculatedFee | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></i> fee</span></li><li ng-if=!feeData.showFee>Amount paid: <span class=value ng-bind-html="payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></li></ul></div><div class="entry full-width" ng-show=payment.showAddToGuestCard><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\':payment.addToGuestCardSelected}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': payment.addToGuestCardSelected}"></span> <input ng-model=payment.addToGuestCardSelected id=add-in-guest-card value=1 type=checkbox> {{\'ADD_TO_GUEST_CARD\' | translate}}</label></div><div class=actions><button type=button id=close class="button blank modal-close" ng-click=closeThePopup()>Close</button> <button type=button ng-click=submitPayment() class="button green" ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}">Make Payment</button></div>'),t.put("/assets/partials/payment/rvDetokenizeCC.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content card-content"><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h3 message solo">Credit Card Details</span><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><br><div class="scrollable scroll-payment-list" id=paymentList ng-iscroll=paymentList ng-iscroll-delay=300><iframe id=de-tokenize-iframe class="payment-iframe iframe-scroll" style="width: 100% !important;" src={{detokenizeUrl}} seamless=""></iframe></div><div class=actions><button type=button id=close class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/payment/rvInitialPleaseSwipeModal.html","<div role=dialog id=modal class=modal-show ng-class=\"{'modal-show': !modalClosing}\"><div class=modal-content><div ng-include=\"'/assets/partials/common/notification_message.html'\"></div><span ng-if=::!hotelDetails.use_ows_opi_auth class=\"h3 message\">PLEASE SWIPE CREDIT CARD</span> <button ng-if=::hotelDetails.use_ows_opi_auth class=\"button blue\" ng-click=addCardOWS()>{{state.numAttempts ? 'TRY AGAIN' : 'ADD CARD TO FILE'}}</button><br><button id=ok class=\"button red modal-close\" ng-click=closeDialog()>{{hotelDetails.use_ows_opi_auth ? 'SKIP' : 'NO SWIPE'}}</button></div></div>"),t.put("/assets/partials/payment/rvPaymentModal.html",'<div ng-hide=isLoading ng-cloak=""><div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-show=!isManualCCEntryEnabled><div class=modal-content><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h3 message solo">Manual Credit Card Updates are Disabled!</span></div></div><div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-hide=!isManualCCEntryEnabled><form ng-click=setPosition() class="modal-content form new-content payment-popup" name=new-payment id=new-payment action="http://stayntouch.perceptiveinteractive.com/with-cards/app/modals/new-payment-method/" method=post><button class=modal-close type=button id=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div><strong class="h2 message" translate="">NEW_PAYMENT_METHOD</strong><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry full-width paymentMethodSelect"><label for=payment-type translate="">PAYMENT_TYPE</label><div class=select><select ng-disabled=shouldShowDisabled ng-model=saveData.selected_payment_type class=placeholder ng-change=renderPaymentValues()><option value=null ng-selected="{{saveData.selected_payment_type==\'null\'}}" translate="">SELECT_PAYMENT_TYPE</option><option ng-if=isStandAlone ng-repeat="paymenttype in data" value={{$index}} ng-selected="{{$index == saveData.selected_payment_type}}">{{paymenttype.description}}</option><option ng-if="!isStandAlone && paymenttype.name === \'CC\'" ng-repeat="paymenttype in data" value={{$index}} ng-selected="{{paymenttype.name == \'CC\'}}">{{paymenttype.description}}</option></select></div></div><div class="entry full-width" ng-hide="saveData.selected_payment_type != \'0\'"><label for=credit-card translate="">SELECT_CREDIT_CARD_LABEL</label><div class=select><select ng-disabled=shouldShowDisabled ng-model=saveData.credit_card class=placeholder><option value="" translate="">SELECT_CREDIT_CARD_LABEL</option><option ng-repeat="paymenttypevalue in paymentTypeValues" value={{paymenttypevalue.cardcode}} ng-selected="{{paymenttypevalue.cardcode == saveData.credit_card}}">{{paymenttypevalue.cardname}}</option></select></div></div><div class="holder float" ng-hide="saveData.selected_payment_type != \'0\'"><div class=entry><label for=card-number-set1 translate="">CARD_NUMBER</label> <input type=text ng-readonly=shouldShowDisabled maxlength=16 value={{saveData.card_number}} placeholder="Enter Card number" ng-model=saveData.card_number></div><div class=entry ng-hide=passData.is_swiped><label for=ccv><span translate="" class=ng-scope>CCV</span></label> <input type=text ng-model=saveData.cvv placeholder=CCV size=6 class="ng-pristine ng-valid"></div><div class=entry><label for=expiry-month><span translate="">EXPIRATION_DATE</span>(<span>MM/YY</span>)</label> <input type=text ng-readonly=shouldShowDisabled size=2 maxlength=2 value="" placeholder=MM ng-model=saveData.card_expiry_month> <input type=text ng-readonly=shouldShowDisabled size=2 maxlength=2 value="" placeholder=YY ng-model=saveData.card_expiry_year></div></div><div class="entry full-width" ng-hide="saveData.selected_payment_type != \'0\'"><label for=name-on-card translate="">NAME_ON_CARD</label> <input type=text ng-readonly=shouldShowDisabled ng-model=saveData.name_on_card value={{saveData.name_on_card}} placeholder="Enter name on card" id=name-on-card name=name-on-card></div><div class="entry full-width add-to-guest payment-checkbox-container" style=float:left; ng-show=!isFromGuestCard><label class="checkbox add-to-guest" ng-class="{\'checked\': saveData.add_to_guest_card, \'payment-checkbox\': saveData.selected_payment_type == \'0\'}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': saveData.add_to_guest_card}"></span> <input type=checkbox ng-model=saveData.add_to_guest_card> <span class=guest_card_promotions translate="">ADD_TO_GUEST_CARD</span></label></div><div class="actions float"><button class="button blank modal-close" id=cancel type=button ng-click=closeDialog() translate="">CANCEL</button> <button class="button green modal-close" id=save type=button ng-click=savePaymentDetails() translate="">ADD</button></div></div></form></div></div>'),t.put("/assets/partials/payment/rvPleaseSwipeModal.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content swipe-cc-prompt"><section ng-if=isStandAlone><section ng-if=!checkInState.hasActiveEMV><span class="h3 message" translate="">PLEASE_SWIPE_NOW</span> <span class=message>OR</span></section><button ng-if="checkInState.hasActiveEMV && authorizationInfo.is_cc_authorize_at_checkin_enabled" class="button orange modal-close c-and-p" style="margin-bottom: 12px;" ng-click=onClickEMV()>USE CARD READER</button> <button ng-if="checkInState.hasActiveEMV && !authorizationInfo.is_cc_authorize_at_checkin_enabled" class="button orange modal-close c-and-p" style="margin-bottom: 12px;" ng-click=addCardWithEMV()>USE CARD READER</button><section ng-if="checkInState.hasCardOnFile && authorizationInfo.is_cc_authorize_at_checkin_enabled"><button class="button blue" ng-click=onClickUseCardOnFile()>USE CARD ON FILE</button></section><section ng-if="!checkInState.hasCardOnFile || !authorizationInfo.is_cc_authorize_at_checkin_enabled"><button ng-if=checkInState.hasActiveEMV class="button blank modal-close" ng-click=onClickNoSwipe()>CANCEL</button> <button ng-if=!checkInState.hasActiveEMV class="button red" ng-click=onClickNoSwipe()>NO SWIPE</button></section></section><section ng-if=!isStandAlone><section><span class="h3 message">PLEASE SWIPE NOW</span> <span class=message>OR</span></section><button ng-if=!checkInState.hasActiveEMV class="button red" ng-click=onClickNoSwipe()>NO SWIPE</button></section></div></div>'),t.put("/assets/partials/payment/rvReservationBillPayment.html",'<div class="entry amount"><section ng-show="selectedPaymentType === \'GIFT_CARD\'"><input placeholder="Enter Card number" ng-model=giftCard.number maxlength=22 ng-blur=onChangeGiftCard() type=text> <label ng-show=giftCard.amountAvailable>Available Card Balance (<span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span>)</label> <input ng-show=giftCard.amountAvailable ng-readonly=true ng-model=giftCard.availableBalance type=text></section><label>Amount to pay (<span><span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span></span>)</label> <input ng-change=onPaymentInfoChange() ng-model=payment.amount type=text ng-disabled="!payment.isEditable || splitBillEnabled" class=amount ng-if=!payment.isRateSuppressed> <input type=text ng-disabled="!payment.isEditable || splitBillEnabled" class=amount ng-if=payment.isRateSuppressed value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}"> <span ng-show=feeData.showFee class=delimiter>+</span> <input ng-show="feeData.showFee && !payment.isRateSuppressed" ng-change=onFeeOverride() ng-model=feeData.calculatedFee value={{feeData.calculatedFee}} type=text class=fee> <input ng-show="feeData.showFee && payment.isRateSuppressed" value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}" type=text class=fee> <span ng-show=feeData.showFee class=delimiter>fee</span><div class=select ng-hide="selectedPaymentType === \'CC\'"><select ng-options="paymentCurrency.id as paymentCurrency.symbol for paymentCurrency in paymentCurrencyList" ng-change=onPaymentCurrencyChange() ng-model=payment.selectedPaymentCurrencyId><option style=display:none value="">Select Currency</option></select></div><span ng-show=feeData.showFee class=total>Total: <strong ng-if=!payment.isRateSuppressed><span ng-bind-html="feeData.totalOfValueAndFee | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></strong> <strong ng-if=payment.isRateSuppressed>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</strong></span></div><div id=refund-field class="entry full-width" ng-show="isRefund() && hotelConfig.selectedReceiptTypeValue === \'tax_payment_receipt\' && ((paymentAttempted && isPaymentFailure) || !paymentAttempted)"><label for=reference ng-if="selectedPaymentType !== \'DB\'">Payment Receipt</label><div class="notice smaller hidden"><strong>Please Review!</strong><p>Amount entered is greater than original receipt.</p></div><div class="notice success" ng-if="selectedPaymentType !== \'DB\' && (!receiptsList || receiptsList.receipts.length === 0)">There are no Payment Receipts for this refund</div><div id=noticeSelectReceipt class=notice ng-show="selectedPaymentType !== \'DB\' && receiptsList.receipts.length > 0 && !payment.receipt_id">Select a Payment Receipt for this refund</div><div class="notice hidden">Checking for payment receipts for this refund...</div><div class=select ng-if="receiptsList.receipts.length > 0 && selectedPaymentType !== \'DB\'"><select class=placeholder ng-options="receiptData.receipt_id as receiptData.description for receiptData in receiptsList.receipts" ng-model=payment.receipt_id><option value="">Select Payment Receipt</option></select></div></div><div class="entry full-width" ng-if="selectedPaymentType === \'CC\' && hotelConfig.paymentGateway === \'SHIJI\' && payment.shiji_token_enable_offline"><label for=auth-code>{{ \'ENTER_MANUAL_AUTH_CODE\' | translate }}</label> <input id=auth-code ng-model=payment.auth_code type=text></div><div class="entry full-width reference" ng-show=hotelConfig.isStandAlone><label>Reference</label> <input ng-model=payment.referenceText type=text></div><div class=actions ng-hide="showCCPage || depositPaidSuccesFully"><button type=button class="button blank modal-close" ng-click=closeThePopup() translate="">CANCEL</button> <button type=button class="button green" click-touch=submitPayment() ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" ng-show="!isRefund() && !splitBillEnabled">MAKE PAYMENT</button><button type=button class="button green" click-touch=submitPayment() ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" ng-show="!isRefund() && splitBillEnabled">MAKE PAYMENT ({{ completedSplitPayments + 1 }}/{{ numSplits }})</button> <button type=button class="button blue" click-touch=submitPayment() ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" ng-show="isRefund() && !splitBillEnabled">REFUND <span ng-bind-html="-1 * payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></button> <button type=button class="button blue" click-touch=submitPayment() ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" ng-show="isRefund() && splitBillEnabled">REFUND <span ng-bind-html="-1 * payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span> ({{ completedSplitPayments + 1}}/{{ numSplits }})</button></div>'),t.put("/assets/partials/payment/rvReservationBillPaymentPopup.html",'<div role=dialog id=modal class=modal-show ng-cloak="" ng-click=clearErrorMessage() ng-class="{\'modal-show\': !modalClosing}"><form ng-show="!showSixPayLoader && !showDBconfirmation" class="modal-content form pay-bill" ng-class="{\'select-card\':showCCPage}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message">{{\'PAY_BILL\' | translate}}<div class=select><select convert-to-number="" name=post-charge-to-bill ng-model=renderData.billNumberSelected ng-change=billNumberChanged() ng-disabled=checkPaymentTypeIsDirectBill()><option ng-repeat="bills in billsArray" value={{bills.bill_number}} ng-selected="bills.bill_number == renderData.billNumberSelected">{{bills.bill_number}}</option></select></div></strong> <span ng-hide="defaultPaymentTypeOfBill === \'GIFT_CARD\'" class=text>Or enter negative amount to make a refund</span> <span ng-show="defaultPaymentTypeOfBill === \'GIFT_CARD\'" class=text>No Refunds available for Gift Cards</span><div ng-show="messageOfSuccessSplitPayment!=\'\' && splitBillEnabled" class="success success_message" ng-class="{notice: messageOfSuccessSplitPayment!=\'\'}"><span ng-bind-html=messageOfSuccessSplitPayment></span></div><div ng-show="paymentErrorMessage!=\'\' && splitBillEnabled" ng-class="{notice: paymentErrorMessage!=\'\'}" class="error error_message" ng-switch="" on=paymentErrorMessage.length ng-click=clearPaymentErrorMessage()><span class=close-btn ng-click=clearPaymentErrorMessage()></span> <span ng-bind-html=paymentErrorMessage></span></div><div class=payment-form><div class="feedback no-top-border" style="margin-top: 0; padding-top: 0;" ng-show="paymentDetails.paymentSuccess && (!splitBillEnabled || paymentDetails.authorizationCode)"><div class="notice success" ng-if=!splitBillEnabled>Amount paid!<br><span ng-if="paymentDetails.selectedPaymentType === \'CA\' && hasPaymentRounding">Final invoiced amount is subject to rounding!!</span></div><ul class=transaction style="width: 80%;"><li ng-show=!!paymentDetails.authorizationCode>Your Authorize code is: <span class=auth>{{paymentDetails.authorizationCode}}</span></li><li ng-if="!splitBillEnabled && paymentDetails.feePaid">Amount paid: <span class=value><i ng-bind-html="paymentDetails.amountWithoutFee | sntCurrency:this"></i> <i class=currency ng-show=paymentDetails.showFee>+ <i ng-bind-html="paymentDetails.feePaid | sntCurrency:this"></i> fee</i></span></li><li ng-if="!splitBillEnabled && !paymentDetails.feePaid">Amount paid: <span class=value ng-bind-html="paymentDetails.amount | sntCurrency:this"></span></li></ul></div><div class="entry split" ng-class="{active: splitBillEnabled, overlay: hotelPaymentConfig.selectedReceiptTypeValue === \'tax_payment_receipt\' && shouldDisableSplit}" ng-hide="depositPaidSuccesFully || defaultPaymentTypeOfBill === \'GIFT_CARD\' || defaultPaymentTypeOfBill === \'DB\' || !isStandAlone" ng-if=false><label class="checkbox inline" ng-class="{checked: splitBillEnabled }"><span class="icon-form icon-checkbox" ng-class="{checked: splitBillEnabled }"></span> <input id=enable-split value=1 type=checkbox ng-click=resetSplitPaymentDetail()> Split Bill Payment</label><label class=only-number ng-click=spliteButtonClicked(1) ng-class=classForPaymentSplitButton(1)><input name=split-bill value=1 type=checkbox checked=""> 1</label><label class=only-number ng-click=spliteButtonClicked(2) ng-class=classForPaymentSplitButton(2)><input name=split-bill value=2 type=checkbox> 2</label> <label class=only-number ng-click=spliteButtonClicked(3) ng-class=classForPaymentSplitButton(3)><input name=split-bill value=3 type=checkbox> 3</label> <label class=only-number ng-click=spliteButtonClicked(4) ng-class=classForPaymentSplitButton(4)><input name=split-bill value=4 type=checkbox> 4</label> <label class=only-number ng-click=spliteButtonClicked(5) ng-class=classForPaymentSplitButton(5)><input name=split-bill value=5 type=checkbox> 5</label></div><snt-payment hotel-config=hotelPaymentConfig workstation-id={{workstation_id}} reservation-id={{reservationBillData.reservation_id}} bill-number=renderData.billNumberSelected bill-id="reservationBillData.bills[currentActiveBill || 0].bill_id" payment-types=paymentTypes selected-payment-type=defaultPaymentTypeOfBill selected-c-c="reservationBillData.bills[currentActiveBill || 0].selectedCC" amount=renderData.defaultPaymentAmount payment-currency-amount=renderData.defaultPaymentCurrencyAmount action-type=PAYMENT_RESERVATION_BILL deposit-policy-name={{depositPolicyName}} is-editable=isDepositEditable is-rate-suppressed=isReservationRateSuppressed has-permission=hasPermissionToMakePayment() form-template-url=/assets/partials/payment/rvReservationBillPayment.html first-name={{guestCardData.contactInfo.first_name}} last-name={{guestCardData.contactInfo.last_name}} split-bill-enabled=splitBillEnabled num-splits=splitePaymentDetail.totalNoOfsplits completed-split-payments=splitePaymentDetail.completedSplitPayments payment-currency-list=paymentCurrencyList receipts-list=billPaymentReceiptData.receiptsList ng-show="!errorOccured && !depositPaidSuccesFully"></snt-payment><div class=actions ng-hide=!depositPaidSuccesFully><button type=button id=cancel-payment class="button blank modal-close" ng-click=closeDialog() translate="">CLOSE</button></div></div></form></div>'),t.put("/assets/partials/payment/rvReservationSummaryDepositPartial.html",'<div class="entry full-width" ng-show=payment.showAddToGuestCard><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\':payment.addToGuestCardSelected}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': payment.addToGuestCardSelected}"></span> <input ng-model=payment.addToGuestCardSelected ng-change=propagateAddToggle() id=add-in-guest-card value=1 type=checkbox> {{\'ADD_TO_GUEST_CARD\' | translate}}</label></div><div class=deposit ng-class="{\'notice\' : !paymentAttempted }" ng-show=onlyPaymentSelection><section ng-if=!paymentAttempted><p>Deposit required: <strong>{{depositPolicyName}}</strong>.</p><div class="entry full-width deposit-amount" ng-class="{\'amount\': feeData.showFee}"><div class="entry card-number" ng-show="selectedPaymentType === \'GIFT_CARD\'"><label>Card number (<span>No spaces</span>)</label> <input placeholder="Enter Card number" ng-model=giftCard.number maxlength=22 rv-delay-textbox="" delay=1000 function-to-fire=onChangeGiftCard type=text> <label ng-show=giftCard.amountAvailable>Available Card Balance(<span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span>)</label> <input ng-show=giftCard.amountAvailable ng-readonly=true ng-model=giftCard.availableBalance type=text></div><div class="entry amount"><label>Amount to pay (<span><span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span></span>)</label> <input ng-change=onPaymentInfoChange() ng-model=payment.amount type=text ng-disabled=!payment.isEditable class=amount ng-if=!payment.isRateSuppressed><input type=text ng-disabled=!payment.isEditable class=amount ng-if=payment.isRateSuppressed value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}"> <span ng-show=feeData.showFee class=delimiter>+</span> <input ng-show="feeData.showFee && !payment.isRateSuppressed" ng-change=onFeeOverride() ng-model=feeData.calculatedFee value={{feeData.calculatedFee}} type=text class=fee> <input ng-show="feeData.showFee && payment.isRateSuppressed" value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}" type=text class=fee> <span ng-show=feeData.showFee class=delimiter>fee</span><div class=select ng-hide="selectedPaymentType === \'CC\'"><select ng-options="paymentCurrency.id as paymentCurrency.symbol for paymentCurrency in paymentCurrencyList" ng-change=onPaymentCurrencyChange() ng-model=payment.selectedPaymentCurrencyId><option style=display:none value="">Select Currency</option></select></div><span ng-show=feeData.showFee class=total>Total: <strong ng-if=!payment.isRateSuppressed><span ng-bind-html="feeData.totalOfValueAndFee | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></strong> <strong ng-if=payment.isRateSuppressed>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</strong></span></div></div><div class="entry full-width" ng-if="selectedPaymentType === \'CC\' && hotelConfig.paymentGateway === \'SHIJI\' && payment.shiji_token_enable_offline"><label for=auth-code>{{ \'ENTER_MANUAL_AUTH_CODE\' | translate }}</label> <input id=auth-code ng-model=payment.auth_code type=text></div><div class="entry full-width reference"><label>Reference</label> <input ng-model=payment.referenceText type=text></div><div class=actions ng-show=!!selectedPaymentType><button type=button class="button blue" ng-click=payLater()>Pay deposit later</button> <button type=button class="button green" ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" ng-click=submitPayment()>Pay deposit now</button></div></section><div class="feedback no-top-border" ng-show="paymentAttempted && !isPaymentFailure"><div class="notice success">Deposit paid!!<br><span ng-if="selectedPaymentType === \'CA\' && hasPaymentRounding">Final invoiced amount is subject to rounding!!</span></div><ul class=transaction><li ng-show=!!payment.authorizationCode>Your Authorize code is: <span class=auth>{{payment.authorizationCode}}</span></li><li ng-if=feeData.showFee>Amount paid: <span class=value ng-if=feeData.calculatedFee><i ng-bind-html="payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></i> + <i ng-bind-html="feeData.calculatedFee | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></i> fee</span> <span class=value ng-if=!feeData.calculatedFee><i ng-bind-html="payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></i> + <i ng-bind-html="0.00 | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></i> fee</span></li><li ng-if=!feeData.showFee>Amount paid: <span class=value ng-bind-html="payment.amount | sntCurrency:this:payment.selectedPaymentCurrencySymbol"></span></li></ul></div><div class="feedback deposit-failed" ng-show="paymentAttempted && isPaymentFailure"><button type=button class="button blue" ng-click=resetPaymentAttempt()>Try Again</button></div></div>'),t.put("/assets/partials/payment/rvRoutesAddPaymentPartial.html",'<div class=actions><button type=button class="button blank" ng-click=cancelAction() translate="">CANCEL</button> <button type=button class="button green" ng-show="selectedPaymentType == \'CC\'" ng-click=saveReservationPaymentMethod();>ADD CARD</button></div>'),t.put("/assets/partials/payment/rvSelectPaymentType.html",'<div id=payment-type class="entry full-width" ng-hide=showCCPage><label for=payment-type translate="">PAYMENT_TYPE</label><div class=select><select ng-show=isPaymentModal id=payment-options ng-model=saveData.paymentType name=payment-options ng-change="changePaymentType(\'pmt modal\')"><option value="" translate="">SELECT_PAYMENT_TYPE</option><option ng-repeat="paymentData in renderData.paymentTypes" value={{paymentData.name}} ng-selected="paymentData.name == defaultPaymentTypeOfBill">{{paymentData.description}}</option></select><select ng-show=isADDPaymentModal name=payment-type ng-model=dataToSave.paymentType class=placeholder ng-change="changePaymentType(\'ADD pmt modal\')"><option value="" selected="">Select Payment Type</option><option ng-repeat="paymentOptions in renderData" value={{paymentOptions.name}} ng-selected="paymentOptions.name === dataToSave.paymentType">{{paymentOptions.description}}</option></select><select ng-show=isReservationDeposit id=payment-options ng-model=depositData.paymentType name=payment-options ng-change="changePaymentType(\'deposit popup\')"><option value="" translate="">SELECT_PAYMENT_TYPE</option><option ng-repeat="paymentData in passData.details.paymentTypes" value={{paymentData.name}} ng-selected="{{paymentData.name === depositData.paymentType}}">{{paymentData.description}}</option></select><select ng-show=isAccountPaymentModal id=payment-options ng-model=saveData.paymentType name=payment-options ng-change="changePaymentType(\'account pmt modal\')"><option value="" translate="">SELECT_PAYMENT_TYPE</option><option ng-repeat="paymentData in renderData.paymentTypes" value={{paymentData.name}} ng-selected="paymentData.name == defaultPaymentTypeOfBill">{{paymentData.description}}</option></select><select ng-show=isModifiedDepositBalanceModal ng-disabled=depositPaidSuccesFully name=payment-type ng-model=depositBalanceMakePaymentData.payment_type id=payment-type class=placeholder ng-change="changePaymentType(\'modified deposit modal\')"><option value="" selected="">Select Payment Type</option><option ng-repeat="paymentData in passData.details.paymentTypes" value={{paymentData.name}} ng-selected="{{paymentData.name == reservationData.reservation_card.payment_method_used}}">{{paymentData.description}}</option></select><select ng-show=isCancelReservation id=payment-options ng-model=cancellationData.paymentType name=payment-options ng-change="changePaymentType(\'cancel reservation\')"><option value="" translate="">SELECT_PAYMENT_TYPE</option><option ng-repeat="paymentData in passData.details.paymentTypes" value={{paymentData.name}} ng-selected="{{paymentData.name === depositData.paymentType}}">{{paymentData.description}}</option></select></div></div>'),t.put("/assets/partials/payment/rvShowPaymentList.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content card-content"><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'" class=left-right-pad20></div><br><div class=no-content ng-if=showNoValues><div class=info><span class="icon-no-content icon-card"></span> <strong class=h1>No Credit Cards saved to Guest Card</strong></div></div><div class=scrollable ng-iscroll=paymentList ng-iscroll-delay=300><div class=wrapper><div class=payment-method ng-repeat="paymentlist in paymentListData.existing_payments"><button type=button class="active-item item-payment" ng-click="clickPaymentItem(paymentlist.value, paymentlist.card_code, paymentlist.ending_with, paymentlist.expiry_date, paymentlist.is_swiped, paymentlist.auth_color_code)"><figure class=card-logo><img src=/ui/pms-ui/images/{{paymentlist.card_code}}.png alt=""></figure><span class=number><span translate="">ENDING_WITH</span> <span class="value number">{{paymentlist.ending_with}}</span></span> <span class=date><span translate="">DATE</span> <span class="value date">{{paymentlist.expiry_date}}</span></span> <span class=name><span translate="">NAME</span> <span class="value name">{{paymentlist.holder_name}}</span></span> <span class=in-gc ng-show=paymentlist.is_in_guest_card><span translate="">IN_GUEST_CARD</span></span> <span class=primary ng-show="paymentlist.value == paymentListData.selected_payment"><span class="value primary" translate="">SELECTED</span></span></button> <button type=button class="icons icon-remove-40" data-action=delete-payment ng-show="(shouldShowCreditCardDeleteBtn() && (paymentlist.value != paymentListData.selected_payment))" ng-click=deleteCreditCard(paymentlist.value)>Remove</button></div></div></div><a class=add-new-button ng-click=openAddNewPaymentModel() ng-if=dataToPaymentList.isFromBillCard>+ New Payment Method</a></div></div>'),
t.put("/assets/partials/payment/rvSixPayCardInput.html","<label for=card-source>Card Input</label><div class=switch-button ng-class=\"{'on': !isManual}\"><input name=card-source id=card-source value=card-source type=checkbox ng-model=isManual ng-change=\"$emit('changeOnsiteCallIn')\"> <label class=data-off><span class=value>C &amp; P</span> <span class=switch-icon>Manual</span></label> <label class=data-on><span class=switch-icon>C &amp; P</span> <span class=value>Manual</span></label></div>"),t.put("/assets/partials/popups/freshdesk.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content release-notes-popup"><button id=modal-close type=button class=modal-close click-touch=closeDialog()><span class="icons icon-close invert"></span></button><div class=iframe-scroll><iframe src=https://stayntouch.freshdesk.com/support/home seamless=""></iframe></div></div></div>'),t.put("/assets/partials/popups/rvEmailSentStatusPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak="" ng-click=clearErrorMessage();><div class="modal-content form alert"><button id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-{{status}}"></span> <strong class="h2 message">{{statusMsg}}</strong> <button type=button class="button blank" ng-click=closeDialog()>Close</button></div></div>'),t.put("/assets/partials/popups/rvHouseEventsListPopup.html",'<div id=modal ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div id=events class="modal-content events"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class=title><span class="h2 message">Events</span> <span class=text>{{displayDate}}</span></div><div class="events-list scrollable" ng-iscroll=events-list-scroller><div class=wrapper><span ng-repeat="(eventType, eventList) in eventsData"><div class=event-type><span class=event-count>{{eventList.length}}</span> <span class=event-type-title>{{eventType}}</span></div><ul class=event-type-list><li class=event ng-repeat="event in eventList"><span class=event-end ng-if=event.end_date>End Date: {{event.end_date | date: dateFormat}}</span><h3 class=event-title>{{event.name}}</h3><p class=event-description ng-if=event.description>{{event.description}}</p></li></ul></span></div></div><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close window</button></div></div></div>'),t.put("/assets/partials/popups/rvInfoPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action="" id=edit-charge-options name=edit-charge class="modal-content form advanced-bill"><button id=modal-close class=modal-close type=button ng-click=closeSuccessDialog() ng-if=ngDialogData.isSuccess><span class="icons icon-close invert"></span></button> <button id=modal-close class=modal-close type=button ng-click=closeErrorDialog() ng-if=ngDialogData.isFailure><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">{{ngDialogData.message}}</span><div class=actions><button type=button class="button green modal-close" ng-click=closeSuccessDialog() ng-if=ngDialogData.isSuccess>OK</button> <button type=button class="button green modal-close" ng-click=closeErrorDialog() ng-if=ngDialogData.isFailure>OK</button></div></form></div>'),t.put("/assets/partials/popups/rvReceiptPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak="" ng-click=clearErrorMessage();><div class="modal-content form format-bill"><button id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert" ng-click=closeDialog()></span></button> <strong class="h2 message">Payment Receipt</strong><div class="entry full-width"><label for=languages>Language</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" ng-model=data.locale><option style=display:none value=""></option><option value={{item.code}} ng-repeat="item in languageData.languages" ng-selected="item.code === data.locale">{{item.language}}</option></select></div></div><div class="entry full-width"><label for=account-email>Email</label> <input type=email id=account-email name=email placeholder="Enter an Email" ng-model=data.mailto_address></div><div class=actions><button type=button class="button with-icon" ng-click=emailReceipt() ng-class=getEmailButtonClass() ng-disabled=isEmailButtonDisabled()><span class="icons icon-email"></span> Email</button> <button type=button class="button with-icon blue" ng-click=printReceipt()><span class="icons icon-print"></span> Print</button> <button type=button class="button blank inline" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/postCharge/restrictPost.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">{{\'POSTINGS_NOT_PERMITTED_FOR_THIS_RESERVATION\' | translate}}</span><div class=actions ng-show=!hasPermissionToAllowPostWithNoCredit()><button type=button class="button red" ng-click=closeDialog()>Ok</button></div><div class=actions ng-show=hasPermissionToAllowPostWithNoCredit()><button id=try-again class="button green" ng-click=openPostCharge(selectedBillNumber) translate="">{{ \'PROCEED_WITH_POST_CHARGES\' | translate }}</button> <button class="button blank" ng-click=closeDialog() translate="">Cancel</button></div></div></div>'),t.put("/assets/partials/postCharge/rvPostChargeV2.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div id=post-charge class="modal-content post-charge" ng-class="{ \'extended\': isOutsidePostCharge, \'show-charges\': shouldShowChargesForMobile }" ng-click=setPosition() ng-cloak=""><button type=button id=modal-close class=modal-close ng-class="{ \'dark-title\': isOutsidePostCharge }" ng-click=closeDialog()><span class="icons icon-close" ng-class="{ \'invert\': !isOutsidePostCharge }"></span></button> <span ng-if=isOutsidePostCharge><div id=cant-post ng-show=noGuestOrRoomSelected class=inner-overlay ng-class="{\'visible\': noGuestOrRoomSelected == true}"><div class=inner-content><span class="message h2" translate="">NO_GUEST_ROOM_SELECTED</span> <span class=text translate="">SELECT_GUEST_ROOM</span> <button type=button class="button green" ng-click=clickedAddGuestOrRoom() translate="">ADD_GUEST_ROOM</button> <button type=button class="button blank" ng-click=clickedAddGuestOrRoomCancel() translate="">CANCEL</button></div></div><div id=not-checked-in ng-show=guestHasNotCheckedin class=inner-overlay ng-class="{\'visible\': guestHasNotCheckedin == true}"><div class=inner-content><span class="message h2" translate="">GUEST_NOT_CHECKEDIN_MSG</span> <span class=text translate="">PROCEED_WITH_PROCEEDING</span> <button ng-disabled=disableOutsidePostChargeButton type=button class="button green" ng-click=clickedPostCharge($event) translate="">POST_CHARGE</button> <button type=button class="button blank" ng-click=clickedPostChargeCancel() translate="">CANCEL</button></div></div><div id=not-checked-in ng-show=selectedReservationPostNotAllowed class=inner-overlay ng-class="{\'visible\': selectedReservationPostNotAllowed == true}"><div class="inner-content big-message"><span class="message h2" translate="">{{\'POSTINGS_NOT_PERMITTED_FOR_THIS_RESERVATION\' | translate}}</span> <button type=button ng-show=!hasPermissionToAllowPostWithNoCredit() class="button red" ng-click=clickedPostChargeCancel($event) translate="">OK</button> <button ng-show=hasPermissionToAllowPostWithNoCredit() type=button class="button green" ng-click=proceedWithPostCharge($event) translate="">PROCEED WITH POST CHARGES</button> <button ng-show=hasPermissionToAllowPostWithNoCredit() type=button class="button blank" ng-click=clickedPostChargeCancel() translate="">CANCEL</button></div></div><div ng-show=chargePosted id=charge-posted class=inner-overlay ng-class="{\'visible\': chargePosted == true}"><div class=inner-content><span class="message h2" translate="">CHARGE_POSTED</span> <button type=button class="button green" ng-click=clickedPostAnotherCharge() translate="">POST_ANOTHER_CHARGE</button> <button type=button class="button blank modal-close" ng-click=clickedPostAnotherChargeCancel() translate="">CLOSE_WINDOW</button></div></div><div class="cards guest-card" role=complementary ng-class="{\'cards-list open\': showSearchScreen }"><div class=cards-wrapper><header class=cards-header><div class=card-header><section ng-show=!isCardAttched><figure class=guest-image><img src=/ui/pms-ui/images/avatar-trans.png alt=""> <span class=search-indicator></span></figure><div class=card-search-form><div class=holder><div class=entry><input ng-click=showHideInitialSearchScreen() ng-keydown=keyDownRoom() ng-blur=keyBlurRoom() ng-model=search.room placeholder="{{\'ROOM_NUMBER\' | translate}}" value="" type=text class="masked-input fixed h1" rv-delay-textbox="" delay=1000 ng-class="(roomSearchStatus) ? \'searchTextOrange\': \'\'" function-to-fire=searchForResults> <input ng-click=showHideInitialSearchScreen() ng-keydown=keyDownGuestCompany() ng-blur=keyBlurGuestCompany() ng-model=search.guest_company_agent placeholder="{{\'GUEST_COMPANY_AGENT\' | translate}}" value="" type=text ng-class="(guestCompanySearchStatus) ? \'searchTextOrange\': \'\'" class="query masked-input fixed long-name h1" rv-delay-textbox="" delay=1000 function-to-fire=searchForResults></div></div></div><div class=card-actions><button type=button class="button white red-text" ng-click=clickedCancel() translate="">CANCEL</button></div></section><section ng-show=isCardAttched><figure class=guest-image ng-show="cardAttached.images.length!=0" ng-class="{\'accompany\': cardAttached.images.length >1}"><img ng-repeat="image in cardAttached.images" ng-src={{image.guest_image}} ng-class="{\'second-image\':(cardAttached.images.length >1 && image.is_primary==false)}"> <span class=vip ng-show="cardAttached.vip==true" translate="">VIP</span></figure><div class=card-details><div class=holder><h1>{{cardAttached.firstname}} {{cardAttached.lastname}}</h1><span class="guest-status {{getGuestStatusMapped(cardAttached.reservation_status, cardAttached.is_opted_late_checkout)}}"></span> <span class=room>{{cardAttached.room}}</span></div><div class="holder data"><span class="icons icon-gc-location">{{cardAttached.city}}</span> <span class=state>{{cardAttached.state}}</span> <span class="icons icon-gc-phone">{{cardAttached.phone}}</span> <span class="icons icon-gc-email">{{cardAttached.email}}</span></div></div><div class="card-actions visible"><button type=button class="button red" ng-click=clickedDetachCard() translate="">DETACH_CARD</button></div></section></div></header><div class=cards-content><div class="card-search card-content" ng-class="{\'display-card-search\': showSearchScreen}"><div id=search-guests-for-charge-no-results class="search-cards no-content show-initial-search" ng-show=showInitialSearchScreen><div class=info><span class="icon-no-content icon-guest"></span> <strong class=h1 translate="">SEARCH_NORMAL</strong> <span class=h2>{{\'SEARCH\' | translate}} <em>{{\'ROOM_LABEL\' | translate}}</em> {{\'BY\'| translate}} <strong>{{\'NUMBER\' | translate}}</strong> {{\'OR\' | translate}} <em>Reservation</em> {{\'BY\'| translate}} <strong>{{\'GUEST\' | translate}}</strong>, <strong>{{\'COMPANY\' | translate}}</strong> {{\'OR\' | translate}} <strong>{{\'TRAVELAGENT\' | translate}}</strong> {{\'NAME\' | translate}}</span></div></div><div id=search-guests-for-charge-no-matches class="search-cards no-content show-initial-search" ng-show=showNoMatches><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Name</strong> , or typed in the wrong <strong>Room</strong> number</span> <span ng-show="results.length==0 && showAddNewGuestButton">or <a>Add a New Guest <a></a></a></span></div></div><div id=search-guests-for-charge-content class="search-cards reservation-list scrollable" ng-iscroll=result_showing_area_post_charg ng-iscroll-delay=1000 ng-show=!showInitialSearchScreen ng-hide="showInitialSearchScreen || showNoMatches"><div class=wrapper><ul id=search-guests-for-charge-results class=search-results><li class="reservation post-charge" ng-click=clickedReservationToPostCharge(row) ng-show=row.shouldShowReservation ng-repeat="row in reservationsArray"><a ng-class=getReservationClass(row.reservation_status) ng-click=selectReservation(row)><figure class=guest-image ng-class="{\'accompany\': row.images.length >1}"><img ng-repeat="image in row.images" ng-src={{image.guest_image}}> <span class=vip ng-show="row.vip==true">VIP</span></figure><div class=data><div class=guest-info ng-hide="escapeNull(row.company)==\'\' && escapeNull(row.travel_agent)==\'\' && escapeNull(row.group)==\'\'"><span class=guest-company ng-hide="escapeNull(row.company)==\'\'" ng-bind-html=escapeNull(row.company)|highlight:search.guest_company_agent:false>{{row.company}}</span> <span class=guest-travelagent ng-hide="escapeNull(row.travel_agent)==\'\'" ng-bind-html=escapeNull(row.travel_agent)|highlight:search.guest_company_agent:false>{{row.travel_agent}}</span> <span class=group ng-hide="escapeNull(row.group)==\'\'" ng-bind-html=escapeNull(row.group)|highlight:search.guest_company_agent:false></span> <span class=allotment ng-hide="escapeNull(row.allotment)==\'\'" ng-bind-html=escapeNull(row.allotment)|highlight:search.guest_company_agent:false></span></div><h2 ng-bind-html="row.lastname + \' \' +row.firstname|highlight:search.guest_company_agent:false" ng-class="{\'grey\' : row.is_accompanying_guest==\'1\'}"></h2><div class=guest-meta><span class=confirmation ng-bind-html=row.confirmation|highlight:search.guest_company_agent:false>{{row.confirmation}}</span> <span class="icons icon-location" ng-if="escapeNullStr(row.location) !== \'\'">{{escapeNullStr(row.location)}}</span> <span class="icons icon-location no-location" ng-if="escapeNullStr(row.location) === \'\'">N/A</span></div></div><div class=reservation-info><div class="reservation-type red" ng-if=row.is_day_use>D</div><div class=reservation-type ng-if="!row.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><span class="guest-status {{getGuestStatusMapped(row.reservation_status, row.is_opted_late_checkout)}}"></span><div class=room-info><div class=room-number-info><strong class=room-number ng-class="getMappedClassWithResStatusAndRoomStatus(row.reservation_status, row.roomstatus, row.fostatus, row.room_ready_status, row.checkin_inspected_only)"><span ng-class="{\'highlight\': row.room.indexOf(search.room) != -1 && search.room!=\'\' && search.room.length>=3 }">{{row.room}}</span></strong> <span class="icons icon-suite-orange" ng-if="row.is_suite_room && !isReservationQueued(row.is_reservation_queued, row.is_queue_rooms_on, row.reservation_status)">Suite</span> <span class=room-status ng-show="getRoomStatusMapped(row.roomstatus, row.fostatus) == \'not-ready\' && row.reservation_status == \'CHECKING_IN\'">{{row.fostatus}}</span></div></div><span class=late-checkout-time ng-hide="escapeNull(row.late_checkout_time)==\'\'&&row.reservation_status!=\'CHECKING_OUT\'&&row.is_opted_late_checkout==false">{{row.late_checkout_time}}</span> <span class="icons icon-queued-red" ng-if="isReservationQueued(row.is_reservation_queued, row.is_queue_rooms_on, row.reservation_status) && !row.is_suite_room"></span><div class=room-icons ng-if="row.is_suite_room && isReservationQueued(row.is_reservation_queued, row.is_queue_rooms_on, row.reservation_status)"><span class="icons icon-suite"></span> <span class="icons icon-queued"></span></div></div></a></li></ul></div></div></div></div></div></div></span> <span ng-controller=RVPostChargeControllerV2><fieldset class=content-left><div role=search class=search-form><div class=select><select name=charge-groups id=charge-groups ng-model=chargeGroup ng-change=filterbyChargeGroup()><option value="" class=placeholder translate="">ALL_CHARGE_GROUPS</option><option value=FAV translate="">FAVORITE</option><option ng-repeat="group in fetchedData.charge_groups" value="{{ group.id }}">{{ group.name }}</option></select></div><div class=entry><button type=button class=clear-query ng-click=clearQuery() ng-class="{\'visible\':query}"><span class="icons icon-clear-search">Clear query</span></button> <button type=button name=submit class="icons icon-search">Search</button> <input type=search class="query search-field" placeholder="{{ \'SEARCH_TERM\' |translate }}" name=query id=query autocomplete=off ng-model=query ng-change=filterByQuery()></div></div><div id=items-listing class=scrollable ng-iscroll=items_list><ul id=search-item-results class=wrapper><li id=items-list ng-repeat="each in fetchedItems" ng-click=addItem(each)><a class="button white" ng-if="each.type === \'ITEM\'"><span ng-bind-html="escapeNull(each.name)| highlight:query:false"></span> <span class=price><span ng-bind-html="each.unit_price | sntCurrency:this"></span></span> <span ng-if="each.count > 0" class=count>{{ each.count }}</span></a> <a class="button white" ng-if="each.type === \'CHARGE_CODE\'"><span ng-bind-html="escapeNull(each.name) | highlight:query:false"></span> <span class=price><span class=value ng-bind-html="each.charge_code | highlight:query:false"></span></span> <span ng-if="each.count > 0" class=count>{{ each.count }}</span></a></li></ul></div><rv-pagination page-options=postChargePaginationObj page-data=fetchedData.totalCount></rv-pagination></fieldset><fieldset class=content-right><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message"><span translate="">POST_CHARGE_TO_BILL</span> #<span ng-show=passActiveBillNo>{{ passActiveBillNo }}</span><div id=select-bill-number class="select select-stand-alone" ng-hide="passActiveBillNo || !isStandAlone"><select ng-model=billNumber><option ng-repeat="no in fetchedData.bill_numbers" ng-selected="{{no == billNumber}}" value="{{ no }}">{{ no }}</option><option value={{fetchedData.bill_numbers.length+1}} ng-show=isStandAlone>{{fetchedData.bill_numbers.length+1}} &nbsp;&nbsp;({{\'NEW_BILL\'|translate}})</option></select></div><div id=select-bill-number class=select ng-hide="passActiveBillNo || isStandAlone"><select ng-model=billNumber><option ng-repeat="no in fetchedData.bill_numbers" ng-selected="{{no == billNumber}}" value="{{ no }}">{{ no }}</option></select></div></span><div id=no-items-added class=no-content ng-hide=showItemSummaryList()><div class=info><strong class=h1 translate="">0_ITEM_SELECTED</strong></div></div><div id=items-added ng-show=showItemSummaryList() ng-class="{\'charge-details\': showItemSummaryList(), \'grid-only\': !showItemSummaryList()}"><div id=items-summary class=scrollable ng-iscroll=items_summary><ul class=wrapper><li ng-repeat="each in selectedChargeItemHash" ng-class="{\'selected\': each.name === selectedChargeItem.name}" ng-click=selectUnselect(each)>{{ each.name }} <span count="" ng-show="each.count > 1">({{ each.count }})</span> <span class=base>{{\'AT\' | translate}} <span ng-bind-html="each.modifiedPrice | sntCurrency:this"></span> / {{\'UNIT\' | translate}}</span> <span class=price><span ng-bind-html="each.total_price | sntCurrency:this"></span></span></li></ul></div><p id=total-charge>{{\'RESV_TOTAL\' | translate}} <span class=price><span ng-bind-html="net_total_price | sntCurrency:this"></span></span></p><div id=numpad ng-show="selectedChargeItem.item_name || selectedChargeItem.charge_code"><div id=numpad-numbers><button value=1 type=button class="button white" ng-click=calNumAction(1)>1</button> <button value=2 type=button class="button white" ng-click=calNumAction(2)>2</button> <button value=3 type=button class="button white" ng-click=calNumAction(3)>3</button> <button value=4 type=button class="button white" ng-click=calNumAction(4)>4</button> <button value=5 type=button class="button white" ng-click=calNumAction(5)>5</button> <button value=6 type=button class="button white" ng-click=calNumAction(6)>6</button> <button value=7 type=button class="button white" ng-click=calNumAction(7)>7</button> <button value=8 type=button class="button white" ng-click=calNumAction(8)>8</button> <button value=9 type=button class="button white" ng-click=calNumAction(9)>9</button> <button value=+/- type=button class="button white small" ng-click="calBtnAction(\'SIGN\')">+/-</button> <button value=0 type=button class="button white" ng-click=calNumAction(0)>0</button> <button value=. type=button class="button white small" ng-click="calNumAction(\'.\')">.</button></div><div id=numpad-options><button value=QTY type=button id=quantity class="button white numpad-toggle" ng-class="{selected: calToggle === \'QTY\'}" ng-click="calBtnAction(\'QTY\')" translate="">QTY</button> <button value=PR type=button id=price class="button white numpad-toggle" ng-class="{selected: calToggle === \'PR\'}" ng-click="calBtnAction(\'PR\')" translate="">PR</button> <button value=undo type=button class="button white with-icon only-icon clear-value" ng-click="calBtnAction(\'CLR\')"><span class="icons icon-clear"></span>{{\'CLEAR_LAST_VALUE\' | translate}}</button> <button value=delete type=button class="button white with-icon only-icon remove-item" ng-click=removeItem()><span class="icons icon-trash"></span>{{\'REMOVE_ITEM\' | translate}}</button></div></div><div id=actions class=form><div class="entry full-width" ng-repeat="each in selectedChargeItemHash" ng-show="each.name === selectedChargeItem.name && isStandAlone"><div class="entry full-width" style=margin-bottom:15px; ng-show="warningMessage.length && showReason"><section ng-if=warningMessage.length ng-switch="" on=warningMessage.length class="error error-message"><span class=close-btn ng-click=clearWarningMessage()></span> <span class="ng-binding ng-scope">{{warningMessage}}</span></section></div><label ng-if="showReason && adjustmentReasonOptions.length !== 0" for=reference>Adjustment Reason</label><div class=select ng-if="showReason && adjustmentReasonOptions.length !== 0"><select iscroll-stop-propagation="" ng-required=true id=company-country name=company-country ng-change=selectedAdjReason(each) ng-model=each.adjustmentReason><option value="" class=placeholder translate="">Select Adjustment Reason</option><option ng-repeat="reason in adjustmentReasonOptions" value={{reason.id}}>{{reason.value}}</option></select></div><label for=reference>Reference & Description</label> <input id=reference ng-model=each.reference_text placeholder="Enter charge reference" value="" type=text> <label class="checkbox inline" for=show-on-guest-bill ng-class="{\'checked\': each.show_ref_on_invoice}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': each.show_ref_on_invoice}"></span><input id=show-on-guest-bill type=checkbox ng-model=each.show_ref_on_invoice> Show Reference on Guest Invoice</label> <input id=reference placeholder="Enter charge description" value="" type=text ng-hide=true> <label class="checkbox inline" for=override-description ng-hide=true><span class="icon-form icon-checkbox"></span><input id=override-description type=checkbox> Override Original Description</label></div><div class="actions float hide-on-mobile"><button type=button id=cancel class="button blank modal-close" ng-click=closeDialog() translate="">CANCEL</button> <button ng-if=!isOutsidePostCharge type=button id=post class="button modal-close" ng-disabled="disablePostChargeButton || shouldDisablePostCharge()" ng-click=postCharges() ng-class="{\'green\': !shouldDisablePostCharge(), \'grey\': disablePostChargeButton || shouldDisablePostCharge()}" translate="">POST_CHARGE</button><button ng-disabled=disableOutsidePostChargeButton ng-if=isOutsidePostCharge type=button id=post class="button green modal-close" ng-click=clickedPostCharges($event) ng-class="{\'grey\': !isCardAttched}" translate="">POST_CHARGE</button></div></div></div></fieldset><div ng-if=!shouldShowChargesForMobile class="actions mobile-actions hide-on-desktop"><button type=button class="button blank mobile-action-items" ng-click=closeDialog() translate="">CANCEL</button> <button type=button class="button blue mobile-action-items" ng-click=clickedOnViewCharges() translate="">VIEW_CHARGES</button></div><div ng-if=shouldShowChargesForMobile class="actions mobile-actions hide-on-desktop"><button type=button class="back-button mobile-action-posting" ng-click=clickedOnBack() translate="">BACK</button> <button type=button ng-if=!isOutsidePostCharge class="button mobile-action-posting" ng-disabled="disablePostChargeButton || shouldDisablePostCharge()" ng-click=postCharges() ng-class="{\'green\': !shouldDisablePostCharge(), \'grey\': disablePostChargeButton || shouldDisablePostCharge()}" translate="">POST_CHARGE</button> <button type=button ng-if=isOutsidePostCharge class="button mobile-action-posting green" ng-disabled=disableOutsidePostChargeButton ng-click=clickedPostCharges($event) ng-class="{\'grey\': !isCardAttched}" translate="">POST_CHARGE</button></div></span></div></div>'),t.put("/assets/partials/quicktext/rvQuickText.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><iframe ng-src={{iframeEndpoint}} class=content role=main seamless=""></iframe>'),t.put("/assets/partials/rateManager/dashboard.html",'<div id=rate-manager><div resize=""></div><div ng-include="\'/assets/partials/common/header.html\'"></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-include="\'/assets/partials/rateManager/topbar.html\'" style=width:100%; ng-show=currentFilterData.filterConfigured></div><div ng-include="\'/assets/partials/rateManager/leftMenu.html\'" class=left-menu></div><div class=content><div ng-if="displayMode == \'CALENDAR\'" ng-include="\'/assets/partials/rateManager/rateCalendar.html\'" class=calendar></div><div ng-if="displayMode == \'GRAPH\'" ng-include="\'/assets/partials/rateManager/occupancyGraph.html\'" class=graph ng-controller=RateMgrOccupancyGraphCtrl></div></div></div>'),t.put("/assets/partials/rateManager/enterRestriction.html",'<div id=mixedRestrictions class=enter-restriction ng-controller=MixedRestrictionsCtrl><div ng-repeat="restrictionType in data.restrictionTypes"><div class=restriction_text ng-if=restrictionType.hasEdit ng-show=restrictionType.showEdit><h3>{{restrictionType.description}}</h3><div class=inputlabel for=restictionCount><label for=restictionCount>{{restrictionType.description}}</label> <input id=restictionCount type=number ng-model=options.daysEntered></div><div class=cancellationbuttonwrap><button ng-if=hasPermissionToUpdateRestrictions() class="button green" ng-class="{\'grey\' :!options.daysEntered && options.daysEntered!== 0}" type=button ng-click=updateRestrictionBtnClicked(restrictionType.id) ng-disabled="!options.daysEntered && options.daysEntered!== 0">Set</button> <button ng-show=restrictionType.showEdit class="button blank cancel" type=button ng-click=cancelButtonClicked(restrictionType.id)>Cancel</button></div></div></div></div>'),t.put("/assets/partials/rateManager/leftMenu.html",'<div id=rateManagerLeftPanel ng-controller=RMFilterOptionsCtrl class="filter-options {{currentLeftMenuClass}}" ng-click=hideCompanyCardSearchResults()><a class=leftMenuHandle ng-click=toggleLeftMenu()></a><div class=filter-padding><div class=fixed-container><h3>FILTER OPTIONS</h3><div class=scrolling-container ng-iscroll=filter_details ng-iscroll-delay=1000 style=height:{{leftMenuDimensions.scrollableContainerHeight}}px;><div class="holder left"><div class="entry has-datepicker"><label for=rmDateRange>DATE RANGE</label> <input id=rmDateRange placeholder={{defaults.DATE_RANGE_PLACEHOLDER}} readonly="" maxlength=8 value={{currentFilterData.selected_date_range}} class=hasDatepicker name=""> <button ng-click=showCalendar() type=button class=ui-datepicker-trigger>...</button></div><div class=entry><label for=rmZoom>ZOOM LEVEL</label><div class=select><select iscroll-stop-propagation="" id=rmZoom name=zoom-level ng-model=currentFilterData.zoom_level_selected><option ng-selected="level.value == currentFilterData.zoom_level_selected" ng-repeat="level in currentFilterData.zoom_level" class=placeholder value={{level.value}}>{{level.name}}</option></select></div></div><div class=entry><label for=rmSort>ORDER BY</label><div class=select><select iscroll-stop-propagation="" id=rmSort name=sort-order ng-model=currentFilterData.sort_order><option ng-selected="sortOption.id == currentFilterData.sort_order" ng-repeat="sortOption in currentFilterData.sortOptions" class=placeholder value={{sortOption.id}}>{{getSortOption(sortOption.value)}}</option></select></div></div><div class=entry><label for=rmGroup>GROUP BY</label><div class=select><select iscroll-stop-propagation="" id=rmGroup name=group-order><option value="">Select Group Order</option><option value=1>Rate Type</option><option value=2>Hierarchy (Parent/Child)</option></select></div></div><hr><ul class=tabs-nav><li><a href=#radioShowContainer class=active>Show All</a></li><li><a href=#select-rate>Select Rate</a></li></ul><div id=radioShowContainer class="tab show-rate-or-room" ng-class="{\'active\':currentFilterData.is_checked_all_rates}"><label class="checkbox radio inline checked"><span class="icon-form icon-radio checked" ng-class="{\'checked\':currentFilterData.is_checked_all_rates}"></span> <input name=show value=rates type=radio ng-change=clickedAllRates() ng-model=currentFilterData.is_checked_all_rates> ALL RATES</label><label class="checkbox radio inline"><span class="icon-form icon-radio"></span> <input name=show value=rooms type=radio> ALL ROOM TYPES</label></div><div id=select-rate class=tab ng-class="{\'active\':!currentFilterData.is_checked_all_rates}"><div class=entry><div class=select><select iscroll-stop-propagation="" id=rmRateType name=rate-type ng-model=currentFilterData.rate_type_selected ng-change="refreshFilterScroll(); selFirst()"><option class=placeholder value="">Select Rate Type</option><option ng-repeat="rate_type in currentFilterData.rate_types" class=placeholder value={{rate_type.id}}>{{rate_type.name}}</option></select></div></div><div class=rates-box ng-repeat="rate_type in currentFilterData.rate_type_selected_list"><span class=rate-data>{{rate_type.name}}</span> <span ng-click=deleteSelectedRateType(rate_type.id) class="icons delete_small">&nbsp;</span><br clear=all></div><span class=deleteall><a ng-click="deleteSelectedRateType(\'ALL\')" ng-show="currentFilterData.rate_type_selected_list.length > 1">CLEAR ALL RATE TYPES</a></span><div class=entry><div id=rmCurrentFilterData class=select><select iscroll-stop-propagation="" id=rmRate ng-model=currentFilterData.rate_selected ng-change="refreshFilterScroll(); selFirst()"><option class=placeholder value="">Select Rate</option><option ng-repeat="rate in currentFilterData.rates | filter:removeExpiredRates" class=placeholder value={{rate.id}}>{{rate.name}}</option></select></div></div><div class=rates-box ng-repeat="rates in currentFilterData.rates_selected_list"><span class=rate-data>{{rates.name}}</span> <span ng-click=deleteRate(rates.id) class="icons delete_small">&nbsp;</span><br clear=all></div><span class=deleteall><a ng-click="deleteRate(\'ALL\')" ng-show="currentFilterData.rates_selected_list.length > 2">CLEAR ALL RATES</a></span></div><hr><div id=accountsHolder class="entry entry-company-card"><label for=company-card class=search-text>NAME CARD, IATA # OR CORPORATE ID</label> <span type=submit name=submit class="icons icon-search1"></span> <input type=text id=company-card placeholder="Enter search criteria" autocomplete=off ng-model=companySearchText ng-keyup=companySearchTextEntered()></div><div class="rates-box dark" ng-repeat="name_card in currentFilterData.name_cards"><span class=rate-data>{{name_card.account_name}}</span> <span ng-click=deleteCards(name_card.id) class="icons delete_small">&nbsp;</span><br clear=all></div></div></div></div></div><div class=company-card-results ng-hide="companyCardResults.length === 0 || companySearchText === \'\'" style="height: {{cmpCardSearchDivHgt}}px; top: {{cmpCardSearchDivTop}}px"><div class=search-results iscroll=nameOnCard ng-iscroll-delay=100><ul id=search-list><li ng-repeat="row in companyCardResults" ng-click="setCompanyCardFilter(row, $event)"><div class="icons icon-company" ng-if="escapeNull(row.account_type)==\'COMPANY\' && row.company_logo == \'\'"></div><div class="icons icon-travel-agent" ng-if="escapeNull(row.account_type)==\'TRAVELAGENT\' && row.company_logo == \'\'"></div><img ng-src={{row.company_logo}} alt="" ng-if="row.company_logo != \'\'"><h4 ng-bind-html=row.account_name|highlight:companySearchText:false></h4></li></ul></div></div><div class="entry action-filter"><div class="actions float"><button class="button green" type=button ng-click=showRatesBtnClicked() ng-disabled=toggleShowRates() ng-class="{ grey: toggleShowRates() }" disabled=disabled>Show Rates</button></div></div></div>'),
t.put("/assets/partials/rateManager/mixedRestrictions.html",'<div id=mixedRestrictions ng-controller=MixedRestrictionsCtrl><div ng-repeat="restrictionType in data.restrictionTypes" class=editor-container><div class=restriction_text ng-if=restrictionType.hasEdit ng-show=restrictionType.showEdit><h3>{{restrictionType.description}}</h3><em>Adjust restriction for all room types</em><div class="mixed_restrictions notice">This overrides all <strong class=restriction-description>{{restrictionType.description}}</strong> restrictions for the selected room type(s) and date range.</div><div class=inputlabel for=restictionCount><label for=restictionCount>{{restrictionType.description}}</label> <input id=restictionCount type=number ng-model=options.daysEntered></div><div class=cancellationbuttonwrap><button class="button red" type=button ng-click=removeRestrictionBtnClicked(restrictionType.id)>Remove</button> <button ng-if=hasPermissionToUpdateRestrictions() class="button green" type=button ng-class="{\'grey\' :!options.daysEntered && options.daysEntered!== 0}" ng-disabled="!options.daysEntered && options.daysEntered!== 0" ng-click=updateRestrictionBtnClicked(restrictionType.id)>Set</button> <button ng-show=restrictionType.showEdit class="button blank cancel" type=button ng-click=cancelButtonClicked(restrictionType.id)>Cancel</button></div></div><div class=restriction_text ng-if=!restrictionType.hasEdit ng-show=restrictionType.showEdit><h3>{{restrictionType.description}}</h3><em>Adjust restriction for all room types</em><div class="mixed_restrictions notice">This overrides all <strong class=restriction-description>{{restrictionType.description}}</strong> restrictions for the selected room type(s) and date range.</div><div class=cancellationbuttonwrap><button class="button red" type=button ng-click=removeRestrictionBtnClicked(restrictionType.id)>Remove</button> <button ng-if=hasPermissionToUpdateRestrictions() class="button green" type=button ng-click=updateRestrictionBtnClicked(restrictionType.id)>Set</button> <button ng-show=restrictionType.showEdit class="button blank cancel" type=button ng-click=cancelButtonClicked(restrictionType.id)>Cancel</button></div></div></div></div>'),t.put("/assets/partials/rateManager/noPriceInfo.html",'<div id=pricesContainer><div class=scrollable><div class=restriction_text><h3>PRICES</h3><em ng-if="ratesRoomsToggle !== \'RATES\'">Prices for this room type</em> <em ng-if="ratesRoomsToggle === \'RATES\'">Prices for all room types</em></div><div class=no-content><div class=info><span class="icon-no-content icon-rates"></span><strong class=h1 ng-if="ratesRoomsToggle !== \'RATES\'">No Rate</strong> <strong class=h1 ng-if="ratesRoomsToggle === \'RATES\'">Select a Rate</strong><span class=h2 ng-if="ratesRoomsToggle !== \'RATES\'">Please select at least one rate to show prices for <strong>{{data.name}}</strong></span> <span class=h2 ng-if="ratesRoomsToggle === \'RATES\'">Prices can be viewed only for specific rates</span></div></div></div></div>'),t.put("/assets/partials/rateManager/occupancyGraph.html",'<div class=occupancy-graph-container><div class=filter-options><div class="entry radio-check"><label for=actual_1 ng-class="{\'checked\': seriesActualVisible}" class="checkbox checked"><span ng-class="{\'checked\':seriesActualVisible}" class="icon-form icon-checkbox ng-pristine ng-valid checked" ng-model=currentFilterData.is_checked_all_rates></span> <input id=actual_1 type=checkbox ng-click="legendToggled(\'actual\')"> ACTUAL</label></div><div class="entry radio-check"><label for=actual_2 ng-class="{\'checked\':seriesTargetVisible}" class="checkbox checked target"><span ng-class="{\'checked\':seriesTargetVisible}" class="icon-form icon-checkbox ng-pristine ng-valid checked" ng-model=currentFilterData.is_checked_all_rates></span> <input id=actual_2 type=checkbox ng-click="legendToggled(\'target\')"> TARGET</label></div><hr><button type=button id=update class="button green edit-data-inline" ng-click=showSetTargetDialog()>Set Targets</button></div></div><div id=occ-graph class=occgraph-outer style=width:{{graphDimensions.containerWidth}}px;height:{{graphDimensions.containerHeight}}px; ng-iscroll=RateMgrOccupancyGraphCtrl ng-iscroll-delay=1000><highchart id=occGraphContainer config=highchartsNG style=width:{{graphDimensions.width}}px;height:{{graphDimensions.height}}px;></highchart></div>'),t.put("/assets/partials/rateManager/priceInfo.html",'<div id=pricesContainer><div class=scrollable><div class=restriction_text><h3>PRICES</h3><em ng-if="ratesRoomsToggle === \'RATES\' && !popupData.fromRoomTypeView">Prices for all room types</em></div><div class="prices-container scrollable" ng-iscroll=priceList ng-iscroll-delay=1500><div class=wrapper><div class=price-info ng-repeat="roomPrice in data.roomPriceData"><span class=name>{{roomPrice.name}}</span> <span class=price>{{roomPrice.rate}}</span></div></div></div></div></div>'),t.put("/assets/partials/rateManager/rateCalendar.html",'<span ng-controller=RateCalendarCtrl><div id=rate-manager-not-configured class=no-content ng-if=!currentFilterData.filterConfigured><div class=info><span class="icon-no-content icon-rates"></span> <strong class=h1>Rate Manager not configured</strong> <span class=h2>Please select filter options to begin</span></div></div><div class="calendar-wraper zoom-level-{{currentFilterData.zoom_level_selected}}"><div ng-show="currentFilterData.filterConfigured && calendarMode == \'RATE_VIEW\'"><div class="scrollable pinnedLeft" ng-iscroll=all-room-type-rate-left-scroller><div class=wrapper><table class=rate-calendar><thead><tr><th class=cell><button ng-click="openCloseAllRestrictions(\'remove\')" class="button rm-buttonOpenClose" ng-class="{\'green\': anyRoomHasClosedRestriction, \'grey\': !anyRoomHasClosedRestriction}" ng-disabled=!anyRoomHasClosedRestriction>Open All</button> <button ng-click="openCloseAllRestrictions(\'add\')" class="button rm-buttonOpenClose" ng-class="{\'red\': !calendarData.disableCloseAllBtn, \'grey\': calendarData.disableCloseAllBtn}" ng-disabled=calendarData.disableCloseAllBtn>Close All</button></th></tr><tr></tr></thead><tbody><tr class="cell rate"><td class="first-row force-align"><span class="name bolder" ng-show="activeToggleButton == \'Rates\'">All Rates</span> <span class="name bolder" ng-show="activeToggleButton != \'Rates\'">All Room Types</span></td></tr><tr class="cell rate" ng-repeat="rate in calendarData.data track by rate.id" ng-class="{\'last\': $last && loading === false}" ng-show="calendarMode === \'RATE_VIEW\'"><td class="first-row force-align"><a title={{rate.name}} ng-click=goToRoomTypeCalendarView(rate)><span class=name ng-class="{\'gray\': rateIsChild(rate) == true && ratesRoomsToggle !== \'ROOMS\'}" title={{rate.name}}><span ng-show="rateIsChild(rate) != true" class=base-rate-indicator>B</span> {{rate.name}}</span> <span ng-hide=hideRoomsDownArrow class="icons icon-double-arrow rotate-right"></span></a></td></tr></tbody></table></div></div><div ng-iscroll=all-room-type-rate-grid-scroller style=max-height:{{uiOptions.tableHeight}}px; class="calendar-rate-table scrollable" id=rateViewCalendar><div class=wrapper style=width:{{uiOptions.tableWidth}}px;><table class=rate-calendar><thead><tr class=cell><th ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'" ng-repeat="date in calendarData.dates track by $index"><div ng-if=!isHistoryDate(date) class=date-header ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'"><span class=week-day>{{date| date:\'EEEE\'}}</span> <span>{{date| date:\'MMMM dd\'}}</span></div><div ng-if=isHistoryDate(date) class="date-header isHistory-cell-content"><span class=week-day>{{date| date:\'EEEE\'}}</span> <span>{{date| date:\'MMMM dd\'}}</span></div></th></tr></thead><tbody><tr ng-if="calendarData.data.length > 1"><td ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'" ng-repeat="date in calendarData.dates track by $index" class=cell><div class=cell-container ng-class="{{isHistoryDate(date)}} ? \'history_cell_container\' : \'\'"><div ng-if=!isHistoryDate(date) class=cell-content ng-click="showUpdatePriceAndRestrictionsDialog(date, \'\', \'\', (ratesRoomsToggle === \'ROOMS\' ? \'ROOM_TYPE\' : \'RATE_TYPE\'), true)"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/restrictionsDivCalendarData.html\'"></div></div><div ng-if=isHistoryDate(date) class="cell-content isHistory-cell-content"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/restrictionsDivCalendarData.html\'"></div></div></div></td></tr><tr ng-repeat="rate in calendarData.data track by rate.id" ng-class="{\'last\': $last && loading === false}" ng-show="calendarMode === \'RATE_VIEW\'" ngrepeatstarted="" ngrepeatend=""><td ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'" ng-repeat="date in calendarData.dates track by $index" class=cell><div class=cell-container ng-class="{{isHistoryDate(date)}} ? \'history_cell_container\' : \'\'"><div ng-if=!isHistoryDate(date) class=cell-content ng-click="showUpdatePriceAndRestrictionsDialog(date, rate.id, rate.room_type_id, (ratesRoomsToggle === \'ROOMS\' ? \'ROOM_TYPE\' : \'RATE_TYPE\'), false)"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/restrictionsDivRateData.html\'"></div></div><div ng-if=isHistoryDate(date) class="cell-content isHistory-cell-content"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/restrictionsDivRateData.html\'"></div></div></div></td></tr></tbody></table></div></div></div><div ng-show="currentFilterData.filterConfigured && calendarMode == \'ROOM_TYPE_VIEW\'"><div class=pinnedLeft ng-iscroll=room-type-details-left-scroller><table class=rate-calendar><thead><tr><th class=cell><button ng-click="openCloseAllRestrictions(\'remove\')" class="button rm-buttonOpenClose" ng-class="{\'green\': anyRoomHasClosedRestriction,\'grey\': !anyRoomHasClosedRestriction}" ng-disabled=!anyRoomHasClosedRestriction>Open All</button> <button ng-click="openCloseAllRestrictions(\'add\')" class="button rm-buttonOpenClose" ng-class="{\'red\': !calendarData.disableCloseAllBtn,\'grey\': calendarData.disableCloseAllBtn}" ng-disabled=calendarData.disableCloseAllBtn>Close All</button></th></tr></thead><tbody><tr class="cell rate" ng-if="calendarData.data.length > 1"><td class="first-row force-align"><span class="name bolder">All Room Types</span></td></tr><tr class="cell rate" ng-repeat="rate in calendarData.data track by rate.id" ng-class="{\'expandedFirstRow\': currentExpandedRow === $index}"><td class="first-row force-align"><a ng-click=expandRow($index)><span class=name ng-class="{\'expanded\': currentExpandedRow === $index}">{{rate.name}}</span> <span class="icons icon-double-arrow rotate-down" ng-hide="currentExpandedRow === $index || !!rate.is_hourly"></span> <span class="icons icon-double-arrow rotate-up" ng-show="currentExpandedRow === $index && !rate.is_hourly"></span></a></td></tr></tbody></table></div><div ng-iscroll=room-type-details-grid-scroller style=max-height:{{uiOptions.tableHeight}}px; class="calendar-rate-table scrollable" id=rateViewCalendar><div class=wrapper style=width:{{uiOptions.tableWidth}}px; id=roomTypeViewCalendar><table class=rate-calendar><thead><tr class=cell><th ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'" ng-repeat="date in calendarData.dates track by $index"><div ng-if=!isHistoryDate(date) class=date-header ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'"><span class=week-day>{{date| date:\'EEEE\'}}</span> <span>{{date| date:\'MMMM dd\'}}</span></div><div ng-if=isHistoryDate(date) class="date-header isHistory-cell-content"><span class=week-day>{{date| date:\'EEEE\'}}</span> <span>{{date| date:\'MMMM dd\'}}</span></div></th></tr></thead><tbody><tr ng-if="calendarData.data.length > 1"><td ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'" ng-repeat="date in calendarData.dates track by $index" class=cell><div ng-class="(!isHistoryDate(date) && currentExpandedRow === $parent.$index && !rate.is_hourly && {{isWeekend(date)}}) ? \'expandedContainerWeekend\' : \'\'" class=cell-container><div ng-if=!isHistoryDate(date) class=cell-content ng-click="showUpdatePriceAndRestrictionsDialog(date, \'\', \'\', \'ROOM_TYPE\', true)"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarRestrictions.html\'"></div></div><div ng-if=isHistoryDate(date) class="cell-content isHistory-cell-content"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarRestrictions.html\'"></div></div></div></td></tr><tr ng-repeat="rate in calendarData.data track by rate.id" ng-class="{\'last\': $last}"><td ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'" ng-repeat="date in calendarData.dates track by $index" class=cell ng-hide="currentExpandedRow === $parent.$index && !rate.is_hourly" ngrepeatstarted="" ngrepeatend=""><div ng-class="(!isHistoryDate(date) && currentExpandedRow === $parent.$index && !rate.is_hourly && {{isWeekend(date)}}) ? \'expandedContainerWeekend\' : \'\'" class=cell-container><div ng-if=!isHistoryDate(date) class=cell-content ng-click="showUpdatePriceAndRestrictionsDialog(date, \'\', rate.id, \'ROOM_TYPE\', false)"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarDiv.html\'"></div></div><div ng-if=isHistoryDate(date) class="cell-content isHistory-cell-content"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarDiv.html\'"></div></div></div></td><td ng-repeat="date in calendarData.dates track by $index" class=cell ng-show="currentExpandedRow === $parent.$index && !rate.is_hourly"><div ng-class="(!isHistoryDate(date) && currentExpandedRow === $parent.$index && !rate.is_hourly && {{isWeekend(date)}}) ? \'expandedContainerWeekend\' : \'\'" class="exp cell-container"><div ng-if=!isHistoryDate(date) class="exp cell-content" ng-click="showUpdatePriceAndRestrictionsDialog(date, \'\', rate.id, \'ROOM_TYPE\', false)"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarRoomTypeExpanded.html\'"></div></div><div ng-if=isHistoryDate(date) class="exp cell-content isHistory-cell-content"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarRoomTypeExpanded.html\'"></div></div></div></td></tr></tbody></table></div></div></div><div class=pinned-bottom><ul class=restriction-legends><li ng-repeat="restrictionType in calendarData.restriction_types"><span class="restriction-icon {{restrictionType.background_class}} {{restrictionType.icon}}">{{restrictionType.days}}</span> <span>{{restrictionType.description}}</span></li></ul></div></div></span>'),t.put("/assets/partials/rateManager/rateCell.html",'<tr><td colspan="{{$data.data.length + 1}}">All rooms</td></tr><tr ng-repeat="row in $data.data"><td ng-hide="currentExpandedRow==$index">Room Type <img src=/assets/arrow-up.png ng-click=expandRow($index)></td><td ng-show="currentExpandedRow==$index">Room Type Expanded <img src=/assets/arrow-up.png ng-click=expandRow($index)></td><td ng-hide="currentExpandedRow==$parent.$index" ng-repeat="item in row.details" class=cal-cell>{{item.rates.total}} <span class="guest-status check-out"></span></td><td ng-repeat="item in row.details" class=cal-cell ng-show="currentExpandedRow==$parent.$index">expanded value</td></tr>'),t.put("/assets/partials/rateManager/rateViewCalendar.html",'<div class=scrollBound><div class="scrollTable pinnedLeft" scroll-position=initScrollBind() style="overflow:hidden;height:{{uiOptions.tableHeight}}px; margin-top: 4px;"><table class=rate-calendar style="width: 220px;"><thead><tr><th class=cell style="height: 53px; padding: 0 20 0 0;"><button ng-click="openCloseAllRestrictions(\'remove\')" class="button rm-buttonOpenClose" style=margin-left:50px; ng-class="{\'green\': anyRoomHasClosedRestriction, \'grey\': !anyRoomHasClosedRestriction}" ng-disabled=!anyRoomHasClosedRestriction>Open All</button> <button ng-click="openCloseAllRestrictions(\'add\')" class="button rm-buttonOpenClose" ng-class="{\'red\': !calendarData.disableCloseAllBtn, \'grey\': calendarData.disableCloseAllBtn}" ng-disabled=calendarData.disableCloseAllBtn>Close All</button></th></tr><tr></tr></thead><tbody><td class=cell style="padding: 20px; padding-right: 5px; overflow:visible;"><div class="bolder buttonToggleContainer"><button class="button rm-buttonToggle" ng-class="activeToggleButton == \'Rates\' ? \'orange\' : \'grey\'" style="margin-bottom:4px; margin-top:-5px;" ng-click=toggleAllRates()>All Rates</button><br><button class="button rm-buttonToggle" ng-class="activeToggleButton == \'Rooms\' ? \'orange\' : \'grey\'" style="margin-bottom: -5px;" ng-click=toggleAllRooms()>All Rooms</button></div></td><tr class=cell ng-repeat="rate in calendarData.data track by rate.id" ng-class="{\'last\': $last && loading === false}" ng-show="calendarMode === \'RATE_VIEW\'"><td class="first-row force-align"><div ng-click=goToRoomTypeCalendarView(rate)><span ng-class="{\'gray\': rateIsChild(rate) == true && ratesRoomsToggle !== \'ROOMS\'}" title={{rate.name}}>{{rate.name}}</span> <span><img src=/ui/pms-ui/cssimg/arrow-down.png ng-hide=hideRoomsDownArrow></span></div></td></tr></tbody></table></div><div ng-if=!uiOptions.isIpad scroll-position=initScrollBind() class=scrollTable id=rateViewCalendar style=height:{{uiOptions.tableHeight}}px;><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/rateCalendarTable.html\'"></div></div><div ng-if=uiOptions.isIpad scroll-position=initScrollBind() class=scrollTable id=rateViewCalendar style=height:{{uiOptions.tableHeight}}px; ng-iscroll=RateCalendarCtrl ng-iscroll-delay=1000><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/rateCalendarTable.html\'"></div></div></div><div class=pinned-bottom><ul class=restriction-legends><li ng-repeat="restrictionType in calendarData.restriction_types"><span class="restriction-icon {{restrictionType.background_class}} {{restrictionType.icon}}">{{restrictionType.days}}</span> <span>{{restrictionType.description}}</span></li></ul></div>'),t.put("/assets/partials/rateManager/restrictionRoomRates.html",'<div id=restrictionPriceContainer class=price-div ng-if=hasPermissionToUpdateRates()><div class=restriction_text><h3>PRICE</h3><em ng-if="!data.isHourly && popupData.all_data_selected">Adjust price for all room types</em> <em ng-if="!data.isHourly && !popupData.all_data_selected">Adjust price for this room type</em> <em ng-if=data.isHourly>Price adjustment for all Occupancies</em></div><div ng-show=calendarData.is_child ng-hide=!calendarData.is_child class="no-content rate-mgr" sourc=""><div class=info><span class="icon-no-content icon-rates"></span> <strong class=h1>Can\'t adjust price for child rate</strong> <span ng-if="popupData.parentRate !== \'\'" class=h2>You can however adjust the price on it\'s parent rate <strong>{{popupData.parentRate}}</strong></span><button class="button blank edit-data-inline purple" type=button>Adjust Parent Rate</button></div></div><section ng-if="data.isHourly && !calendarData.is_child"><div class=price-fields><label ng-class="{\'hasOverride-label\': rateDateHasOverride(data, date,\'nightly\') != \'false\'}">ALL OCCUPANCIES<text class=hasOverride-label ng-if="hasAnyOverride() !== \'false\'">*</text></label> <span ng-if=!popupData.all_data_selected><span class="price entry"><input type=text size=7 ng-model=data.nightly ng-class="{\'hasOverride-label\': rateDateHasOverride(data, date,\'nightly\') != \'false\'}" ng-disabled="data.nightly_extra_amnt != \'\' || data.nightly == undefined" force-decimal-zero-dir=""></span> <span class=or-class>OR</span></span><span class="entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select ng-model=data.nightly_sign ng-disabled="data.nightly == undefined"><option ng-selected="data.nightly_sign == \'+\'" value=+>+</option><option ng-selected="data.nightly_sign == \'-\'" value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-model=data.nightly_extra_amnt ng-disabled="data.nightly == undefined"></span><span class="select_amount_diff entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select ng-model=data.nightly_amnt_diff_sign ng-disabled="data.nightly == undefined"><option ng-selected="data.nightly_amnt_diff_sign == \'%\'" value=%>%</option><option ng-selected="data.nightly_amnt_diff_sign == currencySymbol" value={{currencySymbol}}>{{currencySymbol}}</option></select></span><br clear=all></div></section><section class="price-field-container scrollable" ng-iscroll=priceList ng-iscroll-delay=1500 ng-if="!data.isHourly && !calendarData.is_child"><div class=wrapper><div class=price-fields><label ng-if="!hasOverride(data,\'SINGLE\')">SINGLE</label> <label ng-if="hasOverride(data,\'SINGLE\')" class=hasOverride-label>SINGLE*</label> <span ng-if=!popupData.all_data_selected><span class="price entry"><input type=text ng-model=data.single ng-class="{\'strike-through\': data.single_extra_amnt != \'\', \'hasOverride-label\': hasOverride(data,\'SINGLE\') != false}" ng-disabled="data.single_extra_amnt != \'\' || data.single == undefined" force-decimal-zero-dir=""></span> <span class=or-class>OR</span></span><span class="entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select ng-model=data.single_sign ng-disabled="data.single == undefined"><option ng-selected="data.single_sign == \'+\'" value=+>+</option><option ng-selected="data.single_sign == \'-\'" value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-model=data.single_extra_amnt ng-disabled="data.single == undefined"></span><span class="select_amount_diff entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select ng-model=data.single_amnt_diff ng-disabled="data.single == undefined"><option ng-selected="data.single_amnt_diff == \'%\'" value=%>%</option><option ng-selected="data.single_amnt_diff == currencySymbol" value={{currencySymbol}}>{{currencySymbol}}</option></select></span><br clear=all><div ng-if=data.single_extra_amnt class=apply-all-div ng-hide="showButton(applyAllShow,\'single\')"><button id=apply-all-single class="button blue apply-all-button" ng-click="applyToAll(data,\'single\')">Apply to all occupancies</button></div></div><div class=price-fields><label ng-if="!hasOverride(data,\'DOUBLE\')">DOUBLE</label> <label ng-if="hasOverride(data,\'DOUBLE\')" class=hasOverride-label>DOUBLE*</label> <span ng-if=!popupData.all_data_selected><span class="entry price"><input type=text ng-class="{\'strike-through\': data.double_extra_amnt != \'\', \'hasOverride-label\': hasOverride(data,\'DOUBLE\') != false}" ng-model=data.double ng-disabled="data.double_extra_amnt!=\'\' || data.double == undefined" force-decimal-zero-dir=""></span> <span class=or-class>OR</span></span><span class="entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select ng-model=data.double_sign ng-disabled="data.double == undefined"><option ng-selected="data.double_sign == \'+\'" value=+>+</option><option ng-selected="data.double_sign == \'-\'" value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-model=data.double_extra_amnt ng-disabled="data.double == undefined"></span><span class="select_amount_diff entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select style=width:70px; ng-model=data.double_amnt_diff ng-disabled="data.double == undefined"><option ng-selected="data.double_amnt_diff == \'%\'" value=%>%</option><option ng-selected="data.double_amnt_diff == currencySymbol" value={{currencySymbol}}>{{currencySymbol}}</option></select></span><br><div ng-if=data.double_extra_amnt class=apply-all-div ng-hide="showButton(applyAllShow,\'double\')"><button id=apply-all-double class="button blue apply-all-button" ng-click="applyToAll(data,\'double\')">Apply to all occupancies</button></div></div><div class=price-fields><label ng-if="!hasOverride(data,\'EXTRA ADULT\')">EXTRA ADULT (+{{currencySymbol}})</label> <label ng-if="hasOverride(data,\'EXTRA ADULT\')" class=hasOverride-label>EXTRA ADULT (+{{currencySymbol}})*</label> <span ng-if=!popupData.all_data_selected><span class="price entry"><input type=text ng-class="{\'strike-through\': data.extra_adult_extra_amnt != \'\', \'hasOverride-label\': hasOverride(data,\'EXTRA ADULT\') != false}" ng-model=data.extra_adult ng-disabled="data.extra_adult_extra_amnt!=\'\' || data.extra_adult == undefined" force-decimal-zero-dir=""></span> <span class=or-class>OR</span></span><span class="entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select ng-model=data.extra_adult_sign ng-disabled="data.extra_adult == undefined"><option ng-selected="data.extra_adult_sign == \'+\'" value=+>+</option><option ng-selected="data.extra_adult_sign == \'-\'" value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-model=data.extra_adult_extra_amnt ng-disabled="data.extra_adult == undefined"></span><span class="select_amount_diff entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select ng-model=data.extra_adult_amnt_diff ng-disabled="data.extra_adult == undefined"><option ng-selected="data.extra_adult_amnt_diff == \'%\'" value=%>%</option><option ng-selected="data.extra_adult_amnt_diff == currencySymbol" value={{currencySymbol}}>{{currencySymbol}}</option></select></span><br><div ng-if=data.extra_adult_extra_amnt class=apply-all-div ng-hide="showButton(applyAllShow,\'extra_adult\')"><button id=apply-all-adult class="button blue apply-all-button" ng-click="applyToAll(data,\'extra_adult\')">Apply to all occupancies</button></div></div><div class="price-fields last-price-fields"><label ng-if="!hasOverride(data,\'CHILD\')">CHILD (+{{currencySymbol}})</label> <label ng-if="hasOverride(data,\'CHILD\')" class=hasOverride-label>CHILD (+{{currencySymbol}})*</label> <span ng-if=!popupData.all_data_selected><span class="entry price"><input type=text ng-class="{\'strike-through\': data.child_extra_amnt != \'\', \'hasOverride-label\': hasOverride(data,\'CHILD\') != false}" ng-model=data.child ng-disabled="data.child_extra_amnt!=\'\' || data.child == undefined" force-decimal-zero-dir=""></span> <span class=or-class>OR</span></span><span class="entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select ng-model=data.child_sign ng-disabled="data.child == undefined"><option ng-selected="data.child_sign == \'+\'" value=+>+</option><option ng-selected="data.child_sign == \'-\'" value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-model=data.child_extra_amnt ng-disabled="data.child == undefined"></span><span class="select_amount_diff entry select" ng-class="{ \'disabled\' : data.single == undefined }"><select ng-model=data.child_amnt_diff ng-disabled="data.child == undefined"><option ng-selected="data.child_amnt_diff == \'%\'" value=%>%</option><option ng-selected="data.child_amnt_diff == currencySymbol" value={{currencySymbol}}>{{currencySymbol}}</option></select></span><br><div ng-if=data.child_extra_amnt class=apply-all-div ng-hide="showButton(applyAllShow,\'child\')"><button id=apply-all-child class="button blue apply-all-button" ng-click="applyToAll(data,\'child\')">Apply to all occupancies</button></div></div></div></section></div>'),t.put("/assets/partials/rateManager/restrictionWeekDays.html",'<div id=restrictionDays ng-controller=RestrictionWeekdaysCtrl><h3>Apply to Dates</h3><label ng-if=hasPermissionToUpdateRates() for=cb_price class=checkbox ng-click="daysOptions.applyToPrice = !daysOptions.applyToPrice" ng-show=popupData.fromRoomTypeView ng-hide=calendarData.is_child><span class="icon-form icon-checkbox" ng-class="{\'checked\':daysOptions.applyToPrice}"></span> <input id=cb_price type=checkbox ng-model=daysOptions.applyToPrice> APPLY TO PRICE</label> <label ng-if=hasPermissionToUpdateRestrictions() for=cb_restrictions class=checkbox ng-click="daysOptions.applyToRestrictions = !daysOptions.applyToRestrictions" ng-hide="showExpandedView && !popupData.fromRoomTypeView && !popupData.all_data_selected"><span class="icon-form icon-checkbox" ng-class="{\'checked\':daysOptions.applyToRestrictions}"></span> <input id=cb_restrictions type=checkbox ng-model=daysOptions.applyToRestrictions> APPLY TO RESTRICTIONS</label><h4>For every</h4><div class=list_week_days><label for=cb_day class=checkbox ng-repeat="day in daysOptions.days" ng-click="day.value = !day.value"><span class="icon-form icon-checkbox" ng-class="{\'checked\': day.value}"></span> <input id=cb_day type=checkbox ng-model=day.value> {{day.key}}</label><button>Select All</button></div><h4>Until</h4><div class=has-datepicker><input placeholder="Select Date Range" readonly="" maxlength=8 class=hasDatepicker name=""> <button type=button class=ui-datepicker-trigger>...</button></div></div>'),t.put("/assets/partials/rateManager/restrictionsList.html",'<div class=restriction-list><div class=restriction_text><h3>RESTRICTIONS</h3></div><div id=restictionsList class=scrollable ng-iscroll="" ng-iscroll-delay=1000><ul class=wrapper><li class=restriction-type ng-class="{selected: ($index == restrictionsList.selectedIndex && data.showEditView),\'overlay\': ( restrictionType.isOnRate == true || hasRestrictionPermissions == false || getRestriction(restrictionType, \'is_on_rate\') == true), \'value-not-inserted\': (restrictionType.days === \'\' && restrictionType.hasEdit ) }" ng-repeat="restrictionType in data.restrictionTypes" ng-hide="(restrictionType.hideOnHourly == true && data.isHourly) || (!data.isHourly && !data.id && restrictionType.hideOnHourly == true && data.isHourly != false)" ng-click="toggleRestrictions(restrictionType.id, restrictionType.days,$index, restrictionType)"><div ng-hide="restrictionType.description === \'Has Restrictions\'" class=restriction-left ng-class="{\'toggable\': (restrictionType.hasEdit || restricitonType.isMixed)}"><span ng-if="restrictionType.days !== \'\'" class="restriction-icon {{restrictionType.background_class}} {{restrictionType.icon}}">{{restrictionType.days}}</span> <span ng-if="restrictionType.days === \'\'" class="restriction-icon {{restrictionType.background_class}} {{restrictionType.icon}}">{{getRestriction(restrictionType, \'days\')}}</span> <span class=restriction-name>{{restrictionType.description}}</span><span ng-show=restrictionType.hasEdit class="icons icon-double-arrow rotate-right"></span></div><div class=restriction-right><div ng-show=restrictionType.isMixed class=mixed-button>Mixed</div><div ng-show=!restrictionType.isMixed class=switch-button ng-class="{\'on\': restrictionType.isRestrictionEnabled, \'disabled\':(restrictionType.hasEdit && restrictionType.days ===\'\')}"><span class=switch-icon></span><input type=checkbox ng-checked=restrictionType.isRestrictionEnabled ng-disabled="restrictionType.hasEdit && restrictionType.days ===\'\'" value=""></div></div></li></ul></div></div>'),t.put("/assets/partials/rateManager/roomTypeViewCalendar.html",'<div class=scrollBound><div class="scrollTable pinnedLeft" scroll-position=initScrollBind() style="overflow:hidden; height:{{uiOptions.tableHeight}}px; margin-top: 4px;"><table class=rate-calendar><thead><tr><th class="cell first-row actions"><button ng-click="openCloseAllRestrictions(\'remove\')" class=button ng-class="{\'green\': anyRoomHasClosedRestriction,\'grey\': !anyRoomHasClosedRestriction}" ng-disabled=!anyRoomHasClosedRestriction>Open All</button> <button ng-click="openCloseAllRestrictions(\'add\')" class=button ng-class="{\'red\': !calendarData.disableCloseAllBtn,\'grey\': calendarData.disableCloseAllBtn}" ng-disabled=calendarData.disableCloseAllBtn>Close All</button></th></tr></thead><tbody><tr ng-if="calendarData.data.length > 1"><td class="first-row cell"><span class=bolder>All room types</span> <span>&nbsp;</span></td></tr><tr class=cell style=height:67px ng-repeat="rate in calendarData.data track by rate.id" ng-class="{\'expandedFirstRow\': currentExpandedRow === $index}"><td class="first-row force-align"><span ng-class="{\'expanded\': currentExpandedRow === $index}">{{rate.name}}</span> <span style=float:right ng-hide="currentExpandedRow === $index || !!rate.is_hourly"><img class=down src=/ui/pms-ui/cssimg/arrow-down.png ng-click=expandRow($index)></span> <span style=float:right ng-show="currentExpandedRow === $index && !rate.is_hourly"><img class=up src=/ui/pms-ui/cssimg/arrow-up.png ng-click=expandRow($index)></span></td></tr></tbody></table></div><div scroll-position=initScrollBind() class=scrollTable id=roomTypeViewCalendar style=height:{{uiOptions.tableHeight}}px;><table class=rate-calendar style=width:{{uiOptions.tableWidth}}px;><thead><tr class=cell><th ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'" ng-repeat="date in calendarData.dates track by $index" style=width:{{uiOptions.columnWidth}}px;><div ng-if=!isHistoryDate(date) class=date-header ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'"><span class=week-day>{{date| date:\'EEEE\'}}</span> <span>{{date| date:\'MMMM dd\'}}</span></div><div ng-if=isHistoryDate(date) class="date-header isHistory-cell-content" style=opacity:0.7;><span class=week-day>{{date| date:\'EEEE\'}}</span> <span>{{date| date:\'MMMM dd\'}}</span></div></th></tr></thead><tbody><tr ng-if="calendarData.data.length > 1"><td ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'" ng-repeat="date in calendarData.dates track by $index" class=cell><div ng-class="(!isHistoryDate(date) && currentExpandedRow === $parent.$index && !rate.is_hourly && {{isWeekend(date)}}) ? \'expandedContainerWeekend\' : \'\'" class=cell-container><div ng-if=!isHistoryDate(date) class=cell-content ng-click="showUpdatePriceAndRestrictionsDialog(date, \'\', \'\', \'ROOM_TYPE\', true)"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarRestrictions.html\'"></div></div><div ng-if=isHistoryDate(date) class="cell-content isHistory-cell-content"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarRestrictions.html\'"></div></div></div></td></tr><tr ng-repeat="rate in calendarData.data track by rate.id" ng-class="{\'last\': $last}"><td ng-class="{{isWeekend(date)}} ? \'weekend_day\' : \'\'" ng-repeat="date in calendarData.dates track by $index" class=cell ng-hide="currentExpandedRow === $parent.$index && !rate.is_hourly"><div ng-class="(!isHistoryDate(date) && currentExpandedRow === $parent.$index && !rate.is_hourly && {{isWeekend(date)}}) ? \'expandedContainerWeekend\' : \'\'" class=cell-container><div ng-if=!isHistoryDate(date) class=cell-content ng-click="showUpdatePriceAndRestrictionsDialog(date, \'\', rate.id, \'ROOM_TYPE\', false)"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarDiv.html\'"></div></div><div ng-if=isHistoryDate(date) class="cell-content isHistory-cell-content"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarDiv.html\'"></div></div></div></td><td ng-repeat="date in calendarData.dates track by $index" class=cell ng-show="currentExpandedRow === $parent.$index && !rate.is_hourly"><div ng-class="(!isHistoryDate(date) && currentExpandedRow === $parent.$index && !rate.is_hourly && {{isWeekend(date)}}) ? \'expandedContainerWeekend\' : \'\'" class="exp cell-container"><div ng-if=!isHistoryDate(date) class="exp cell-content" ng-click="showUpdatePriceAndRestrictionsDialog(date, \'\', rate.id, \'ROOM_TYPE\', false)"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarRoomTypeExpanded.html\'"></div></div><div ng-if=isHistoryDate(date) class="exp cell-content isHistory-cell-content"><div ng-include="\'/assets/partials/rateManager/restrictionsTemplate/roomCalendarRoomTypeExpanded.html\'"></div></div></div></td></tr></tbody></table></div></div><div class=pinned-bottom><ul class=restriction-legends><li bindonce="" ng-repeat="restrictionType in calendarData.restriction_types"><span class="restriction-icon {{restrictionType.background_class}} {{restrictionType.icon}}" bo-html=restrictionType.days></span> <span bo-html=restrictionType.description></span></li></ul></div>'),
t.put("/assets/partials/rateManager/selectDateRangeModal.html",'<div id=modal class="rm-calendar-popup modal-show"><form ng-cloak="" method=post action="" id=edit-charge-options name=edit-charge class="modal-content form date-range-update"><button id=modal-close class=modal-close type=button ng-click=cancelClicked()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="message h2">Date Range Update</span><fieldset id=fromDatePicker class="holder left"><strong class=h3>From <span>{{fromDate| date:\'MMMM dd, y\'}}</span></strong><div ui-date=fromDateOptions ng-model=fromDate ui-date-format=yy-mm-dd></div></fieldset><fieldset id=toDatePicker class="holder right"><strong class=h3>To <span>{{toDate | date:\'MMMM dd, y\'}}</span></strong><div ui-date=toDateOptions ng-model=toDate ui-date-format=yy-mm-dd></div></fieldset><div class=actions><button type=button class="button blank" ng-click=cancelClicked()>Cancel</button> <button class="button green" ng-click=updateClicked() type=button disabled=disabled ng-disabled=toggleUpdate() ng-class="{ grey : toggleUpdate() }">Set Range</button></div></form></div>'),t.put("/assets/partials/rateManager/setTargetPopover.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content grid set-targets"><button class=modal-close id=modal-close type=button ng-click=cancelClicked()><span class="icons icon-close invert"></span></button> <span class="h2 message"><h1>SET TARGETS</h1><em>Values will be set as percentage</em></span><div class=grid-wrapper><div class="holder left"><ul><li>&nbsp;</li><li ng-repeat="week in targetData track by $index"><div class=entry><label for=target-all><strong>{{ week[0].date | date:\'dd\' }} . - {{ week[6].date | date:\'dd.MMM\' }}</strong></label></div><div class=entry><input name=target-all id=target-all type=text ng-model=weekCommonTargets[$index]></div><div class="entry move"><span class="admin-icons icon-mover-right" ng-click=copyTargetToAllWeekDays($index)>&nbsp;</span></div></li></ul></div><div class="holder right"><ul><li><div class=entry>SUN</div><div class=entry>MON</div><div class=entry>TUE</div><div class=entry>WED</div><div class=entry>THU</div><div class=entry>FRI</div><div class=entry>SAT</div></li><li ng-repeat="week in targetData track by $id(week)"><div class=entry ng-repeat="weekDay in week"><div class=target ng-class="{\'disabled-bg\': !weekDay.is_editable}"><span ng-show=!weekDay.is_editable>&nbsp;</span> <span ng-show=weekDay.is_editable>{{ weekDay.date | date:\'dd\' }}</span> <input ng-model=weekDay.value ng-show="weekDay.value > 0 || weekDay.is_editable" ng-disabled=!weekDay.is_editable ng-class="{\'disabled-bg\': !weekDay.is_editable}"></div></div></li></ul></div></div><div class="actions float"><button type=button class="button blank modal-close" ng-click=cancelClicked()>CANCEL</button> <button type=button class="button green modal-close" ng-click=setTargets()>SET</button></div></div></div>'),t.put("/assets/partials/rateManager/title.html",'<header class="nav-bar float" role=banner><a id={{menuImage}} class=nav-toggle ng-click="$emit(\'navToggled\')" ng-class="{\'active\': menuOpen}">Menu</a><h1 class=h2>Rate Manager <span>Logged in as <strong>{{userInfo.first_name}}</strong></span></h1><div class=logo><img alt="" ng-src={{userInfo.logo}}></div></header>'),t.put("/assets/partials/rateManager/topbar.html","<div class=\"topbar float\"><ul class=info ng-class=\"{'has-back' : backbuttonEnabled, 'has-rates' : ratesDisplayed.length > 0, 'has-card' : currentFilterData.name_cards.length > 0}\"><li class=back ng-show=backbuttonEnabled><a ng-click=backButtonClicked() class=back-button>Back</a></li><li class=dates><strong>Date Range</strong> <span>{{currentFilterData.begin_date|date : dateFormat}} to {{currentFilterData.end_date|date : dateFormat}}</span></li><li class=rates ng-show=\"ratesDisplayed.length > 0\"><strong>Rate</strong> <span ng-repeat=\"rate in ratesDisplayed\">{{rate.name}}{{$last ? '' : ', '}}</span></li><li class=card ng-show=\"currentFilterData.name_cards.length > 0\"><strong>Name Card</strong> <span ng-repeat=\"card in currentFilterData.name_cards\">{{card.account_name}}{{$last ? '' : ', '}}</span></li></ul><ul class=display-mode><li click-touch=showCalendarView() class=active ng-class=\"{'active' : displayMode == 'CALENDAR'}\"><span class=\"icons icon-navbar only-icon icon-grid active\" ng-class=\"{'active' : displayMode == 'CALENDAR'}\" title=\"Show grid\"></span></li><li click-touch=showGraphView() ng-class=\"{'active' : displayMode == 'GRAPH'}\"><span class=\"icons icon-navbar only-icon icon-graph\" ng-class=\"{'active' : displayMode == 'GRAPH'}\" title=\"Show graph\"></span></li></ul></div>"),t.put("/assets/partials/rateManager/updatePriceAndRestrictions.html",'<div id=modal class="modal-show right-arrow"><div class="modal-content rate-manager-modal" ng-controller=UpdatePriceAndRestrictionsCtrl><div class=modal-header><div class=modal-header-left><h2 ng-show=!popupData.all_data_selected ng-class="{\'title-expanded\': showExpandedView || (popupData.fromRoomTypeView && data.hasAmountConfigured)}">{{data.name}}</h2><em ng-show=!popupData.all_data_selected>{{popupData.selectedDate| date:\'EEEE, MMMM dd\'}}</em><h2 ng-show="(popupData.fromRoomTypeView && popupData.all_data_selected) || (!popupData.fromRoomTypeView && popupData.all_data_selected)" class=h1>{{popupData.selectedDate| date:\'EEEE, MMMM dd\'}}</h2><em ng-show="(popupData.fromRoomTypeView || ratesRoomsToggle !== \'RATES\') && popupData.all_data_selected">All room types</em> <em ng-show="!popupData.fromRoomTypeView && ratesRoomsToggle === \'RATES\' && popupData.all_data_selected">All rates</em> <em class=rate-name ng-show="ratesRoomsToggle === \'RATES\' && !popupData.fromRoomTypeView">All room types</em> <em class="rate-name no-rate-name" ng-show="!popupData.fromRoomTypeView && ratesRoomsToggle !== \'RATES\'">No Rate Selected</em> <em class=rate-name ng-show=popupData.fromRoomTypeView>{Rate Name}</em></div><div class=modal-header-right><div class="notice hidden">{Notice Text}</div></div></div><div class=modal-body><div class=content-left><div class="ng-scope restbg" ng-include="\'/assets/partials/rateManager/restrictionsList.html\'"></div></div><div class=content-middle><div ng-if="!popupData.fromRoomTypeView && (popupData.all_data_selected || ratesRoomsToggle !== \'RATES\')" ng-hide=data.showEditView><div ng-include="\'/assets/partials/rateManager/noPriceInfo.html\'"></div></div><div ng-if=popupData.all_data_selected ng-show=data.showEditView><div ng-include="\'/assets/partials/rateManager/mixedRestrictions.html\'"></div></div><div ng-show="data.showEditView && !popupData.all_data_selected"><div ng-include="\'/assets/partials/rateManager/enterRestriction.html\'"></div></div><div ng-show="popupData.fromRoomTypeView && !data.showEditView && data.hasAmountConfigured"><div ng-include="\'/assets/partials/rateManager/restrictionRoomRates.html\'"></div></div><div ng-show="!popupData.fromRoomTypeView && !popupData.all_data_selected"><div ng-include="\'/assets/partials/rateManager/priceInfo.html\'"></div></div></div><div class=content-right><div ng-include="\'/assets/partials/rateManager/restrictionWeekDays.html\'"></div></div></div><div class=footer><div class=actions><button class="button blank edit-data-inline" id=cancel ng-click=hideUpdatePriceAndRestrictionsDialog() type=button>Cancel</button> <button ng-if="hasAnyOverride() !== \'false\' && calendarData.is_child == false && inRoomView == true" class="button blank edit-data-inline purple" id=clearOverrides ng-click=clearOverrides(popupData) type=button style=color:white;>Clear Rate Overrides</button> <button ng-if="hasPermissionToUpdateRestrictions() || hasPermissionToUpdateRates()" class="button green edit-data-inline" id=save type=button ng-click=saveRestriction() ng-class="{\'grey\' : data.showEditView}" ng-disabled=data.showEditView>Set</button></div></div></div></div>'),t.put("/assets/partials/rateManager_/listHouseEventsPopup.html",'<div id=modal ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div id=events class="modal-content events"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class=title><span class="h2 message">Events</span> <span class=text>{{displayDate}}</span></div><div class="events-list scrollable" ng-iscroll=events-list-scroller><div class=wrapper><span ng-repeat="(eventType, eventList) in eventsData"><div class=event-type><span class=event-count>{{eventList.length}}</span> <span class=event-type-title>{{eventType}}</span></div><ul class=event-type-list><li class=event ng-repeat="event in eventList"><span class=event-end ng-if=event.end_date>End Date: {{event.end_date | date: dateFormat}}</span><h3 class=event-title>{{event.name}}</h3><p class=event-description ng-if=event.description>{{event.description}}</p></li></ul></span></div></div><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close window</button></div></div></div>'),t.put("/assets/partials/rateManager_/rvRateManagerRoot.html","<div ng-include=\"'/assets/partials/common/header.html'\"></div><div id=rate-manager class=content><div ng-include=\"'/assets/partials/common/notification_message.html'\"></div><span rv-include-template=/assets/partials/rateManager_/topBar/rvRateManagerTopBar.html></span> <span rv-include-template=/assets/partials/rateManager_/leftSideFilterSection/rvRateManagerFilterSection.html></span><div class=rate-manager-content></div></div>"),t.put("/assets/partials/registrationCardBatchPrint/defaultRegistrationCardTemplate.html","<div class=\"registration-cards only-print\"><div class=\"registration-card with-page-break\" ng-repeat=\"reservation in printRegCardData.reservations_data\"><table class=hotel-guest-info><tbody><tr><td class=hotel-info><img ng-src=\"{{ printRegCardData.hotel_logo }}\" alt=\"\"><p>{{ printRegCardData.hotel_name }}<br>{{ printRegCardData.street }}<br>{{ printRegCardData.city }}, {{ printRegCardData.state }} {{printRegCardData.zipcode}}<br><br>Ph: {{ printRegCardData.phone }}</p></td><td class=guest-info><table class=name-addr><tr><td><span>{{ reservation.reservation_details.guest_language.registered_to || printRegCardData.translation.registered_to }}:</span> <strong>{{ reservation.guest_details.first_name }} {{ reservation.guest_details.last_name }}</strong> <strong><label ng-if=\"reservation.guest_details.street || reservation.guest_details.city\">{{ reservation.guest_details.street }} {{ reservation.guest_details.city }},</label> <label>{{ reservation.guest_details.state }} {{ reservation.guest_details.postal_code }}</label></strong></td><td ng-hide=!isStandAlone><span>{{ reservation.reservation_details.guest_language.bill_to || printRegCardData.translation.bill_to }}:</span> <strong>{{ reservation.registration_card_details.bill_to.name }}</strong> <strong ng-if=\"reservation.registration_card_details.bill_to.street1 || reservation.registration_card_details.bill_to.street2\">{{ reservation.registration_card_details.bill_to.street1 }} {{ reservation.registration_card_details.bill_to.street2 }}</strong> <strong><label ng-if=reservation.registration_card_details.bill_to.city>{{ reservation.registration_card_details.bill_to.city }},</label> <label ng-if=reservation.registration_card_details.bill_to.state>{{ reservation.registration_card_details.bill_to.state }}</label> <label>{{ reservation.registration_card_details.bill_to.postal_code }}</label></strong></td></tr></table><table><tr><td><span>{{ reservation.reservation_details.guest_language.arrival_date || printRegCardData.translation.arrival_date }}:</span> <strong>{{ reservation.reservation_details.arrival_date | date : dateFormat }}</strong></td><td><span>{{ reservation.reservation_details.guest_language.departure_date || printRegCardData.translation.departure_date }}:</span> <strong>{{ reservation.reservation_details.dep_date | date : dateFormat }}</strong></td><td><span>{{ reservation.reservation_details.guest_language.confirmation_number || printRegCardData.translation.confirmation_number }}:</span> <strong>{{ reservation.reservation_details.confirm_no }}</strong></td></tr><tr><td><span>{{ reservation.reservation_details.guest_language.arrival_time || printRegCardData.translation.arrival_time }}:</span> <strong>{{ reservation.reservation_details.arrival_time }}</strong> <span>&nbsp;</span></td><td><span>{{ reservation.reservation_details.guest_language.departure_time || printRegCardData.translation.departure_time }}:</span> <strong>{{ reservation.reservation_details.departure_time }}</strong> <span>&nbsp;</span></td><td><span>{{ reservation.reservation_details.guest_language.room_number || printRegCardData.translation.room_number }}:</span> <strong>{{ reservation.room_details.room_number}}</strong> <span>&nbsp;</span></td></tr><tr ng-hide=!isStandAlone><td><span ng-hide=reservation.reservation_details.hide_rates>{{ reservation.reservation_details.guest_language.amount_paid || printRegCardData.translation.amount_paid }}:</span> <strong ng-hide=reservation.reservation_details.hide_rates><span ng-bind-html=\"reservation.guest_bill_details.amount_paid | sntCurrency:this\"></span></strong></td><td><span>{{ reservation.reservation_details.guest_language.payment || printRegCardData.translation.payment }}:</span> <strong>{{ reservation.guest_bill_details.payment_type }}</strong></td><td><span>{{ reservation.reservation_details.guest_language.account || printRegCardData.translation.account }}:</span> <strong>{{ reservation.registration_card_details.account }}</strong></td></tr></table><table ng-hide=!isStandAlone class=rate-initial><tr><td ng-hide=reservation.reservation_details.hide_rates><span>{{ reservation.reservation_details.guest_language.average_daily_rate || printRegCardData.translation.average_daily_rate }}:</span> <strong><span ng-bind-html=\"reservation.guest_bill_details.adr | sntCurrency:this\"></span></strong></td><td><span>{{ reservation.reservation_details.guest_language.guest_initials || printRegCardData.translation.guest_initials }}:</span></td></tr></table></td></tr></tbody></table><table ng-hide=!isStandAlone class=bill-details ng-if=\"reservation.reservation_details.daily_instances_info.length > 0\"><thead><tr><th>{{ reservation.reservation_details.guest_language.date || printRegCardData.translation.date }}</th><th ng-hide=reservation.reservation_details.hide_rates>{{ reservation.reservation_details.guest_language.rate || printRegCardData.translation.rate }}</th><th ng-hide=reservation.reservation_details.hide_rates>{{ reservation.reservation_details.guest_language[\"taxes_fees\"] || printRegCardData.translation[\"taxes_fees\"] }}</th><th>{{ reservation.reservation_details.guest_language.add_on || printRegCardData.translation.add_on }}</th><th ng-hide=reservation.reservation_details.hide_rates class=addon-price>{{ reservation.reservation_details.guest_language.add_on_price || printRegCardData.translation.add_on_price }}</th></tr></thead><tbody><tr ng-repeat=\"each in reservation.reservation_details.daily_instances_info\"><td>{{ each.date | date : dateFormat }}</td><td ng-hide=reservation.reservation_details.hide_rates><span ng-if=reservation.reservation_details.is_reservation_rate_suppressed>SR</span> <span ng-if=!reservation.reservation_details.is_reservation_rate_suppressed><span ng-bind-html=\"each.rate | sntCurrency:this\"></span></span></td><td ng-hide=reservation.reservation_details.hide_rates><span ng-if=reservation.reservation_details.is_reservation_rate_suppressed>SR</span> <span ng-if=!reservation.reservation_details.is_reservation_rate_suppressed><span ng-bind-html=\"each.tax | sntCurrency:this\"></span></span></td><td class=addons colspan=2><table><tr ng-repeat=\"item in each.addons\"><td>{{ item.name }}</td><td ng-hide=reservation.reservation_details.hide_rates ng-if=\"item.price == 'INCLUDED'\">{{ item.price }}</td><td ng-hide=reservation.reservation_details.hide_rates ng-if=\"item.price != 'INCLUDED'\"><span ng-bind-html=\"item.price | sntCurrency:this\"></span></td></tr></table></td></tr></tbody></table><table class=guest-data-enter ng-if=printRegCardData.is_show_vehiche_info><tr><td>{{ reservation.reservation_details.guest_language[\"guest_dl_id_no\"] || printRegCardData.translation[\"guest_dl_id_no\"] }}</td><td class=details><table><tr><td>{{ reservation.reservation_details.guest_language['vehicle_make'] || printRegCardData.translation['vehicle_make'] }}</td><td>{{ reservation.reservation_details.guest_language['lic_plate_no'] || printRegCardData.translation['lic_plate_no'] }}</td><td>{{ reservation.reservation_details.guest_language['lic_plate_state_prov'] || printRegCardData.translation['lic_plate_state_prov'] }}</td></tr></table></td></tr></table><table class=\"guest-data-enter fixed\" ng-if=printRegCardData.reg_card_show_contact_info><tbody><tr><td colspan=3><strong>{{ reservation.reservation_details.guest_language['address'] || printRegCardData.translation['address'] }}</strong><br>{{reservation.guest_details['street']}}<br>{{reservation.guest_details['street2']}}</td></tr><tr><td><strong>{{ reservation.reservation_details.guest_language['city'] || printRegCardData.translation['city'] }}</strong><br><span>{{reservation.guest_details['city']}}</span></td><td><strong>{{ reservation.reservation_details.guest_language['state'] || printRegCardData.translation['state'] }}/{{ printRegCardData.reservation_details.guest_language['postal_code'] || printRegCardData.translation['postal_code'] }}</strong><br>{{reservation.guest_details['state']}}<span ng-if=\"reservation.guest_details['postal_code'] && reservation.guest_details['state'] && reservation.guest_details['postal_code']!=='' && reservation.guest_details['state']!=='' && reservation.guest_details['postal_code']!==null && reservation.guest_details['state']!==null\">/</span>{{reservation.guest_details['postal_code']}}</td><td><strong>{{ reservation.reservation_details.guest_language['country'] || printRegCardData.translation['country'] }}</strong><br>{{reservation.guest_details['country_name']}}</td></tr></tbody></table><table class=\"guest-data-enter fixed\" ng-if=printRegCardData.reg_card_show_contact_info><tbody><tr><td><strong>{{ reservation.reservation_details.guest_language['phone'] || printRegCardData.translation['phone'] }}</strong><br>{{reservation.guest_details['phone']}}</td><td><strong>{{ reservation.reservation_details.guest_language['mobile'] || printRegCardData.translation['mobile'] }}</strong><br>{{reservation.guest_details['mobile']}}</td><td><strong>{{ reservation.reservation_details.guest_language['email'] || printRegCardData.translation['email'] }}</strong><br>{{reservation.guest_details['email']}}</td></tr></tbody></table><table class=\"guest-data-enter fixed\" ng-if=printRegCardData.reg_card_show_contact_info><tbody><tr><td><strong>{{ reservation.reservation_details.guest_language['id_type'] || printRegCardData.translation['id_type'] }}</strong><br>{{reservation.guest_details['id_type']}}</td><td><strong>{{ reservation.reservation_details.guest_language['id_number'] || printRegCardData.translation['id_number'] }}</strong><br>{{reservation.guest_details['id_number']}}</td></tr></tbody></table><table class=\"guest-data-enter fixed\" ng-if=printRegCardData.reg_card_show_contact_info><tbody><tr><td><strong>{{ reservation.reservation_details.guest_language['birthday'] || printRegCardData.translation['birthday'] }}</strong><br>{{reservation.guest_details['birthday']}}</td><td><strong>{{ reservation.reservation_details.guest_language['nationality'] || printRegCardData.translation['nationality'] }}</strong><br>{{reservation.guest_details['nationality_name']}}</td><td><strong>{{ reservation.reservation_details.guest_language['job_title'] || printRegCardData.translation['job_title'] }}</strong><br>{{reservation.guest_details['job_title']}}</td></tr></tbody></table><table class=terms-signature><tr><td ng-if=printRegCardData.terms_conditions colspan=2 class=terms data-ng-bind-html=trustAsHtml(printRegCardData.terms_conditions)></td></tr><tr><td ng-if=reservation.reservation_details.signature_url style=\"text-align: left;\"><img ng-src={{reservation.reservation_details.signature_url}} width=50%></td><td ng-if=reservation.reservation_details.signature_url style=\"text-align: left;\"><img ng-src={{reservation.reservation_details.signature_url}} width=50%></td></tr><tr><td><span class=signature1>{{ reservation.reservation_details.guest_language.guest_signature || printRegCardData.translation.guest_signature }}</span></td></tr></table></div></div>"),t.put("/assets/partials/registrationCardBatchPrint/rvRegistrationCardArabicTemplate.html",'<div class="registration-cards only-print"><div class="registration-card with-page-break registration-card-3" ng-repeat="reservation in printRegCardData.reservations_data"><table class=fixed><tr><td><strong>Guest Registration Card</strong></td><td class=align-right><strong>بطاقة تسجيل ضيف</strong></td></tr></table><table class="guest-data-enter fixed"><tr><td class=inner-table><table class="guest-data-enter fixed"><tbody><tr class=details><td><span class=pull-left>Name</span> <span class="pull-right align-right">اسم</span> <strong class=value>{{ reservation.guest_details.first_name}} {{reservation.guest_details.last_name }}</strong></td><td><span class=pull-left>Arrival Date</span> <span class="pull-right align-right">تاريخ الوصول</span> <strong class=value>{{reservation.reservation_details.arrival_date | date : dateFormat}}</strong></td></tr><tr class=details><td><span class=pull-left>Permanent Home Address</span> <span class="pull-right align-right">عنوان الاقامة الدائم</span> <strong class=value ng-bind-html=reservation.guest_details.address></strong></td><td><span class=pull-left>Departure Date</span> <span class="pull-right align-right">تاريخ المغادرة</span> <strong class=value>{{reservation.reservation_details.dep_date | date : dateFormat}}</strong></td></tr><tr class=details><td><span class=pull-left>Country</span> <span class="pull-right align-right">بلد</span> <strong class=value>{{reservation.guest_details.country_name}}</strong></td><td><span class=pull-left>Rate</span> <span class="pull-right align-right">معدل</span> <strong class=value>{{reservation.reservation_details.rate_name}}</strong></td></tr><tr class=details><td><span class=pull-left>City</span> <span class="pull-right align-right">مدينة</span> <strong class=value>{{reservation.guest_details.city}}</strong></td><td><span class=pull-left>Room No.</span> <span class="pull-right align-right">رقم الشقة</span> <strong class=value>{{reservation.room_details.room_number}}</strong></td></tr><tr class=details><td><span class=pull-left>Nationality</span> <span class="pull-right align-right">جنسية</span> <strong class=value>{{reservation.guest_details.nationality_name}}</strong></td><td><span class=pull-left>No. of Rooms</span> <span class="pull-right align-right">عدد من الشقق.</span> <strong class=value>{{reservation.room_details.no_of_rooms}}</strong></td></tr><tr class=details><td><span class=pull-left>Passport No.</span> <span class="pull-right align-right">جنسية</span> <strong class=value>{{ reservation.guest_details.passport_number}}</strong></td><td><span class=pull-left>No. of People</span> <span class="pull-right align-right">عدد الناس</span> <strong class=value>{{reservation.reservation_details.no_of_guests}}</strong></td></tr><tr class=details><td><span class=pull-left>Exp. Date</span> <span class="pull-right align-right">إكسب. تاريخ</span> <strong class=value>{{reservation.guest_details.id_expiration_date | date : dateFormat}}</strong></td><td><span class=pull-left>Company Name</span> <span class="pull-right align-right">اسم الشركة</span> <strong class=value>{{reservation.reservation_details.company_name}}</strong></td></tr><tr class=details><td><span class=pull-left>Telephone No.</span> <span class="pull-right align-right">الهاتف لا.</span> <strong class=value>{{reservation.guest_details.phone}}</strong></td><td><span class=pull-left>Email</span> <span class="pull-right align-right">البريد الإلكتروني</span> <strong class=value>{{reservation.guest_details.email}}</strong></td></tr><tr class=details><td colspan=2><span class=pull-left>Purpose of Stay</span> <span class="pull-right align-right">زيارة الغرض</span></td></tr></tbody></table></td></tr></table><table class="guest-data-enter fixed"><tr><td><span class=pull-left>Payment Method</span> <span class="pull-right align-right">اسم</span> <strong class=value>{{reservation.guest_bill_details.payment_type}}</strong></td><td><span class=pull-left>Amount (Dhs)</span> <span class="pull-right align-right">اسم</span> <strong class=value>{{reservation.guest_bill_details.amount_paid}}</strong></td></tr></table><div class="registration-card-text-columns columns-2"><div class=column><ul ng-bind-html=printRegCardData.terms_conditions></ul></div><div class="column align-right"><ul ng-bind-html=printRegCardData.arabic_terms_conditions></ul></div></div><table class="guest-data-enter fixed"><tr><td><span class=pull-left>Checked in by</span> <span class="pull-right align-right">تم الفحص بواسطة</span> <strong class=value>{{printRegCardData.checked_in_by}}</strong></td><td><span class=pull-left>Checked by</span> <span class="pull-right align-right">فحص بواسطة</span></td></tr><tr><td colspan=2><span class=pull-left>Guest Signature</span> <span class="pull-right align-right">توقيع الضيف</span> <strong class=value ng-if=reservation.reservation_details.signature_url><img ng-src={{reservation.reservation_details.signature_url}} width=50%></strong></td></tr></table></div></div>'),t.put("/assets/partials/registrationCardBatchPrint/rvRegistrationCardAustriaTemplate.html",'<div class="registration-cards only-print"><div class="registration-card with-page-break registration-card-2" ng-repeat="reservation in printRegCardData.reservations_data"><table class="guest-data-enter fixed customized border-top"><tr><td class="headline centered short" style="max-width: 170pt; width: 30%;">GÄSTEBLATT</td><td class=short>Lfd.-Nr:<br><strong>{{ reservation.registration_card_details.reg_card_number }}</strong></td><td class="centered short" style="max-width: 150pt; width: 30%;"><strong>{{ printRegCardData.hotel_name }}</strong></td></tr></table><table class="guest-data-enter fixed customized"><tr><td>Famlienname/Last Name<br><strong>{{ reservation.guest_details.last_name }}</strong></td><td style="max-width: 150pt; width: 30%;">Geschlecht/Gender<br><strong>{{ reservation.guest_details.gender.value }}</strong></td></tr></table><table class="guest-data-enter fixed customized"><tr><td>Vorname/First Name<br><strong>{{ reservation.guest_details.first_name }}</strong></td><td style="width: 150pt;">Geburtsdatum/Date of birth<br><strong>{{ reservation.guest_details.birthday | date : dateFormat}}</strong></td><td style="max-width: 150pt; width: 30%;">Beruf/Profession<br><strong>{{ reservation.guest_details.profession }}</strong></td></tr><tr><td colspan=2>Reisedokument & Nummer (Art, z. B. Reisepass/ Personalausweis, Nummer, Ausstellungsdatum, ausstellende Behorde, Staat)Identification Type & Number (Doc type, doc number, doc date of issue, doc place of issue, doc country of issue)<br><strong>{{printRegCardData.documentDetails}}</strong></td><td>Staatsangehörigkeit/Nationality<br><strong>{{reservation.guest_details[\'nationality_name\']}}</strong></td></tr></table><table class="guest-data-enter customized border-bottom"><tbody><tr><td rowspan=2 class=centered style="width: 80pt;"><strong>Hauptwohnsitz</strong> Main Address<br></td><td colspan=3>Strasse/Street<br><strong>{{ reservation.guest_details.street }}</strong></td></tr><tr><td colspan=3 class="inner-table border-left-width"><table class="guest-data-enter customized"><tbody><tr class=details><td style=width:100pt;>Plz/Postal Code<br><strong>{{ reservation.guest_details.postal_code }}</strong></td><td style=width:200pt;>Stadt/City<br><strong>{{ reservation.guest_details.city }}</strong></td><td style=width:150pt;>Bundesland/Province<br><strong>{{ reservation.guest_details.province }}</strong></td><td>Land/Country<br><strong>{{reservation.guest_details[\'country_name\']}}</strong></td></tr></tbody></table></td></tr><tr><td class=centered style="width: 80pt;"><strong>Ehegatte oder eingetr. Partner</strong> Spouse or partner</td><td colspan=4>Vorname, Geburtsjahr/First name, date of birth<br><strong ng-if="reservation.guest_details.accompanying_guest_dob && reservation.guest_details.accompanying_guest_dob !== \'\' && reservation.guest_details.accompanying_guest_dob !== null">{{reservation.guest_details.accompanying_guest_first_name}}, {{reservation.guest_details.accompanying_guest_dob | date : dateFormat}}</strong> <strong ng-if="!(reservation.guest_details.accompanying_guest_dob && reservation.guest_details.accompanying_guest_dob !== \'\' && reservation.guest_details.accompanying_guest_dob !== null)">{{reservation.guest_details.accompanying_guest_first_name}}</strong></td></tr><tr><td rowspan={{reservation.rowspanAustrianRegCardChild}} class=centered style="width: 80pt;"><strong>Kind(er)</strong> Child(ren)</td><td style="width: 130pt">Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong ng-if="reservation.guest_details.accompanying_children[0] && reservation.guest_details.accompanying_children[0].date_of_birth !== \'\' && reservation.guest_details.accompanying_children[0].date_of_birth !== null">{{reservation.guest_details.accompanying_children[0].first_name}}, {{reservation.guest_details.accompanying_children[0].date_of_birth | date : dateFormat}}</strong> <strong ng-if="!(reservation.guest_details.accompanying_children[0] && reservation.guest_details.accompanying_children[0].date_of_birth !== \'\' && reservation.guest_details.accompanying_children[0].date_of_birth !== null)">{{reservation.guest_details.accompanying_children[0].first_name}}</strong></td><td style="width: 130pt">Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong ng-if="reservation.guest_details.accompanying_children[1] && reservation.guest_details.accompanying_children[1].date_of_birth !== \'\' && reservation.guest_details.accompanying_children[1].date_of_birth !== null">{{reservation.guest_details.accompanying_children[1].first_name}}, {{reservation.guest_details.accompanying_children[1].date_of_birth | date : dateFormat}}</strong> <strong ng-if="!(reservation.guest_details.accompanying_children[1] && reservation.guest_details.accompanying_children[1].date_of_birth !== \'\' && reservation.guest_details.accompanying_children[1].date_of_birth !== null)">{{reservation.guest_details.accompanying_children[1].first_name}}</strong></td><td class=inner-table><table class="guest-data-enter fixed customized"><tr class=details><td>Anreise/Arrival<br><strong>{{ reservation.reservation_details.arrival_date | date : dateFormat }}</strong></td><td>Abreise/Departure<br><strong>{{ reservation.reservation_details.dep_date | date : dateFormat }}</strong></td></tr></table></td></tr><tr><td class=border-left-width>Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong>{{reservation.guest_details.accompanying_children[2].first_name}}</strong><span ng-if="reservation.guest_details.accompanying_children[2] && reservation.guest_details.accompanying_children[2].date_of_birth !== \'\' && reservation.guest_details.accompanying_children[2].date_of_birth !== null">,</span> <strong>{{reservation.guest_details.accompanying_children[2].date_of_birth | date : dateFormat }}</strong></td><td>Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong>{{reservation.guest_details.accompanying_children[3].first_name}}</strong><span ng-if="reservation.guest_details.accompanying_children[3] && reservation.guest_details.accompanying_children[3].date_of_birth !== \'\' && reservation.guest_details.accompanying_children[3].date_of_birth !== null">,</span><strong>{{reservation.guest_details.accompanying_children[3].date_of_birth | date : dateFormat }}</strong></td><td>Unterschrift des Meldepflichtigen/Signature <span class=placeholder>{{ reservation.reservation_details.guest_language.guest_signature || printRegCardData.translation.guest_signature }}</span><br><strong><img ng-src={{reservation.reservation_details.signature_url}} width=50%></strong></td></tr><tr><td colspan=3 style="width: 130pt" ng-if="reservation.guest_details.accompanying_children.length > 4">Vorname, Geburtsjahr <span class=placeholder>First name, date of birth</span><br><strong>{{reservation.guest_details.accompanying_children[4].first_name}}</strong><span ng-if="reservation.guest_details.accompanying_children[4] && reservation.guest_details.accompanying_children[4].date_of_birth !== \'\' && reservation.guest_details.accompanying_children[4].date_of_birth !== null">,</span><strong>{{reservation.guest_details.accompanying_children[4].date_of_birth | date : dateFormat }}</strong></td></tr><tr><td rowspan=2 class="centered short" style="width: 80pt;"><strong>Bei Reisegruppen</strong> Groups</td><td rowspan=2 class="inner-table short border-right-grey"><table class="guest-data-enter fixed customized"><tbody><tr><td class="short border-right-grey">Gesamtanzahl</td><td class=short>Aufgliederung nach Herkunfts- land</td></tr></tbody></table></td><td colspan=2 class="inner-table short border-bottom-grey"><table class="guest-data-enter fixed customized"><tbody><tr><td class="inner-table short border-right-grey"><table class="guest-data-enter fixed customized"><tbody><tr class=details><td class=short>Herkunftsland</td><td class="short align-right">Anzahl</td></tr></tbody></table></td><td class="inner-table short"><table class="guest-data-enter fixed customized"><tbody><tr class=details><td class=short>Herkunftsland</td><td class="short align-right">Anzahl</td></tr></tbody></table></td></tr></tbody></table></td></tr><tr class=with-borders><td colspan=2 class="inner-table short"><table class="guest-data-enter fixed customized"><tbody><tr><td class="inner-table short border-right-grey"><table class="guest-data-enter fixed customized"><tbody><tr class=details><td class=short>Herkunftsland</td><td class="short align-right">Anzahl</td></tr></tbody></table></td><td class="inner-table short"><table class="guest-data-enter fixed customized"><tbody><tr class=details><td class=short>Herkunftsland</td><td class="short align-right">Anzahl</td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></div></div>'),
t.put("/assets/partials/reservation/rvAddonsList.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><section id=enhance-stay class="content reservations-inner" ng-click="clearErrorMessage(); errorMessage = \'\';"><div id=enhance-stay-content class=reservations-content-wrapper><div id=addons-content class="reservation-content addons-content scrollable" ng-iscroll=enhanceStays ng-iscroll-delay=1000><div class=wrapper><div id=addon-items class=addons><ul class=addon-categories><li ng-class="{\'ui-state-active\': -1 === activeAddonCategoryId }"><a ng-click="selectAddonCategory(\'\', $event)" class="button white" translate="">BEST_SELLER</a></li><li ng-repeat="addonCategory in addonCategories" ng-class="{ \'ui-state-active\': addonCategory.id === activeAddonCategoryId }"><a ng-click="selectAddonCategory(addonCategory, $event)" class="button white">{{ addonCategory.name }}</a></li></ul><div class=addon-items><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=options><button type=button ng-click=showEnhancementsPopup() class="button white"><span class=label translate="">ENHANCEMENTS</span> <span class=count>{{ existingAddonsLength }}</span></button> <button class="button green" ng-click=proceed() translate="" ng-hide="fromPage === \'staycard\'">BOOK</button></div><ul id=addon-best-sellers class=addon-tab><li ng-repeat="addon in addons"><div class=data><span class=categories><span ng-show=addon.isBestSeller class=current translate="">BEST_SELLER</span> <label ng-show=addon.isBestSeller>|</label> <span>{{ addon.category }}</span></span><h2>{{ addon.title }}</h2><em>{{ addon.description }}</em></div><div class=price><span class=value><span ng-bind-html="addon.price | sntCurrency:this:addon.rateCurrency"></span></span> <span class=list-price ng-if="addon.addon_value > 0">VALUE: <span ng-bind-html="addon.addon_value | sntCurrency:this:addon.rateCurrency"></span></span> <span class=amount-type>{{ addon.amountTypeDesc | uppercase}}</span> <span class=post-type>{{ addon.postTypeDesc | uppercase}}</span></div><div class=add-enhancement ng-init="addonQty=1"><button id=enhance-room-1-champagne type=button class="button green" ng-click="selectAddon(addon, addonQty)">Add</button><div class=select><label class=label translate="">QUANTITY</label><select convert-to-number="" ng-model=addonQty><option ng-repeat="i in [1, 3] | makeRange" value={{i}}>{{i}}</option></select></div></div></li></ul></div></div></div></div></div></section>'),t.put("/assets/partials/reservation/rvBaseSearch.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><section id=reservations class="content create-reservation scrollable" role=main ng-iscroll=search_reservation ng-iscroll-delay=1000><form method=get name=create-reservation id=create-reservation class=wrapper role=search><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=dates class=row ng-class="{\'with-toggle\': shouldShowToggle }"><div id=arriving class=entry><label id=check-in-day-label for=check-in-date>Arriving <span>{{getSimplifiedDayName(reservationData.arrivalDate)}}</span></label><div class=entry-data><input ui-date=arrivalDateOptions name=check-in-date id=check-in-date type=text class=datepicker ui-date-format="" ng-model=reservationData.arrivalDate ng-change=arrivalDateChanged() readonly=""> <strong id=check-in-day class=day>{{reservationData.arrivalDate | date:\'dd\'}}</strong> <span id=check-in-month class=month>{{reservationData.arrivalDate | date:\'MMMM\'}}</span> <span id=check-in-year class=year>{{reservationData.arrivalDate | date:\'yyyy\'}}</span></div></div><div id=type class=entry><label for=nights-number ng-if=::shouldShowToggle>Staying <span>for</span></label> <label for=nights-number ng-if="::!shouldShowToggle && shouldShowNights">Nights</label> <label for=nights-number ng-if="::!shouldShowToggle && shouldShowHours">Hours</label><div class="switch-button on" ng-show=::shouldShowToggle ng-class="{ \'on\': !isNightsActive }"><input name=stay-type id=stay-type value="" type=checkbox ng-model=isNightsActive ng-click=switchNightsHours()> <label class=data-off><span class=value>Hours</span> <span class=switch-icon>Nights</span></label> <label class=data-on><span class=switch-icon>Hours</span> <span class=value>Nights</span></label></div><div class=entry-data><input type=text ng-show=shouldShowNights name=nights-number id=nights-number maxlength=3 ng-model=reservationData.numNights ng-change=setDepartureDate()> <input type=text ng-show="shouldShowHours && maxStayLength <= 99" name=hours-number id=hours-number maxlength=2 ng-model=reservationData.resHours ng-blur=setDepartureHours()> <input type=text ng-show="shouldShowHours && maxStayLength > 99" name=hours-number id=hours-number maxlength=3 ng-model=reservationData.resHours ng-blur=setDepartureHours()></div></div><div id=departing class=entry ng-class="{ \'hidden\': reservationData.numNights == 0}" style="float: right"><label id=check-out-day-label for=check-out-date>Departing <span>{{getSimplifiedDayName(reservationData.departureDate)}}</span></label><div class=entry-data><input ui-date=departureDateOptions name=check-out-date id=check-out-date type=text class=datepicker ui-date-format="" ng-model=reservationData.departureDate readonly="" ng-change=departureDateChanged()> <strong id=check-out-day class=day>{{reservationData.departureDate | date:\'dd\'}}</strong> <span id=check-out-month class=month>{{reservationData.departureDate | date:\'MMMM\'}}</span> <span id=check-out-year class=year>{{reservationData.departureDate | date:\'yyyy\'}}</span></div></div><div id=arriving-time class=entry ng-class="{ \'hidden\': reservationData.numNights != 0 }" style="float: right"><div class=arrival-time><label for=arrival-time>Arrival Time</label><div class=select><select id=arrival-time name=arrival-time iscroll-stop-propagation="" ng-model=fullCheckinTime ng-change=mapToCheckinTime()><option ng-repeat="time in timeSlots" value={{time.value}} ng-show=showCheckinTimeslot(time)>{{time.label}}</option></select></div></div><div class=departure-time><label for=departure-time>Departure Time</label><div class=select><select id=departure-time name=departure-time ng-model=fullCheckoutTime ng-change=mapToCheckoutTime()><option ng-repeat="time in timeSlots" value={{time.value}} ng-show=showCheckoutTimeslot(time)>{{time.label}}</option></select></div></div></div></div><div id=rooms class=row><label for=room-1-adults>Room Type <span>(s)</span></label><div class=entry ng-repeat="tab in reservationData.tabs" ng-init="tabIndex = $index"><div class=entry-data><div class="select room-type"><select convert-to-number="" iscroll-stop-propagation="" ng-model=tab.roomTypeId ng-change=onRoomTypeChange($index)><option value="" ng-if="tabIndex === 0 && reservationData.tabs.length === 1">All Room Types</option><option value="" ng-if="tabIndex >0 && !tab.roomTypeId" class=placeholder>Select Room Type</option><option value={{roomType.id}} ng-repeat="roomType in otherData.roomTypes" ng-hide="isRoomTypeSelected(tabIndex, roomType.id)" ng-selected="tab.roomTypeId == roomType.id">{{roomType.name}}</option></select></div><div class="select adults"><label class=label>Adults</label><select iscroll-stop-propagation="" ng-model=tab.numAdults ng-change="onOccupancyChange(\'numAdults\', $index)"><option ng-repeat="i in [0, otherData.maxAdults] | makeRange" value={{i}} ng-selected="i==tab.numAdults">{{i}}</option></select></div><div class="select children"><label class=label>Children</label><select iscroll-stop-propagation="" ng-model=tab.numChildren ng-change="onOccupancyChange(\'numChildren\', $index)"><option ng-repeat="i in [0, otherData.maxChildren] | makeRange" value={{i}} ng-selected="i==tab.numChildren">{{i}}</option></select></div><div class="select infants"><label class=label>Infants</label><select iscroll-stop-propagation="" ng-model=tab.numInfants ng-change="onOccupancyChange(\'numInfants\', $index)"><option ng-repeat="i in [0, otherData.maxInfants] | makeRange" value={{i}} ng-selected="i==tab.numInfants">{{i}}</option></select></div><div class="select rooms"><label class=label>Rooms</label><select ng-model=tab.roomCount ng-change=onRoomCountChange($index) ng-disabled=restrictMultipleBookings()><option ng-repeat="i in [1, otherData.maxRoomCount] | makeRange" value={{i}} ng-selected="i==tab.roomCount">{{i}}</option></select></div></div><span ng-if=!restrictMultipleBookings() class="remove-room icons icon-remove-60" ng-click=removeTab($index)>-</span> <span ng-if=!restrictMultipleBookings() class="add-room icons icon-add-60" ng-click=addTab($index)>+</span></div></div><div id=guest class=row><div id=first-name class=entry><label for=guest-first-name>Guest <span>(optional)</span></label> <input name=guest-first-name id=guest-first-name type=text placeholder="First Name" ng-model=searchData.guestCard.guestFirstName ng-change=reservationGuestSearchChanged()></div><div id=last-name class="entry no-label" style=float:right><input name=guest-last-name id=guest-last-name type=text placeholder="Last Name" ng-model=searchData.guestCard.guestLastName ng-change=reservationGuestSearchChanged()></div></div><div id=company-promo class=row><div id=autocomplete-search class=entry><label for=company-or-agent>Company / T.A. / Group / Allotment <span>(optional)</span></label> <input auto-complete="" auto-options=autocompleteOptions name=company-or-agent id=company-or-agent data-card-type="" type=text placeholder="Name, ID, IATA or Acc.Code" value="" autocomplete=off ng-model=companySearchText ul-class=find-cards></div><div class=entry><label for=codes-value>Group / Allotment / Promo Code <span>(optional)</span></label> <input auto-complete="" auto-options=codesACOptions name=codes-value id=codes-value data-card-type="" type=text placeholder=Code value="" autocomplete=off ng-model=codeSearchText ul-class=find-cards></div></div><div id=select-rate class=row ng-if="!isHourlyRateOn && (isFFPActive || isHLPActive)"><div class=entry><label>Rate Selection <span>(Optional)</span></label><div class="entry full-width"><label class=checkbox ng-click=onMemberRateToggle();><span class="icon-form icon-checkbox" ng-class="{\'checked\': reservationData.member.isSelected}"></span> <input id=rate-member value=member type=checkbox ng-model=reservationData.member.isSelected> Member</label><div class=select ng-show=reservationData.member.isSelected><label for=loyalty class=label>Type</label><select id=loyalty ng-model=reservationData.member.value><optgroup label="Hotel Loyalty Program" ng-if="isHLPActive && loyaltyPrograms.length > 0"><option ng-repeat="loyaltyProgram in loyaltyPrograms" value={{loyaltyProgram.hl_value}} ng-selected="reservationData.member.value === loyaltyProgram.hl_value">{{loyaltyProgram.hl_description}}</option></optgroup><optgroup label="Frequent Flyer Program" ng-if="isFFPActive && flyerPrograms.length > 0"><option ng-repeat="flyerProgram in flyerPrograms" value={{flyerProgram.ff_value}} ng-selected="reservationData.member.value === flyerProgram.ff_value || ($first && !reservationData.member.value)">{{flyerProgram.ff_description}}</option></optgroup></select></div></div></div></div><div id=actions class=row><button id=find-rooms-and-rates type=button class="button green" ng-click=navigate()>Find Rooms &amp; Rates</button></div></form></section>'),t.put("/assets/partials/reservation/rvCreditCard.html",'<div id=credit-card-options ng-show="reservationData.paymentType.type.value==\'CC\' || reservationData.paymentType.type.value==\'GIFT_CARD\'"><ul class=card-toggle ng-show=reservationData.payment ng-if=cards.available><li class=active>Existing Cards</li><li>Add New Card</li></ul><div class=entry><label for=booking-source>Guest Location</label><div class="switch-button on"><input name=booking-source id=booking-source value=booking-source type=checkbox checked=""> <label class=data-off><span class=value>On-Site</span> <span class=switch-icon>Call-In</span></label> <label class=data-on><span class=switch-icon>On-Site</span> <span class=value>Call-In</span></label></div></div><div id=cc-exsiting-card class="cards-list scrollable" ng-hide="cards.activeView == \'NEW\'"><div class=wrapper><label class="active-item item-payment"><figure class=card-logo><img src={card-logo} alt=""></figure><span class=number>Ending with <span class="value number">{number}</span></span> <span class=date>Date <span class="value date">{mm}/{yy</span></span></label> ... repeat</div></div><div id=cc-new-card class=new-card ng-show="cards.activeView == \'NEW\'"><div class="entry card-number"><label for=card-number>Card number (<span>No spaces</span>)</label> <input name=card-number id=card-number placeholder="Enter Card number" value="" maxlength=15 type=text></div><div class="entry card-expiry"><label for=expiry-month>Expires (<span>Month/Year</span>)</label> <input name=expiry-month id=expiry-month placeholder=MM value="" maxlength=2 size=3 type=text> <input name=expiry-year id=expiry-year placeholder=YY value="" maxlength=2 size=3 type=text></div><div class="entry card-name"><label for=name-on-card>Name on card</label> <input name=name-on-card id=name-on-card placeholder="Enter name on card" value="" type=text></div><div class="entry card-ccv"><label for=ccv>CCV</label> <input name=ccv id=ccv placeholder=CCV value="" maxlength=3 size=4 type=text></div><div class="entry card-action"><button type=button class="button blue">Add</button></div></div><div class=actions><button type=button class="button blank" ng-click="reservationData.paymentType.type.value==\'\'">Cancel Card selection</button></div></div>'),t.put("/assets/partials/reservation/rvCustomRateSelectPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div><form method=post id=rate-options name=rate-options class="modal-content form confirmation" ng-cloak=""><button id=modal-close type=button class=modal-close ng-click=cancelOccupancyChange()><span class="icons icon-close invert"></span></button> <strong class="h3 message" ng-if=!isSRRate>Custom Rate of <span ng-bind-html="customRate | sntCurrency:this"></span> applies to this reservation. Rate for current guest count is <span ng-bind-html="rateForCurrentGuest | sntCurrency:this"></span></strong> <strong class="h3 message" ng-if=!!isSRRate>Custom Rate of SR applies to this reservation. Rate for current guest count is SR</strong><div class=actions><button type=button ng-click=keepCurrentRate() class="button green" translate="">KEEP_CURRENT_RATE</button> <button type=button ng-click=ChangeToNewRate() class="button blue" translate="">CHANGE_TO_NEW_RATE</button> <button type=button class="button blank" ng-click=cancelOccupancyChange() translate="">CLOSE</button></div></form></div></div>'),t.put("/assets/partials/reservation/rvEditRates.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div><form ng-cloak="" method=post id=edit-rate name=edit-rate class="modal-content form modify-rate"><button id=modal-close type=button class="dark-title modal-close" ng-click=closeDialog()><span class="icons icon-close"></span></button><div class=modal-header><h1>Rate Details</h1><em>{{ngDialogData.room.roomTypeName}}<br>{{ngDialogData.room.rateName}}</em></div><div id=rate-grid class=scrollable ng-iscroll=rateDetails ng-iscroll-delay=2000><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><table class=rate-grid><thead><tr><th class=date>Date</th><th class=rate>Rate</th><th class=edit>Quoted</th><th class=copy ng-if="getObjectLength(ngDialogData.room.stayDates) > 2">Copy</th></tr></thead><tbody><tr ng-repeat="(date,stayDay) in ngDialogData.room.stayDates" ng-hide="$last && $index > 0"><td class=date>{{date | date : \'EEEE, d MMMM\'}}</td><td class=rate ng-if="stayDay.rateDetails.is_suppressed != \'true\' && stayDay.rateDetails.actual_amount != \'0.00\'"><span ng-bind-html="stayDay.rateDetails.actual_amount | sntCurrency:this:stayDay.rateDetails.rate_currency"></span></td><td class=rate ng-if="stayDay.rateDetails.is_suppressed != \'true\' && stayDay.rateDetails.actual_amount == \'0.00\'">N/A</td><td class=rate ng-if="stayDay.rateDetails.is_suppressed == \'true\'">SR</td><td class=edit ng-if=!shouldSupressRateInput(stayDay)>{{stayDay.rateDetails.rate_currency}} <input ng-disabled="shouldDisableRateChange(stayDay, date)" type=text value="" ng-model=stayDay.rateDetails.modified_amount></td><td class=edit ng-if=shouldSupressRateInput(stayDay)>SR</td><td class=copy ng-show="getObjectLength(ngDialogData.room.stayDates) > 2"><span class="admin-icons icon-mover-right" ng-show=isDateEqual(date,ngDialogData.showDate) ng-click="copySingleValueToOtherCells(stayDay.rateDetails.modified_amount, ngDialogData.room.stayDates)">Copy rate</span></td></tr></tbody></table><div class="entry full-width"><label ng-hide=otherData.forceAdjustmentReason for=adjustment-reason>Adjustment reason (<span>optional</span>)</label> <label ng-show=otherData.forceAdjustmentReason for=adjustment-reason>Adjustment reason <strong>*</strong></label> <textarea id=adjustment-reason placeholder="Rate Adjusted because ...." rows=2 ng-model=adjustment_reason>\n            \t\t</textarea></div></div></div><div class=actions><button type=button ng-click=closeDialog() class="button blank modal-close">Close</button> <button type=button ng-click="save(ngDialogData.room, ngDialogData.index)" class="button green modal-close">Update</button></div></form></div></div>'),t.put("/assets/partials/reservation/rvMain.html",'<div ng-show=staycardReady><div ng-include="\'/assets/partials/guestCard/guestCard.html\'"></div><div role=main id=view-nested-first class="nested-view view-current"><div ui-view="" class=main-view></div></div></div>'),t.put("/assets/partials/reservation/rvMainCard.html",'<section id=createReservations <!--="" cards="" --=""><ng-include src="\'/assets/partials/reservation/includes/rvSettings.html\'" ng-hide=hotelDiaryConfig.dayUseEnabled></ng-include><div id=reservations-nested-first class="nested-view with-sidebar view-current" role=main><ui-view></ui-view></div></section>'),t.put("/assets/partials/reservation/rvPaymentFields.html",'<div class="entry full-width" ng-class="{\'amount\': isShowFees()}"><label for=amount>Amount to pay (<span>{{currencySymbol}}</span>)</label><input ng-keyup=calculateFee() name=amount id=amount ng-model=reservationData.depositAmount type=text ng-disabled=!reservationData.depositEditable class=amount> <span ng-show=isShowFees() class=delimiter>+</span> <input ng-show=isShowFees() name=fee id=fee ng-keyup=calculateTotalAmount(reservationData.depositAmount) ng-model=feeData.calculatedFee value={{feeData.calculatedFee}} type=text class=fee> <span ng-show=isShowFees() class=delimiter>fee</span> <span ng-show=isShowFees() class=total>Total: <strong id=total-deposit-amount><span ng-bind-html="feeData.totalOfValueAndFee | sntCurrency:this"></span></strong></span></div><div class="entry full-width reference" ng-show=checkReferencetextAvailable()><label for=reference>Reference</label> <input name=reference id=reference ng-model=reservationData.referanceText type=text></div>'),t.put("/assets/partials/reservation/rvReservationConfirm.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><section id=details-and-payment class="content reservations-inner"><div id=details-and-payment-content class=reservations-content-wrapper><div class="reservation-summary scrollable" id=reservation-summary ng-iscroll=reservationSummary><div class=wrapper><h2>Reservation Confirmation</h2><ul class=data ng-if=!reservationData.isHourly><li><span class="guest-status room" translate="">ROOMS</span> <span>{{reservationData.rooms.length}}</span> <span ng-if="reservationData.rooms.length === 1" translate="">ROOM</span> <span ng-if="reservationData.rooms.length !== 1" translate="">ROOMS</span></li><li><span class="guest-status nights" translate="">NIGHTS</span> <span>{{reservationData.numNights}}</span> <span ng-if="reservationData.numNights === 1" translate="">NIGHT</span> <span ng-if="reservationData.numNights !== 1" translate="">NIGHTS</span></li></ul><div class=stay-dates><div class=check-in-dates><span class="guest-status small-icon check-in">check-in</span> {{getSimplifiedDayName(reservationData.arrivalDate)}}, {{reservationData.arrivalDate | date:dateFormat}} <span ng-if=!!reservationData.checkinTime.hh class="check-data-set icons icon-time time-in">{{time.arrival}}</span> <span ng-if=!reservationData.checkinTime.hh class="check-data-not-set icons icon-time time-in">Not Set</span></div><div class=check-out-dates><span class="guest-status small-icon check-out">check-out</span> {{getSimplifiedDayName(reservationData.departureDate)}}, {{reservationData.departureDate | date:dateFormat}} <span ng-if=!!reservationData.checkoutTime.hh class="check-data-set icons icon-time time-out">{{time.departure}}</span> <span ng-if=!reservationData.checkoutTime.hh class="check-data-not-set icons icon-time time-out">Not Set</span></div></div><div class=rooms ng-repeat="room in reservationData.rooms track by $index"><div class=title><span translate="">ROOM</span> {{$index + 1}}<div class=count><span><span class=label translate="">ADULTS</span>{{room.numAdults}}</span> <span><span class=label translate="">CHILDREN</span>{{room.numChildren}}</span> <span><span class=label translate="">INFANTS</span>{{room.numInfants}}</span></div></div><div class=room-type><h4 ng-if=room.roomName>{{room.roomName}} - {{room.roomTypeName}}<span></span></h4><h4 ng-if=!room.roomName>{{room.roomTypeName}}<span></span></h4><div class=confirmation ng-hide=room.confirm_no><span class=label>Confirmation #</span>{{reservationData.confirmNum}}</div><div class=confirmation ng-show=room.confirm_no><span class=label>Confirmation #</span>{{room.confirm_no}}</div></div><ul class=rate-and-enhancements><li><em>{{room.rateName}}</em> <span class=price><label ng-if="!room.isSuppressed && !reservationData.isHourly" ng-bind-html="room.rateAvg | sntCurrency:this:reservationData.rateCurrency"></label> <label ng-if="room.isSuppressed && !reservationData.isHourly">SR</label> <span translate="" ng-if=!reservationData.isHourly>AVG_NIGHT</span> <span class=total ng-if=room.isSuppressed>SR</span> <span class=total ng-if=!room.isSuppressed ng-bind-html="room.rateTotal | sntCurrency:this:reservationData.rateCurrency"></span></span></li><li ng-repeat="addon in room.addons" class=with-padding><em>{{addon.description}}</em> <span class=price ng-hide=addon.is_inclusive><label ng-bind-html="addon.avg_addon_amount | sntCurrency:this:reservationData.rateCurrency"></label> <span translate="">EACH</span> <span class=total ng-bind-html="addon.amount | sntCurrency:this:reservationData.rateCurrency"></span></span><span class=price ng-show=addon.is_inclusive>INCL <span translate="">EACH</span> <span class=total>INCL</span></span></li></ul><div class=guests><h5><em>Guest:</em>{{guestCardData.contactInfo.first_name}}&nbsp;{{guestCardData.contactInfo.last_name}}</h5><ul class=accompanying-guests ng-show=shouldShowAccompanyingGuests(room)><li ng-repeat="guest in room.accompanying_guest_details.ADULT"><span>Accompanying guest</span><em>{{guest.first_name}} {{guest.last_name}}</em></li><li ng-repeat="guest in room.accompanying_guest_details.CHILDREN"><span>Accompanying guest</span><em>{{guest.first_name}} {{guest.last_name}}</em></li><li ng-repeat="guest in room.accompanying_guest_details.INFANTS"><span>Accompanying guest</span><em>{{guest.first_name}} {{guest.last_name}}</em></li></ul></div></div><ul class=total-stay-cost><li ng-repeat="row in reservationData.taxDetails.taxInformation"><span class=label translate="">{{row.description}}</span> <span class=total ng-if=reservationData.isRoomRateSuppressed>SR</span> <span class=total ng-if=!reservationData.isRoomRateSuppressed><span ng-bind-html="row.amount | sntCurrency:this:reservationData.rateCurrency"></span></span></li><li><span class=label translate="">TOTAL_TAX</span> <label ng-if=!reservationData.isRoomRateSuppressed><span ng-bind-html="reservationData.totalTax | sntCurrency:this:reservationData.rateCurrency"></span></label> <label ng-if=reservationData.isRoomRateSuppressed>SR</label></li><li><span class=label translate="">TOTAL_STAY_COST</span> <label ng-if=!reservationData.isRoomRateSuppressed><strong><span ng-bind-html="reservationData.totalStayCost | sntCurrency:this:reservationData.rateCurrency"></span></strong></label> <label ng-if=reservationData.isRoomRateSuppressed>SR</label></li></ul></div></div><form class="form payment-info scrollable" id=payment-info name=payment_info ng-iscroll=paymentInfo><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-include="\'/assets/partials/common/notification_success_message.html\'"></div><div class=reservation-completed><h2 ng-hide="viewState.identifier == \'UPDATED\'" translate="">RESERVATION_CREATED</h2><h2 ng-show="viewState.identifier == \'UPDATED\'" translate="">RESERVATION_CHANGED</h2><p translate="" ng-show="!reservationStatus.confirmed && sendConfirmationLetter">SEND_CONFIRMATION_TO_FOLLOWING_EMAIL_ADDRESSES</p><span ng-show="!reservationStatus.confirmed && sendConfirmationLetter"><div class="entry radio-check"><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\' : otherData.isGuestPrimaryEmailChecked}"></span> <input name=send-confirmation value=send-confirmation type=checkbox ng-model=otherData.isGuestPrimaryEmailChecked> {{ \'GUEST_EMAIL_ADDRESS\' | translate }}</label> <input name=email id=email ng-model=reservationData.guest.email ng-blur=primaryEmailEntered() ng-change=watchEmailUpdate() type=email></div><div class="entry radio-check"><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\' : otherData.isGuestAdditionalEmailChecked}"></span> <input name=send-confirmation value=send-confirmation type=checkbox ng-model=otherData.isGuestAdditionalEmailChecked> {{ \'ADDITIONAL_EMAIL_ADDRESS\' | translate }}</label> <input name=email id=email ng-model=otherData.additionalEmail type=email></div><div class="entry full-width break-top" ng-show=reservationData.languageData.show_language_field><label for=email-language translate="">GUEST_LANGUAGE</label><div class=select><select id=email-language ng-model=reservationData.languageData.selected_language_code><option value="" translate="">SELECT_LANGUAGE</option><option value={{item.code}} ng-repeat="item in reservationData.languageData.languages" ng-selected="item.code === reservationData.languageData.selected_language_code" ng-if=item.is_show_on_guest_card>{{item.language}}</option></select></div></div><div class="entry radio-check break-top"><label class="checkbox inline" for=no-rate-print ng-class="{ \'checked\':reservationData.hide_rates }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\':reservationData.hide_rates }"></span> <input ng-click=clickedShowRate() id=no-rate-print value="" type=checkbox> {{ \'DONT_PRINT_RATE\' | translate }}</label></div><div class="entry radio-check break-bottom" ng-show=reservationData.is_custom_text_per_reservation><label for=custom-text class="checkbox inline" ng-class="{ \'checked\':reservationData.enable_confirmation_custom_text }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\':reservationData.enable_confirmation_custom_text }"></span> <input id=custom-text value={value} type=checkbox ng-click=enableConfirmationCustomText();> {{ \'CONF_CUSTOM_TEXT\' | translate }}</label></div><div class="entry full-width" ng-show=reservationData.enable_confirmation_custom_text><label for=email-title translate="">TITLE</label> <input id=email-title ng-model=reservationData.confirmation_custom_title type=text></div><div class="entry full-width" ng-show=reservationData.enable_confirmation_custom_text><label for=email-text translate="">TEXT</label> <textarea id=email-text ng-model=reservationData.confirmation_custom_text rows=3></textarea></div></span><div class=actions ng-show=!reservationStatus.confirmed><button type=button class="button blue with-icon" ng-click=sendConfirmationClicked(payment_info.email.$valid) translate=""><span class="icons icon-email"></span> {{ \'CONFIRM_RESERVATION\' | translate }}</button> <button type=button class="button blue with-icon" ng-if="sendConfirmationLetter && printConfirmationLetter" ng-click=printConfirmationReservation()><span class="icons icon-print"></span> {{\'PRINT_CONFIRMATION\' | translate}}</button></div><section ng-show=reservationStatus.confirmed><div class=actions><button type=button id=go-to-staycard class="button brand-colors" ng-click=goToStaycardClicked() translate="">GO_TO_STAYCARD</button> <button type=button id=new-reservation-for-guest class="button green" ng-click=clickedNewReservation() translate="">NEW_RESERVATION_FOR_GUEST</button> <button type=button id=go-to-search ng-hide=reservationData.isHourly class="button white blue-text" ng-click=goToSearchClicked() translate="">SEARCH_RESERVATIONS</button> <button type=button class="button blue-text" translate="" ng-click=checkin() ng-disabled=!enableCheckInButton() ng-class="{\'white\': enableCheckInButton(), \'grey\': !enableCheckInButton()}" ng-hide=true>CHECKIN</button> <button type=button class="button white blue-text" translate="" ng-click=gotoDiaryScreen() ng-show=reservationData.isHourly>Diary</button> <button type=button class="button white blue-text" translate="" ng-click=gotoNightlyDiary() ng-show=reservationData.isFromNightlyDiary>Diary</button></div></section><section ng-hide=true><div class="entry full-width" ng-show=isConfirmationEmailSent><label>Email confirmation has been sent to {{reservationData.guest.email}}</label> <label ng-if="reservationData.guest.email != \'\' && otherData.additionalEmail !=\'\'">(and {{otherData.additionalEmail}}).</label> <label ng-if="reservationData.guest.email == \'\' && otherData.additionalEmail != \'\'">{{otherData.additionalEmail}}.</label></div><div class="entry full-width" ng-hide=isConfirmationEmailSent><label for=email translate="">CONFIRM_EMAIL_LABEL</label> <input name=email id=email type=email ng-model=reservationData.guest.sendConfirmMailTo ng-blur=primaryEmailEntered()> <button type=button id=send-confirmation class="button blue" ng-click=sendConfirmationClicked(payment_info.email.$valid) translate="">SEND_CONFIRMATION_EMAIL</button></div><div class=actions><button type=button id=go-to-staycard class="button brand-colors" ng-click=goToStaycardClicked() translate="">GO_TO_STAYCARD</button> <button type=button id=new-reservation-for-guest class="button green" ng-click=clickedNewReservation() translate="">NEW_RESERVATION_FOR_GUEST</button> <button type=button id=go-to-search ng-hide=reservationData.isHourly class="button white blue-text" ng-click=goToSearchClicked() translate="">SEARCH_RESERVATIONS</button> <button type=button id="" class="button blue-text" translate="" ng-click=checkin() ng-disabled=!enableCheckInButton() ng-class="{\'white\': enableCheckInButton(), \'grey\': !enableCheckInButton()}">CHECKIN</button> <button type=button id="" class="button white blue-text" translate="" ng-click=gotoDiaryScreen() ng-show=reservationData.isHourly>Diary</button></div></section></div></div></form></div></section><div ng-include="\'/assets/partials/reservation/includes/rvConfirmationPrintTemplate.html\'"></div>'),t.put("/assets/partials/reservation/rvReservationDemographicsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form method=post action="" class="modal-content form demographics"><button ng-click=closeDialog() ng-hide=summaryState.forceDemographicsData id=modal-close class=modal-close type=button><span class="icons icon-close invert"></span></button> <strong class="h2 message" ng-hide=summaryState.forceDemographicsData>Demographics</strong> <span class=text ng-hide=summaryState.forceDemographicsData>Fields marked with <strong>*</strong> are mandatory</span> <strong class="h2 message" ng-show=summaryState.forceDemographicsData>Demographics Missing!</strong> <span class=text ng-show=summaryState.forceDemographicsData>Set mandatory demographics to continue</span><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry margin" ng-show=shouldShowReservationType><label for=reservation-type>Reservation type<strong ng-show=otherData.reservationTypeIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=reservation-type id=reservation-type ng-class="{\'placeholder\': demographics.reservationType == \'\'}" ng-model=demographics.reservationType><option value="" translate="">RESERVATION_TYPE_PLACEHOLDER</option><option ng-repeat="reservationType in otherData.reservationTypes" value={{reservationType.value}} ng-selected="reservationType.value==demographics.reservationType">{{reservationType.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowMarket><label for=market>Market<strong ng-show=otherData.marketIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=market id=market ng-class="{\'placeholder\': demographics.market == \'\'}" ng-model=demographics.market><option value="" translate="">MARKET_PLACEHOLDER</option><option ng-repeat="market in otherData.markets" value={{market.value}} ng-selected="market.value==demographics.market">{{market.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowSource><label for=source>Source<strong ng-show=otherData.sourceIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=source id=source ng-class="{\'placeholder\': demographics.source == \'\'}" ng-model=demographics.source><option value="" translate="">SOURCE_PLACEHOLDER</option><option ng-repeat="source in otherData.sources" value={{source.value}} ng-selected="source.value==demographics.source">{{source.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowOriginOfBooking><label for=origin>Origin of Booking<strong ng-show=otherData.originIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=origin id=origin ng-class="{\'placeholder\': demographics.origin == \'\'}" ng-model=demographics.origin><option value="" translate="">ORIGIN_BOOKING_PLACEHOLDER</option><option ng-repeat="origin in otherData.origins" value={{origin.value}} ng-selected="origin.value==demographics.origin">{{origin.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowSegments><label for=origin>Segments<strong ng-show=otherData.segmentsIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=origin id=origin ng-class="{\'placeholder\': demographics.segment == \'\'}" ng-model=demographics.segment ng-disabled="!!demographics.segment && !!summaryState.computedSegment"><option value="" translate="">SEGMENT_PLACEHOLDER</option><option ng-repeat="segment in otherData.segments" value={{segment.value}} ng-selected="segment.value==demographics.segment">{{segment.name}}</option></select></div></div><div class=actions><button type=button class="button blank" ng-hide=summaryState.forceDemographicsData ng-click=closeDialog()>Cancel</button> <button type=button class=button ng-hide=summaryState.forceDemographicsData ng-disabled=!isDemographicsFormValid(false) ng-class="isDemographicsFormValid(false) ? \'green\' : \'grey\'" ng-click="updateAdditionalDetails((reservationData.reservationIds[ngDialogData.data] || reservationData.reservationId) , ngDialogData.data)">Save</button> <button ng-show=summaryState.forceDemographicsData type=button class=button ng-disabled=!isDemographicsFormValid(false) ng-class="isDemographicsFormValid(false) ? \'green\' : \'grey\'" ng-click="updateAdditionalDetails((reservationData.reservationIds[ngDialogData.data] || reservationData.reservationId) , ngDialogData.data , true)">Save & Continue</button></div></form></div>'),
t.put("/assets/partials/reservation/rvRoomRates.html",'<div class=reservations-content-wrapper><div class=reservation-filters ng-class="{\'with-guests\': stateCheck.stayDatesMode}"><div class=edit-guests ng-show=stateCheck.stayDatesMode><a ng-click=toggleEditGuestOptions() class="button has-arrow toggle"><span class=label>Guests <em ng-hide=stateCheck.guestOptionsIsEditable>({{ stateCheck.dateModeActiveDate | date : \'EEE dd\'}})</em></span> {{(stateCheck.selectedStayDate.guests.adults*1 + stateCheck.selectedStayDate.guests.children*1 + stateCheck.selectedStayDate.guests.infants*1)}}</a><div id=guest-options class=reservation-guests ng-show=stateCheck.guestOptionsIsEditable><div class="select adults"><label for=room-adults class=label translate="">ADULTS</label><select name=room-adults id=room-adults ng-model=stateCheck.selectedStayDate.guests.adults ng-change="updateDayOccupancy(\'adults\'); toggleEditGuestOptions()"><option ng-repeat="i in [0, otherData.maxAdults] | makeRange" value={{i}} ng-selected="i == stateCheck.selectedStayDate.guests.adults">{{i}}</option></select></div><div class="select children"><label for=room-children class=label translate="">CHILDREN</label><select name=room-children id=room-children ng-model=stateCheck.selectedStayDate.guests.children ng-change="updateDayOccupancy(\'children\'); toggleEditGuestOptions()"><option ng-repeat="i in [0, otherData.maxChildren] | makeRange" value={{i}} ng-selected="i == stateCheck.selectedStayDate.guests.children">{{i}}</option></select></div><div class="select infants"><label for=room-infants class=label translate="">INFANTS</label><select name=room-infants id=room-infants ng-model=stateCheck.selectedStayDate.guests.infants ng-change="updateDayOccupancy(\'infants\'); toggleEditGuestOptions()"><option ng-repeat="i in [0, otherData.maxInfants] | makeRange" value={{i}} ng-selected="i == stateCheck.selectedStayDate.guests.infants">{{i}}</option></select></div></div></div><ul><li ng-show=otherData.recommendedRateDisplay ng-class="{active: activeCriteria ==\'RECOMMENDED\'}" ng-click="activeCriteria=\'RECOMMENDED\';refreshScroll()">{{\'RESV_RECOMMENDED\'|translate}}</li><li ng-class="{active: activeCriteria == \'ROOM_TYPE\'}" ng-click="activeCriteria=\'ROOM_TYPE\'; refreshScroll()">{{\'RESV_ROOM\'|translate}}</li><li ng-class="{active: activeCriteria == \'RATE\'}" ng-click="activeCriteria= \'RATE\';refreshScroll()">{{\'RESV_RATE\'|translate}}</li></ul><div class=find-rates ng-show="activeCriteria == \'RATE\'"><button type=submit name=submit class="icons icon-search" translate="">SEARCH</button> <span role=status aria-live=polite class=ui-helper-hidden-accessible></span> <input ng-blur=hideResults(); ng-focus="isRateFilterActive = true" name=find-rates type=text placeholder="Find Rates" value="" autocomplete=off class=ui-autocomplete-input ng-model=stateCheck.rateFilterText ng-change=filterRates();></div><div class=select ng-show="activeCriteria == \'ROOM_TYPE\'"><select ng-model=stateCheck.preferredType ng-change=onRoomTypeChange($event) ng-disabled="activeCriteria == \'RATE\' || activeCriteria == \'RECOMMENDED\' || (stateCheck.stayDatesMode && stateCheck.rateSelected.oneDay && stateCheck.dateModeActiveDate != reservationData.arrivalDate) || reservationData.status == \'CHECKEDIN\' || reservationData.status == \'CHECKING_OUT\'"><option value="" translate="" ng-if="reservationData.tabs.length < 2">RESV_ALL_ROOMS</option><option value="" ng-if="viewState.currentTab >0 && !stateCheck.preferredType" class=placeholder>Select Room Type</option><option value={{roomType.id}} ng-repeat="roomType in roomTypes|filter:{level:\'!!\'}|orderBy:\'level\'" ng-selected="roomType.id == stateCheck.preferredType" ng-hide=isRoomTypeSelected(roomType.id);>{{roomType.name}}</option></select></div></div><div class="reservation-content rooms-and-rates-content no-content" ng-show="displayData.roomTypes.length == 0"><div class=info><span class="icon-no-content icon-room"></span> <strong class=h1 translate="">NO_AVAILABILITY</strong> <span class=h2 translate="">NO_ROOM_RATE_MSG</span></div></div><div class="reservation-content rooms-and-rates-content scrollable" ng-iscroll=room_types ng-iscroll-delay=500 style=height:{{containerHeight}}px ng-show="displayData.roomTypes.length > 0"><div><ul ng-if="activeCriteria == \'RECOMMENDED\'" class="rooms-and-rates wrapper"></ul><ul class="rooms-and-rates wrapper" ng-if="activeCriteria == \'ROOM_TYPE\'"><li ng-repeat="room in displayData.roomTypes track by $index" ng-hide="$index > 1 && showLessRooms" ng-init="isVisibleRoom = (selectedRoomType == room.id)"><a class="has-arrow toggle" ng-class="{active: isVisibleRoom}" ng-click="isVisibleRoom = !isVisibleRoom; refreshScroll()"><div class=data><h2>{{room.name}}</h2><span class=recommended ng-init="upsell = roomAvailability[room.id].averagePerNight - roomAvailability[displayData.roomTypes[0].id].averagePerNight | number: 2" ng-show="displayData.roomTypes.length > 0 && $index > 0 && upsell > 0">{{ \'RESV_FOR_ONLY\' | translate}}&nbsp;<span ng-bind-html="upsell | sntCurrency:this"></span>&nbsp;{{\'RESV_MORE\'|translate}}</span><span class="count red" ng-show="stateCheck.stayDatesMode && roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].availabilityCount < 5">{{roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].availabilityCount}} room(s) left <label ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].isGroupRate>in Group Block</label> <label ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].isAllotmentRate>in Allotment</label></span> <span class="count red" ng-show="!stateCheck.stayDatesMode && getLeastAvailability(room.id, roomAvailability[room.id].defaultRate) < 5">{{getLeastAvailability(room.id, roomAvailability[room.id].defaultRate)}} room(s) left <label ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].isGroupRate>in Group Block</label> <label ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].isAllotmentRate>in Allotment</label></span> <span class="count green" ng-show="stateCheck.stayDatesMode && roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].availabilityCount > 4">{{roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].availabilityCount}} room(s) left <label ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].isGroupRate>in Group Block</label> <label ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].isAllotmentRate>in Allotment</label></span> <span class="count green" ng-show="!stateCheck.stayDatesMode && getLeastAvailability(room.id, roomAvailability[room.id].defaultRate) > 4">{{getLeastAvailability(room.id, roomAvailability[room.id].defaultRate)}} room(s) left <label ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].isGroupRate>in Group Block</label> <label ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][roomAvailability[room.id].defaultRate].isAllotmentRate>in Allotment</label></span></div><div class=book-rate ng-class="{hidden: isVisibleRoom}"><h4 ng-hide=isCorRate(roomAvailability[room.id].defaultRate) translate="">RESV_BEST_RATE</h4><h4 ng-show=isCorRate(roomAvailability[room.id].defaultRate) translate="">RESV_COR_RATE</h4><div class=price ng-if=!roomAvailability[room.id].isSuppressed><span ng-bind-html="roomAvailability[room.id].averagePerNight | sntCurrency:this"></span> <span translate="">RESV_AVG_NIGHT</span></div><div class=price ng-if=roomAvailability[room.id].isSuppressed>SR<span translate="">RESV_AVG_NIGHT</span></div><button class="button white blue-text" ng-show="stateCheck.selectedStayDate.rate.id == roomAvailability[room.id].defaultRate && stateCheck.preferredType == room.id" ng-click="handleNoEdit($event, room.id, roomAvailability[room.id].defaultRate)">CURRENT RATE</button> <button class=button ng-hide="(stateCheck.selectedStayDate.rate.id == roomAvailability[room.id].defaultRate && stateCheck.preferredType == room.id) || restrictIfOverbook(room.id, roomAvailability[room.id].defaultRate)" ng-class="getBookButtonStyle(room.id, roomAvailability[room.id].defaultRate)" ng-click=handleBooking(room.id,roomAvailability[room.id].defaultRate,$event) translate="">RESV_BOOK</button></div></a><ul class=rates ng-class="{hidden: !isVisibleRoom}"><li ng-repeat="rate in roomAvailability[room.id].rates" ng-class="{\'closed\': !stateCheck.stayDatesMode && getAllRestrictions(room.id,rate).length > 0 || stateCheck.stayDatesMode && roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].restrictions.length > 0}"><a class="has-arrow toggle" ng-class="{active: isActive}" ng-init="isActive=false;" ng-click="isActive = !isActive ; refreshScroll()"><h3 ng-class="{\'restricted\': !stateCheck.stayDatesMode && getAllRestrictions(room.id,rate).length > 0 || stateCheck.stayDatesMode && roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].restrictions.length > 0}">{{displayData.allRates[rate].name}}<span class=corporate ng-if=displayData.allRates[rate].account_id translate="">CORPORATE_LABEL</span> <span class=corporate ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].applyPromotion>PROMOTION</span> <span class=corporate ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].isMember>MEMBER</span> <span class=corporate ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].isGroupRate>GROUP</span> <span class=corporate ng-if=roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].isAllotmentRate>ALLOTMENT</span><span class=restricted ng-if="!stateCheck.stayDatesMode && getAllRestrictions(room.id,rate).length > 1">MULTIPLE RESTRICTIONS APPLY</span> <span class="restricted {{restrictionColorClass[getAllRestrictions(room.id,rate)[0].key]}}" ng-if="!stateCheck.stayDatesMode && getAllRestrictions(room.id,rate).length == 1">{{getAllRestrictions(room.id,rate)[0].value}}</span> <span class=restricted ng-if="stateCheck.stayDatesMode && roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].restrictions.length > 1">MULTIPLE RESTRICTIONS APPLY</span> <span class="restricted {{restrictionColorClass[roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].restrictions[0].key]}}" ng-if="stateCheck.stayDatesMode && roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].restrictions.length == 1">{{roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].restrictions[0].value}}</span></h3><div class=price ng-if=!displayData.allRates[rate].is_suppress_rate_on><span ng-bind-html="roomAvailability[room.id].total[rate].average | sntCurrency:this"></span> <span translate="">RESV_AVG_NIGHT</span></div><div class=price ng-if=displayData.allRates[rate].is_suppress_rate_on>SR <span translate="">RESV_AVG_NIGHT</span></div><button ng-show="stateCheck.selectedStayDate.rate.id == rate && stateCheck.preferredType == room.id" class="button white blue-text" ng-click="handleNoEdit($event, room.id, rate)">CURRENT RATE</button> <button class=button ng-hide="(stateCheck.selectedStayDate.rate.id == rate && stateCheck.preferredType == room.id) || restrictIfOverbook(room.id,rate)" ng-class=getBookButtonStyle(room.id,rate) ng-click="handleBooking(room.id,rate, $event)" translate="">RESV_BOOK</button></a><div class=rate-details ng-class="{hidden: !isActive}"><ul class=info><li ng-bind-html=room.description></li><li>{{displayData.allRates[rate].description}}</li><li>{{displayData.allRates[rate].deposit_policy.description}}</li><li>{{displayData.allRates[rate].cancellation_policy.description}}</li></ul><table class=room-cost><thead><tr><th translate="">DATE</th><th translate="">RESV_RATE</th><th translate="">ADD_ONS</th><th>{{\'TAXES_INCL\'|translate}}</th><th>{{\'TAXES_EXCL\'|translate}}</th><th translate="">RESV_TOTAL</th></tr></thead><tfoot><tr><td colspan=5 class=total-label translate="">RESV_TOTAL_ROOM</td><td class=total-value ng-if=!displayData.allRates[rate].is_suppress_rate_on><span ng-bind-html="roomAvailability[room.id].total[rate].total | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate].is_suppress_rate_on>SR</td><td class=edit ng-hide=true><a href="modals/apply-discount/" class="open-modal button with-icon only-icon purple edit"><span class="icons icon-pencil"></span></a></td></tr></tfoot><tbody><tr ng-repeat="day in displayData.dates"><td>{{day.obj | date: fulldayInWeek }}, {{day.obj | date: dateFormat }}</td><td ng-if=!displayData.allRates[rate].is_suppress_rate_on><span ng-bind-html="roomAvailability[room.id].ratedetails[day.str][rate].rate | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate].is_suppress_rate_on>SR</td><td ng-if="!displayData.allRates[rate.rate.id].is_suppress_rate_on && !roomAvailability[room.id].ratedetails[day.str][rate].inclusiveAddonsExist"><span ng-bind-html="roomAvailability[room.id].ratedetails[day.str][rate].addonAmount | sntCurrency:this"></span></td><td ng-if="!displayData.allRates[rate.rate.id].is_suppress_rate_on && !!roomAvailability[room.id].ratedetails[day.str][rate].inclusiveAddonsExist">INCL</td><td ng-if=displayData.allRates[rate.rate.id].is_suppress_rate_on>SR</td><td ng-if=!displayData.allRates[rate].is_suppress_rate_on><span ng-bind-html="roomAvailability[room.id].ratedetails[day.str][rate].tax.incl | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate].is_suppress_rate_on>SR</td><td ng-if=!displayData.allRates[rate].is_suppress_rate_on><span ng-bind-html="roomAvailability[room.id].ratedetails[day.str][rate].tax.excl | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate].is_suppress_rate_on>SR</td><td ng-if=!displayData.allRates[rate].is_suppress_rate_on><span ng-bind-html="roomAvailability[room.id].ratedetails[day.str][rate].total | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate].is_suppress_rate_on>SR</td><td class=edit></td></tr></tbody></table><ul ng-if="!stateCheck.stayDatesMode && getAllRestrictions(room.id,rate).length > 1" class=restrictions><li ng-repeat="restriction in getAllRestrictions(room.id,rate)" ng-class=restrictionColorClass[restriction.key]>{{restriction.value}}</li></ul><ul ng-if="stateCheck.stayDatesMode && roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].restrictions.length > 1" class=restrictions><li ng-repeat="restriction in roomAvailability[room.id].ratedetails[stateCheck.dateModeActiveDate][rate].restrictions" ng-class=restrictionColorClass[restriction.key]>{{restriction.value}}</li></ul></div></li></ul></li><li class=break ng-show="showLessRooms && displayData.allRooms.length > 2 && selectedRoomType == -1" ng-click=showAllRooms()><span translate="">RESV_SEE_MORE_ROOMS</span></li></ul><ul class="rooms-and-rates wrapper" ng-if="activeCriteria == \'RATE\'"><li class=is-rate ng-repeat="rate in rateFiltered ? filteredRates : displayData.availableRates" ng-init="isActive=false; selectedRoom = rate.preferredType" ng-hide="$index > 1 && showLessRates" ng-class="{\'closed\' : (!stateCheck.stayDatesMode && getAllRestrictions(selectedRoom,rate.rate.id).length > 0) || (stateCheck.stayDatesMode && roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].restrictions.length > 0)}"><a class="has-arrow toggle" ng-class="{active: isActive}" ng-click="isActive = !isActive ; refreshScroll();"><div class=data><h2>{{rate.rate.name}}</h2><span class=corporate ng-if=rate.rate.account_id translate="">CORPORATE_LABEL</span> <span class=corporate ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].applyPromotion>PROMOTION</span> <span class=corporate ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isMember>MEMBER</span> <span class=corporate ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isGroupRate>GROUP</span> <span class=corporate ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isAllotmentRate>ALLOTMENT</span><span class=restricted ng-if="!stateCheck.stayDatesMode && getAllRestrictions(selectedRoom,rate.rate.id).length > 1">MULTIPLE RESTRICTIONS APPLY</span> <span class="restricted {{restrictionColorClass[getAllRestrictions(selectedRoom,rate.rate.id)[0].key]}}" ng-if="!stateCheck.stayDatesMode && getAllRestrictions(selectedRoom,rate.rate.id).length == 1">{{getAllRestrictions(selectedRoom,rate.rate.id)[0].value}}</span> <span class=restricted ng-if="stateCheck.stayDatesMode && roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].restrictions.length > 1">MULTIPLE RESTRICTIONS APPLY</span> <span class="restricted {{restrictionColorClass[roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].restrictions[0].key]}}" ng-if="stateCheck.stayDatesMode && roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].restrictions.length == 1">{{roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].restrictions[0].value}}</span></div><div class=book-rate><div class=select ng-click=$event.stopPropagation()><select name=room-1-type class=placeholder ng-model=selectedRoom ng-change=refreshScroll() ng-disabled="activeCriteria == \'ROOM_TYPE\' || activeCriteria == \'RECOMMENDED\' || (stateCheck.stayDatesMode && stateCheck.rateSelected.oneDay) || reservationData.status == \'CHECKEDIN\' || reservationData.status == \'CHECKING_OUT\'"><option ng-repeat="room in rate.rooms" value={{room.id}} ng-selected="room.id == rate.preferredType">{{room.name}}</option></select></div><span class="count red" ng-show="stateCheck.stayDatesMode && roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].availabilityCount < 5">{{roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].availabilityCount}} room(s) left <label ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isGroupRate>in Group Block</label> <label ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isAllotmentRate>in Allotment</label></span> <span class="count red" ng-show="!stateCheck.stayDatesMode && getLeastAvailability(selectedRoom, rate.rate.id) < 5">{{getLeastAvailability(selectedRoom, rate.rate.id)}} room(s) left <label ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isGroupRate>in Group Block</label> <label ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isAllotmentRate>in Allotment</label></span> <span class="count green" ng-show="stateCheck.stayDatesMode && roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].availabilityCount > 4">{{roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].availabilityCount}} room(s) left <label ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isGroupRate>in Group Block</label> <label ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isAllotmentRate>in Allotment</label></span> <span class="count green" ng-show="!stateCheck.stayDatesMode && getLeastAvailability(selectedRoom, rate.rate.id) > 4">{{getLeastAvailability(selectedRoom, rate.rate.id)}} room(s) left <label ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isGroupRate>in Group Block</label> <label ng-if=roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].isAllotmentRate>in Allotment</label></span><div class=price ng-if=!displayData.allRates[rate.rate.id].is_suppress_rate_on><span ng-bind-html="roomAvailability[selectedRoom].total[rate.rate.id].average | sntCurrency:this"></span> <span translate="">RESV_AVG_NIGHT</span></div><div class=price ng-if=displayData.allRates[rate.rate.id].is_suppress_rate_on>SR <span translate="">RESV_AVG_NIGHT</span></div><button ng-show="stateCheck.selectedStayDate.rate.id == rate.rate.id && stateCheck.preferredType == selectedRoom" class="button white blue-text" ng-click="handleNoEdit($event, selectedRoom, rate.rate.id)">CURRENT RATE</button><button ng-hide="(stateCheck.selectedStayDate.rate.id == rate.rate.id && stateCheck.preferredType == selectedRoom) || restrictIfOverbook(selectedRoom, rate.rate.id)" class=button ng-class="getBookButtonStyle(selectedRoom, rate.rate.id)" ng-click="handleBooking(selectedRoom,rate.rate.id, $event)" translate="">RESV_BOOK</button></div></a><ul class=rate-details ng-class="{hidden: !isActive}"><ul class=info><li ng-bind-html=roomAvailability[selectedRoom].description></li><li>{{displayData.allRates[rate.rate.id].description}}</li><li>{{displayData.allRates[rate.rate.id].deposit_policy.description}}</li><li>{{displayData.allRates[rate.rate.id].cancellation_policy.description}}</li></ul><table class=room-cost><thead><tr><th translate="">DATE</th><th translate="">RESV_RATE</th><th translate="">ADD_ONS</th><th>{{\'TAXES_INCL\'|translate}}</th><th>{{\'TAXES_EXCL\'|translate}}</th><th translate="">RESV_TOTAL</th></tr></thead><tfoot><tr><td colspan=5 class=total-label translate="">RESV_TOTAL_ROOM</td><td class=total-value ng-if=!displayData.allRates[rate.rate.id].is_suppress_rate_on><span ng-bind-html="roomAvailability[selectedRoom].total[rate.rate.id].total | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate.rate.id].is_suppress_rate_on>SR</td><td class=edit ng-hide=true><a href="modals/apply-discount/" class="open-modal button with-icon only-icon purple edit"><span class="icons icon-pencil"></span></a></td></tr></tfoot><tbody><tr ng-repeat="day in displayData.dates"><td>{{day.obj | date: fulldayInWeek }}, {{day.obj | date: dateFormat }}</td><td ng-if=!displayData.allRates[rate.rate.id].is_suppress_rate_on><span ng-bind-html="roomAvailability[selectedRoom].ratedetails[day.str][rate.rate.id].rate | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate.rate.id].is_suppress_rate_on>SR</td><td ng-if="!displayData.allRates[rate.rate.id].is_suppress_rate_on && !roomAvailability[selectedRoom].ratedetails[day.str][rate.rate.id].inclusiveAddonsExist"><span ng-bind-html="roomAvailability[selectedRoom].ratedetails[day.str][rate.rate.id].addonAmount | sntCurrency:this"></span></td><td ng-if="!displayData.allRates[rate.rate.id].is_suppress_rate_on && !!roomAvailability[selectedRoom].ratedetails[day.str][rate.rate.id].inclusiveAddonsExist">INCL</td><td ng-if=displayData.allRates[rate.rate.id].is_suppress_rate_on>SR</td><td ng-if=!displayData.allRates[rate.rate.id].is_suppress_rate_on><span ng-bind-html="roomAvailability[selectedRoom].ratedetails[day.str][rate.rate.id].tax.incl | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate.rate.id].is_suppress_rate_on>SR</td><td ng-if=!displayData.allRates[rate.rate.id].is_suppress_rate_on><span ng-bind-html="roomAvailability[selectedRoom].ratedetails[day.str][rate.rate.id].tax.excl | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate.rate.id].is_suppress_rate_on>SR</td><td ng-if=!displayData.allRates[rate.rate.id].is_suppress_rate_on><span ng-bind-html="roomAvailability[selectedRoom].ratedetails[day.str][rate.rate.id].total | sntCurrency:this"></span></td><td ng-if=displayData.allRates[rate.rate.id].is_suppress_rate_on>SR</td><td class=edit></td></tr></tbody></table><ul ng-if="!stateCheck.stayDatesMode && getAllRestrictions(selectedRoom,rate.rate.id).length > 1" class=restrictions><li ng-repeat="restriction in getAllRestrictions(selectedRoom,rate.rate.id)" ng-class=restrictionColorClass[restriction.key]>{{restriction.value}}</li></ul><ul ng-if="stateCheck.stayDatesMode && roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].restrictions.length > 1" class=restrictions><li ng-repeat="restriction in roomAvailability[selectedRoom].ratedetails[stateCheck.dateModeActiveDate][rate.rate.id].restrictions" ng-class=restrictionColorClass[restriction.key]>{{restriction.value}}</li></ul></ul></li><li class=break ng-show="showLessRates && rateFiltered == false && displayData.availableRates.length > 2 && selectedRoomType == -1" ng-click="showLessRates = false ; refreshScroll()"><span translate="">RESV_SEE_MORE_RATES</span></li></ul></div></div></div>'),t.put("/assets/partials/reservation/rvRoomRatesCalendar.html",'<div id=room-rates-content class=reservations-content-wrapper ng-controller=RVRoomRatesCalendarCtrl><div class=reservation-filters><div id=change-room-type class=select ng-show="stateCheck.calendarState.calendarType == \'ROOM_TYPE\'"><select ng-model=stateVariables.selectedRoom ng-change=filtersUpdated() ng-options="room.id as room.name for room in stateVariables.rooms"><option value="" selected="" translate="">RESV_ALL_ROOMS</option></select></div><div id=change-room-type class=select ng-show="stateCheck.calendarState.calendarType == \'ROOM_TYPE\'"><select ng-model=stateVariables.selectedRate ng-change=filtersUpdated() ng-options="rate.id as rate.name for rate in stateVariables.rates"><option value="" selected="" translate="">RESV_ALL_RATES</option></select></div><ul id=filter-calendar><li id=show-types ng-class="{\'active\': stateCheck.calendarState.calendarType == \'ROOM_TYPE\'}" ng-click=selectedRoomTypesCalOption() translate="">ROOM_TYPES</li><li id=show-bar ng-class="{\'active\': stateCheck.calendarState.calendarType == \'BEST_AVAILABLE\'}" ng-click=selectedBestAvailableRatesCalOption() translate="">BEST_AVAILABLE</li></ul></div><div id=room-rates-calendar class="reservation-content stay-dates-content"><div class=scrollable ng-iscroll=room-rates-calendar><div class=wrapper><two-month-calendar ng-if=showCalender event-sources-left=eventSources.left event-sources-right=eventSources.right left-calendar-options=leftCalendarOptions right-calendar-options=rightCalendarOptions next-button-click-handler=nextButtonClickHandler() prev-button-click-handler=prevButtonClickHandler() disable-prev-button=disablePrevButton></two-month-calendar></div></div><ul class=calendar-legend><li><span class=check-in></span>{{\'ARRIVAL\'|translate}}</li><li><span class="check-in unavailable"></span>{{\'ARRIVAL_UNAVAILABLE\'|translate}}</li><li><span class=check-out></span>{{\'DEPARTURE\'|translate}}</li><li><span class=availabile></span>{{\'AVAILABLE\'|translate}}</li><li ng-show="(stateVariables.selectedRoom !== null && stateVariables.selectedRoom !== \'\')&& stateCheck.calendarState.calendarType == \'ROOM_TYPE\'"><span class=unavailable></span> {{\'NO_ROOM_TYPE_AVAILABLE\'|translate}}</li><li ng-hide="(stateVariables.selectedRoom !== null && stateVariables.selectedRoom !== \'\')&& stateCheck.calendarState.calendarType == \'ROOM_TYPE\'"><span class=unavailable></span> {{\'NO_HOUSE_AVAILABLE\'|translate}}</li><li><span class=restrictions>R</span>{{\'RESTRICTIONS_APPLY\'|translate}}</li></ul></div></div>'),t.put("/assets/partials/reservation/rvRoomRatesList.html",'<div class=reservations-content-wrapper><div class=reservation-filters ng-class="{\'with-guests\': stateCheck.stayDatesMode}" ng-click=clearErrorMessage()><div class=edit-guests ng-show="!borrowForGroups && stateCheck.stayDatesMode"><a ng-click=toggleEditGuestOptions() class="button has-arrow toggle"><span class=label>Guests <em ng-hide=stateCheck.guestOptionsIsEditable>({{ stateCheck.dateModeActiveDate | date : \'EEE dd\'}})</em></span> {{(stateCheck.selectedStayDate.guests.adults*1 + stateCheck.selectedStayDate.guests.children*1 + stateCheck.selectedStayDate.guests.infants*1)}}</a><div id=guest-options class=reservation-guests ng-show=stateCheck.guestOptionsIsEditable><div class="select adults"><label for=room-adults class=label translate="">ADULTS</label><select name=room-adults id=room-adults ng-model=stateCheck.selectedStayDate.guests.adults ng-change="updateDayOccupancy(\'adults\'); toggleEditGuestOptions()"><option ng-repeat="i in [0, otherData.maxAdults] | makeRange" value={{i}} ng-selected="i == stateCheck.selectedStayDate.guests.adults">{{i}}</option></select></div><div class="select children"><label for=room-children class=label translate="">CHILDREN</label><select name=room-children id=room-children ng-model=stateCheck.selectedStayDate.guests.children ng-change="updateDayOccupancy(\'children\'); toggleEditGuestOptions()"><option ng-repeat="i in [0, otherData.maxChildren] | makeRange" value={{i}} ng-selected="i == stateCheck.selectedStayDate.guests.children">{{i}}</option></select></div><div class="select infants"><label for=room-infants class=label translate="">INFANTS</label><select name=room-infants id=room-infants ng-model=stateCheck.selectedStayDate.guests.infants ng-change="updateDayOccupancy(\'infants\'); toggleEditGuestOptions()"><option ng-repeat="i in [0, otherData.maxInfants] | makeRange" value={{i}} ng-selected="i == stateCheck.selectedStayDate.guests.infants">{{i}}</option></select></div></div></div><div class=find-rates ng-show="!borrowForGroups && stateCheck.activeView == \'RATE\'"><button type=submit name=submit class="icons icon-search" translate="">SEARCH</button> <span role=status aria-live=polite class=ui-helper-hidden-accessible></span> <input auto-complete="" id=find-rates auto-options=rateAutoCompleteOptions name=find-rates type=text placeholder="Find Rates" value="" autocomplete=off ng-model=stateCheck.rateFilterText ul-class=find-cards></div><div class=select ng-show="!borrowForGroups && stateCheck.activeView == \'ROOM_TYPE\'"><select convert-to-number="" ng-model=stateCheck.preferredType ng-change=onRoomTypeChange($event) ng-disabled="stateCheck.activeView == \'RATE\' || stateCheck.activeView == \'RECOMMENDED\' || (stateCheck.stayDatesMode && stateCheck.rateSelected.oneDay && stateCheck.dateModeActiveDate != reservationData.arrivalDate) || reservationData.status == \'CHECKEDIN\' || reservationData.status == \'CHECKING_OUT\'"><option value="" translate="" ng-if="reservationData.tabs.length < 2">RESV_ALL_ROOMS</option><option value="" ng-if="viewState.currentTab >0 && !stateCheck.preferredType" class=placeholder>Select Room Type</option><option value={{roomType.id}} ng-repeat="roomType in otherData.roomTypes" ng-selected="roomType.id == stateCheck.preferredType" ng-hide=isRoomTypeSelected(roomType.id);>{{roomType.name}}</option></select></div><div class="notice restrictions" ng-if="houseRestrictionArray && houseRestrictionArray.length !== 0 && stateCheck.showClosedRates"><strong>House restrictions in effect:</strong> <span ng-repeat="restriction in houseRestrictionArray" class="restriction-icon {{restriction.restrictionIcon}} {{restriction.restrictionBgClass}}">{{restriction.value}}</span></div><ul ng-hide=borrowForGroups><li ng-class="{active: stateCheck.activeView == \'RECOMMENDED\'}" ng-click="setActiveView(\'RECOMMENDED\')">{{\'RESV_RECOMMENDED\'|translate}}</li><li ng-class="{active: stateCheck.activeView == \'ROOM_TYPE\'}" ng-click="setActiveView(\'ROOM_TYPE\')">{{\'RESV_ROOM\'|translate}}</li><li ng-class="{active: stateCheck.activeView == \'RATE\'}" ng-click="setActiveView(\'RATE\')">{{\'RESV_RATE\'|translate}}</li></ul></div><div class="reservation-content rooms-and-rates-content no-content" ng-show="(stateCheck.activeView == \'ROOM_TYPE\' && display.roomFirstGrid.length == 0) || (stateCheck.activeView == \'RATE\' && display.rateFirstGrid.length == 0) || (stateCheck.activeView == \'RECOMMENDED\' && display.rateFirstGrid.length == 0)"><div class=info><span class="icon-no-content icon-room"></span> <strong class=h1 translate="">NO_AVAILABILITY</strong> <span class=h2 translate="">NO_ROOM_RATE_MSG</span></div></div><div class="reservation-content rooms-and-rates-content scrollable" ng-class="{\'edit-guests\': stateCheck.stayDatesMode}" ng-iscroll=room_types ng-iscroll-delay=500 ng-show="display.roomFirstGrid.length > 0 || display.rateFirstGrid.length > 0"><div><ul ng-if="stateCheck.activeView == \'RECOMMENDED\'" class="rooms-and-rates wrapper"><ng-include src="\'/assets/partials/reservation/rvRoomRatesRecommendedView.html\'"></ng-include></ul><ul class="rooms-and-rates wrapper" ng-if="stateCheck.activeView == \'ROOM_TYPE\'"><li ng-repeat="room in display.roomFirstGrid track by $index"><a class="has-arrow toggle active" ng-click=showRatesList(room) ng-class="{active: !room.isCollapsed, disabled: borrowForGroups}"><div class=data><h2>{{room.name}}</h2><span class="count red" ng-show="stateCheck.stayDatesMode && room.defaultRate.dates[stateCheck.dateModeActiveDate].availability < 5">{{room.defaultRate.dates[stateCheck.dateModeActiveDate].availability}} AVL <label ng-if="!borrowForGroups && room.defaultRate.isGroupRate">in Group Block</label> <label ng-if="!borrowForGroups && room.defaultRate.isAllotmentRate">in Allotment</label></span> <span class="count red" ng-show="!stateCheck.stayDatesMode && room.availability < 5">{{room.availability}} AVL <label ng-if="!borrowForGroups && room.defaultRate.isGroupRate">in Group Block</label> <label ng-if="!borrowForGroups && room.defaultRate.isAllotmentRate">in Allotment</label></span> <span class="count green" ng-show="stateCheck.stayDatesMode && room.defaultRate.dates[stateCheck.dateModeActiveDate].availability > 4">{{room.defaultRate.dates[stateCheck.dateModeActiveDate].availability}} AVL <label ng-if="!borrowForGroups && room.defaultRate.isGroupRate">in Group Block</label> <label ng-if="!borrowForGroups && room.defaultRate.isAllotmentRate">in Allotment</label></span> <span class="count green" ng-show="!stateCheck.stayDatesMode && room.availability > 4">{{room.availability}} AVL <label ng-if="!borrowForGroups && room.defaultRate.isGroupRate">in Group Block</label> <label ng-if="!borrowForGroups && room.defaultRate.isAllotmentRate">in Allotment</label></span> <span ng-repeat="roomRates in room.ratesArray"><span ng-show="roomRates.bestAvailableRateRestrictions.length < 3" class="restriction-icon {{eachRestriction.restrictionIcon}} {{eachRestriction.restrictionBgClass}}" ng-repeat="eachRestriction in roomRates.bestAvailableRateRestrictions">{{eachRestriction.days}}</span> <span ng-show="roomRates.bestAvailableRateRestrictions.length >= 3" class="restriction-icon bg-drk">R</span></span></div><div class="book-rate book-rate-display" ng-if=room.isCollapsed><h4 ng-hide=borrowForGroups translate="">RESV_BEST_RATE</h4><div class=price ng-if="!borrowForGroups && !room.defaultRate.isSuppressed">{{room.rateCurrency}}<p class=room-rate-currency ng-bind-html="room.defaultRate.adr | sntCurrency:this:null:true"></p><span translate="">RESV_AVG_NIGHT</span></div><div class=price ng-if="!borrowForGroups && room.defaultRate.isSuppressed">SR<span translate="">RESV_AVG_NIGHT</span></div><button class="button white blue-text" ng-show="stateCheck.selectedStayDate.rate.id == room.defaultRate.id && (stateCheck.selectedStayDate.roomType.id == room.id || reservationData.rooms[activeRoom].roomTypeId == room.id)" ng-click=handleNoEdit($event,room.id,room.defaultRate.id)>CURRENT RATE</button><button class="button {{room.defaultRate.buttonClass}}" ng-hide="room.isSuiteUnavailable || borrowForGroups || (stateCheck.selectedStayDate.rate.id == room.defaultRate.id && (stateCheck.selectedStayDate.roomType.id == room.id || reservationData.rooms[activeRoom].roomTypeId == room.id )) || restrictIfOverbook(room.id,room.defaultRate.id,room.availability)" ng-click="handleBooking(room.id,room.defaultRate.id,$event, null, null, null, room.rateCurrency)" ng-class="{\'grey\' : isBookingRestricted(room.restriction)}" ng-disabled=isBookingRestricted(room.restriction) translate="">RESV_BOOK</button><button class="button {{room.defaultRate.buttonClass}}" ng-show="borrowForGroups && !restrictIfOverbook(room.id,room.defaultRate.id,room.availability)" ng-click="handleBooking(room.id,room.defaultRate.id,$event, null, null, null, room.rateCurrency)" ng-disabled=isBookingRestricted(room.restriction) ng-class="{\'grey\' : isBookingRestricted(room.restriction)}" translate="">RESV_BOOK</button></div></a><ul class=rates ng-class="{active: !room.isCollapsed}" ng-if=!room.isCollapsed><li ng-repeat="rate in room.ratesArray" ng-class="{\'closed\': rate.numRestrictions > 0}"><a class="has-arrow toggle" ng-class="{active: rate.showDays}" ng-click=viewRateBreakUp(rate);><h3 ng-class="{\'restricted\': rate.numRestrictions > 0}">{{rate.name}}</h3><span class=corporate ng-if=rate.isPromotion>PROMOTION</span> <span class=corporate ng-if=rate.isMember>MEMBER</span> <span class=corporate ng-if=rate.isGroupRate>GROUP</span> <span class=corporate ng-if=rate.isAllotmentRate>ALLOTMENT</span> <span ng-show="rate.restriction.length < 3" class="restriction-icon {{eachRestriction.restrictionIcon}} {{eachRestriction.restrictionBgClass}}" ng-repeat="eachRestriction in rate.restriction">{{eachRestriction.days}}</span> <span ng-show="rate.restriction.length >= 3" class="restriction-icon bg-drk">R</span><span class="reservation-type red" ng-if=rate.isDayUse>D</span><div class=price ng-if=!rate.isSuppressed>{{rate.rateCurrency}}<p class=room-rate-currency ng-bind-html="rate.adr | sntCurrency:this:null:true"></p><span translate="">RESV_AVG_NIGHT</span></div><div class=price ng-if=rate.isSuppressed>SR <span translate="">RESV_AVG_NIGHT</span></div><button ng-show="stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == room.id || reservationData.rooms[activeRoom].roomTypeId == room.id) && !borrowForGroups" class="button white blue-text" ng-click="handleNoEdit($event,room.id,rate.id, null, null, null, rate.rateCurrency)">CURRENT RATE</button> <button class="button {{rate.buttonClass}}" ng-hide="rate.isSuiteUnavailable || (!borrow && (stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == room.id || reservationData.rooms[activeRoom].roomTypeId == room.id))) || restrictIfOverbook(room.id,rate.id,room.availability)" ng-click="handleBooking(room.id,rate.id, $event, null, null, null, rate.rateCurrency)" ng-disabled=isBookingRestricted(rate.restriction) ng-class="{\'grey\' : isBookingRestricted(rate.restriction)}" translate="">RESV_BOOK</button></a><div class=rate-details ng-if=rate.showDays><ul class=info><li ng-bind-html=reservationData.roomsMeta[room.id].description></li><li>{{reservationData.ratesMeta[rate.id].description}}</li><li>{{reservationData.ratesMeta[rate.id].deposit_policy.description}}</li><li>{{reservationData.ratesMeta[rate.id].cancellation_policy.description}}</li></ul><table class=room-cost><thead><tr><th translate="">DATE</th><th translate="">RESV_RATE</th><th translate="">ADD_ONS</th><th>{{\'TAXES_INCL\'|translate}}</th><th>{{\'TAXES_EXCL\'|translate}}</th><th translate="">RESV_TOTAL</th></tr></thead><tfoot><tr><td colspan=5 class=total-label translate="">RESV_TOTAL_ROOM</td><td class=total-value ng-if=!rate.isSuppressed><span ng-bind-html="rate.total | sntCurrency:this:rate.rateCurrency"></span></td><td ng-if=rate.isSuppressed>SR</td></tr></tfoot><tbody><tr ng-repeat="(key, day) in rate.dates"><td>{{key | date: fulldayInWeek }}, {{key | date: dateFormat }}</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.rate | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td ng-if="!rate.isSuppressed && !day.inclusiveAddonsExist"><span ng-bind-html="day.addon | sntCurrency:this:day.rate_currency"></span></td><td ng-if="!rate.isSuppressed && !!day.inclusiveAddonsExist">INCL</td><td ng-if=rate.isSuppressed>SR</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.incl_tax | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.excl_tax | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.total | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td class=edit></td></tr></tbody></table><ul ng-if="!stateCheck.stayDatesMode && rate.restrictions.length > 1" class=restrictions><li ng-repeat="restriction in rate.restrictions" ng-class=restrictionColorClass[restrictionsMapping[restriction.restriction_type_id].key]>{{restrictionsMapping[restriction.restriction_type_id].value}}{{restriction.days || restriction.days == 0? restriction.days +\' DAYS\' : \'\'}}</li></ul><ul ng-if="stateCheck.stayDatesMode && rate.dates[stateCheck.dateModeActiveDate].restrictions.length > 1" class=restrictions><li ng-repeat="restriction in rate.dates[stateCheck.dateModeActiveDate].restrictions" ng-class=restrictionColorClass[restrictionsMapping[restriction.restriction_type_id].key]>{{restrictionsMapping[restriction.restriction_type_id].value}}{{restriction.days || restriction.days == 0? restriction.days +\' DAYS\' : \'\'}}</li></ul></div></li><li class=break ng-show="room.ratesArray.length < room.totalRatesCount" ng-click="showRatesList(room, true)"><span class=thin>SHOW MORE RATES</span></li></ul></li><li class=break ng-show="stateCheck.showLessRooms && stateCheck.baseInfo.totalCount > 2 && stateCheck.selectedRoomType == -1" ng-click=showAllRooms()><span translate="">RESV_SEE_MORE_ROOMS</span></li></ul><ul class="rooms-and-rates wrapper" ng-if="stateCheck.activeView == \'RATE\'"><ng-include src="\'/assets/partials/reservation/rvRoomRatesRateView.html\'"></ng-include></ul></div></div></div>'),
t.put("/assets/partials/reservation/rvRoomRatesRateView.html",'<li ng-repeat="rate in display.rateFirstGrid track by $index"><a class="has-arrow toggle" ng-class="{active: !rate.isCollapsed}" ng-click=showRoomsList(rate)><div class=data><h2>{{rate.name}}</h2><span ng-show="rate.restriction.length < 3" class="restriction-icon {{eachRestriction.restrictionIcon}} {{eachRestriction.restrictionBgClass}}" ng-repeat="eachRestriction in rate.restriction">{{eachRestriction.days}}</span> <span ng-show="rate.restriction.length >= 3" class="restriction-icon bg-drk">R</span> <span class=corporate ng-if=rate.isPromotion>PROMOTION</span> <span class=corporate ng-if=rate.isMember>MEMBER</span> <span class=corporate ng-if=rate.isGroupRate>GROUP</span> <span class=corporate ng-if=rate.isAllotmentRate>ALLOTMENT</span></div><div class=book-rate ng-if=rate.isCollapsed><span class="reservation-type red" ng-if=rate.isDayUse>D</span><div class=price ng-if=!rate.isSuppressed>{{rate.rateCurrency}}<p class=room-rate-currency ng-bind-html="rate.defaultADR | sntCurrency:this:null:true"></p><span translate="">RESV_AVG_NIGHT</span></div><div class=price ng-if=rate.isSuppressed>SR<span translate="">RESV_AVG_NIGHT</span></div><button class="button white blue-text" ng-show="stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == rate.defaultRoomTypeId || reservationData.rooms[activeRoom].roomTypeId == rate.defaultRoomTypeId)" ng-click=handleNoEdit($event,rate.defaultRoomTypeId,rate.id)>CURRENT RATE</button> <button class="button {{rate.buttonClass}}" ng-class="{\'grey\' : isBookingRestricted(rate.restriction)}" ng-hide="rate.isDefaultRoomTypeSuiteUnavailable || (stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == rate.defaultRoomTypeId || reservationData.rooms[activeRoom].roomTypeId == rate.defaultRoomTypeId )) || restrictIfOverbook(rate.defaultRoomTypeId,rate.id,rate.defaultRoomTypeAvailability)" ng-disabled=isBookingRestricted(rate.restriction) ng-click="handleBooking(rate.defaultRoomTypeId,rate.id,$event, null, null, null, rate.rateCurrency)" translate="">RESV_BOOK</button></div></a><ul class=rates ng-class="{active: !rate.isCollapsed}" ng-if=!rate.isCollapsed><li ng-repeat="room in rate.rooms" ng-class="{\'closed\': room.numRestrictions > 0}"><a class="has-arrow toggle" ng-class="{active: rate.showDays}" ng-click=viewRateBreakUp(room)><div class=data><h3>{{room.name}}</h3><span class=count ng-class="room.availability > 4 ? \'green\' : \'red\'">{{room.availability}} AVL <label ng-if=rate.isGroupRate>in Group Block</label> <label ng-if=rate.isAllotmentRate>in Allotment</label></span><span ng-show="room.restriction.length < 3" class="restriction-icon {{eachRestriction.restrictionIcon}} {{eachRestriction.restrictionBgClass}}" ng-repeat="eachRestriction in room.restriction">{{eachRestriction.days}}</span> <span ng-show="room.restriction.length >= 3" class="restriction-icon bg-drk">R</span></div><div class=price ng-if=!rate.isSuppressed>{{room.rateCurrency}}<p class=room-rate-currency ng-bind-html="room.adr | sntCurrency:this:null:true"></p><span translate="">RESV_AVG_NIGHT</span></div><div class=price ng-if=rate.isSuppressed>SR <span translate="">RESV_AVG_NIGHT</span></div><button ng-show="stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == room.id || reservationData.rooms[activeRoom].roomTypeId == room.id)" class="button white blue-text" ng-click=handleNoEdit($event,room.id,rate.id)>CURRENT RATE</button> <button class="button {{room.buttonClass}}" ng-class="{\'grey\' : isBookingRestricted(room.restriction)}" ng-disabled=isBookingRestricted(room.restriction) ng-hide="room.isSuiteUnavailable || (stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == room.id || reservationData.rooms[activeRoom].roomTypeId == room.id)) || restrictIfOverbook(room.id,rate.id,room.availability)" ng-click="handleBooking(room.id,rate.id, $event, \'INCLUDE_DEP_DATE\', null, null, room.rateCurrency)" translate="">RESV_BOOK</button></a><div class=rate-details ng-if=room.showDays><ul class=info><li ng-bind-html=reservationData.roomsMeta[room.id].description></li><li>{{reservationData.ratesMeta[rate.id].description}}</li><li>{{reservationData.ratesMeta[rate.id].deposit_policy.description}}</li><li>{{reservationData.ratesMeta[rate.id].cancellation_policy.description}}</li></ul><table class=room-cost><thead><tr><th translate="">DATE</th><th translate="">RESV_RATE</th><th translate="">ADD_ONS</th><th>{{\'TAXES_INCL\'|translate}}</th><th>{{\'TAXES_EXCL\'|translate}}</th><th translate="">RESV_TOTAL</th></tr></thead><tfoot><tr><td colspan=5 class=total-label translate="">RESV_TOTAL_ROOM</td><td class=total-value ng-if=!rate.isSuppressed><span ng-bind-html="room.total | sntCurrency:this:room.rateCurrency"></span></td><td ng-if=rate.isSuppressed>SR</td></tr><tr class=tax><td colspan=5 class=total-label>Stay Taxes (INCL.)</td><td colspan=2 class=total-value><span ng-bind-html="room.stayTaxIncl | sntCurrency:this:room.rateCurrency"></span></td><td class=edit></td></tr><tr class=tax><td colspan=5 class=total-label>Stay Taxes (EXCL.)</td><td colspan=2 class=total-value><span ng-bind-html="room.stayTaxExcl | sntCurrency:this:room.rateCurrency"></span></td><td class=edit></td></tr></tfoot><tbody><tr ng-repeat="(key, day) in room.dates"><td>{{key | date: fulldayInWeek }}, {{key | date: dateFormat }}</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.rate | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td ng-if="!rate.isSuppressed && !day.inclusiveAddonsExist"><span ng-bind-html="day.addon | sntCurrency:this:day.rate_currency"></span></td><td ng-if="!rate.isSuppressed && !!day.inclusiveAddonsExist">INCL</td><td ng-if=rate.isSuppressed>SR</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.incl_tax | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.excl_tax | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.total | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td class=edit></td></tr></tbody></table><ul ng-if="!stateCheck.stayDatesMode && room.restrictions.length > 1" class=restrictions><li ng-repeat="restriction in room.restrictions" ng-class=restrictionColorClass[restrictionsMapping[restriction.restriction_type_id].key]>{{restrictionsMapping[restriction.restriction_type_id].value}}{{restriction.days || restriction.days == 0? restriction.days +\' DAYS\' : \'\'}}</li></ul><ul ng-if="stateCheck.stayDatesMode && room.dates[stateCheck.dateModeActiveDate].restrictions.length > 1" class=restrictions><li ng-repeat="restriction in rate.dates[stateCheck.dateModeActiveDate].restrictions" ng-class=restrictionColorClass[restrictionsMapping[restriction.restriction_type_id].key]>{{restrictionsMapping[restriction.restriction_type_id].value}}{{restriction.days || restriction.days == 0? restriction.days +\' DAYS\' : \'\'}}</li></ul></div></li><li class=break ng-show="rate.rooms.length < rate.totalRoomsCount" ng-click="showRoomsList(rate, true)"><span class=thin translate="">RESV_SEE_MORE_ROOMS</span></li></ul></li>'),t.put("/assets/partials/reservation/rvRoomRatesRecommendedView.html",'<li ng-repeat="rate in display.rateFirstGrid track by $index"><a class="has-arrow toggle" ng-class="{active: !rate.isCollapsed}" ng-click=showRoomsList(rate)><div class=data><h2>{{rate.name}}</h2><span ng-show="rate.restriction.length < 3" class="restriction-icon {{eachRestriction.restrictionIcon}} {{eachRestriction.restrictionBgClass}}" ng-repeat="eachRestriction in rate.restriction">{{eachRestriction.days}}</span> <span ng-show="rate.restriction.length >= 3" class="restriction-icon bg-drk">R</span> <span class=corporate ng-if=rate.isCorporate>{{\'CORPORATE_LABEL\' | translate}} : {{rate.contractName}}</span> <span class=corporate ng-if=rate.isPromotion>PROMOTION</span> <span class=corporate ng-if=rate.isMember>MEMBER</span> <span class=corporate ng-if=rate.isGroupRate>GROUP</span> <span class=corporate ng-if=rate.isAllotmentRate>ALLOTMENT</span></div><div class=book-rate ng-if=rate.isCollapsed><span class="reservation-type red" ng-if=rate.isDayUse>D</span><div class=price ng-if=!rate.isSuppressed>{{rate.rateCurrency}}<p class=room-rate-currency ng-bind-html="rate.defaultADR | sntCurrency:this:null:true"></p><span translate="">RESV_AVG_NIGHT</span></div><div class=price ng-if=rate.isSuppressed>SR<span translate="">RESV_AVG_NIGHT</span></div><button class="button white blue-text" ng-show="stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == rate.defaultRoomTypeId || reservationData.rooms[activeRoom].roomTypeId == rate.defaultRoomTypeId) && (stateCheck.selectedStayDate.contractId === rate.contractId || reservationData.rooms[activeRoom].stayDates[stateCheck.dateModeActiveDate].contractId === rate.contractId)" ng-click=handleNoEdit($event,rate.defaultRoomTypeId,rate.id)>CURRENT RATE</button> <button class="button {{rate.buttonClass}}" ng-hide="(stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == rate.defaultRoomTypeId || reservationData.rooms[activeRoom].roomTypeId == rate.defaultRoomTypeId ) && (stateCheck.selectedStayDate.contractId === rate.contractId || reservationData.rooms[activeRoom].stayDates[stateCheck.dateModeActiveDate].contractId === rate.contractId)) || restrictIfOverbook(rate.defaultRoomTypeId,rate.id,rate.defaultRoomTypeAvailability)" ng-click="handleBooking(rate.defaultRoomTypeId,rate.id,$event,null, null, rate.contractId)" translate="">RESV_BOOK</button></div></a><ul class=rates ng-class="{active: !rate.isCollapsed}" ng-if=!rate.isCollapsed><li ng-repeat="room in rate.rooms" ng-class="{\'closed\': room.numRestrictions > 0}"><a class="has-arrow toggle" ng-class="{active: rate.showDays}" ng-click=viewRateBreakUp(room)><div class=data><h3>{{room.name}}</h3><span class=count ng-class="room.availability > 4 ? \'green\' : \'red\'">{{room.availability}} AVL</span><span ng-show="room.restriction.length < 3" class="restriction-icon {{eachRestriction.restrictionIcon}} {{eachRestriction.restrictionBgClass}}" ng-repeat="eachRestriction in room.restriction">{{eachRestriction.days}}</span> <span ng-show="room.restriction.length >= 3" class="restriction-icon bg-drk">R</span></div><div class=price ng-if=!rate.isSuppressed>{{room.rateCurrency}}<p class=room-rate-currency ng-bind-html="room.adr | sntCurrency:this:null:true"><span translate="">RESV_AVG_NIGHT</span></p></div><div class=price ng-if=rate.isSuppressed>SR <span translate="">RESV_AVG_NIGHT</span></div><button ng-show="stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == room.id || reservationData.rooms[activeRoom].roomTypeId == room.id)" class="button white blue-text" ng-click=handleNoEdit($event,room.id,rate.id)>CURRENT RATE</button> <button class="button {{room.buttonClass}}" ng-hide="room.isSuiteUnavailable || (stateCheck.selectedStayDate.rate.id == rate.id && (stateCheck.selectedStayDate.roomType.id == room.id || reservationData.rooms[activeRoom].roomTypeId == room.id)) || restrictIfOverbook(room.id,rate.id,room.availability)" ng-click="handleBooking(room.id,rate.id, $event, null, null, rate.contractId)" translate="">RESV_BOOK</button></a><div class=rate-details ng-if=room.showDays><ul class=info><li ng-bind-html=reservationData.roomsMeta[room.id].description></li><li>{{reservationData.ratesMeta[rate.id].description}}</li><li>{{reservationData.ratesMeta[rate.id].deposit_policy.description}}</li><li>{{reservationData.ratesMeta[rate.id].cancellation_policy.description}}</li></ul><table class=room-cost><thead><tr><th translate="">DATE</th><th translate="">RESV_RATE</th><th translate="">ADD_ONS</th><th>{{\'TAXES_INCL\'|translate}}</th><th>{{\'TAXES_EXCL\'|translate}}</th><th translate="">RESV_TOTAL</th></tr></thead><tfoot><tr><td colspan=5 class=total-label translate="">RESV_TOTAL_ROOM</td><td class=total-value ng-if=!rate.isSuppressed><span ng-bind-html="room.total | sntCurrency:this:room.rateCurrency"></span></td><td ng-if=rate.isSuppressed>SR</td></tr></tfoot><tbody><tr ng-repeat="(key, day) in room.dates"><td>{{key | date: fulldayInWeek }}, {{key | date: dateFormat }}</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.rate | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td ng-if="!rate.isSuppressed && !day.inclusiveAddonsExist"><span ng-bind-html="day.addon | sntCurrency:this:day.rate_currency"></span></td><td ng-if="!rate.isSuppressed && !!day.inclusiveAddonsExist">INCL</td><td ng-if=rate.isSuppressed>SR</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.incl_tax | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.excl_tax | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td ng-if=!rate.isSuppressed><span ng-bind-html="day.total | sntCurrency:this:day.rate_currency"></span></td><td ng-if=rate.isSuppressed>SR</td><td class=edit></td></tr></tbody></table><ul ng-if="!stateCheck.stayDatesMode && room.restrictions.length > 1" class=restrictions><li ng-repeat="restriction in room.restrictions" ng-class=restrictionColorClass[restrictionsMapping[restriction.restriction_type_id].key]>{{restrictionsMapping[restriction.restriction_type_id].value}}{{restriction.days || restriction.days == 0? restriction.days +\' DAYS\' : \'\'}}</li></ul><ul ng-if="stateCheck.stayDatesMode && room.dates[stateCheck.dateModeActiveDate].restrictions.length > 1" class=restrictions><li ng-repeat="restriction in rate.dates[stateCheck.dateModeActiveDate].restrictions" ng-class=restrictionColorClass[restrictionsMapping[restriction.restriction_type_id].key]>{{restrictionsMapping[restriction.restriction_type_id].value}}{{restriction.days || restriction.days == 0? restriction.days +\' DAYS\' : \'\'}}</li></ul></div></li><li class=break ng-show="rate.rooms.length < rate.totalRoomsCount" ng-click="showRoomsList(rate, true)"><span class=thin translate="">RESV_SEE_MORE_ROOMS</span></li></ul></li>'),t.put("/assets/partials/reservation/rvRoomTypesList.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><section id=rooms-and-rates class="content reservations-inner"><div id=rooms-and-rates-header class=reservation-header><ul id=multiple-rooms class=display ng-if="reservationData.rooms.length > 1"><li ng-class="{\'active\':activeRoom === tabIndex}" ng-click=changeActiveRoomType(tabIndex) ng-show="reservationData.tabs.length > tabIndex" ng-repeat="tabIndex in [0,1,2,3]">{{getTabTitle(tabIndex)}}</li></ul><div class="switch-button on" ng-click=toggleCalendar()><input name=rooms-availability-toggle id=rooms-availability-toggle value=rooms-availability type=checkbox checked=""> <label class=data-off><span class=value>Rooms &amp; Rates</span> <span class=switch-icon>Calendar</span></label> <label class=data-on><span class=switch-icon>Rooms &amp; Rates</span> <span class=value>Calendar</span></label></div><label class="checkbox inline dates-toggle" ng-click=toggleSearchWithRestrictions() ng-show="stateCheck.activeMode==\'CALENDAR\'"><span class="icon-form icon-checkbox" ng-class="{\'checked\': stateCheck.calendarState.searchWithRestrictions}"></span> {{\'SEARCH_WITH_RESTRICTIONS\'|translate}}</label> <label class="checkbox inline dates-toggle" ng-click=toggleShowOnlyAvailable() ng-show="stateCheck.activeMode==\'CALENDAR\' && stateCheck.calendarState.calendarType == \'BEST_AVAILABLE\'"><span class="icon-form icon-checkbox" ng-class="{\'checked\': stateCheck.calendarState.showOnlyAvailableRooms}"></span> {{\'ONLY_AVAILABLE_ROOMS\'|translate}}</label> <label class="checkbox inline dates-toggle" ng-click=toggleStayDaysMode() ng-hide="stateCheck.activeMode==\'CALENDAR\'"><span class="icon-form icon-checkbox" ng-class="{\'checked\': stateCheck.stayDatesMode}"></span> {{\'SHOW_STAY_DATES\'|translate}}</label> <label class="checkbox inline" ng-click=toggleClosedRates(); ng-hide="stateCheck.activeMode==\'CALENDAR\'"><span class="icon-form icon-checkbox" ng-class="{\'checked\': stateCheck.showClosedRates}"></span> {{\'SHOW_CLOSED_RATES\'|translate}}</label></div><div id=stay-days class=stay-days ng-class="{\'open\': stateCheck.stayDatesMode}"><div id=stay-days-listing class="days scrollable" ng-iscroll=stayDates><ul class=wrapper style=width:{{(stateCheck.dateButtonContainerWidth)}}px><li ng-repeat="stayday in reservationData.stayDays" ng-class="{\'booked\': reservationData.rooms[0].stayDates[stayday.date].rate.id != \'\',\'check-in\':$first,\'check-out\':$last, \'active\' : (!$last && stateCheck.dateModeActiveDate == stayday.date)}" ng-click=showStayDateDetails(stayday.date)><span class=day>{{stayday.dayOfWeek}}</span> <span class=date>{{stayday.day}}</span> <span ng-if="$first || $last" class="guest-status small-icon" ng-class="{\'check-in\':$first,\'check-out\':$last}"></span> <span ng-if="stateCheck.suppressedRates.indexOf(reservationData.rooms[0].stayDates[stayday.date].rate.id) == -1" class=price ng-show="!$last && roomAvailability[stateCheck.preferredType].ratedetails[stayday.date][reservationData.rooms[0].stayDates[stayday.date].rate.id].rate" ng-bind-html="roomAvailability[stateCheck.preferredType].ratedetails[stayday.date][reservationData.rooms[0].stayDates[stayday.date].rate.id].rate | sntCurrency:this"></span> <span ng-if="stateCheck.suppressedRates.indexOf(reservationData.rooms[0].stayDates[stayday.date].rate.id) > -1" class=price ng-show="!$last && roomAvailability[stateCheck.preferredType].ratedetails[stayday.date][reservationData.rooms[0].stayDates[stayday.date].rate.id].rate">SR</span></li></ul></div><button type=button class=button ng-class="{\'grey\' : !stateCheck.rateSelected.allDays, \'green\': stateCheck.rateSelected.allDays}" ng-click=handleDaysBooking($event)>Done</button></div><div ng-if="stateCheck.activeMode==\'ROOM_RATE\'" ng-include="" src="\'/assets/partials/reservation/rvRoomRates.html\'"></div><div ng-if="stateCheck.activeMode==\'CALENDAR\'" ng-include="" src="\'/assets/partials/reservation/rvRoomRatesCalendar.html\'"></div></section><ul class="ui-autocomplete ui-front ui-menu ui-widget ui-widget-content ui-corner-all find-rate" tabindex=0 ng-show="filteredRates.length > 0 && isRateFilterActive==true" style="width: 280px; top: 265px; left: 25px;"><li ng-repeat="rate in filteredRates" class=ui-menu-item role=presentation><a class=ui-corner-all tabindex=-1 ng-click=selectRate(rate)><span ng-bind-html="highlight(rate.rate.name, rateFilterText)"></span></a></li></ul>'),t.put("/assets/partials/reservation/rvSelectRoomAndRate.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><section id=rooms-and-rates class="content reservations-inner"><div id=rooms-and-rates-header class=reservation-header><ul id=multiple-rooms class=display ng-if="!borrowForGroups && reservationData.rooms.length > 1"><li ng-class="{\'active\':activeRoom === tabIndex}" ng-click=changeActiveRoomType(tabIndex) ng-show="reservationData.tabs.length > tabIndex" ng-repeat="tabIndex in [0,1,2,3]">{{getTabTitle(tabIndex)}}</li></ul><label class="checkbox inline dates-toggle" ng-click=toggleStayDaysMode() ng-hide=borrowForGroups><span class="icon-form icon-checkbox" ng-class="{\'checked\': stateCheck.stayDatesMode}"></span> {{\'SHOW_STAY_DATES\'|translate}}</label> <label class="checkbox inline" ng-click=toggleClosedRates();><span class="icon-form icon-checkbox" ng-class="{\'checked\': stateCheck.showClosedRates}"></span> {{\'SHOW_RESTRICTIONS\'|translate}}</label></div><div id=stay-days class=stay-days ng-class="{\'open\': stateCheck.stayDatesMode}" ng-hide=borrowForGroups><div id=stay-days-listing class="days scrollable" ng-iscroll=stayDates><ul class=wrapper style=width:{{(stateCheck.dateButtonContainerWidth)}}px><li ng-repeat="stayday in reservationData.stayDays" ng-class="{\'booked\': reservationData.rooms[0].stayDates[stayday.date].rate.id != \'\',\'check-in\':$first,\'check-out\':$last, \'active\' : (!$last && stateCheck.dateModeActiveDate == stayday.date), \'overlay\': stayday.shouldDisable}" click-touch=showStayDateDetails(stayday.date)><span class=day>{{stayday.dayOfWeek}}</span> <span class=date>{{stayday.day}}</span> <span ng-if="$first || $last" class="guest-status small-icon" ng-class="{\'check-in\':$first,\'check-out\':$last}"></span> <span ng-if=!reservationData.ratesMeta[reservationData.rooms[activeRoom].stayDates[stayday.date].rate.id].is_suppress_rate_on class=price ng-show="!$last && stateCheck.stayDates[stayday.date].amount" ng-bind-html="stateCheck.stayDates[stayday.date].amount | sntCurrency:this:stateCheck.stayDates[stayday.date].rateCurrency: 0"></span> <span ng-if=reservationData.ratesMeta[reservationData.rooms[activeRoom].stayDates[stayday.date].rate.id].is_suppress_rate_on class=price ng-show="!$last && stateCheck.lookUp[stateCheck.preferredType].rates[reservationData.rooms[activeRoom].stayDates[stayday.date].rate.id].dates[stayday.date].amount">SR</span></li></ul></div><button type=button class=button ng-class="{\'grey\' : !stateCheck.rateSelected.allDays, \'green\': stateCheck.rateSelected.allDays}" ng-click=handleDaysBooking($event)>Done</button></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-if="stateCheck.activeMode==\'ROOM_RATE\'" ng-include="" src="\'/assets/partials/reservation/rvRoomRatesList.html\'"></div><ul class=restriction-legends><li ng-repeat="eachRestriction in legendRestrictionsArray"><span class="restriction-icon {{eachRestriction.restrictionIcon}} {{eachRestriction.restrictionBgColor}} {{eachRestriction.restrictionBgClass}}"></span> <span>{{eachRestriction.name}}</span></li><li><span class="restriction-icon bg-drk">R</span> <span>Multiple Restrictions</span></li></ul></section>'),t.put("/assets/partials/reservation/rvShowRoomNotAvailableMessage.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class=modal-content><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class="h3 message">{{popupMessage}}</div><button id=ok class="button modal-close red" ng-click=okButtonClicked()>Ok</button></div></div>'),t.put("/assets/partials/reservation/rvStayCardEditRate.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div><form method=post action={action} id=rate-options name=rate-options class="modal-content form confirmation edit-rate" ng-cloak=""><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class=actions><button type=button ng-click=applyCustomRate() class="button green" ng-if="reservationParentData.is_modified != true" translate="">APPLY_CUSTOMRATE</button><button type=button ng-click=applyCustomRate() class="button purple" ng-if="reservationParentData.is_modified == true" translate="">MODIFY_CUSTOMRATE</button> <button type=button ng-click=updateRoomRate() class="button blue hide-on-mobile" ng-hide="reservationData.group_id || reservationData.reservation_card.group_id || reservationData.allotment_id || reservationData.reservation_card.allotment_id">Update Room &amp; Rate</button> <button type=button class="button blank" ng-click=closeDialog()>Close</button></div></form></div></div>'),t.put("/assets/partials/reservation/rvStayDatesCalendar.html",'<div id=stay-dates-content class=reservations-content-wrapper ng-controller=RVStayDatesCalendarCtrl><div class=reservation-filters><div id=change-room-type class=select ng-hide="calendarType == \'BEST_AVAILABLE\'"><select ng-model=roomTypeForCalendar ng-options="roomType.id as roomType.name for roomType in availabilityDetails.room_types" ng-change=roomTypeForCalendarChanged() ng-disabled=!isRoomTypeChangeAllowed()><option value="" disabled="" selected="" translate="">RESV_ALL_ROOMS</option></select></div><ul id=filter-calendar><li id=show-types ng-class="{\'active\': calendarType == \'ROOM_TYPE\'}" ng-click=selectedRoomTypesCalOption() translate="">ROOM_TYPES</li><li id=show-bar ng-class="{\'active\': calendarType == \'BEST_AVAILABLE\'}" ng-click=selectedBestAvailableRatesCalOption() translate="">BEST_AVAILABLE</li></ul></div><div id=stay-dates-calendar class="reservation-content stay-dates-content scrollable" ng-iscroll=stay-dates-calendar><div class=wrapper><two-month-calendar event-sources=eventSources left-calendar-options=leftCalendarOptions right-calendar-options=rightCalendarOptions next-button-click-handler=nextButtonClickHandler() prev-button-click-handler=prevButtonClickHandler() disable-prev-button=disablePrevButton></two-month-calendar><div id=stay-dates-chage class=update-details><ul class=data><li class=nights><span class="guest-status nights" translate="">NIGHTS</span><span id=new-nights =="">{{nights}}</span><span translate="">NIGHTS</span></li><li class=date><span class="guest-status small-icon check-in" translate="">CHECKIN</span><span id=new-check-in>{{checkinDateInCalender| date:fulldayInWeek}} {{checkinDateInCalender| date:dateFormat}}</span></li><li class=date><span class="guest-status small-icon check-out" translate="">CHECKOUT</span><span id=new-check-out>{{checkoutDateInCalender| date:fulldayInWeek}} {{checkoutDateInCalender| date:dateFormat}}</span></li><li class=room-type><div class=select><select ng-model=finalRoomType ng-options="roomType.id as roomType.name for roomType in availabilityDetails.room_types" ng-disabled=!isRoomTypeChangeAllowed()><option value="" disabled="" selected="" translate="">SELECT_ROOM_TYPE</option></select></div></li></ul><div class=action><button id=cancel-stay-dates-change type=button class="button blank" ng-click=handleCancelAction() translate="">CANCEL</button> <button id=set-stay-dates type=button class="button green" ng-class="{\'grey\': finalRoomType == \'\'}" ng-disabled="finalRoomType == \'\'" ng-click=setDatesClicked() translate="">SET_DATES</button></div></div></div><div id=stay-dates-legend class=stay-dates-legend><strong class=notice translate="">DRAG_AND_DROP_TEXT</strong><ul><li><span class=check-in></span>{{\'ARRIVAL\' | translate}}</li><li><span class=mid-stay></span>{{\'MID_STAY\' | translate}}</li><li><span class=check-out></span>{{\'DEPARTURE\' | translate}}</li><li><span class=availability></span>{{\'ROOM_TYPE_AVAILABLE\' | translate}}</li><li><span class=no-type-availability></span>{{\'NO_TYPE_AVAILABLE\' | translate}}</li><li><span class=no-house-availability></span>{{\'NO_HOUSE_AVAILABLE\' | translate}}</li></ul></div></div></div>'),t.put("/assets/partials/reservation/rvSummaryAndConfirm.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><section id=details-and-payment class="content reservations-inner" ng-cloak=""><div id=details-and-payment-content class=reservations-content-wrapper><div id=reservation-summary class="reservation-summary scrollable" ng-iscroll=reservationSummary><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><h2 translate="">RESERVATION_SUMMARY</h2><ul class=data ng-if=!reservationData.isHourly><li><span class="guest-status room" translate="">ROOMS</span> <span>{{reservationData.rooms.length}}</span> <span ng-if="reservationData.rooms.length === 1" translate="">ROOM</span> <span ng-if="reservationData.rooms.length !== 1" translate="">ROOMS</span></li><li><span class="guest-status nights" translate="">NIGHTS</span> <span>{{reservationData.numNights}}</span> <span ng-if="reservationData.numNights === 1" translate="">NIGHT</span> <span ng-if="reservationData.numNights !== 1" translate="">NIGHTS</span></li></ul><div class=stay-dates><div class=check-in-dates><span class="guest-status small-icon check-in">check-in</span> {{getSimplifiedDayName(reservationData.arrivalDate)}}, {{reservationData.arrivalDate | date:dateFormat}}<div class="check-data icons icon-time time-in"><div class="select hour"><select iscroll-stop-propagation="" name=check-in class=placeholder ng-model=reservationData.checkinTime.hh ng-disabled=reservationData.isHourly><option value="" selected="">HH</option><option value=01>01</option><option value=02>02</option><option value=03>03</option><option value=04>04</option><option value=05>05</option><option value=06>06</option><option value=07>07</option><option value=08>08</option><option value=09>09</option><option value=10>10</option><option value=11>11</option><option value=12>12</option></select></div><div class="select minutes"><select iscroll-stop-propagation="" name=check-in class=placeholder ng-model=reservationData.checkinTime.mm ng-disabled=reservationData.isHourly><option value=00>00</option><option value=15>15</option><option value=30>30</option><option value=45>45</option></select></div><div class="select ampm"><select iscroll-stop-propagation="" name=check-in class=placeholder ng-model=reservationData.checkinTime.ampm ng-disabled=reservationData.isHourly><option value=AM>AM</option><option value=PM>PM</option></select></div></div></div><div class=check-out-dates><span class="guest-status small-icon check-out">check-out</span> {{getSimplifiedDayName(reservationData.departureDate)}}, {{reservationData.departureDate | date:dateFormat}}<div class="check-data icons icon-time time-out"><div class="select hour"><select iscroll-stop-propagation="" name=check-out class=placeholder ng-model=reservationData.checkoutTime.hh ng-disabled=reservationData.isHourly><option value="" selected="">HH</option><option value=01>01</option><option value=02>02</option><option value=03>03</option><option value=04>04</option><option value=05>05</option><option value=06>06</option><option value=07>07</option><option value=08>08</option><option value=09>09</option><option value=10>10</option><option value=11>11</option><option value=12>12</option></select></div><div class="select minutes"><select iscroll-stop-propagation="" name=check-out class=placeholder ng-model=reservationData.checkoutTime.mm ng-disabled=reservationData.isHourly><option value=00>00</option><option value=15>15</option><option value=30>30</option><option value=45>45</option></select></div><div class="select ampm"><select iscroll-stop-propagation="" name=check-out class=placeholder ng-model=reservationData.checkoutTime.ampm ng-disabled=reservationData.isHourly><option value=AM>AM</option><option value=PM>PM</option></select></div></div></div></div><div class=actions><button type=button class="button white brand-text" ng-click=setDemographics(false)>Demographics</button></div><div class=rooms ng-repeat-start="room in reservationData.rooms track by $index" ng-init="roomIndex = $index ; showAccompanyingGuests = false"><div class=title><span translate="">ROOM</span> {{room.roomNumber}}<div class=count><span><span class=label translate="">ADULTS</span>{{room.numAdults}}</span> <span><span class=label translate="">CHILDREN</span>{{room.numChildren}}</span> <span><span class=label translate="">INFANTS</span>{{room.numInfants}}</span></div></div><div class=room-type><h4 ng-if=room.roomName>{{room.roomName}} - {{room.roomTypeName}}<span></span></h4><h4 ng-if=!room.roomName>{{room.roomTypeName}}<span></span></h4><div class=confirmation ng-hide=room.confirm_no><span class=label>Confirmation #</span>{{reservationData.confirmNum}}</div><div class=confirmation ng-show=room.confirm_no><span class=label>Confirmation #</span>{{room.confirm_no}}</div></div><ul class=rate-and-enhancements><li class=update-rate><a ng-click="editReservationRates(room, $index)"><em>{{room.rateName}}</em> <span class=price><label ng-if="!room.isSuppressed && !reservationData.isHourly" ng-bind-html="room.rateAvg | sntCurrency:this:reservationData.rateCurrency"></label> <label ng-if="room.isSuppressed && !reservationData.isHourly">SR</label> <span ng-if=!reservationData.isHourly translate="">AVG_NIGHT</span> <span class=total ng-if=room.isSuppressed>SR</span> <span class=total ng-if=!room.isSuppressed ng-bind-html="room.rateTotal | sntCurrency:this:reservationData.rateCurrency"></span></span></a></li><li ng-repeat="addon in room.addons" class=with-padding><em>{{addon.description}}</em> <span class=price ng-hide=addon.is_inclusive><label ng-bind-html="addon.avg_addon_amount | sntCurrency:this:reservationData.rateCurrency"></label> <span translate="">EACH</span> <span class=total ng-bind-html="addon.amount | sntCurrency:this:reservationData.rateCurrency"></span></span><span class=price ng-show=addon.is_inclusive>INCL <span translate="">EACH</span> <span class=total>INCL</span></span></li></ul><div class=actions><button type=button class="button white blue-text" ng-class="{\'grey-text\': !room.confirm_no && !reservationData.confirmNum}" ng-disabled="!room.confirm_no && !reservationData.confirmNum" ng-click=openBillingInformation(room.confirm_no)>{{getBillingInfoTitle()}}</button></div><button class=add-new-button ng-click="showAccompanyingGuests = !showAccompanyingGuests; addGuests(room);" ng-show="!showAccompanyingGuests && showAccompanyingGuestSectionBasedOnGuestCount(room)">+ Accompanying Guest</button><form class=form ng-show=showAccompanyingGuests><div class=entry ng-repeat="guest in room.accompanying_guest_details.ADULT track by $index"><label ng-show="$index == 0">Accompanying guests</label><figure class=guest-image><span class="icons icon-{{getGuestTypeIconClass(guest.guest_type)}}"></span></figure><input placeholder="First Name" type=text ng-model=guest.first_name> <input placeholder="Last Name" type=text ng-model=guest.last_name></div><div class=entry ng-repeat="guest in room.accompanying_guest_details.CHILDREN"><figure class=guest-image><span class="icons icon-{{getGuestTypeIconClass(guest.guest_type)}}"></span></figure><input placeholder="First Name" type=text ng-model=guest.first_name> <input placeholder="Last Name" type=text ng-model=guest.last_name></div><div class=entry ng-repeat="guest in room.accompanying_guest_details.INFANTS"><figure class=guest-image><span class="icons icon-{{getGuestTypeIconClass(guest.guest_type)}}"></span></figure><input placeholder="First Name" type=text ng-model=guest.first_name> <input placeholder="Last Name" type=text ng-model=guest.last_name></div><div class=actions ng-show=showAccompanyingGuestSectionBasedOnGuestCount(room)><button type=button class="button blank" ng-click="showAccompanyingGuests = !showAccompanyingGuests; saveAccompanyingGuests(room, roomIndex);">close</button></div></form></div><ul class=total-stay-cost ng-repeat-end=""><li ng-repeat="row in room.taxInformation"><span class=label translate="">{{row.description}}</span> <span class=total ng-if=reservationData.isRoomRateSuppressed>SR</span> <span class=total ng-if=!reservationData.isRoomRateSuppressed><span ng-bind-html="row.amount | sntCurrency:this:reservationData.rateCurrency"></span></span></li><li></li></ul><ul class="total-stay-cost total-stay-cost-data"><li><span class=label translate="">TOTAL_TAX</span> <span class=total ng-if=!reservationData.isRoomRateSuppressed><span ng-bind-html="reservationData.totalTax | sntCurrency:this:reservationData.rateCurrency"></span></span> <span class=total ng-if=reservationData.isRoomRateSuppressed>SR</span></li><li><span class=label translate="">TOTAL_STAY_COST</span> <span class=total ng-if=!reservationData.isRoomRateSuppressed><strong><span ng-bind-html="reservationData.totalStayCost | sntCurrency:this:reservationData.rateCurrency"></span></strong></span> <span class=total ng-if=reservationData.isRoomRateSuppressed>SR</span></li></ul></div></div><div class="form payment-info scrollable" ng-click=clearErrorMessage() ng-iscroll=paymentInfo><div class=wrapper ng-class="{\'reservation-summary-scroll-fix\': shouldIncludeScrollFixClass}"><div id=set-payment class=payment-form ng-if=!!reservationData.reservationId><snt-payment hotel-config=hotelPaymentConfig workstation-id={{workstation_id}} reservation-id={{reservationData.reservationId}} rate-currency={{reservationData.rateCurrency}} should-show-payment-drop-down={{shouldShowPaymentDropDown}} deposit-policy-name={{depositData.description}} bill-number=billNumber payment-types=reservationData.paymentMethods selected-payment-type=reservationData.paymentType.type.value selected-c-c=summaryState.selectedCardDetails amount=reservationData.depositAmount payment-currency-amount=reservationData.depositPaymentAmount action-type=DEPOSIT_PAYMENT_RES_SUMMARY is-editable=reservationData.depositEditable is-rate-suppressed=isReservationRateSuppressed has-permission=hasPermissionToMakePayment() form-template-url=/assets/partials/payment/rvReservationSummaryDepositPartial.html first-name={{guestCardData.contactInfo.first_name}} last-name={{guestCardData.contactInfo.last_name}} only-payment-selection=reservationData.isValidDeposit payment-currency-list=paymentCurrencyList has-payment-rounding=hasPaymentRounding reservation-ids=reservationData.reservationIds></snt-payment><div class=actions ng-hide=showCCPage><button type=button ng-disabled=!reservationData.reservationId class="button blank" ng-click=cancelReservation()>Cancel Reservation</button><button type=button class=button ng-class="{\'grey\':isContinueDisabled(),\'green\':!isContinueDisabled()}" ng-disabled=isContinueDisabled() ng-click=clickedContinueButton()>Continue</button></div></div></div></div></div></section>'),
t.put("/assets/partials/reservation/rvTooltipContent.html","<div class=tooltip ng-class=\"{'has-restrictions' : object.event.toolTipData.restrictions.length > 0, 'position-left' : object.event.toolTipPos == 'left', 'position-right' : object.event.toolTipPos == 'right', 'position-center' : object.event.toolTipPos == 'center' }\"><ul class=details><li><span class=label>Rate</span><strong>{{object.event.toolTipData.rate_name}}</strong></li><li><span class=label>ADR</span><strong>{{ object.event.toolTipData.rateCurrency + object.event.toolTipData.bestAvailableRate}}</strong></li><li><span class=label>Room Type</span><strong>{{object.event.toolTipData.room_type_name}}</strong></li><li><span class=label>Rooms Available</span><strong>{{object.event.toolTipData.availability}}</strong></li></ul><ul class=restriction-info ng-if=\"object.event.toolTipData.restrictions.length > 0\"><li><span class=label>Restrictions apply</span></li><li ng-repeat=\"restriction in object.event.toolTipData.restrictions\"><span class=restriction-icon ng-class=\"{ 'bg-red' : {{restriction.restriction_type_id == 1 || restriction.restriction_type_id == 2 || restriction.restriction_type_id == 3}}, 'closed': {{restriction.restriction_type_id == 1}}, 'arrival': {{restriction.restriction_type_id == 2}}, 'bg-blue': {{restriction.restriction_type_id == 4}}, 'bg-grey': {{restriction.restriction_type_id == 5}}, 'bg-purple': {{restriction.restriction_type_id == 6 || restriction.restriction_type_id == 8 }}, 'bg-green': {{restriction.restriction_type_id == 7}}}\">{{(restriction.days || \"\")}}</span>{{restriction.description}}</li></ul></div>"),t.put("/assets/partials/reservation/rvWaitingDialog.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content modal-vertical-centered" style="position: relative;padding: 40px;text-align: center;"><div class="centeralign alert-box">WAITING FOR PAYMENT COMPLETION</div><div class=waiting-payment>&nbsp;</div></div></div>'),t.put("/assets/partials/reservation/selectedAddonsListPopup.html",'<div id=inline-modal-room-1 class="inline-modal modal-show" role=dialog ng-cloak=""><div class="modal-content form room-enhancements"><button id=modal-close type=button class=modal-close ng-click=closePopup()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=content-left><div class=scrollable><ul class=wrapper><li class=block-item ng-repeat="addon in addonsData.existingAddons" ng-click=selectPurchasedAddon(addon) ng-class="{\'disabled\': addon.post_type !==\'Nightly\', \'item-active\': addon.id === selectedPurchesedAddon.id}"><div class=data><h3 class=enhancement-name>{{ addon.title }} <small>({{getAddonCount(addon.amount_type, addon.post_type, addon.posting_frequency,reservationData.number_of_adults, reservationData.number_of_children, duration_of_stay, addon.charge_full_weeks_only, addon.quantity)}})</small></h3><span class=enhancement-name ng-hide="addon.is_rate_addon && addon.is_inclusive">at <span ng-bind-html="addon.price_per_piece | sntCurrency:this:addon.rate_currency"></span> / {{addon.amount_type}} {{addon.post_type}}</span> <span class=enhancement-name ng-show="addon.is_rate_addon && addon.is_inclusive">INCL</span> <span ng-if="addon.amount_type ===\'Adult\'"><span class=enhancement-name ng-hide="addon.is_rate_addon && addon.is_inclusive || addon.post_type ===\'Nightly\'"><span ng-bind-html="addon.totalAmount * reservationData.number_of_adults | sntCurrency:this:addon.rate_currency"></span></span> <span class=enhancement-name ng-hide="addon.is_rate_addon && addon.is_inclusive || addon.post_type !==\'Nightly\'"><span ng-bind-html="addon.totalAmount * duration_of_stay * reservationData.number_of_adults | sntCurrency:this:addon.rate_currency"></span></span></span> <span ng-if="addon.amount_type ===\'Child\'"><span class=enhancement-name ng-hide="addon.is_rate_addon && addon.is_inclusive || addon.post_type ===\'Nightly\'"><span ng-bind-html="addon.totalAmount*reservationData.number_of_children | sntCurrency:this:addon.rate_currency"></span></span> <span class=enhancement-name ng-hide="addon.is_rate_addon && addon.is_inclusive || addon.post_type !==\'Nightly\'"><span ng-bind-html="addon.totalAmount * duration_of_stay*reservationData.number_of_children | sntCurrency:this:addon.rate_currency"></span></span></span> <span ng-if="addon.amount_type ===\'Flat\'"><span class=enhancement-name ng-hide="addon.is_rate_addon && addon.is_inclusive || addon.post_type ===\'Nightly\'"><span ng-bind-html="addon.totalAmount | sntCurrency:this:addon.rate_currency"></span></span> <span class=enhancement-name ng-hide="addon.is_rate_addon && addon.is_inclusive || addon.post_type !==\'Nightly\'"><span ng-bind-html="addon.totalAmount * duration_of_stay | sntCurrency:this:addon.rate_currency"></span></span></span> <span ng-if="addon.amount_type ===\'Person\'"><span class=enhancement-name ng-hide="addon.is_rate_addon && addon.is_inclusive || addon.post_type ===\'Nightly\'"><span ng-bind-html="addon.totalAmount*(reservationData.number_of_children+reservationData.number_of_adults) | sntCurrency:this:addon.rate_currency"></span></span> <span class=enhancement-name ng-hide="addon.is_rate_addon && addon.is_inclusive || addon.post_type !==\'Nightly\'"><span ng-bind-html="addon.totalAmount * duration_of_stay*(reservationData.number_of_children+reservationData.number_of_adults) | sntCurrency:this:addon.rate_currency"></span></span></span></div><span class=price ng-hide="addon.is_rate_addon && addon.is_inclusive"><span ng-bind-html="addon.totalAmount | sntCurrency:this:addon.addon_currency"></span></span><span class=delete ng-hide=addon.is_rate_addon ng-click=removeSelectedAddons($index)><span class="icons icon-remove-10"></span></span></li></ul></div></div><div class=content-right><div class=content-initial ng-hide=selectedPurchesedAddon><div class=no-content><div class=info><span class="icon-no-content icon-layers"></span><strong class=h1>Add Ons for {{currentHotelData.name}}</strong> <span class=h2>Select add on to set dates/days of week</span></div></div><div class=actions><button type=button class="button orange" ng-click=closePopup()>Add More to This Room</button> <button type=button class="button blank" ng-click=closePopup()>Close Window</button></div></div><div class=content-dates ng-show=selectedPurchesedAddon><span class="h2 message">{{selectedPurchesedAddon.title}}</span> <span class=text>{{selectedPurchesedAddon.description}}</span><div class=content-entries><div class="entry margin"><label>From</label><div class=has-datepicker ng-click="clickedOnDatePicker(\'start_date\')"><input placeholder="Select Date" class=hasDatepicker readonly=yes type=text ng-model=selectedPurchesedAddon.start_date> <button type=button class=ui-datepicker-trigger>...</button></div></div><div class=entry><label>To</label><div class=has-datepicker ng-click="clickedOnDatePicker(\'end_date\')"><input placeholder="Select Date" class=hasDatepicker readonly=yes type=text ng-model=selectedPurchesedAddon.end_date> <button type=button class=ui-datepicker-trigger>...</button></div></div></div><div class=content-entries><div class="entry full-width"><label>For Every</label><ul class="entry-days float"><li ng-repeat="day in daysOfWeek"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': selectedPurchesedAddon.selected_post_days[day]}"></span><input ng-model=selectedPurchesedAddon.selected_post_days[day] type=checkbox> {{day}}</label></li><li><button ng-show=shouldShowSelectAllDaysOfWeek() ng-click=togglePostDaysSelectionForAddon(true)>Select All</button> <button ng-show=shouldShowSelectNoDaysOfWeek() ng-click=togglePostDaysSelectionForAddon(false)>Select None</button></li></ul></div></div><div class="actions inline"><button class="button blank" ng-click=closePopup()>+ More</button> <button class="button green" ng-click=proceed()>Book</button></div></div></div></div></div>'),t.put("/assets/partials/reports/reportsNotificationMsg.html","<snt-notify message=errorMessage></snt-notify>"),t.put("/assets/partials/reports/rvDuplicateScheduleWarningPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content report-in-progress alert"><button id=modal-close type=button class=modal-close ng-click=navigateToSchedulableReportList() ng-if=!ngDialogData.isUpdate><span class="icons icon-close invert"></span></button> <button id=modal-close type=button class=modal-close ng-click=navigateToSchedulesList(ngDialogData.params) ng-if=ngDialogData.isUpdate><span class="icons icon-close invert"></span></button> <span class="text in-progress">A Schedule with the same configuration already exists</span><div id=actions class=actions><button type=button class="button blue" ng-if=!ngDialogData.isUpdate ng-click=navigateToSchedulableReportList()>OK</button> <button type=button class="button blue" ng-if=ngDialogData.isUpdate ng-click=navigateToSchedulesList(ngDialogData.params)>OK</button></div></div></div>'),t.put("/assets/partials/reports/rvPrintReportSelectDatePopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><form method=post action="" id=report-date-range name=report-date-range class="modal-content form report-dates"><button id=modal-close type=button class=modal-close><span class="icons icon-close invert" ng-click=deleteModal()></span></button> <strong class="h2 message">Adjust Date Range</strong> <span class=notice>Max. Date Range is {{ maxDateRange }} {{ maxDateRange > 1 ? \'days\' : \'day\' }}</span> <span class="notice error" ng-if=errorMsg>{{ errorMsg }}</span><div class="entry full-width date-range"><label for=trim-range-from>From</label> <input name=trim-range-from id=trim-range-from type=text class=range-datepicker ui-date=fromDateOptions ng-model=currentReport.filterFromDate ng-change=adjustStartDate() readonly=""> <label for=trim-range-to>To</label> <input name=trim-range-to id=trim-range-to type=text class=range-datepicker ui-date=untilDateOptions ng-model=currentReport.filterToDate ng-change=adjustUntilDate() readonly=""></div><div class=actions><button type=button class="button blue" ng-click=continuePrint()>Print report</button> <button type=button class="button blank" ng-click=deleteModal()>Cancel</button></div></form></div>'),t.put("/assets/partials/reports/rvReports.html",'<span class="nested-view view-current"><div ng-include="\'/assets/partials/common/header.html\'"></div><ui-view></ui-view></span>'),t.put("/assets/partials/reports/rvReportsDashboard.html",'<form class="search-form reports"><div class="entry search"><button type=button class=clear-query ng-class="{\'visible\': query.length}" ng-click=clearQuery()><span class="icons icon-clear-search">Clear query</span></button> <button type=button name=submit class="icons icon-search">Search</button> <input id=reports-query class=query placeholder="Search by Report Name" type=search autocomplete=off ng-model=query ng-keyup=filterByQuery()></div></form><section id=reports class=content role=main><div id=reports-dashboard class=scrollable ng-class=viewColClassName ng-iscroll=FULL_REPORT_SCROLL><div class=wrapper><div class=cols-wrapper ng-include="\'/assets/partials/reports/shared/rvViewAllReports.html\'" ng-controller=RVReportListCrl ng-if=reportViewStore.showingAllReport></div></div></div></section>'),t.put("/assets/partials/reports/rvReportsDetailedView.html",'<section id=report-details class="content reports-wrapper" role=main><span><div id=report-update class="sidebar-left ui-resizable" ng-class="{\'open\': showSidebar}" ng-click=toggleSidebar($event) ng-include="\'/assets/partials/reports/filters/rvReportDetailsFilters.html\'" ng-if=!isBackgroundReportsEnabled></div><div class=report-header ng-show=showReportHeader><div ng-show="hasReportTotals && !hasNoResults" ng-include="\'/assets/partials/reports/shared/summaryCounts.html\'"></div><ul class="totals legend" ng-if="isThisReport( \'GROUP_ROOMS_REPORT\' )"><li><span class="icons icon-blocked"></span>Blocked<br>Rooms</li><li><span class="icons icon-picked-up"></span>Picked Up<br>Rooms</li><li><span class="icons icon-available"></span>Available<br>Rooms</li></ul><div class=actions><div class=select ng-if=HIDE_THIS_FEATURE><select name="" id=""><option value=pdf>Save/E-mail as PDF</option><option value=word>Save/E-mail as Word</option><option value=excel>Save/E-mail as Excel</option></select></div><button class="button with-icon only-icon blue" button=button ng-click=emailReport() ng-if=HIDE_THIS_FEATURE><span class="icons icon-email"></span></button> <button class="button with-icon only-icon blue" button=button ng-if=showPrintOption ng-click=fetchFullReport()><span class="icons icon-print"></span></button> <button ng-click=exportCSV() class="button with-icon only-icon purple" button=button ng-show="shouldShowExportButton(chosenReport) && !hideExportOption"><span class="icons icon-save"></span></button> <button class="button with-icon only-icon purple" button=button ng-click=saveFullReport() ng-if=HIDE_THIS_FEATURE><span class="icons icon-save"></span></button></div></div><div class=report-header ng-show=errorMessage.length ng-include="\'/assets/partials/common/notification_message.html\'"></div><span ng-hide=errorMessage.length ng-include=detailsTemplateUrl></span></span></section>'),t.put("/assets/partials/reservationCard/accompanyGuest.html",'<span><div class="block-item1 accompany-guest"><div class=guest ng-if="reservationData.reservation_card.accompaying_guests.length > 0"><span class=label>ACCOMPANY GUEST</span> <span class=name ng-repeat="guest in reservationData.reservation_card.accompaying_guests">{{guest.guest_name}} <span ng-show="reservationData.reservation_card.accompaying_guests.length>1 && !$last">,</span></span></div><br clear=all></div></span>'),t.put("/assets/partials/reservationCard/reservationActions.html",'<div id="reservation-actions-{{ reservationData.reservation_card.confirmation_num }}" ng-controller=reservationActionsController class="reservation-actions scrollable" ng-iscroll=reservation-card-actions-scroller><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><button type=button class="button purple" ng-if=showReverseCheckout ng-click="reverseCheckout(reservationData.reservation_card.reservation_id, \'reverseCheckoutButton\')">Reverse Check Out</button><a class="button green" ng-class="{\'overlay\': !hasPermissionToCheckin }" ng-click="reservationData.check_in_via_queue = false; goToCheckin();" ng-show="(reservationData.reservation_card.reservation_status == \'CHECKING_IN\' || reservationData.reservation_card.reservation_status == \'NOSHOW_CURRENT\') && !reservationData.reservation_card.is_exclude_from_manual_checkin">Check in</a> <a class="button red" ng-click="reservationData.check_in_via_queue = false; goToCheckoutButton(reservationData.reservation_card.reservation_id, \'checkoutButton\', reservationData.reservation_card.smartband_has_balance)" ng-show="reservationData.reservation_card.reservation_status == \'CHECKEDIN\' || reservationData.reservation_card.reservation_status == \'CHECKING_OUT\'">Check out</a> <a class="button purple" ng-click=unAvailablePopup() ng-show="(reservationData.reservation_card.reservation_status == \'CHECKING_IN\' || reservationData.reservation_card.reservation_status == \'NOSHOW_CURRENT\') && (reservationData.reservation_card.is_exclude_from_manual_checkin)&&(!isStandAlone)">Unavailable</a><div class="balance background-{{getBalanceAmountColor(reservationData.reservation_card.balance_amount)}}" ng-hide=isSRViewRateBtnShown()><span class=label>{{[\'CHECKEDIN\',\'CHECKEDOUT\', \'CHECKING_OUT\'].includes(reservationData.reservation_card.reservation_status)?\'Guest Balance\':\'Guest to Pay\'}}</span> <span class=h1 ng-class=getBalanceAmountColor(reservationData.reservation_card.balance_amount) ng-if=isBalanceAmountShown()><span ng-bind-html="reservationData.reservation_card.balance_amount | sntCurrency:this"></span></span> <span class=h1 ng-if=!isBalanceAmountShown()>{{::(\'SUPPRESSED_RATES_TEXT\' | translate)}}</span></div><button type=button class="button staycard-button icon-text" ng-show=isSRViewRateBtnShown() ng-click=onSRViewRateBtnClick()><span class=text>{{::(\'SUPPRESSED_RATES_TEXT\' | translate)}}</span> View Rate</button> <button type=button ng-click=putInQueue(reservationData.reservation_card.reservation_id) class="button staycard-button icon-queue" ng-show=showPutInQueue()>Put in Queue</button> <button type=button ng-click=removeFromQueue(reservationData.reservation_card.reservation_id) class="button staycard-button icon-queue in" ng-show=showRemoveFromQueue()>Remove from Queue</button><a id=deposit_balance ng-show=showDepositBalance(reservationData.reservation_card.reservation_status) class="button staycard-button icon-deposit" ng-click=showDepositBalanceModal()>Deposit/Balance</a><a class="button hidden brand-colors" ng-show=displayAddon(reservationData.reservation_card.reservation_status)>Add-ons</a> <a ui-sref="rover.reservation.staycard.billcard({reservationId:reservationData.reservation_card.reservation_id, clickedButton: \'viewBillButton\', userId:guestCardData.userId})" class="button staycard-button icon-bill routing" ng-show="reservationData.reservation_card.is_routing_available == \'true\'">Bill &amp; Charges <span>Routing</span></a> <a class="button staycard-button icon-bill" ng-hide="reservationData.reservation_card.is_routing_available == \'true\'" ng-click=navigateToBillAndCharges()>Bill &amp; Charges</a><a class="button staycard-button icon-smartband hide-on-mobile" ng-click=openSmartBands() ng-show="showSmartBandsButton(reservationData.reservation_card.reservation_status, reservationData.reservation_card.icare_enabled, reservationData.reservation_card.has_smartbands)">SmartBands</a> <a class="button staycard-button icon-confirmation" ng-click=popupForConfirmation() ng-show=showConfirmation(reservationData.reservation_card.reservation_status)>{{ "CONFIRMATION" | translate }}</a><a ng-if="(isStandAlone &&(reservationData.reservation_card.reservation_status != \'CANCELED\' && (reservationData.reservation_card.reservation_status == \'RESERVED\' || reservationData.reservation_card.reservation_status == \'CHECKING_IN\' || (reservationData.reservation_card.reservation_status == \'CHECKEDIN\' && (reservationData.reservation_card.balance_amount | number:2) == 0.00 && actionsCheck.firstDate))))" class="button white red-text bottom-button" ng-click=toggleCancellation() translate="">{{::(\'CANCEL_RESERVATION\' | translate)}}</a> <a ng-if=shouldShowResendCancellation(reservationData.reservation_card.reservation_status) class="button staycard-button icon-confirmation" ng-click=onResendCancellationClicked() translate="">{{::(\'RESEND_CANCELLATION\' | translate)}}</a> <a ng-if=isReinstateVisible() ng-click=checkReinstationAvailbility() class="button white green-text bottom-button">{{::(\'REINSTATE\' | translate)}}</a> <a class="button white red-text bottom-button" ng-if="isStandAlone && !isHourlyRateOn && reservationData.reservation_card.can_reverse_checkin && !disableReverseCheckin" ng-click=performReverseCheckIn()>{{::(\'REVERSE_CHECKIN\' | translate)}}</a></div></div>'),t.put("/assets/partials/reservationCard/reservationCardNewsPaper.html",'<form method=post class="block-item item-newspaper hide-on-mobile"><div class=block-title><h3 translate="">NEWSPAPER_LABEL</h3></div><div class=select ng-class="{\'overlay\':reservationData.reservation_card.reservation_status === \'CANCELED\'}"><select name=reservation_newspaper iscroll-stop-propagation="" ng-model=reservationData.reservation_card.news_paper_pref.selected_newspaper ng-change=saveNewsPaperPreference() ng-disabled=!isNewsPaperPreferenceAvailable()><option value="" class=placeholder translate="">NEWSPAPER_SELECT</option><option value={{newspaper.value}} ng-selected="newspaper.value==reservationData.reservation_card.news_paper_pref.selected_newspaper" ng-repeat="newspaper in reservationData.reservation_card.news_paper_pref.news_papers">{{newspaper.name}}</option></select></div></form>'),t.put("/assets/partials/reservationCard/reservationCardRoom.html",'<div class="block-item item-room" ng-controller=reservationRoomStatus ng-class="addHasButtonClass(reservationData.reservation_card.reservation_status, reservationData.reservation_card.is_upsell_available)"><h3 class=block-title>Room <span class=block-text ng-if=shouldShowOriginalRoomType()>Original: {{reservationData.reservation_card.original_room_type_desc}}</span> <button ng-controller=staycardController ng-click=showRoomSharerPopup() type=button class="button blue" ng-hide="sharedReservationData.sharers.length === 0">Shared</button><div class=move-room ng-show=showDoNotMoveToggleButton()><label for=lock-room class=label>Do Not Move</label><div class=switch-button ng-class="{\'on\': reservationData.reservation_card.cannot_move_room}" ng-click=toggleDoNotMove()><span class=switch-icon ng-class="{\'on\': reservationData.reservation_card.cannot_move_room}"></span> <button type=checkbox id=lock-room ng-model=reservationData.reservation_card.cannot_move_room></button></div></div></h3><a class="next-view no-auto-bind" ng-click=goToroomAssignment() ng-class="getRoomClass(reservationData.reservation_card.reservation_status, reservationData.reservation_card.cannot_move_room)"><strong class=room-number ng-class="getRoomStatusClass(reservationData.reservation_card.reservation_status, reservationData.reservation_card.room_status, reservationData.reservation_card.fo_status, reservationData.reservation_card.room_ready_status, reservationData.reservation_card.checkin_inspected_only, reservationData.reservation_card.room_service_status )">{{reservationData.reservation_card.room_number}}</strong> {{reservationData.reservation_card.room_type_description}} <span class="icons icon-room-lock" ng-show=reservationData.reservation_card.cannot_move_room></span></a><div class=actions><button ng-if=showUpgradeButton type=button class="button with-icon" ng-click=goToRoomUpgrades() ng-disabled="reservationData.reservation_card.is_upsell_available !== \'true\'" ng-class="{ \'loading-content\': !isUpsellAvailabilityKnown, \'brand-colors\': reservationData.reservation_card.is_upsell_available === \'true\', \'content-unavailable\': reservationData.reservation_card.is_upsell_available !== \'true\'}"><span class="icons {{reservationData.reservation_card.is_upsell_available === \'true\' ? \'icon-upgrade\' : \'icon-content-unavailable\'}}"></span> Upgrade</button> <a ng-hide=!showKeysButton(reservationData.reservation_card.reservation_status) ng-show=showKeysButton(reservationData.reservation_card.reservation_status) click-touch=clickedIconKey() id=add-keys class="button with-icon blue"><span class="icons icon-key"></span> <span ng-show="reservationData.reservation_card.key_settings != \'pin\'">Keys</span> <span ng-show="reservationData.reservation_card.key_settings == \'pin\'">Pin</span></a></div></div>'),t.put("/assets/partials/reservationCard/reservationCardTotalStayCost.html",'<div class="block-item item-rate" ng-class="{\'has-button\':isStandAlone && otherData.isAddonEnabled && reservationData.reservation_card.reservation_status != \'CANCELED\'}"><h3 class=block-title>Rates &amp; Add Ons<span class="block-text block-input">{{reservationData.reservation_card.contracts.length > 1 ? \'Multiple\' :reservationData.reservation_card.contracts[0]}}</span></h3><a ng-class="{\'overlay\':reservationData.reservation_card.reservation_status === \'CANCELED\'}" id=stay-card-total-stay-cost class="has-arrow next-view hover-hand" ng-click=showEditReservationPrompt()><span class=number ng-show=!isRateAmountShown()>{{::reservationData.reservation_card.text_rates_suppressed}}</span> <span class=number ng-show=isRateAmountShown()><span ng-bind-html="::reservationData.reservation_card.avg_daily_rate | sntCurrency:this:reservationData.reservation_card.rate_currency"></span></span> <span ng-hide="reservationParentData.is_modified == true && isStandAlone" class=rate>{{reservationData.reservation_card.is_multiple_rates == true ? \'Multiple\' :reservationData.reservation_card.rate_name}}</span><span class="rate custom" ng-show="reservationParentData.is_modified == true && isStandAlone"><span>Edited</span> {{reservationData.reservation_card.is_multiple_rates == true ? \'Multiple\' :reservationData.reservation_card.rate_name}}</span></a><div class=actions ng-if="isStandAlone && otherData.isAddonEnabled && reservationData.reservation_card.reservation_status != \'CANCELED\'"><a ng-click=handleAddonsOnReservation(reservationData.reservation_card.is_package_exist) class="button with-icon brand-colors"><span class=count ng-show=reservationData.reservation_card.is_package_exist>{{reservationData.reservation_card.package_count}}</span> <span class="icons icon-addons"></span> Add-Ons</a></div></div>'),t.put("/assets/partials/reservationCard/reservationCardWakeup.html",'<div class="block-wrapper hide-on-mobile"><div class="block-item item-wake-up" ng-hide=!activeWakeUp><h3 class=block-title translate="">WAKE_UP_HEADER</h3><a ng-class="{\'overlay\':reservationData.reservation_card.reservation_status === \'CANCELED\'}" id=wakeup-time class="next-view hover-hand" ng-click=showWakeupCallDialog()><span id=reservation_card_wake_up_time ng-model=wake_up_time ng-class="{\'feature-available\': isNewsPaperPreferenceAndWakeupCallAvailable()}" class="value text">{{wake_up_time}}</span></a></div><form method=post class="block-item item-newspaper" ng-if="reservationData.reservation_card.news_paper_pref.news_papers.length > 0"><h3 class=block-title translate="">NEWSPAPER_LABEL</h3><div class=select><select name=reservation_newspaper iscroll-stop-propagation="" ng-model=reservationData.reservation_card.news_paper_pref.selected_newspaper ng-change=saveNewsPaperPreference() ng-disabled=!isNewsPaperPreferenceAvailable()><option value="" class=placeholder translate="">NEWSPAPER_SELECT</option><option value={{newspaper.value}} ng-selected="newspaper.value==reservationData.reservation_card.news_paper_pref.selected_newspaper" ng-repeat="newspaper in reservationData.reservation_card.news_paper_pref.news_papers">{{newspaper.name}}</option></select></div></form></div>'),t.put("/assets/partials/reservationCard/reservationGuestSearchPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content guest-search"><button id=modal-close type=button class="dark-title modal-close" ng-click=closePopup()><span class="icons icon-close"></span></button><div class=modal-header><figure class=guest-image><img alt="" ng-src="{{\'/ui/pms-ui/images/avatar-trans.png\'}}"> <span class=search-indicator></span></figure><div class=data><input name=gc-firstname id=gc-firstname placeholder="First Name" type=text rv-delay-textbox="" ng-model=searchData.firstName delay=1000 function-to-fire=searchGuest> <input name=gc-lastname id=gc-lastname placeholder="Last Name" type=text rv-delay-textbox="" ng-model=searchData.lastName delay=1000 function-to-fire=searchGuest></div><div class=actions><button type=button class="button blank modal-close" ng-click=closePopup()>Cancel</button> <button type=button class="button green" ng-click=navigateToCreateGuest(ngDialogData.isPrimary)>New Guest</button></div></div><div class=modal-body><div class=match-info><p><strong>{{guestList.length}} possible matches</strong></p><p>Select existing or create a new guest.</p></div><div class=scrollable ng-iscroll=guestSearchResultsScroller><div class=wrapper><ul class=search-results><li class="reservation identify-guest" ng-repeat="guest in guestList"><a ng-click="attachGuestToReservation(guest.id, ngDialogData.isPrimary)"><figure class=guest-image><img ng-src="{{ guest.image }}" alt=""><span class=stay-count ng-if="guest.stayCount > 0">{{guest.stayCount}}</span> <span class=vip ng-if=guest.vip>VIP</span></figure><div class=data ng-class="{\'no-stay\': guest.stayCount == 0}"><h2><span ng-bind-html="guest.firstName | highlight:searchData.firstName:false"></span> <span ng-bind-html="guest.lastName | highlight:searchData.lastName:false"></span></h2><span class=confirmation ng-if=guest.lastStay.confirmationNo>{{guest.lastStay.confirmationNo}}</span> <span class="icons icon-location">{{guest.address.city}}, {{guest.address.state}}</span> <span class="icons icon-phone">{{ guest.phone }}</span> <span class="icons icon-email-grey">{{guest.email}}</span></div><div class=last-stay ng-if="guest.stayCount > 0"><span class=label>Last Stay <span class=date>{{ guest.lastStay.date | date: \'MMMM d, yyyy\'}}</span></span> <strong class=room>{{ guest.lastStay.room }}</strong> <em class=type>{{ guest.lastStay.roomType }}</em></div></a></li></ul></div></div></div></div></div>'),t.put("/assets/partials/reservationCard/reservationNoCurrent.html",'<div class="reservation no-content" ng-show="countCurrent == 0 && !reservationDisplayStatus && timeline==\'current\'"><div class=info><span class="icon-no-content icon-room"></span> <strong class=h1>No Current reservations</strong> <span class=h2 ng-show=isStandAlone>It looks like {{data.guest_details.first_name}} {{data.guest_details.last_name}} doesn’t have any reservation today. Would you like to <a class=open-modal-fix ui-sref=rover.reservation.search>create one</a> ?</span> <span class=h2 ng-hide=isStandAlone>It looks like {{data.guest_details.first_name}} {{data.guest_details.last_name}} doesn’t have any reservation today.</span></div></div>'),t.put("/assets/partials/reservationCard/reservationNoHistory.html",'<div class="reservation no-content" ng-show="countHistory == 0 && !reservationDisplayStatus && timeline==\'history\'"><div class=info><span class="icon-no-content icon-room"></span> <strong class=h1>No past reservations</strong> <span class=h2>We don\'t have past reservations for {{data.guest_details.first_name}} {{data.guest_details.last_name}}</span></div></div>'),t.put("/assets/partials/reservationCard/reservationNoUpcoming.html",'<div class="reservation no-content" ng-show="countUpcoming == 0 && !reservationDisplayStatus && timeline==\'upcoming\'"><div class=info><span class="icon-no-content icon-room"></span> <strong class=h1>No upcoming reservations</strong> <span class=h2 ng-show=isStandAlone>It looks like {{data.guest_details.first_name}} {{data.guest_details.last_name}} doesn’t have an upcoming reservation. Would you like to <a class=open-modal-fix ui-sref=rover.reservation.search>create one</a> ?</span> <span class=h2 ng-hide=isStandAlone>It looks like {{data.guest_details.first_name}} {{data.guest_details.last_name}} doesn’t have an upcoming reservation.</span></div></div>'),t.put("/assets/partials/reservationCard/rvAddLoyaltyProgramDialog.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form id=new-loyalty-program ng-click=setPosition() class="modal-content form new-content" name=new-loyalty-program><button id=modal-close ng-click=closeDialog() class=modal-close type=button><span class="icons icon-close invert"></span></button> <strong class="h2 message" translate="">NEW_LOYALTY_LABEL</strong><div class="entry full-width"><div id=notification-message ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><div class="entry full-width"><label for=program translate="">LOYALTY_PROGRAM_LABEL</label><div class=select><select ng-model=selectedLoyaltyProgram id=program name=program><option class=placeholder value="" translate="">LOYALTY_PROGRAM_SELECT_LABEL</option><option value={{loyaltyprogram.code}} ng-repeat="loyaltyprogram in loyaltyPrograms">{{loyaltyprogram.name}}</option></select></div></div><div class="entry full-width"><label for=type translate="">LOYALTY_TYPE_LABEL</label><div class=select><select ng-model=selectedLoyaltyType id=type name=type><option class=placeholder value="" translate="">LOYALTY_TYPE_SELECT_LABEL</option><option value={{loyaltytype.code}} ng-repeat="loyaltytype in getLoyaltyTypes()">{{loyaltytype.name}}</option></select></div></div><div class="entry full-width"><label for=level translate="">LOYALTY_LEVEL_LABEL</label><div class=select><select ng-model=selectedLevel id=level name=level><option class=placeholder value="" translate="">LOYALTY_LEVEL_SELECT_LABEL</option><option value={{loyaltylevel.membership_level}} ng-repeat="loyaltylevel in getLoyaltyLevels()">{{loyaltylevel.membership_level}}</option></select></div></div><div class="entry full-width"><label for=code translate="">LOYALTY_CODE_LABEL</label> <input id=code ng-model=loyaltyCode type=text value="" name=code></div><div class="actions float"><button id=cancel class="button blank modal-close" ng-click=closeDialog() type=button translate="">CANCEL</button> <button id=save class="button green modal-close" type=button ng-click=addLoyaltyProgram() translate="">ADD</button></div></form></div>'),
t.put("/assets/partials/reservationCard/rvCancelReservation.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-click=clearErrorMessage() ng-cloak=""><form ng-show=!showSixPayLoader class="modal-content form cancel-reservation" ng-class="{\'select-card\':ngDialogData.state == \'PENALTY\'}"><button class=modal-close id=modal-close type=button ng-click=completeCancellationProcess()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><fieldset id=cancel-options ng-if="ngDialogData.state == \'CONFIRM\'" ng-show=!DailogeState.isCancelled><span class="h2 message" ng-show="ngDialogData.penalty > 0" translate="">OUTSIDE_CANCELLATION</span> <span class=text ng-show="ngDialogData.penalty > 0">{{\'PENALTY_PRE\'| translate}} {{ ngDialogData.penaltyText }} {{\'PENALTY_POST\' | translate}}.</span><div class="entry full-width"><label for=cancel-reason>{{\'CANCELLATION_REASON\'| translate}}(<span translate="">OPTIONAL</span>)</label> <textarea id=cancel-reason name=cancel-reason placeholder="{{\'CANCELLATION_REASON_PLACEHOLDER\' | translate}}" rows=2 ng-model=cancellationData.reason>\n        </textarea></div><div class=actions ng-show="ngDialogData.penalty > 0"><button type=button class="button green" ng-click=applyPenalty() translate="">PENALTY_APPLY</button><button type=button class="button blue" ng-click=cancelReservation() translate="">PENALTY_SKIP</button><button type=button class="button blank modal-close" ng-click=closeReservationCancelModal() translate="">CANCEL</button></div><div class=actions ng-show="ngDialogData.penalty <= 0"><button type=button class="button blue" ng-click=cancelReservation() translate="">PROCEED</button><button type=button class="button blank modal-close" ng-click=closeReservationCancelModal() translate="">CANCEL</button></div></fieldset><fieldset id=apply-penalty class=credit-card ng-show="ngDialogData.state == \'PENALTY\'&&!DailogeState.isCancelled"><strong class="h2 message">Select or Add Credit Card</strong> <span class=text>Card will be charged with a {{currencySymbol}}{{ ngDialogData.penalty }} penalty.</span><div id=set-payment class=payment-form><snt-payment hotel-config=hotelPaymentConfig workstation-id={{workstation_id}} reservation-id={{passData.reservationId}} bill-number=billNumber payment-types=passData.details.paymentTypes selected-payment-type=cancellationData.paymentType selected-c-c=depositDetails.attached_card amount=ngDialogData.penalty is-penalty=ngDialogData.applyPenalty payment-currency-amount=ngDialogData.paymentCurrencyCancellationCharge payment-currency-list=paymentCurrencyList action-type=CANCEL_RESERVATION_STAYCARD deposit-policy-name={{depositPolicyName}} is-editable=isDepositEditable is-rate-suppressed=isReservationRateSuppressed has-permission=hasPermissionToMakePayment() form-template-url=/assets/partials/payment/rvCancelReservationPartial.html first-name={{firstName}} last-name={{lastName}} ng-show="!errorOccured && !depositPaidSuccesFully"></snt-payment></div></fieldset><fieldset id=reservation-canceled ng-show=DailogeState.isCancelled><span class="h2 message">Reservation cancelled</span><div id=status ng-show="DailogeState.successMessage != \'\'" class="notice success">{{DailogeState.successMessage}}</div><div id=status ng-show="DailogeState.failureMessage != \'\'" class="notice error">{{DailogeState.failureMessage}}</div><div class=holder><div class=entry><label for=email-language>Language</label><div class=select><select name=email-language id=email-language convert-to-number="" iscroll-stop-propagation="" ng-model=cancellationData.locale><option style=display:none value=""></option><option value={{item.code}} ng-if=item.is_show_on_guest_card ng-repeat="item in languageData.languages" ng-selected="item.code === cancellationData.locale">{{item.language}}</option></select></div></div></div><div class="confirmation-emails entry full-width"><label for=guest-email>Send To</label> <input name=guest-email id=guest-email value="" type=text autocomplete=off ng-if=!hasEmails() ng-model=DailogeState.sendConfirmatonMailTo> <label class=checkbox ng-if=DailogeState.guestEmail><span class="icon-form icon-checkbox" ng-class="{\'checked\': DailogeState.isGuestEmailSelected}"></span> <input type=checkbox name=guest_email[] value={Email} ng-model=DailogeState.isGuestEmailSelected> {{DailogeState.guestEmail}}</label> <label class=checkbox ng-if=DailogeState.bookerEmail><span class="icon-form icon-checkbox" ng-class="{\'checked\': DailogeState.isBookerEmailSelected}"></span> <input type=checkbox name=guest_email[] value="{Booker Email}" ng-model=DailogeState.isBookerEmailSelected> {{DailogeState.bookerEmail}}</label></div><div class=actions><button type=button class=button ng-if=sendCancellationLetter ng-class="{\'grey\': shouldDisableSendCancellationEmailBtn(), \'blue\': !shouldDisableSendCancellationEmailBtn()}" ng-click=sendReservationCancellation(cancellationData.locale) ng-disabled=shouldDisableSendCancellationEmailBtn()><span class="icons icon-email"></span> {{\'SEND_EMAIL\' | translate}}</button> <button type=button class="button orange" ng-show=printCancellationLetter ng-click=printReservationCancellation(cancellationData.locale)><span class="icons icon-print"></span> {{\'PRINT_LETTER\' | translate}}</button> <button type=button class="button blank" ng-click=completeCancellationProcess() translate="">CLOSE_WINDOW</button></div></fieldset></form></div><div ng-include="\'/assets/partials/reservation/includes/rvCancellationPrintTemplate.html\'"></div>'),t.put("/assets/partials/reservationCard/rvCancelReservationDeposits.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form id=cancel-reservation name=cancel-reservation class="modal-content form cancel-reservation" ng-click=clearErrorMessage() ng-class="{\'pay-bill\':ngDialogData.state == \'REFUND\', \'select-card\': (ngDialogData.state == \'REFUND\' && cancellationData.viewCardsList), \'new-card\' : (ngDialogData.state == \'REFUND\' && !cancellationData.viewCardsList)}" ng-cloak=""><button class=modal-close id=modal-close type=button ng-click=completeCancellationProcess()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><fieldset id=cancel-options ng-if="ngDialogData.state == \'CONFIRM\' && !DailogeState.isCancelled"><div class="entry full-width"><label for=cancel-reason>{{\'CANCELLATION_REASON\'| translate}}&nbsp;(<span translate="">OPTIONAL</span>)</label> <textarea id=cancel-reason name=cancel-reason placeholder="{{\'CANCELLATION_REASON_PLACEHOLDER\' | translate}}" rows=2 ng-model=cancellationData.reason>\n        </textarea></div>{{ ngDialogData.depositText }}<div class=actions ng-show="ngDialogData.deposit > 0"><button type=button class="button blue" ng-click=proceedWithOutDepositRefund() translate="">PROCEED_WITHOUT_DEPOSIT_REFUND</button> <button type=button class="button green" ng-click=proceedWithDepositRefund()>{{\'PROCEED_WITH_DEPOSIT_REFUND\' | translate}} ({{currencySymbol}}{{ngDialogData.deposit | number:2}})</button> <button type=button class="button blank modal-close" ng-click=closeDialog() translate="">CANCEL</button></div></fieldset><fieldset id=reservation-canceled ng-show=DailogeState.isCancelled><span class="h2 message" translate="">RESERVATION_CANCELLED</span><div id=status ng-show="DailogeState.successMessage != \'\'" class="notice success">{{DailogeState.successMessage}}</div><div id=status ng-show="DailogeState.failureMessage != \'\'" class="notice error">{{DailogeState.failureMessage}}</div><div class=holder><div class=entry><label for=email-language>Language</label><div class=select><select name=email-language id=email-language convert-to-number="" iscroll-stop-propagation="" ng-model=cancellationData.locale><option style=display:none value=""></option><option value={{item.code}} ng-if=item.is_show_on_guest_card ng-repeat="item in languageData.languages" ng-selected="item.code === cancellationData.locale">{{item.language}}</option></select></div></div></div><div class="confirmation-emails entry full-width"><label for=guest-email>Send To</label> <input name=guest-email id=guest-email value="" type=text autocomplete=off ng-if=!hasEmails() ng-model=DailogeState.sendConfirmatonMailTo> <label class=checkbox ng-if=DailogeState.guestEmail><span class="icon-form icon-checkbox" ng-class="{\'checked\': DailogeState.isGuestEmailSelected}"></span> <input type=checkbox name=guest_email[] value={Email} ng-model=DailogeState.isGuestEmailSelected> {{DailogeState.guestEmail}}</label> <label class=checkbox ng-if=DailogeState.bookerEmail><span class="icon-form icon-checkbox" ng-class="{\'checked\': DailogeState.isBookerEmailSelected}"></span> <input type=checkbox name=guest_email[] value="{Booker Email}" ng-model=DailogeState.isBookerEmailSelected> {{DailogeState.bookerEmail}}</label></div><div class=actions><button type=button class=button ng-if=sendCancellationLetter ng-class="{\'grey\': shouldDisableSendCancellationEmailBtn(), \'blue\': !shouldDisableSendCancellationEmailBtn()}" ng-click=sendReservationCancellation(cancellationData.locale)><span class="icons icon-email"></span> {{\'SEND_EMAIL\' | translate}}</button> <button type=button class="button orange" ng-show=printCancellationLetter ng-click=printReservationCancellation(cancellationData.locale)><span class="icons icon-print"></span> {{\'PRINT_LETTER\' | translate}}</button> <button type=button class="button blank" ng-click=completeCancellationProcess() translate="">CLOSE_WINDOW</button></div></fieldset></form></div><div ng-include="\'/assets/partials/reservation/includes/rvCancellationPrintTemplate.html\'"></div>'),t.put("/assets/partials/reservationCard/rvExternalReferences.html",'<div class="block-wrapper hide-on-mobile"><a ng-click=toggleDetails() ng-class="{\'active\': stateExternalRef.viewDetails}" class="block-title toggle has-arrow">External References</a><div ng-class="{\'hidden\': !stateExternalRef.viewDetails}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="block-item item-reference"><div class=entry ng-repeat="reference in stateExternalRef.references"><div class=select ng-if="isStandAlone && reference.is_from_rover"><select convert-to-number="" ng-class="{\'placeholder\' : !reference.external_interface_type_id}" ng-model=reference.external_interface_type_id ng-change=onEditReference(reference)><option value="" selected="">Select External System</option><option ng-repeat="externalSystem in stateExternalRef.thirdParties" value={{externalSystem.id}} ng-selected="externalSystem.id == reference.external_interface_type_id">{{externalSystem.name}}</option></select></div><div class="select no-bg" ng-if="isStandAlone && !reference.is_from_rover"><input ng-disabled=true value="{{getExtRefText(reference.external_interface_type_id, reference.description)}}"></div><input placeholder="Reference No." ng-disabled=!reference.is_from_rover ng-model=reference.external_confirm_no type=text rv-delay-textbox="" delay=1000 function-to-fire=onEditReference function-param=reference><button type=button class="button white icons icon-remove-60" ng-if="reference.is_from_rover && reference.id" ng-click=deleteReference(reference)>-</button><button type=button ng-if=isStandAlone ng-show="$last && reference.id" class="button white icons icon-add-60" ng-click=addNewRow()>+</button></div></div></div></div>'),t.put("/assets/partials/reservationCard/rvFeatureNotAvailableDialog.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class=modal-content><button id=modal-close class=modal-close type=button ng-click=deleteModal()><span class="icons icon-close invert"></span></button> <span class="h3 message">Feature not available</span> <button id=ok class="button red modal-close" ng-click=deleteModal()>Ok</button></div></div>'),t.put("/assets/partials/reservationCard/rvGMSLoyality.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content loyalty-gms"><button id=modal-close type=button class=modal-close ng-click=closeGMSDialog()><span class="icons icon-close invert"></span></button><div class="entry full-width"><div id=notification-message ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><div id=gms-frame-container><iframe id=gms-iframe ng-src={{trustSrc(GMSiFrameSrc)}} seamless="" sandbox="allow-same-origin allow-scripts allow-forms allow-pointer-lock allow-top-navigation"></iframe></div></div></div>'),t.put("/assets/partials/reservationCard/rvInsufficientInventory.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Insufficient inventory for {{ngDialogData.name}}</span> <span class=text>We have {{ngDialogData.count}} {{ngDialogData.name}} Available</span> <button ng-show=ngDialogData.canOverbookInventory type=button class="button green" ng-click=selectAddon(addon,addonQty,true)>Overbook Item</button> <button ng-show=ngDialogData.canOverbookInventory type=button class="button blank" ng-click=closeDialog()>Cancel</button> <button ng-hide=ngDialogData.canOverbookInventory type=button class="button blank" ng-click=closeDialog()>OK</button></div></div>'),t.put("/assets/partials/reservationCard/rvPenaltyWarningPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form id=cancel-reservation name=cancel-reservation class="modal-content form cancel-reservation" ng-cloak=""><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button><fieldset id=cancel-options><span class=text>{{\'PENALTY_WARNING_MSG1\' |translate}} \'{{currencySymbol}}{{ngDialogData.deposit | number:2}}\' {{\'PENALTY_WARNING_MSG2\' |translate}}</span><div class=actions><button type=button class="button green" ng-click=showPenaltyPopup() translate="">OK</button></div></fieldset></form></div>'),t.put("/assets/partials/reservationCard/rvReservationAdditional.html",'<div class="block-wrapper hide-on-mobile"><a class="block-title toggle has-arrow" ng-class="{\'active\': !additionalDetails.hideDetails}" ng-click=clickedAdditionalDetails($event)>Additional details</a><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=block-grid ng-class="{\'hidden\': additionalDetails.hideDetails }"><div class="block-item additional-detail item-tax-exempt" ng-if=shouldShowTaxExempt()><h3 class=block-title>Tax Exempt</h3><div class="entry half-width"><div class=switch-button ng-class="{\'on\': additionalDetails.isTaxExemptEnabled, \'overlay\' : reservationData.reservation_card.reservation_status === \'CHECKEDOUT\'}"><div class=click-catcher style="position:absolute; left:0; right:0; top:0; bottom:0; z-index:999;" ng-click=toggleTaxExempt()></div><input type=checkbox ng-model=additionalDetails.isTaxExemptEnabled ng-checked=additionalDetails.isTaxExemptEnabled> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div><div class=select ng-class="{\'overlay\' : reservationData.reservation_card.reservation_status === \'CHECKEDOUT\'}" ng-show=additionalDetails.isTaxExemptEnabled><select ng-change=updateTaxExemptData() ng-model=additionalDetails.taxExemptType ng-options="taxExempt.id as taxExempt.name for taxExempt in taxExemptTypes"></select></div></div><div class=entry ng-show=additionalDetails.isTaxExemptEnabled ng-class="{\'overlay\' : reservationData.reservation_card.reservation_status === \'CHECKEDOUT\'}"><textarea rows=4 maxlength=200 ng-change=doUpdateTaxExemptData() ng-model=additionalDetails.taxExemptRefText placeholder="{{\'TAX_EXEMPT_REFERENCE\' | translate}}"></textarea></div></div><div class="block-item additional-detail"><h3 class=block-title>Day Use</h3><div class=switch-button ng-class="{\'on\': additionalDetails.isDayUse}"><div class=click-catcher style="position:absolute; left:0; right:0; top:0; bottom:0; z-index:999;"></div><input id=day-use type=checkbox ng-model=additionalDetails.isDayUse ng-checked=additionalDetails.isDayUse> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div></div><div class="block-item item-commission additional-detail" ng-if=!isEmptyObject(reservationData.reservation_card.commission_details)><h3 class=block-title>{{\'COMMISSION\' | translate }} <span ng-if=reservationData.reservation_card.commission_details.is_prepaid clas=label translate="">PREPAID</span></h3><div class=entry><div class=switch-button ng-class="{\'on\': reservationData.reservation_card.commission_details.is_on}"><div class=click-catcher style="position:absolute; left:0; right:0; top:0; bottom:0; z-index:999;" ng-click=toggleCommission() ng-if=::hasPermissionToEditCommission></div><input id=ta-commission value=1 type=checkbox checked="" disabled=""> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div><input value={{reservationData.reservation_card.commission_details.commission_value}} type=text ng-model-options="{ updateOn: \'blur\' }" ng-model=reservationData.reservation_card.commission_details.commission_value ng-disabled=::!hasPermissionToEditCommission ng-change=updateCommissionFromStaycard() ng-show=reservationData.reservation_card.commission_details.is_on><div class=select ng-show=reservationData.reservation_card.commission_details.is_on><select convert-to-number="" name=travel-agent-commission-type ng-model=reservationData.reservation_card.commission_details.commission_type ng-disabled=::!hasPermissionToEditCommission ng-change=updateCommissionFromStaycard()><option value=percent>%</option><option value=amount>{{currencySymbol}}</option></select></div><div class=select ng-show="reservationData.reservation_card.commission_details.is_on && reservationData.reservation_card.commission_details.commission_type === \'amount\'"><select ng-model=reservationData.reservation_card.commission_details.post_type ng-change=updateCommissionFromStaycard()><option value=STAY translate="">PER_NIGHT</option><option value=NIGHT translate="">PER_STAY</option></select></div></div></div><div class="block-item item-type additional-detail"><h3 class=block-title>Reservation Type</h3><div class=select><select convert-to-number="" name=reservation-type id=reservation-type ng-class="{\'placeholder\':reservationParentData.demographics.reservationType == \'\'}" ng-model=reservationParentData.demographics.reservationType ng-change=updateAdditionalDetails() iscroll-stop-propagation=""><option value="">Select Reservation Type</option><option ng-repeat="reservationType in otherData.reservationTypes" value={{reservationType.value}} ng-selected="reservationType.value==reservationParentData.demographics.reservationType">{{reservationType.name}}</option></select></div></div><div class="block-item item-market additional-detail" ng-if=otherData.marketsEnabled><h3 class=block-title>Market</h3><div class=select><select convert-to-number="" name=market ng-class="{\'placeholder\':reservationParentData.demographics.market == \'\'}" ng-model=reservationParentData.demographics.market ng-change=updateAdditionalDetails() iscroll-stop-propagation=""><option value="">Select Market</option><option ng-repeat="market in otherData.markets" value={{market.value}} ng-selected="market.value==reservationParentData.demographics.market">{{market.name}}</option></select></div></div><div class="block-item item-source additional-detail" ng-if=otherData.sourcesEnabled><h3 class=block-title>Source</h3><div class=select><select convert-to-number="" name=source ng-class="{\'placeholder\':reservationParentData.demographics.source == \'\'}" ng-model=reservationParentData.demographics.source ng-change=updateAdditionalDetails() iscroll-stop-propagation=""><option value="">Select Source</option><option ng-repeat="source in otherData.sources" value={{source.value}} ng-selected="source.value==reservationParentData.demographics.source">{{source.name}}</option></select></div></div><div class="block-item item-origin additional-detail" ng-if=otherData.originsEnabled><h3 class=block-title>Origin of Booking</h3><div class=select><select convert-to-number="" name=origin ng-class="{\'placeholder\':reservationParentData.demographics.origin == \'\'}" ng-model=reservationParentData.demographics.origin ng-change=updateAdditionalDetails() iscroll-stop-propagation=""><option value="">Select Origin of Booking</option><option ng-repeat="origin in otherData.origins" value={{origin.value}} ng-selected="origin.value==reservationParentData.demographics.origin">{{origin.name}}</option></select></div></div><div class="block-item item-segment additional-detail" ng-if=otherData.segmentsEnabled><h3 class=block-title>Segment</h3><div class=select><select convert-to-number="" name=market ng-class="{\'placeholder\':reservationParentData.demographics.segment == \'\'}" ng-model=reservationParentData.demographics.segment ng-change=updateAdditionalDetails() iscroll-stop-propagation="" ng-disabled="additionalDetails.segmentAvailable && isSegmentAutoComputed()"><option value="">Select Segment</option><option ng-repeat="segment in otherData.segments" value={{segment.value}} ng-selected="segment.value==reservationParentData.demographics.segment">{{segment.name}}</option></select></div></div><div class="block-item additional-detail item-tax-exempt"><h3 class=block-title>Booker Email</h3><div class="entry full-width"><input type=text placeholder="Enter Booker Email Address" ng-model=reservationData.reservation_card.booker_email rv-delay-textbox="" delay=2000 function-to-fire=updateBookerEmail></div></div></div></div>'),t.put("/assets/partials/reservationCard/rvReservationCard.html",'<section id=reservation-card class="content stay-card-inner reservation-tabs-timeline ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-vertical ui-helper-clearfix" ng-class="{\'missing-guest-id\': shouldShowGuestDetails}" onetimemousemove="" ng-click=reservationCardClick()><ul id=reservation-timeline class="reservation-tabs-nav ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" role=tablist><li tabindex=-1 role=tab ng-class="{\'ui-tabs-active\': timeline == \'upcoming\'}" ng-click="showTimeLineReservation(\'upcoming\')" class="icons-tabs icon-reservation no-reservation ui-state-default ui-corner-top" aria-selected=false aria-labelledby=ui-id-32 aria-controls=upcoming><a class=ui-tabs-anchor>Upcoming <span>{{::countUpcoming}}</span></a></li><li tabindex=0 role=tab ng-class="{\'ui-tabs-active\': timeline == \'current\'}" ng-click="showTimeLineReservation(\'current\')" class="icons-tabs icon-reservation ui-state-default ui-corner-top" aria-selected=true aria-labelledby=ui-id-33 aria-controls=current><a class=ui-tabs-anchor>Current <span class=highlight>{{::countCurrent}}</span></a></li><li tabindex=-1 role=tab ng-class="{\'ui-tabs-active\': timeline == \'history\'}" ng-click="showTimeLineReservation(\'history\')" class="icons-tabs icon-reservation no-reservation ui-state-default ui-corner-top" aria-selected=false aria-labelledby=ui-id-34 aria-controls=history><a class=ui-tabs-anchor>History <span>{{::countHistory}}</span></a></li></ul><div id=current class="reservation-list float reservation-tabs ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs ui-widget ui-corner-all ui-tabs-vertical ui-helper-clearfix" aria-labelledby=ui-id-33 role=tabpanel aria-expanded=true aria-hidden=false><div ng-if=reservationDisplayStatus ng-include="\'/assets/partials/reservationCard/rvReservationListing.html\'"></div><div ui-view="" class=main-view></div></div></section>'),t.put("/assets/partials/reservationCard/rvReservationCardActivityLog.html",'<div class="block-wrapper hide-on-mobile"><span class="block-title toggle has-arrow" ng-class="{\'active\': !activityLog.hideDetails}" ng-click=toggleActivityLogDetails()>Activity Log</span><div class=block-item ng-class="{\'hidden\':activityLog.hideDetails}"><a ng-click=showDetails() class="button brand-colors" id=activity-log-button>Show Details</a></div></div>'),t.put("/assets/partials/reservationCard/rvReservationCardLoyalty.html",'<form method=post id=reservationcard-loyalty ng-init=loadLoyaltyPrograms() class="block-item item-loyalty has-button hide-on-mobile" ng-show=shouldShowLoyalty()><h3 class=block-title translate="">LOYALTY_LABEL</h3><div ng-class="{\'overlay\':reservationData.reservation_card.reservation_status === \'CANCELED\'}" class="select-item loyalty"><select iscroll-stop-propagation="" ng-model=selectedLoyaltyID name=loyalty id=loyalty class=styled ng-change=callSelectLoyaltyAPI(selectedLoyaltyID) ng-disabled=!isNewsPaperPreferenceAvailable()><option value="" data-id="" translate="">LOYALTY_PROGRAM_SELECT_LABEL</option><optgroup ng-if=$parent.reservationData.use_ffp label="{{::(\'FREEQUENT_FLYER_LABEL\'|translate)}}"></optgroup><option ng-if=$parent.reservationData.use_ffp value={{::frequentflyer.id}} ng-repeat="frequentflyer in $parent.reservationData.reservation_card.loyalty_level.frequentFlyerProgram" ng-selected="selectedLoyaltyID == frequentflyer.id">{{::frequentflyer.membership_type}} {{::frequentflyer.membership_card_number}}</option><optgroup ng-if=$parent.reservationData.use_hlp label="{{::(\'HOTEL_LOYALTY_LABEL\'|translate)}}"></optgroup><option ng-if=$parent.reservationData.use_hlp value={{hotelloyalty.id}} ng-repeat="hotelloyalty in $parent.reservationData.reservation_card.loyalty_level.hotelLoyaltyProgram" ng-selected="selectedLoyaltyID == hotelloyalty.id">{{hotelloyalty.membership_type}} {{hotelloyalty.membership_card_number}}</option></select><div id=reservationLoyalty class=selected ng-show=showSelectedLoyalty><span class="value code">{{selectedLoyalty.membership_type}}</span> <span class=number>Ending with <span class="value number">{{selectedLoyalty.membership_card_number}}</span></span></div><div id=reservationLoyalty class=selected ng-hide=showSelectedLoyalty><span class="value code"></span> <span class=number translate="">LOYALTY_PROGRAM_SELECT_LABEL</span></div></div><div ng-class="{\'overlay\':reservationData.reservation_card.reservation_status === \'CANCELED\'}" class=actions><a id=add_new_loyalty_staycard ng-click=showLoyaltyProgramDialog() class=add-new-button translate="">HOTEL_LOYALTY_ADD_BUTTON</a></div></form>'),t.put("/assets/partials/reservationCard/rvReservationCardNotes.html",'<div class="block-wrapper notes-actions"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="block-item item-actions" ng-controller=rvReservationCardActionsController><h3 class=block-title>Actions</h3><button type=button class="staycard-button next-view" ng-class="{ \'icon-no-actions\' : actionsCount === \'none\', \'icon-new-actions\' : actionsCount === \'pending\' || actionsCount === \'only-pending\', \'icon-actions\' : actionsCount === \'all-completed\', \'overlay\': !actionsSyncd && !isStandAlone }" ng-click=openActionsPopup();><div id=loading style="position: relative" class=overlay ng-show="!actionsSyncd && !isStandAlone"><div id=loading-spinner style="position: absolute"></div></div><span ng-show="actionsCount === \'none\'" class=actions-none>{{actions.totalCount}}</span> <span ng-show="actionsCount === \'pending\'"><font class=actions-pending>{{actions.pendingCount}}</font>/ {{actions.totalCount}}</span> <span ng-show="actionsCount === \'only-pending\'" class=actions-pending>{{actions.pendingCount}}</span> <span ng-show="actionsCount === \'all-completed\'" class=actions-completed>{{actions.totalCount}}</span></button></div><div class="block-item item-notes"><h3 class=block-title>Notes</h3><button type=button class="staycard-button next-view" ng-class="{\'icon-notes\': notesCount, \'icon-no-notes\': !notesCount}" ng-click=openNotesPopup();><div id=loading style="position: relative" class=overlay ng-if=!isCountUpdated><div id=loading-spinner style="position: absolute"></div></div>{{notesCount}}</button></div><div class="block-item item-cards"><h3 class=block-title>Associated with</h3><span class="icons icon-guest-company" ng-if=isCompanyCardAttachedToReservation()>{{reservationData.reservation_card.company_card_name}}</span> <span class="icons icon-guest-travelagent" ng-if=isTravelAgentAttachedToReservation()>{{reservationData.reservation_card.travel_agent_card_name}}</span> <span class="icons icon-group" ng-if=isGroupCardAttachedToReservation()>{{reservationData.reservation_card.group_name}}</span> <span class="icons icon-allotment" ng-if=isAllotmentCardAttachedToReservation()>{{reservationData.reservation_card.allotment_name}}</span><div class=no-cards ng-if=noCardAttachedToReservation()></div></div></div>'),t.put("/assets/partials/reservationCard/rvReservationCardNotesPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-controller=RVReservationNotesPopupCtrl><form method=post action=post-note id=notes class="modal-content form staycard-notes" ng-click=clearMessage()><button id=modal-close type=button class="dark-title modal-close" ng-click=closeDialog();><span class="icons icon-close"></span></button><div class=modal-header><h1>Notes</h1><strong ng-show=!!reservationData.reservation_card.room_number>Room {{reservationData.reservation_card.room_number}}</strong></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=no-content ng-if=!reservationData.reservation_card.notes.reservation_notes.length><div class=info><span class="icon-no-content icon-notes"></span> <strong class=h1>No Notes</strong> <span class=h2>Drop a Note for reservation #{{reservationData.reservation_card.confirmation_num}}</span></div></div><div id=notes-list class=scrollable ng-if="!!reservationData.reservation_card.notes.reservation_notes && reservationData.reservation_card.notes.reservation_notes.length>0" ng-iscroll=reservationNotes><ul class="notes wrapper"><li ng-repeat="note in reservationData.reservation_card.notes.reservation_notes" ng-class="{\'editing\': (editingNote && note.note_id === editingNote.note_id)}" ng-click=clickedOnNote(note)><figure class=guest-image><img ng-src={{note.user_image}} alt=""></figure><div class=note-title><h4>{{note.username}}</h4><time datetime=T><span class=time>{{note.posted_time}}</span> <span class=date>{{note.posted_date | date:dateFormat}}</span></time><span class=topic>{{note.topic}}</span> <button type=button class="icons icon-trash" ng-click="deleteReservationNote($event, $index)">Delete post</button></div><p ng-bind-html=note.text></p></li></ul></div><div class=actions><textarea placeholder="{{\'WRITE_NOTE\'|translate}}" ng-model=reservationnote rows=2></textarea><div class=post><button type=button class=button ng-class="{\'brand-colors\': reservationnote.trim()!==\'\', \'grey\' : reservationnote.trim()===\'\'}" ng-show="editingNote===null" click-touch=saveReservationNote()>Post</button> <button type=button class=button ng-class="{\'brand-colors\' : reservationnote.trim()!==\'\', \'grey\' : reservationnote.trim()===\'\'}" ng-click=updateActiveReservationNote() ng-show="editingNote!==null" ng-disabled="reservationnote.trim()===\'\'">Save</button> <button type=button class="button blank" ng-click=closeDialog() ng-show="editingNote===null">Cancel</button> <button type=button class="button blank" ng-click=cancelEditModeReservationNote() ng-show="editingNote!==null">Cancel</button></div></div></form></div>'),
t.put("/assets/partials/reservationCard/rvReservationCardPayment.html","<span id=reservation-card-payment ng-controller=reservationPaymentController><form method=post class=\"block-item item-payment float\" ng-class=getHasButtonClass()><h3 class=block-title>{{ 'PAYMENT_METHOD' | translate }} <span class=payment-hold ng-if=\"reservationData.reservation_card.guarentee_type && reservationData.reservation_card.guarentee_type!=''\">{{reservationData.reservation_card.guarentee_type}} {{ 'GUARANTEE' | translate }}</span><div class=block-input ng-show=showPostWithNoCreditButton()><label for=post-no-credit class=label>{{ 'RESTRICT_POST' | translate }}</label><div class=\"switch-button red-on\" ng-class=\"{'on' : reservationData.reservation_card.restrict_post}\" ng-click=setAllowPostWithNoCredit()><span class=switch-icon ng-class=\"{'on' : reservationData.reservation_card.restrict_post}\"></span> <button id=post-no-credit ng-model=reservationData.reservation_card.restrict_post></button></div></div></h3><a ng-class=\"{'overlay':reservationData.reservation_card.reservation_status === 'CANCELED'}\" class=next-view ng-if=\"reservationData.reservation_card.payment_method_used == 'CC'\" ng-click=openPaymentList()><figure class=card-logo><img ng-src=/assets/{{reservationData.reservation_card.payment_details.card_type_image}} alt=\"\"></figure><span class=number>{{ 'ENDING_WITH' | translate }} <span id=token-last-value class=\"value number\">{{reservationData.reservation_card.payment_details.card_number}}</span></span> <span class=date>{{ 'DATE' | translate }} <span class=\"value date\">{{reservationData.reservation_card.payment_details.card_expiry}}</span></span><span ng-show=reservationData.reservation_card.payment_details.is_swiped class=\"icons icon-swiped\" ng-class=\"{'icon-authenticated':reservationData.reservation_card.payment_details.auth_color_code === 'green', 'icon-authentication-failed' : reservationData.reservation_card.payment_details.auth_color_code === 'red' }\"></span><span ng-show=\"!reservationData.reservation_card.payment_details.is_swiped && reservationData.reservation_card.payment_details.auth_color_code =='green'\" class=\"icons icon-authenticated\"></span><span ng-show=\"!reservationData.reservation_card.payment_details.is_swiped && reservationData.reservation_card.payment_details.auth_color_code =='red'\" class=\"icons icon-authentication-failed\">Credit card authentication failed</span></a> <a ng-class=\"{'overlay':reservationData.reservation_card.reservation_status === 'CANCELED'}\" class=next-view ng-show=\"reservationData.reservation_card.payment_method_used !== 'CC' && reservationData.reservation_card.payment_method_used !== '' && reservationData.reservation_card.payment_method_used !== null\" ng-click=openPaymentList()><span class=\"value code\"></span> {{ reservationData.reservation_card.payment_method_description }}</a> <a ng-class=\"{'overlay':reservationData.reservation_card.reservation_status === 'CANCELED'}\" class=next-view ng-show=\"reservationData.reservation_card.payment_method_used === '' || reservationData.reservation_card.payment_method_used === null\" ng-click=openPaymentList()><span class=\"value code\"></span> {{ 'PAYMENT_NOT_ADDED' | translate }}</a><div class=actions><button ng-click=showAuthAmountPopUp() ng-show=showCCAuthButton() type=button class=\"button green with-icon\"><span class=\"icons icon-cc\"></span> {{ 'CC_AUTH' | translate }}</button> <button ng-click=showAddNewPaymentModel() class=add-new-button ng-show=displayButton()>+ {{ 'ADD' | translate }}</button></div></form></span>"),t.put("/assets/partials/reservationCard/rvReservationConfirmationPrintPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post action=confirm-reservation id=confirm-reservation class="modal-content form confirm-reservation"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message" translate="">RESERVATION_CONFIRMATION</span><div id=status class=notice ng-class="{\'success\':ngData.successMessage, \'error\':ngData.failureMessage }" ng-show="ngData.successMessage || ngData.failureMessage">{{ngData.successMessage}}{{ngData.failureMessage}}</div><div class=holder><div class="entry margin" ng-show=ngData.languageData.show_language_field><label for=email-language translate="">GUEST_LANGUAGE</label><div class=select><select id=email-language ng-model=ngData.languageData.selected_language_code><option value="" translate="">SELECT_LANGUAGE</option><option value={{item.code}} ng-repeat="item in ngData.languageData.languages" ng-selected="item.code === ngData.languageData.selected_language_code" ng-if=item.is_show_on_guest_card>{{item.language}}</option></select></div></div><div class=entry ng-show=ngData.isCustomTextPerReservation><label for=custom-text>Email Type</label><div class=switch-button ng-class="{ \'on\' : ngData.enable_confirmation_custom_text }"><input id=custom-text value={value} type=checkbox ng-click=enableConfirmationCustomText()> <label class=data-off><span class=value>Default</span> <span class=switch-icon>Custom</span></label> <label class=data-on><span class=switch-icon>Default</span> <span class=value>Custom</span></label></div></div></div><div class="entry full-width" ng-if=ngData.enable_confirmation_custom_text><label for=email-title>Subject</label> <input id=email-title value="" type=text ng-model=ngData.confirmation_custom_title placeholder="Enter confirmation email subject"></div><div class="entry full-width" ng-if=ngData.enable_confirmation_custom_text><label for=email-text>Content</label> <textarea id=email-text rows=2 ng-model=ngData.confirmation_custom_text placeholder="Enter confirmation email content"></textarea></div><div class="confirmation-emails entry full-width"><label for=guest-email>Send To</label><input name=guest-email id=guest-email value="" type=text autocomplete=off ng-if=!hasEmails() ng-model=ngData.sendConfirmatonMailTo><label class=checkbox ng-if=ngData.guestEmail><span class="icon-form icon-checkbox" ng-class="{\'checked\': ngData.isGuestEmailSelected}"></span> <input type=checkbox name=guest_email[] value={Email} ng-model=ngData.isGuestEmailSelected> {{ngData.guestEmail}}</label> <label class=checkbox ng-if=ngData.bookerEmail><span class="icon-form icon-checkbox" ng-class="{\'checked\': ngData.isBookerEmailSelected}"></span> <input type=checkbox name=guest_email[] value="{Booker Email}" ng-model=ngData.isBookerEmailSelected> {{ngData.bookerEmail}}</label></div><div class=actions><button type=button class=button ng-class="{\'grey\' : shouldDisableSendConfirmationEmailBtn(), \'blue\': !shouldDisableSendConfirmationEmailBtn() }" ng-if=sendConfirmationLetter ng-click=sendConfirmationEmail()><span class="icons icon-email"></span> {{\'SEND_EMAIL\' | translate}}</button> <button ng-if=printConfirmationLetter type=button class="button with-icon orange" ng-click=printReservation()><span class="icons icon-print"></span> {{\'PRINT_LETTER\' | translate}}</button> <button type=button class="button blank" ng-click=closeDialog() translate="">CLOSE_WINDOW</button></div></form></div><div ng-include="\'/assets/partials/reservation/includes/rvConfirmationPrintTemplate.html\'"></div>'),t.put("/assets/partials/reservationCard/rvReservationDemographicsMissingPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form method=post action="" class="modal-content form demographics"><button ng-click=closeDialog() ng-hide=summaryState.forceDemographicsData id=modal-close class=modal-close type=button><span class="icons icon-close invert"></span></button> <strong class="h2 message">Demographics Missing!</strong> <span class=text>Set mandatory demographics to continue</span><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry margin" ng-show=shouldShowReservationType><label for=reservation-type>Reservation type<strong ng-show=otherData.reservationTypeIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=reservation-type id=reservation-type ng-class="{\'placeholder\': reservationParentData.demographics.reservationType == \'\'}" ng-model=reservationParentData.demographics.reservationType><option value="" translate="">RESERVATION_TYPE_PLACEHOLDER</option><option ng-repeat="reservationType in otherData.reservationTypes" value={{reservationType.value}} ng-selected="reservationType.value == reservationParentData.demographics.reservationType">{{reservationType.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowMarket><label for=market>Market<strong ng-show=otherData.marketIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=market id=market ng-class="{\'placeholder\': reservationParentData.demographics.market == \'\'}" ng-model=reservationParentData.demographics.market><option value="" translate="">MARKET_PLACEHOLDER</option><option ng-repeat="market in otherData.markets" value={{market.value}} ng-selected="market.value==reservationParentData.demographics.market">{{market.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowSource><label for=source>Source<strong ng-show=otherData.sourceIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=source id=source ng-class="{\'placeholder\': reservationParentData.demographics.source == \'\'}" ng-model=reservationParentData.demographics.source><option value="" translate="">SOURCE_PLACEHOLDER</option><option ng-repeat="source in otherData.sources" value={{source.value}} ng-selected="source.value==reservationParentData.demographics.source">{{source.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowOriginOfBooking><label for=origin>Origin of Booking<strong ng-show=otherData.originIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=origin id=origin ng-class="{\'placeholder\': reservationParentData.demographics.origin == \'\'}" ng-model=reservationParentData.demographics.origin><option value="" translate="">ORIGIN_BOOKING_PLACEHOLDER</option><option ng-repeat="origin in otherData.origins" value={{origin.value}} ng-selected="origin.value==reservationParentData.demographics.origin">{{origin.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowSegments><label for=origin>Segments<strong ng-show=otherData.segmentsIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=origin id=origin ng-class="{\'placeholder\': reservationParentData.demographics.segment == \'\'}" ng-model=reservationParentData.demographics.segment ng-disabled=!!reservationParentData.demographics.segment><option value="" translate="">SEGMENT_PLACEHOLDER</option><option ng-repeat="segment in otherData.segments" value={{segment.value}} ng-selected="segment.value==reservationParentData.demographics.segment">{{segment.name}}</option></select></div></div><div class=actions><button type=button class=button ng-disabled=!isDemographicsFormValid() ng-class="isDemographicsFormValid() ? \'green\' : \'grey\'" ng-click=updateDemograhics()>Save & Continue</button></div></form></div>'),t.put("/assets/partials/reservationCard/rvReservationDepositPopup.html",'<div ng-init="pageloadingOver = false" ng-show="!showSixPayLoader && pageloadingOver" id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-click=clearErrorMessage() ng-cloak=""><form class="modal-content form deposit-required"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message" ng-show="!errorOccured && !depositPaidSuccesFully">Deposit required</strong><div class=payment-form><snt-payment hotel-config=hotelPaymentConfig workstation-id={{workstation_id}} reservation-id={{reservationId}} bill-id=reservationData.reservation_card.default_bill_id bill-number=billNumber payment-types=passData.details.paymentTypes selected-payment-type=paymentType selected-c-c=depositDetails.attached_card amount=depositAmount payment-currency-amount=depositPaymentAmount rate-currency={{rateCurrency}} action-type=DEPOSIT deposit-policy-name={{depositPolicyName}} is-editable=isDepositEditable is-rate-suppressed=isReservationRateSuppressed has-permission=hasPermissionToMakePayment() form-template-url=/assets/partials/reservationCard/rvSntDepositPayment.html first-name={{firstName}} last-name={{lastName}} payment-currency-list=paymentCurrencyList ng-show="!errorOccured && !depositPaidSuccesFully"></snt-payment><div class="feedback no-top-border" ng-show=depositPaidSuccesFully><div class="notice success">Deposit paid!<br><span ng-if="paymentType === \'CA\' && hasPaymentRounding">Final invoiced amount is subject to rounding!!</span></div><ul class=transaction><li ng-show="authorizationCode !==\'\'">Your Authorize code is: <span class=auth>{{authorizationCode}}</span></li><li ng-if=feePaid>Amount paid: <span class=value><i ng-bind-html="depositAmount | sntCurrency:this"></i> + <i ng-bind-html="feePaid | sntCurrency:this"></i> fee</span></li><li ng-if=!feePaid>Amount paid: <span class=value><span ng-bind-html="depositAmount | sntCurrency:this"></span></span></li></ul><button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div><div class=actions ng-show=errorOccured><button type=button class="button blue" ng-click=tryAgain()>Try again</button> <button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div></form></div>'),t.put("/assets/partials/reservationCard/rvReservationDetails.html",'<div ng-show=reservationDisplayStatus role=tabpanel class="reservation ui-tabs-panel ui-widget-content ui-corner-bottom" aria-labelledby=ui-id-10 aria-hidden=false aria-expanded=true ng-click=clearErrorMessage()><div class=reservation-header ng-init="showEditDates = false"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=actions><a ng-show=isStayDatesChangeAllowed() class="button dates has-arrow toggle" ng-class="{\'active\': showEditDates}" ng-click=toggleReservationDates()><span class=date><span class="guest-status small-icon check-in">&nbpsp;</span> <span ng-show=!isIpad>{{reservationData.reservation_card.arrival_date|date:\'EEEE\'}}</span> <span ng-hide=!isIpad>{{reservationData.reservation_card.arrival_date|date:\'EEE\'}}</span> {{reservationData.reservation_card.arrival_date|date:dateFormat}}</span> <span class=date><span class="guest-status small-icon check-out">&nbpsp;</span> <span ng-show=!isIpad>{{reservationData.reservation_card.departure_date|date:fulldayInWeek}}</span> <span ng-hide=!isIpad>{{reservationData.reservation_card.departure_date|date:\'EEE\'}}</span> {{reservationData.reservation_card.departure_date|date:dateFormat}}</span></a> <span ng-if=!isStayDatesChangeAllowed();><span class=date><span class="guest-status small-icon check-in">&nbpsp;</span> <span ng-show=!isIpad>{{reservationData.reservation_card.arrival_date|date:\'EEEE\'}}</span> <span ng-hide=!isIpad>{{reservationData.reservation_card.arrival_date|date:\'EEE\'}}</span> {{reservationData.reservation_card.arrival_date|date:dateFormat}} <span ng-show=reservationData.reservation_card.is_hourly_reservation>{{reservationData.reservation_card.arrival_time}}</span></span> <span class=date><span class="guest-status small-icon check-out">&nbpsp;</span> <span ng-show=!isIpad>{{reservationData.reservation_card.departure_date|date:fulldayInWeek}}</span> <span ng-hide=!isIpad>{{reservationData.reservation_card.departure_date|date:\'EEE\'}}</span> {{reservationData.reservation_card.departure_date|date:dateFormat}} <span ng-show=reservationData.reservation_card.is_hourly_reservation>{{reservationData.reservation_card.departure_time}}</span></span></span> <a ng-click=toggleTime() ng-class="{\'not-set\':!reservationData.reservation_card.arrival_time, \'active\': shouldShowTimeDetails}" ng-if="(reservationData.reservation_card.reservation_status == \'CHECKING_IN\' || reservationData.reservation_card.reservation_status == \'RESERVED\')" class="button times check-in toggle"><span class="icons time check-in"></span>{{reservationData.reservation_card.arrival_time ? reservationData.reservation_card.arrival_time : \'NOT SET\' }}</a> <a ng-click=toggleTime() ng-class="{\'not-set\':!reservationData.reservation_card.departure_time ,\'active\': shouldShowTimeDetails}" ng-if="!reservationData.reservation_card.is_opted_late_checkout && (reservationData.reservation_card.reservation_status == \'CHECKEDIN\' || reservationData.reservation_card.reservation_status == \'CHECKING_OUT\' || reservationData.reservation_card.reservation_status == \'CHECKEDOUT\')" class="button times check-out toggle"><span class="icons time check-out"></span>{{reservationData.reservation_card.departure_time ? reservationData.reservation_card.departure_time : \'NOT SET\' }}</a> <a ng-click=toggleTime() ng-class="{\'not-set\':!reservationData.reservation_card.late_checkout_time ,\'active\': shouldShowTimeDetails}" ng-if=reservationData.reservation_card.is_opted_late_checkout class="button times late-check-out toggle"><span class="icons time late-check-out"></span>{{reservationData.reservation_card.late_checkout_time}}</a> <a class="button toggle has-arrow" ng-class="{\'active\': shouldShowGuestDetails }" ng-click=toggleGuests() ng-hide=shouldDisableGuestsButton()><span class=label>Guests</span> {{ reservationParentData.rooms[0].numInfants + reservationParentData.rooms[0].numChildren + reservationParentData.rooms[0].numAdults }}</a><div class=inactive-nights ng-show=shouldDisableGuestsButton()><span class=label>Guests</span> {{ reservationParentData.rooms[0].numInfants + reservationParentData.rooms[0].numChildren + reservationParentData.rooms[0].numAdults }}</div><a class="button next-view" ng-show=shouldShowChangeStayDatesButton() ng-click=extendNights() ng-class="{\'has-arrow\' : !shouldDisableExtendNightsButton()}"><span class=label>Nights</span> {{reservationData.reservation_card.total_nights}}</a><div class=inactive-nights ng-hide="isNightsEnabled() || reservationData.reservation_card.is_hourly_reservation"><span class=label>Nights</span> {{reservationData.reservation_card.total_nights}}</div><div class="button has-arrow next-view" ng-show=reservationData.reservation_card.is_hourly_reservation ng-click=showDiaryScreen()><span class=label>Hours</span></div></div><div class=reservation-times ng-class="{\'late-check-out\': reservationData.reservation_card.is_opted_late_checkout}" ng-show=shouldShowTimeDetails><div class="check-data icons icon-time time-in" ng-class="{\'locked\':reservationData.reservation_card.is_opted_late_checkout || reservationData.reservation_card.reservation_status == \'CHECKEDIN\' || reservationData.reservation_card.reservation_status == \'CHECKING_OUT\' || reservationData.reservation_card.reservation_status == \'CHECKEDOUT\'}"><label for=check-in-hour class=label>Arrival</label><div class="select hour"><select id=check-in-hour name=check-in ng-model=reservationParentData.checkinTime.hh ng-change=modifyCheckinCheckoutTime() ng-disabled="reservationData.reservation_card.is_opted_late_checkout || reservationData.reservation_card.reservation_status == \'CHECKEDIN\' || reservationData.reservation_card.reservation_status == \'CHECKING_OUT\' || reservationData.reservation_card.reservation_status == \'CHECKEDOUT\' || reservationData.reservation_card.is_hourly_reservation"><option value="">HH</option><option value=01>01</option><option value=02>02</option><option value=03>03</option><option value=04>04</option><option value=05>05</option><option value=06>06</option><option value=07>07</option><option value=08>08</option><option value=09>09</option><option value=10>10</option><option value=11>11</option><option value=12>12</option></select></div><div class="select minutes"><select id=check-in-minutes name=check-in ng-model=reservationParentData.checkinTime.mm ng-change=modifyCheckinCheckoutTime() ng-disabled="reservationData.reservation_card.is_opted_late_checkout || reservationData.reservation_card.reservation_status == \'CHECKEDIN\' || reservationData.reservation_card.reservation_status == \'CHECKING_OUT\' || reservationData.reservation_card.reservation_status == \'CHECKEDOUT\' || reservationData.reservation_card.is_hourly_reservation"><option value="">MM</option><option value=00>00</option><option value=15>15</option><option value=30>30</option><option value=45>45</option></select></div><div class="select ampm"><select id=check-in-ampm name=check-in ng-model=reservationParentData.checkinTime.ampm ng-change=modifyCheckinCheckoutTime() ng-disabled="reservationData.reservation_card.is_opted_late_checkout || reservationData.reservation_card.reservation_status == \'CHECKEDIN\' || reservationData.reservation_card.reservation_status == \'CHECKING_OUT\' || reservationData.reservation_card.reservation_status == \'CHECKEDOUT\' || reservationData.reservation_card.is_hourly_reservation"><option value=AM selected="">AM</option><option value=PM>PM</option></select></div></div><div class="check-data icons icon-time time-out" ng-class="{\'locked\': reservationData.reservation_card.is_opted_late_checkout || reservationData.reservation_card.reservation_status == \'CHECKEDOUT\'}"><label for=check-out-hour class=label>Departure</label><div class="select hour"><select id=check-out-hour name=check-out ng-model=reservationParentData.checkoutTime.hh ng-change=modifyCheckinCheckoutTime() ng-disabled="reservationData.reservation_card.is_opted_late_checkout || reservationData.reservation_card.reservation_status == \'CHECKEDOUT\' || reservationData.reservation_card.is_hourly_reservation"><option value="">HH</option><option value=01>01</option><option value=02>02</option><option value=03>03</option><option value=04>04</option><option value=05>05</option><option value=06>06</option><option value=07>07</option><option value=08>08</option><option value=09>09</option><option value=10>10</option><option value=11>11</option><option value=12>12</option></select></div><div class="select minutes"><select id=check-out-minutes name=check-out ng-model=reservationParentData.checkoutTime.mm ng-change=modifyCheckinCheckoutTime() ng-disabled="reservationData.reservation_card.is_opted_late_checkout || reservationData.reservation_card.reservation_status == \'CHECKEDOUT\' || reservationData.reservation_card.is_hourly_reservation"><option value="">MM</option><option value=00>00</option><option value=15>15</option><option value=30>30</option><option value=45>45</option></select></div><div class="select ampm"><select id=check-out-ampm name=check-out ng-model=reservationParentData.checkoutTime.ampm ng-change=modifyCheckinCheckoutTime() ng-disabled="reservationData.reservation_card.is_opted_late_checkout || reservationData.reservation_card.reservation_status == \'CHECKEDOUT\' || reservationData.reservation_card.is_hourly_reservation"><option value=AM>AM</option><option value=PM selected="">PM</option></select></div></div></div><div class=reservation-dates ng-show=showEditDates><div class="check-data has-datepicker"><label for=check-in-date class="guest-status small-icon check-in">Arrival Date</label><input name=room-service-date id=check-in-date type=text class=datepicker ui-date=arrivalDateOptions ng-model=editStore.arrival ui-date-format="" readonly="" ng-change=arrivalDateChanged() ng-disabled=shouldDisableArrivalDate()></div><div class="check-data has-datepicker"><label for=check-out-date class="guest-status small-icon check-out">Departure Date</label><input name=room-service-date id=check-out-date type=text class=datepicker ui-date=departureDateOptions ng-model=editStore.departure ui-date-format="" readonly=""></div><button type=button class="button green" ng-click=editStayDates();>Check Dates</button></div><div ng-controller=rvReservationGuestController class=reservation-guests ng-show=shouldShowGuestDetails ng-class="::{\'editable\': isStandAlone}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class=notice ng-show="isStandAlone && guestData.varying_occupancy" translate="">VAR_OCCUPANCY</span><ul class=guest-count><li class=select><span class="icons icon-adult"></span> <label class=label for=adults-count>Adults</label><select convert-to-number="" ng-readonly=!isStandAlone name=adults-count id=adults-count ng-model=guestData.adult_count ng-change=onStayCardOccupancyChange()><option ng-repeat="i in [1, maxAdultsForReservation] | makeRange track by $index" value={{::i}} ng-selected="i==guestData.adult_count">{{::i}}</option></select></li><li class=select><span class="icons icon-student"></span> <label class=label for=children-count>Children</label><select convert-to-number="" ng-readonly=!isStandAlone name=children-count id=children-count ng-model=guestData.children_count ng-change=onStayCardOccupancyChange()><option ng-repeat="i in [0, otherData.maxChildren] | makeRange track by $index" value={{::i}} ng-selected="i==guestData.children_count">{{::i}}</option></select></li><li class=select><span class="icons icon-infant"></span> <label class=label for=infants-count>Infants</label><select convert-to-number="" ng-readonly=!isStandAlone name=infants-count id=infants-count type=text ng-model=guestData.infants_count ng-change=onStayCardOccupancyChange()><option ng-repeat="i in [0, otherData.maxInfants] | makeRange track by $index" value={{::i}} ng-selected="i==guestData.infants_count">{{::i}}</option></select></li></ul><div ng-if="reservationData.reservation_card.accompaying_guests.length > 0 && !isStandAlone" ng-include="\'/assets/partials/reservationCard/accompanyGuest.html\'"></div><form method=post name=manage-guests id=manage-guests class="form scrollable" ng-iscroll=accompanyGuestList ng-iscroll-delay=1000><div class="wrapper accompany-guest-wrapper"><div class=entry><figure class=guest-image><img ng-src="{{ guestData.primary_guest_details.image }}" alt=""> <span ng-if=guestData.primary_guest_details.is_vip class=vip>VIP</span> <span class="icons icon-adult" ng-if="guestData.primary_guest_details.guest_type === \'ADULT\'"></span> <span class="icons icon-student" ng-if="guestData.primary_guest_details.guest_type === \'CHILDREN\'"></span></figure><input name=guest-first-name id=guest-first-name type=text placeholder="First Name" value={{::guestData.primary_guest_details.first_name}} readonly=""> <input name=guest-last-name id=guest-last-name type=text placeholder="Last Name" value={{::guestData.primary_guest_details.last_name}} readonly=""> <button class="button with-icon white" click-touch="showScannedGuestID(true, guestData.primary_guest_details)" ng-class=\'{ "overlay":!hasGuestIDPermission, "green-text": isGuestIdUploaded(guestData.primary_guest_details, true), "grey-text": !isGuestIdUploaded(guestData.primary_guest_details, true) && !isIdRequiredForGuest(guestData.primary_guest_details, true), "red-text": isIdRequiredForGuest(guestData.primary_guest_details, true)}\'><span ng-class="{\'icons icon-identity-card\': isGuestIdUploaded(guestData.primary_guest_details, true), \'icons icon-identity-card-grey\': !isGuestIdUploaded(guestData.primary_guest_details, true) && !isIdRequiredForGuest(guestData.primary_guest_details, true), \'icons icon-identity-card-red\': isIdRequiredForGuest(guestData.primary_guest_details, true)}"></span> <span ng-show="!isIdRequiredForGuest(guestData.primary_guest_details, true)">{{ \'GUEST_ID_BUTTON\' | translate }}</span> <span ng-show="isIdRequiredForGuest(guestData.primary_guest_details, true)">{{ \'GUEST_ID_MISSING_BUTTON\' | translate }}</span></button> <button class="button with-icon only-icon purple" click-touch="dowloadDocumnetDetails(guestData.primary_guest_details, true)" ng-class={overlay:!hasGuestIDPermission} ng-show="isGuestIdUploaded(guestData.primary_guest_details, true)"><span class="icons icon-save"></span> Download</button> <button type=button class="button blue prevent-api-call" click-touch=navigateToGuestCard(guestData.primary_guest_details.id) ng-if="isStandAlone && guestData.primary_guest_details.id">Show Guest Card</button></div><label for=acc1-first-name ng-show=showAccompanyingGuestLabel()>Accompanying Guests</label><div class=entry ng-repeat="guest in accompanyingGuests.ADULT"><figure class=guest-image><span ng-if=!guest.image class="icons icon-adult"></span> <img ng-if=guest.image ng-src="{{ guest.image }}" alt=""></figure><input ng-class=\'{"disabled overlay":!isStandAlone}\' name={{guest.first_name}} type=text placeholder="First Name" value={{guest.first_name}} ng-model=guest.first_name ng-blur=saveAccGuestDetails($event)> <input ng-class=\'{"disabled overlay":!isStandAlone}\' name={{guest.last_name}} type=text placeholder="Last Name" ng-model=guest.last_name value={{guest.last_name}} ng-blur=saveAccGuestDetails($event)> <button class="button with-icon white" click-touch="showScannedGuestID(false, guest)" ng-show=guest.id ng-class=\'{ "overlay":!hasGuestIDPermission, "green-text": isGuestIdUploaded(guest), "grey-text": !isGuestIdUploaded(guest) && !isIdRequiredForGuest(guest), "red-text": isIdRequiredForGuest(guest)}\'><span ng-class="{\'icons icon-identity-card\': isGuestIdUploaded(guest), \'icons icon-identity-card-grey\': !isGuestIdUploaded(guest) && !isIdRequiredForGuest(guest), \'icons icon-identity-card-red\': isIdRequiredForGuest(guest)}" style="left:10px !important; top:0 !important;"></span> <span ng-show=!isIdRequiredForGuest(guest)>{{ \'GUEST_ID_BUTTON\' | translate }}</span> <span ng-show=isIdRequiredForGuest(guest)>{{ \'GUEST_ID_MISSING_BUTTON\' | translate }}</span></button> <button class="button with-icon only-icon purple" click-touch=dowloadDocumnetDetails(guest) ng-class={overlay:!hasGuestIDPermission} ng-show=isGuestIdUploaded(guest)><span class="icons icon-save"></span> Download</button> <button type=button class="button blue prevent-api-call" ng-if="!!guest.id && isStandAlone" click-touch=navigateToGuestCard(guest.id)>Show Guest Card</button> <button type=button class="button green prevent-api-call" ng-if="shouldShowCreateGuestBtn(guest.id, guest.first_name, guest.last_name)" click-touch="findGuests(guest.first_name, guest.last_name, false, \'ADULT\')">Create Guest Card</button></div><div class=entry ng-repeat="guest in accompanyingGuests.CHILDREN"><figure class=guest-image><img ng-src="" alt=""><span ng-if=!guest.image class="icons icon-student"></span> <img ng-if=guest.image ng-src="{{ guest.image }}" alt=""></figure><input ng-class=\'{"disabled overlay":!isStandAlone}\' name={{guest.first_name}} type=text placeholder="First Name" value={{guest.first_name}} ng-model=guest.first_name> <input ng-class=\'{"disabled overlay":!isStandAlone}\' name={{guest.last_name}} type=text placeholder="Last Name" ng-model=guest.last_name value={{guest.last_name}} ng-blur=saveAccGuestDetails()> <button class="button with-icon white" click-touch="showScannedGuestID(false, guest)" ng-show=guest.id ng-class=\'{ "overlay":!hasGuestIDPermission, "green-text": isGuestIdUploaded(guest), "grey-text": !isGuestIdUploaded(guest) && !isIdRequiredForGuest(guest), "red-text": isIdRequiredForGuest(guest)}\'><span ng-class="{\'icons icon-identity-card\': isGuestIdUploaded(guest), \'icons icon-identity-card-grey\': !isGuestIdUploaded(guest) && !isIdRequiredForGuest(guest), \'icons icon-identity-card-red\': isIdRequiredForGuest(guest)}"></span> <span ng-show=!isIdRequiredForGuest(guest)>{{ \'GUEST_ID_BUTTON\' | translate }}</span> <span ng-show=isIdRequiredForGuest(guest)>{{ \'GUEST_ID_MISSING_BUTTON\' | translate }}</span></button> <button class="button with-icon only-icon purple" click-touch=dowloadDocumnetDetails(guest) ng-class={overlay:!hasGuestIDPermission} ng-show=isGuestIdUploaded(guest)><span class="icons icon-save"></span> Download</button> <button type=button class="button blue prevent-api-call" ng-if="!!guest.id && isStandAlone" click-touch=navigateToGuestCard(guest.id)>Show Guest Card</button> <button type=button class="button green prevent-api-call" ng-if="shouldShowCreateGuestBtn(guest.id, guest.first_name, guest.last_name)" click-touch="findGuests(guest.first_name, guest.last_name, false, \'CHILDREN\')">Create Guest Card</button></div><div class=entry ng-repeat="guest in accompanyingGuests.INFANTS"><figure class=guest-image><img ng-src="" alt=""><span ng-if=!guest.image class="icons icon-infant"></span> <img ng-if=guest.image ng-src="{{ guest.image }}" alt=""></figure><input ng-class=\'{"disabled overlay":!isStandAlone}\' name={{guest.first_name}} type=text placeholder="First Name" value={{guest.first_name}} ng-model=guest.first_name> <input ng-class=\'{"disabled overlay":!isStandAlone}\' name={{guest.last_name}} type=text placeholder="Last Name" ng-model=guest.last_name value={{guest.last_name}} ng-blur=saveAccGuestDetails()> <button class="button with-icon white" click-touch="showScannedGuestID(false, guest)" ng-show=guest.id ng-class=\'{ "overlay":!hasGuestIDPermission, "green-text": isGuestIdUploaded(guest), "grey-text": !isGuestIdUploaded(guest) && !isIdRequiredForGuest(guest), "red-text": isIdRequiredForGuest(guest)}\'><span ng-class="{\'icons icon-identity-card\': isGuestIdUploaded(guest), \'icons icon-identity-card-grey\': !isGuestIdUploaded(guest) && !isIdRequiredForGuest(guest), \'icons icon-identity-card-red\': isIdRequiredForGuest(guest)}"></span> <span ng-show=!isIdRequiredForGuest(guest)>{{ \'GUEST_ID_BUTTON\' | translate }}</span> <span ng-show=isIdRequiredForGuest(guest)>{{ \'GUEST_ID_MISSING_BUTTON\' | translate }}</span></button> <button class="button with-icon only-icon purple" click-touch=dowloadDocumnetDetails(guest) ng-class={overlay:!hasGuestIDPermission} ng-show=isGuestIdUploaded(guest)><span class="icons icon-save"></span> Download</button> <button type=button class="button blue prevent-api-call" ng-if="!!guest.id && isStandAlone" click-touch=navigateToGuestCard(guest.id)>Show Guest Card</button> <button type=button class="button green prevent-api-call" ng-if="shouldShowCreateGuestBtn(guest.id, guest.first_name, guest.last_name)" click-touch="findGuests(guest.first_name, guest.last_name, false, \'INFANTS\')">Create Guest Card</button></div></div></form></div><div class=bottom-actions ng-show=isFromCheckin><button class="button blank" click-touch=toggleGuests()>Cancel</button> <button class="button green" click-touch=continueToCheckinAfterSkipIdScan() ng-if="hasPermissionToSkipIdScan && isGuestIdRequiredForCheckin()" style="margin-right: 10px" translate="">SKIP_ID_SCAN</button><button class=button ng-disabled=isGuestIdRequiredForCheckin() click-touch=continueToCheckinAfterIdScan() ng-class="{\'grey\': isGuestIdRequiredForCheckin(), \'green\': !isGuestIdRequiredForCheckin()}" translate="">CONTINUE_TO_CHECKIN_BUTTON</button></div></div><div class="reservation-content scrollable" ng-iscroll=resultDetails ng-iscroll-delay=50><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-include="\'/assets/partials/reservationCard/rvReservationCardNotes.html\'" ng-controller=rvReservationCardNotesController></div><div ng-include="\'/assets/partials/reservationCard/rvReservationCardPayment.html\'"></div><div ng-include="\'/assets/partials/reservationCard/reservationCardRoom.html\'"></div><div ng-include="\'/assets/partials/reservationCard/reservationCardTotalStayCost.html\'"></div><div ng-include="\'/assets/partials/reservationCard/reservationCardWakeup.html\'"></div><div ng-include="\'/assets/partials/reservationCard/rvReservationCardLoyalty.html\'" ng-controller=rvReservationCardLoyaltyController></div><div ng-include="\'/assets/partials/reservationCard/rvReservationHouseKeeping.html\'" ng-controller=rvReservationCardHKController></div><div ng-include="\'/assets/partials/reservationCard/rvReservationAdditional.html\'" ng-controller=rvReservationAdditionalController ng-if=isStandAlone></div><div ng-include="\'/assets/partials/reservationCard/rvExternalReferences.html\'" ng-controller=rvExternalReferencesCtrl ng-if="isStandAlone || externalReferencesExist"></div><div ng-include="\'/assets/partials/reservationCard/rvReservationCardActivityLog.html\'" ng-controller=rvReservationCardActivityLogCtrl></div></div></div><span ng-include="\'/assets/partials/reservationCard/reservationActions.html\'"></span></div><div ng-include="\'/assets/partials/reservationCard/reservationNoUpcoming.html\'"></div><div ng-include="\'/assets/partials/reservationCard/reservationNoCurrent.html\'"></div><div ng-include="\'/assets/partials/reservationCard/reservationNoHistory.html\'"></div>'),
t.put("/assets/partials/reservationCard/rvReservationHouseKeeping.html",'<div class="block-wrapper hide-on-mobile" ng-if=isStandAlone><a class="block-title toggle has-arrow" ng-class="{\'active\': roomAttendance}" ng-click=toggleHKDetails()>Room Attendance</a><div ng-class="{\'hidden\': houseKeeping.hideDetails}"><div class="block-item additional-detail"><h3 class=block-title>Service</h3><div class=switch-button ng-class="{\'on\': houseKeeping.serviceEnabled}"><div class=click-catcher style="position:absolute; left:0; right:0; top:0; bottom:0; z-index:999;" ng-click=toggleService()></div><input type=checkbox ng-model=houseKeeping.serviceEnabled ng-checked=houseKeeping.serviceEnabled> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div></div><div class="block-item additional-detail" ng-repeat="workType in houseKeeping.workTypes track by workType.id"><h3 class=block-title>{{workType.name}}</h3><div class=select><select convert-to-number="" iscroll-stop-propagation="" ng-class="{ \'placeholder\': workType.default_task == \'\' }" ng-model=workType.default_task ng-change=selectDefaultTask(workType) ng-disabled=!houseKeeping.serviceEnabled><option value="">Select Task</option><option ng-repeat="task in workType.tasks track by task.id" value={{task.id}} ng-selected="task.id == workType.default_task">{{task.name}}</option></select></div></div></div></div>'),t.put("/assets/partials/reservationCard/rvReservationListing.html","<div id=reservations-nav-current class=\"reservation-tabs-nav reservations-tabs\" ng-controller=reservationListController><div id=resultListing ng-iscroll=resultListing ng-iscroll-delay=700 style=\"position:absolute; top:0px; bottom: 0px; left:0px; width: 100%;\" class=scrollable><ul class=\"wrapper ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\" role=tablist style=\"transition-timing-function: cubic-bezier(0.1, 0.57, 0.1, 1); transition-duration: 0ms; transform: translate(0px, 0px) translateZ(0px);\"><li class=\"icons-tabs no-icon reservation-tab ui-state-default ui-corner-top\" ng-click=getReservationDetails(list.confirmation_num,list.id) ng-repeat=\"list in reservationList\" ng-class=\"{'ui-tabs-active': currentReservationId == list.confirmation_num}\"><a><span class=\"guest-status small-icon\" ng-class=\"{'arrival': (list.reservation_status == 'RESERVED' && !list.is_pre_checkin), 'check-in': (list.reservation_status == 'CHECKING_IN' && !list.is_pre_checkin), 'no-show': list.reservation_status == 'NOSHOW' || list.reservation_status == 'NOSHOW_CURRENT', 'departed': list.reservation_status == 'CHECKEDOUT', 'check-out': list.reservation_status == 'CHECKING_OUT', 'inhouse': list.reservation_status == 'CHECKEDIN', 'cancel': list.reservation_status == 'CANCELED','pre-check-in': list.is_pre_checkin}\"></span> <span class=number>{{list.confirmation_num}}</span></a></li><a class=\"hidden open-modal add-new-button\">+ Add new</a></ul></div></div>"),t.put("/assets/partials/reservationCard/rvRoomStatusChangePopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content confirmation"><button type=button id=modal-close class=modal-close ng-click=closeDialog() ng-if=ngDialogData.shouldShowCloseBtn><span class="icons icon-close invert"></span></button> <span class="h2 message">{{::(ngDialogData.displayText | translate)}}</span> <span class=text>{{::(\'PLEASE_SET_ROOM_STATUS\' | translate)}}</span><div class=status><label for=room-status>Room</label><div class=switch-button ng-class="{\'on\': roomStatus.isReady}"><input id=room-status type=checkbox ng-model=roomStatus.isReady> <label class=data-off><span class=switch-icon>Not Ready</span> <span class=value>Ready</span></label> <label class=data-on><span class=value>Not Ready</span> <span class=switch-icon>Ready</span></label></div></div><div class=actions><button type=button class="button green modal-close" ng-click=updateRoomStatus()>Ok</button></div></div></div>'),t.put("/assets/partials/reservationCard/rvSetWakeupTimeDialog.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form id=set-wake-up-call ng-click=setPosition() class="modal-content form confirmation" name=set-wake-up-call method=post action=index.html><button id=modal-close class=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class="entry full-width"><div id=notification-message ng-include="\'/assets/partials/common/notification_message.html\'"></div></div><div class="entry full-width float"><label for=wake-up translate="">SELECT_WAKEUP_TIME</label><div class="select select-col col1-3"><select ng-model=hrs id=wake-up-hour class=styled name=wake-up><option class=placeholder value="" data-text="Not set">HH</option><option ng-repeat="hourValue in hourValues" ng-selected="hrs==hourValue" value={{hourValue}}>{{hourValue}}</option></select></div><div class="select select-col col1-3"><select ng-model=min id=wake-up-minute class=styled name=wake-up><option class=placeholder value="" data-text="Not set">MM</option><option ng-repeat="minValue in minValues" ng-selected="min==minValue" value={{minValue}}>{{minValue}}</option></select></div><div class="select select-col col1-3"><select ng-model=am_pm id=wake-up-primetime class=styled name=wake-up><option value=AM>AM</option><option value=PM>PM</option></select></div></div><div class="entry full-width"><label for=wake-up-day translate="">SELECT_DATE</label><div id=wakeupDate class="switch-button full-width" ng-class="{\'on\': todaySelected}"><input id=wake-up-day type=checkbox value=2 name=wake-up-day ng-model=todaySelected> <label class=data-off><span id=wakeup-day class=value>{{\'TODAY\' | translate}}({{reservationData.reservation_card.wake_up_time.today_date |date:dateFormat}})</span> <span class=switch-icon>{{\'TOMORROW\' | translate}} ({{reservationData.reservation_card.wake_up_time.tomorrow_date| date:dateFormat}})</span></label> <label class=data-on><span class=switch-icon>{{\'TODAY\' | translate}} ({{reservationData.reservation_card.wake_up_time.today_date| date:dateFormat}})</span> <span id=wakeup-day class=value>{{\'TOMORROW\' | translate}} ({{reservationData.reservation_card.wake_up_time.tomorrow_date| date:dateFormat}})</span></label></div></div><div class="actions float is-disabled"><button id=save-wakeup-call ng-class="{\'green\': true}" class="button green modal-close" type=button ng-disabled=!validate() ng-click=saveWakeupCall() translate="">SET_WAKEUP_CALL</button> <button id=delete-wakeup-call ng-class="{\'red\': true}" class="button red modal-close" type=button ng-disabled=isDeletable() data-disabled-delete=true ng-click=deleteWakeupCall() translate="">DELETE_WAKEUP_CALL</button> <button id=cancel class="button blank modal-close" type=button ng-click=closeDialog() translate="">CANCEL</button></div></form></div>'),t.put("/assets/partials/reservationCard/rvSharedRoom.html","<div ng-controller=reservationCardController><div ng-include=\"'/assets/partials/reservationCard/sharedRoom.html'\"></div></div>"),t.put("/assets/partials/reservationCard/rvSntDepositPayment.html",'<div class="notice deposit"><p>Deposit required: <strong>{{depositPolicyName}}</strong>.</p><div class="entry amount" ng-class="{\'amount\': feeData.showFee}"><section ng-show="selectedPaymentType === \'GIFT_CARD\'"><input placeholder="Enter Card number" ng-model=giftCard.number maxlength=22 rv-delay-textbox="" delay=1000 function-to-fire=onChangeGiftCard type=text> <label ng-show=giftCard.amountAvailable>Available Card Balance (<span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span>)</label> <input ng-show=giftCard.amountAvailable ng-readonly=true ng-model=giftCard.availableBalance type=text></section><label>Amount to pay (<span><span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span></span>)</label> <input ng-change=onPaymentInfoChange() ng-model=payment.amount type=text ng-disabled=!payment.isEditable class=amount ng-if=!payment.isRateSuppressed> <input type=text ng-disabled=!payment.isEditable class=amount ng-if=payment.isRateSuppressed value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}"> <span ng-show=feeData.showFee class=delimiter>+</span> <input ng-show="feeData.showFee && !payment.isRateSuppressed" ng-change=onFeeOverride() ng-model=feeData.calculatedFee value={{feeData.calculatedFee}} type=text class=fee> <input ng-show="feeData.showFee && payment.isRateSuppressed" value="{{\'SUPPRESSED_RATES_TEXT\' | translate}}" type=text class=fee> <span ng-show=feeData.showFee class=delimiter>fee</span><div class=select ng-hide="selectedPaymentType === \'CC\'"><select ng-options="paymentCurrency.id as paymentCurrency.symbol for paymentCurrency in paymentCurrencyList" ng-change=onPaymentCurrencyChange() ng-model=payment.selectedPaymentCurrencyId><option style=display:none value="">Select Currency</option></select></div><span ng-show=feeData.showFee class=total>Total: <strong ng-if=!payment.isRateSuppressed><span class=currency>{{payment.selectedPaymentCurrencySymbol}}</span>{{feeData.totalOfValueAndFee | number: 2}}</strong> <strong ng-if=payment.isRateSuppressed>{{\'SUPPRESSED_RATES_TEXT\' | translate}}</strong></span></div><div class="entry full-width" ng-if="selectedPaymentType === \'CC\' && hotelConfig.paymentGateway === \'SHIJI\' && payment.shiji_token_enable_offline"><label for=auth-code>{{ \'ENTER_MANUAL_AUTH_CODE\' | translate }}</label> <input id=auth-code ng-model=payment.auth_code type=text></div><div class="entry full-width reference" ng-show=isDisplayRef><label>Reference</label> <input ng-model=payment.referenceText type=text></div><div class=actions><button type=button class="button blue" ng-click=payLater()>Pay deposit later</button> <button type=button class="button green" ng-disabled=shouldHidePaymentButton() ng-class="{\'grey\':shouldHidePaymentButton()}" ng-click=submitPayment()>Pay deposit now</button></div></div><div class="entry full-width" ng-show=payment.showAddToGuestCard><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\':payment.addToGuestCardSelected}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': payment.addToGuestCardSelected}"></span> <input ng-model=payment.addToGuestCardSelected id=add-in-guest-card value=1 type=checkbox> {{\'ADD_TO_GUEST_CARD\' | translate}}</label></div><div class=actions ng-show="payment.screenMode === \'PAYMENT_MODE\'"><button type=button class="button blank modal-close" ng-click=closeThePopup()>Close</button></div>'),t.put("/assets/partials/reservationCard/sharedRoom.html",'<div role=dialog id=modal class=modal-show><div class="modal-content shared-room"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">Room {{reservation.reservation_card.room_number}}</span> <span class=text>Shared Reservations</span><div class="shared-reservations scrollable"><ul class=wrapper><li ng-if="sharedReservationData.sharers.length > 0 && sharer.active" ng-repeat="sharer in sharedReservationData.sharers" class=active click-touch="goToSharedReservation(sharer); closeDialog()"><figure class=guest-image><img src={{sharer.guest_details.avatar}} alt=""></figure><div class=data><h2>{{sharer.guest_details.last_name}}, {{sharer.guest_details.first_name}}</h2><span class=confirmation>{{sharer.confirm_no}}</span></div><span class="guest-status {{getGuestStatusIcon(sharer.reservation_status, sharer.is_opted_late_checkout)}}">{{sharer.reservation_status}}</span></li><li ng-if="sharedReservationData.sharers.length > 0 && !sharer.active" ng-repeat="sharer in sharedReservationData.sharers" click-touch="goToSharedReservation(sharer); closeDialog()"><button type=button><figure class=guest-image><img src={{sharer.guest_details.avatar}} alt=""></figure><div class=data><h2>{{sharer.guest_details.last_name}}, {{sharer.guest_details.first_name}}</h2><span class=confirmation>{{sharer.confirm_no}}</span></div><span class="guest-status {{getGuestStatusIcon(sharer.reservation_status, sharer.is_opted_late_checkout)}}">{{sharer.reservation_status}}</span></button></li></ul></div><div class=actions><button type=button class="button blank" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/roomAssignment/rvApplyRoomCharge.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form id=room-type-charge-modal class="modal-content form new-content"><button type=button id=modal-close class=modal-close><span class="icons icon-close invert" ng-click=clickedCancelButton()></span></button> <strong class="h2 message">Add change room type charge to rate amount</strong><div class="entry full-width"><div id=notification-message></div></div><div class="holder float"></div><div class="entry full-width"><label for=room-type-charge>Charge Amount (IN {{currencySymbol}} )<strong></strong></label> <input type=text ng-model=roomCharge placeholder="Enter the room type charge"></div><div class="actions float is-disabled"><button type=button id=cancel-room-type-charge-modal class="button blank modal-close" ng-click=clickedCancelButton()>CANCEL</button> <button type=button id=nocharge class="button green" ng-show=canMoveRoomWithoutCharge() ng-disabled=enableDisableButtons() ng-click=clickedNoChargeButton()>NO CHARGE</button> <button type=button id=ok class="button green" ng-disabled=!enableDisableButtons() ng-click=clickChargeButton()>CHARGE</button></div></form></div>'),t.put("/assets/partials/roomAssignment/rvGroupRoomTypeNotConfigured.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">{{passingParams.errorMessage}}</span> <button type=button class="button green modal-close" ng-click=clickedBorrowButton();>Borrow</button> <button type=button class="button blank" ng-click=closeDialog();>Cancel</button></div></div>'),t.put("/assets/partials/roomAssignment/rvMaximumOccupancyDialog.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content modal-vertical-centered" style="position: relative;padding: 40px;text-align: center;"><div class="centeralign alert-box"><span translate="">MAXIMUM_OCCUPANCY_LABEL</span> {{max_occupancy}}<br><a ng-click=proceed() class="btn btn-close" style="" translate="">ASSIGN_LABEL</a> <a ng-click=closeDialog() class="btn btn-close occupancy-cancel" style="" translate="">CANCEL_LABEL</a></div></div></div>'),t.put("/assets/partials/roomAssignment/rvOverBookRoom.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert"><button id=modal-close type=button class=modal-close><span class="icons icon-close invert" ng-click=clickedCancelButton()></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Overbook?</span> <span class=notice>There is no availability for <strong>{{getCurrentRoomType().description}}</strong>.</span><div class=actions><button type=button class="button blue" ng-click=clickedYesInOverBook()>Overbook</button> <button type=button class="button blank" ng-click=clickedCancelButton()>Cancel</button></div></div></div>'),t.put("/assets/partials/roomAssignment/rvRoomAssignment.html",'<section role=complementary id=room-assignment class="content stay-card-inner" ng-class="{\'check-in\': reservationData.reservation_card.reservation_status.indexOf([\'CHECKING_IN\', \'CHECKEDIN\'])!=-1}"><input type=hidden value="" id=roomassignment-ref-id><div class=reservation-header><div class=data><span class=room><span class="guest-status room">room</span> <strong ng-if=reservationData.reservation_card.room_number id=header-room-num ng-class=getRoomStatusClass() class=room-number>{{reservationData.reservation_card.room_number}}</strong> <span id=room-type data-room-type=DLK>{{reservationData.reservation_card.room_type_description}}</span></span> <span class=nights><span class="guest-status nights"></span> {{reservationData.reservation_card.total_nights + " " + setNightsText()}}</span> <span class=date><span class="guest-status small-icon check-in">check-in</span> {{reservationData.reservation_card.arrival_date|date:dateFormat}}</span> <span class=date><span class="guest-status small-icon check-out">check-out</span> {{reservationData.reservation_card.departure_date|date:dateFormat}}</span></div></div><div class=wrapper><div id=notification-message ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=room-assignment-content ng-class="{\'has-room\': (showUnAssignRoom() || shouldShowChangeRoomTypeBtn()) && !roomAssgnment.inProgress}"><div class=rooms-listing><div class="search float" ng-class="{\'only-filters\': !isStandAlone}"><a class="button white with-icon only-icon toggle" ng-class="{\'active\':isFiltersVisible}" click-touch=toggleFiltersView()><span class="icons icon-filter" ng-class="{\'active\':isFiltersVisible}"></span> Room attributes</a><div class=search-query-input ng-show=isStandAlone><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input class=query placeholder="Search Room" type=search autocomplete=off ng-model=searchText ng-change=searchRoom()></div><div class=select><select ng-model=roomType ng-change=getRooms() name=room-type id=room-type-selectbox ng-options="roomTypeInfo.type as roomTypeInfo.description for roomTypeInfo in roomTypes"></select></div></div><div class=results ng-class="{\'with-pagination\': shouldShowPagination() }"><div id=filterlist ng-iscroll=filterlist ng-iscroll-delay=50 ng-show=isFiltersVisible class="attributes scrollable" ng-include="\'/assets/partials/roomAssignment/rvRoomFilters.html\'" ng-controller=RVRoomFiltersController></div><div id=roomlist ng-iscroll=roomlist ng-iscroll-delay=50 class="rooms scrollable" ng-class="{\'roomListAnimation\': isFiltersVisible, \'no-content\':isRoomListEmpty()}"><ul class=wrapper ng-show=!isRoomListEmpty()><li ng-repeat="room in filteredRooms track by room.room_id" ng-click=checkRoomTypeAvailability(room)><a data-value="" class="button white submit-value hover-hand" id=room-list-item><span data-value={{room.room_number}} class=room-number ng-class=getRoomStatusClassForRoom(room)>{{room.room_number}}</span> <span data-value={{room.room_number}} class=room-status ng-class=getRoomStatusClassForRoom(room) ng-show="room.room_status == \'NOTREADY\'">{{getNotReadyRoomTag(room)}}</span> <span class=room-preassignment ng-show=room.is_preassigned>{{room.last_name + " "+ room.guarantee_type}}</span> <span class="icons icon-suite" ng-show=room.is_suite_room>Suite room</span></a></li></ul><div class=info ng-show=isRoomListEmpty()><span class="icon-no-content icon-room"></span> <strong class=h1 translate="">ROOMS_NOT_READY_TEXT</strong> <span class=h2 translate="">CHANGE_FILTER_TEXT</span></div></div></div><rv-pagination page-options=paginationConfig page-data=totalCount ng-if="filteredRooms.length && totalCount > 5"></rv-pagination></div><div ng-include="\'/assets/partials/roomAssignment/rvUpgrades.html\'" ng-show=isUpsellAvailable() ng-controller=RVUpgradesCtrl></div><div class="upgrades no-content" ng-show=!isUpsellAvailable()><div class=info><span class="icon-no-content icon-upgrades"></span> <strong class=h1 translate="">UPGRADES_NOT_AVAILABLE_LABEL</strong></div></div></div><div class=room-assignment-actions><button type=button class="button red" ng-show=showUnAssignRoom() ng-click=unassignRoom()>Unassign Room {{reservationData.reservation_card.room_number}}</button><button type=button class="button green" ng-show=shouldShowChangeRoomTypeBtn() ng-click=changeRoomType()>Change Room Type</button></div></div></section>'),t.put("/assets/partials/roomAssignment/rvRoomAssignmentShowErrorMessage.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message"><span class=red>{{ngDialogData.error}}</span></span><div class=actions><button type=button class="button red" ng-click=closeDialog()>Ok</button></div></div></div>'),t.put("/assets/partials/roomAssignment/rvRoomFilters.html",'<div class=wrapper><div class=action><button type=button id=clear-filters-button class="button blank clear-selection" click-touch=clearAllFilters() translate="">CLEAR_FILTERS_LABEL</button></div><div class="entry radio-check"><label class="checkbox inline checked"><span ng-class="{\'icon-form\':true, \'icon-checkbox\' :true, \'checked\':data.isNoFloorSelected}"></span> <input name=show-all-floors ng-model=data.isNoFloorSelected id=show-all-floors value=show-all-floors type=checkbox checked="" ng-change=selectedFloorChanged()> {{ \'SHOW_ALL_FLOORS\' | translate }}</label><div ng-class="{\'select\':true, \'hidden\':data.isNoFloorSelected}"><select ng-model=data.selectedFloor ng-change=selectedFloorChanged() class=placeholder iscroll-stop-propagation=""><option value="" ng-selected="data.selectedFloor == \'\'" translate="">SELECT_FLOOR</option><option ng-repeat="floor in floor_details" ng-selected="data.selectedFloor == floor.id" value={{floor.id}}>{{floor.floor_number}}</option></select></div></div><div class="entry radio-check" ng-repeat="group in roomFeatures"><label class="checkbox inline" ng-class="{\'checked\':feature.selected}" ng-repeat="feature in group.items"><span class="icon-form icon-checkbox" ng-class="{\'checked\':feature.selected}"></span> <input type=checkbox value={{feature.id}} ng-click="setSelectionForFeature($parent.$index, $index)"> {{feature.name}}</label></div></div>'),t.put("/assets/partials/roomAssignment/rvRoomHasAlreadySelected.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class=modal-content><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h3 message" ng-hide=autoAssignMessage>ROOM HAS ALREADY BEEN TAKEN, PLEASE SELECT ANOTHER ROOM</span><div class=button-div><button type=button id=close ng-click=clickedCloseButtonAlreadySelected() class="button modal-close white red-text close-but">Close</button></div></div></div>'),t.put("/assets/partials/roomAssignment/rvRoomHasAutoAssigned.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class=modal-content><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h3 message">ROOM HAS ALREADY BEEN TAKEN. ROOM {{roomAssignedByOpera}} IS AUTOMATICALLY ASSIGNED BY PMS</span><div class=button-div><button type=button id=close ng-click=clickedCloseButton() class="button modal-close white red-text close-but">Close</button></div></div></div>'),t.put("/assets/partials/roomAssignment/rvRoomLocked.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message"><span class=red>Guest is set to \'Do Not Move\' - Remove flag from Stay Card to move reservation</span></span><div class=actions><button type=button class="button red" ng-click=closeDialog()>Ok</button></div></div></div>'),t.put("/assets/partials/roomAssignment/rvRoomTransferConfirmation.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form id=move-room class="modal-content diary-move room-move"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">Move Guest to Room <span class=green>{{roomTransfer.newRoomNumber}}</span></span><div class=diary-moved><span class=label>From</span><ul class=details><li class=type>{{roomTransfer.oldRoomType}}</li><li class=room>Room {{roomTransfer.oldRoomNumber}}</li><li class=price>{{currencySymbol}} {{roomTransfer.oldRoomRate}}</li></ul></div><div class=diary-moved><span class=label>To</span><ul class=details><li class=type>{{roomTransfer.newRoomType}}</li><li class=room>Room {{roomTransfer.newRoomNumber}}</li><li class=price ng-class="{\'red\': isLargerRate() ,\'green\': isSmallerRate() }" ng-if=roomTransfer.newRoomRate>{{currencySymbol}} {{roomTransfer.newRoomRate}}</li></ul></div><div class=actions><button type=button class="button green clear" ng-hide=roomTransfer.isNewRoomType ng-click=confirm()>Confirm</button><button type=button class="button brand-colors" ng-show=roomTransfer.isNewRoomType ng-click=moveWithoutRateChange()>Move without Rate Change</button> <button type=button class="button green" ng-show=roomTransfer.isNewRoomType ng-click=applyRateChange()>Apply Rate Change</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></form></div>'),t.put("/assets/partials/roomAssignment/rvRoomTypeNotAvailable.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form id=room-type-charge-modal class="modal-content form new-content"><button type=button id=modal-close class=modal-close><span class="icons icon-close invert" ng-click=clickedCancelButton()></span></button> <strong class="h2 message">Room type not available</strong></form></div>'),t.put("/assets/partials/roomAssignment/rvUpgrades.html",'<div id=upgradesView class=upgrades><div class="guest-likes-scroll scrollable" ng-iscroll=upgradesView ng-iscroll-delay=500><div class=wrapper><h2 class=available-title translate="">UPGRADES_AVAILABLE_LABEL</h2><ul ng-repeat="upgrade in upgradesList" class=room-upgrades-list><li><div class=upgrade-title><span class=room-number ng-class=getRoomStatusClass(upgrade)>{{upgrade.upgrade_room_number}}</span><h2>{{upgrade.upgrade_room_type_name}}</h2><a class="toggle has-arrow" ng-click=toggleUpgradeDescriptionStatus($event,$index) translate="">DETAILS_LABEL</a> <span class="icons icon-suite" ng-show=upgrade.is_suite_room>Suite room</span></div><div id=room1034-details ng-class="{\'hidden\':!isDescriptionVisible($index)}" class=room-details ng-show=isDescriptionVisible($index) ng-bind-html=upgrade.upgrade_room_description></div><a id=upgrade-room-select class="button green submit-value" data-transition=nested-view ng-click=showMaximumOccupancyDialog($index)><span translate="">UPGRADE_FOR_ONLY_LABEL</span> <sup></sup> {{currencySymbol}} {{upgrade.upsell_amount}} <span translate="">PER_NIGHT_LABEL</span></a><figure class=room-image><img ng-src={{upgrade.room_type_image}} onerror="this.src=\'\'" alt="" image-load="" image-loaded=imageLoaded() ng-if="upgrade.room_type_image !== \'\'"> <img ng-src=/ui/pms-ui/images/bedroom-blank.png alt="" ng-if="upgrade.room_type_image === \'\'"></figure></li></ul></div></div></div>'),t.put("/assets/partials/roverPayment/rvAddPayment.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class=modal-content ng-if="showManualEntryDisabledPopup && !showWarningMessage"><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h3 message solo">Manual Credit Card Updates are Disabled!</span></div><form class="modal-content form new-content has-card select-card" ng-show="!showManualEntryDisabledPopup && !showWarningMessage && !showSixPayLoader"><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message">New payment method</strong> {{payment.addCCMode}} {{payment.screenMode}}<div class=payment-form><snt-payment hotel-config=hotelPaymentConfig reservation-id={{passData.reservationId}} fetch-linked-cards=!isFromGuestCard account-id={{passData.accountId}} is-from-wallet={{passData.isFromWallet}} guest-id={{passData.guest_id}} workstation-id={{workstation_id}} bill-number=billNumber payment-types=paymentData.paymentTypes selected-c-c=selectedCC selected-payment-type=selectedPaymentType swiped-card-data={{swipedCardData}} amount=depositBalanceMakePaymentData.amount payment-currency-amount=depositBalanceMakePaymentData.payment_amount action-type={{getAddActionType()}} deposit-policy-name={{depositPolicyName}} is-editable=isDepositEditable is-rate-suppressed=isReservationRateSuppressed form-template-url=/assets/partials/staycard/rvStaycardAddPaymentPopup.html first-name={{passData.details.firstName}} last-name={{passData.details.lastName}} hide-overlay-giftcard=true ng-show="!errorOccured && !depositPaidSuccesFully"></snt-payment></div></form></div>'),t.put("/assets/partials/roverPayment/rvCardOptions.html",'<ul class=card-toggle ng-hide=hideCardToggles() ng-init=checkForGiftCard();><li ng-class="{\'active\':existingSelected()}" click-touch=clickedExistingCard()>Existing Cards</li><li ng-class="{\'active\':addNewSelected()}" click-touch=clickedAddNewCard()>Add New Card</li><li ng-show=showGiftCardToggle() ng-class="{\'active\':isGiftCard}" click-touch=clickedGiftCardToggle()>Gift Card</li></ul><div id=cc-exsiting-card class="cards-list cards-container scrollable" ng-show="showExistingCards() && !addmode" ng-iscroll=cardsList><div class=wrapper><label class="active-item item-payment" ng-click=setCreditCardFromList($index) ng-repeat="card in cardsList" ng-show=card.is_credit_card><figure class=card-logo><img ng-src=/ui/pms-ui/images/{{card.card_code}}.png alt=""></figure><span class=number>{{\'ENDING_WITH\' | translate}} <span class="value number">{{card.mli_token}}</span></span> <span class=date>{{\'DATE\' | translate}} <span class="value date">{{card.card_expiry}}</span></span> <span class="icons icon-ok-10" ng-show="cardselectedIndex === $index"></span></label></div></div><div id=cc-new-card class=new-card ng-show="addNewSelected() && !isSixPayPayment() && addmode"><div class="entry card-type"><label for=card-type>Card type</label><div class=select><select name=card-type ng-disabled=!isManualCCEntryEnabled ng-model=cardData.cardType class=placeholder><option value="" selected="">Select Card type</option><option ng-repeat="cardType in creditCardTypes" value={{cardType.cardcode}} ng-selected="cardType.cardcode == cardData.cardType">{{cardType.cardname}}</option></select></div></div><div class="entry card-number"><label for=card-number>Card number (<span>No spaces</span>)</label> <input name=card-number ng-readonly=!isManualCCEntryEnabled id=card-number placeholder="Enter Card number" ng-model=cardData.cardNumber type=text></div><div class="entry card-expiry"><label for=expiry-month>Expires (<span>Month/Year</span>)</label> <input name=expiry-month ng-readonly=!isManualCCEntryEnabled id=expiry-month placeholder=MM ng-model=cardData.expiryMonth maxlength=2 size=3 type=text> <input name=expiry-year ng-readonly=!isManualCCEntryEnabled id=expiry-year placeholder=YY ng-model=cardData.expiryYear maxlength=2 size=3 type=text></div><div class="entry card-name"><label for=name-on-card>Name on card</label> <input name=name-on-card id=name-on-card placeholder="Enter name on card" ng-model=cardData.userName type=text></div><div class="entry card-ccv"><label for=ccv>CCV</label> <input name=ccv id=ccv placeholder=CCV ng-model=cardData.CCV maxlength=4 size=4 type=text></div><div class="entry card-action"><button type=button class="button blue" ng-click=getToken($event)>Add</button></div></div><div id=cc-new-card class=new-card ng-show=useDepositGiftCard><div class="entry card-number card-type"><label for=card-number>Card number (<span>No spaces</span>)</label> <input name=card-number id=card-number placeholder="Enter Card number" ng-model=cardData.cardNumber maxlength=22 type=text ng-change="cardNumberInput(cardData.cardNumber, this, depositWithGiftCard)"></div></div><div class="entry full-width" id=selected-card ng-show="useDepositGiftCard && giftCardAvailableBalance"><label>Available Balance ({{currencySymbol}}{{giftCardAvailableBalance}})</label> <label for=amount>Amount to pay (<span>{{currencySymbol}})</span></label> <input name=amount id=amount ng-model=depositBalanceMakePaymentData.amount type=text class=amount ng-class="{\'red-text\': depositWithGiftCard && !validPayment}" value="{{ depositBalanceMakePaymentData.amount | number:2 }}"></div><iframe ng-if="isSixPayPayment() && addmode" class="payment-iframe iframe-scroll" src={{iFrameUrl}} id=sixIframe seamless=""></iframe><div class=actions ng-show=showCancelCardSelection()><button type=button class="button blank" ng-click=cancelCardSelection()>Cancel Card selection</button></div><div class=actions ng-hide=!useDepositGiftCard><button type=button id=close class="button blank modal-close" click-touch=closeDepositModal()>Close</button> <span><span><button type=button ng-disabled=disableMakePayment() ng-class=showMakePaymentButtonStatus() click-touch=clickedMakePayment() id=make-payment class="button modal-close" ng-hide=hideMakePayment()>Make Payment</button></span></span></div>'),
t.put("/assets/partials/search/rvAnalyticsHeader.html",'<form method=get name=dashboard-search-form id=dashboard-search-form class="search-form dashboard-analytics has-dates has-room-types" data-search-for=analytics role=search ng-cloak="" ng-if="dashboardFilter.displayMode === \'DASHBOARD_LIST\'"><div class="entry switch"><div class="switch-button off" ng-class="{ \'on\' : !dashboardFilter.analyticsActive }"><input id=analytics-toggle value="" type=checkbox ng-click=toggleAnalyticsView() checked=""> <label class=data-off><span class=value>SUMMARY</span> <span class=switch-icon>ANALYTICS</span></label> <label class=data-on><span class=switch-icon>SUMMARY</span> <span class=value>ANALYTICS</span></label></div></div></form><div id=dashboard-search-form class="search-form dashboard-analytics has-dates has-room-types" ng-cloak="" ng-if="dashboardFilter.displayMode === \'CHART_DETAILS\'"><div class="entry switch"><div class="switch-button off" ng-class="{ \'on\' : !dashboardFilter.analyticsActive }"><input id=analytics-toggle value="" type=checkbox ng-click=toggleAnalyticsView() checked=""> <label class=data-off><span class=value>SUMMARY</span> <span class=switch-icon>ANALYTICS</span></label> <label class=data-on><span class=switch-icon>SUMMARY</span> <span class=value>ANALYTICS</span></label></div></div><div class="entry dates" ng-if="dashboardFilter.selectedAnalyticsMenu && dashboardFilter.selectedAnalyticsMenu !== \'DISTRIBUTION\'"><div class="entry-data has-datepicker"><label for=analytics-date>Date</label> <input type=text class=datepicker ng-model=dashboardFilter.datePicked ng-click=showAnalyticsDatePicker() ng-change=onDateChanged() readonly=""></div></div><div class="entry dates" ng-if="dashboardFilter.selectedAnalyticsMenu && dashboardFilter.selectedAnalyticsMenu === \'DISTRIBUTION\'"><div class="entry-data has-datepicker"><label for=analytics-date>FROM</label> <input type=text class=datepicker ng-model=dashboardFilter.fromDate ng-click="showAnalyticsCalendar(\'fromDate\')" ng-change=onDateChanged() readonly=""></div></div><div class="entry dates" ng-if="dashboardFilter.selectedAnalyticsMenu && dashboardFilter.selectedAnalyticsMenu === \'DISTRIBUTION\'"><div class="entry-data has-datepicker"><label for=analytics-date>TO</label> <input type=text class=datepicker ng-model=dashboardFilter.toDate ng-click="showAnalyticsCalendar(\'toDate\')" ng-change=onDateChanged() readonly=""></div></div><div class="entry actions"><button id=analytics-download type=button class="button with-icon only-icon purple open-modal" ng-click=exportAsCSV() ng-style="{\'display\': (dashboardFilter.selectedAnalyticsMenu && dashboardFilter.selectedAnalyticsMenu === \'DISTRIBUTION\' && dashboardFilter.gridViewActive) ? \'block\': \'none\'}"><span class="icons icon-save"></span></button> <button class="button white with-icon only-icon" ng-class="{\'open\' : dashboardFilter.showFilters }" ng-click=toggleFilterView()><span class=count ng-if="getAppliedFilterCount() > 0">{{ getAppliedFilterCount() }}</span> <span class="icons icon-filter"></span> Filter rooms</button> <button type=button class="button white with-icon only-icon" ng-click=refreshAnalyticsChart(dashboardFilter.selectedAnalyticsMenu)><span class="icons icon-reset"></span> Refresh</button></div><div class="analytics-filters scrollable" ng-class="{\'open\' : dashboardFilter.selectedAnalyticsMenu === \'PERFOMANCE\' && dashboardFilter.showFilters }"><div class="analytics-filters-options scrollable"><div class=wrapper><div class=entry><label for=show-last-year class="checkbox inline" ng-class="{\'checked\':dashboardFilter.showLastYearData}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': dashboardFilter.showLastYearData}"></span><input id=show-last-year value=1 type=checkbox ng-model=dashboardFilter.showLastYearData> Show Last Year Information</label><div class="select with-label" ng-if=dashboardFilter.showLastYearData><label for=last-year>Type</label><select id=last-year ng-model=dashboardFilter.lastyearType><option value=SAME_DATE_LAST_YEAR>Same DATE Last Year</option><option value=SAME_DAY_LAST_YEAR>Same DAY Last Year</option><option value=MIXED selected="">Mixed</option></select></div></div></div></div><div class=analytics-filters-actions><button class="button blank" ng-click=clearAllFilters() translate="">AN_CLEAR_ALL</button> <button class="button green" ng-click=onAnlayticsFilterChanged() translate="">AN_APPLY_FILTER</button></div></div><div class="analytics-filters scrollable" ng-class="{\'open\' : dashboardFilter.selectedAnalyticsMenu === \'PACE\' && dashboardFilter.showFilters }"><div class=wrapper><div class=entry ng-if=false><div class="select with-label"><label for=analytics-room-type>Room Type</label><select ng-model=room_type_id ng-change=onRoomTypeChange()><option value="" selected="" translate="">SHOW_ALL</option><option value={{::roomType.id}} ng-repeat="roomType in ::availableRoomTypes track by $index">{{::roomType.name}}</option></select></div><div class=selected><span class=tag>{ Room Type }</span><span class="tag alert-medium">{Room Type ({X} short)}</span><span class="tag alert-high">{Room Type ({X} short)}</span></div></div></div></div><ng-include src="\'/assets/partials/analytics/rvDistricutionAndPaceFilter.html\'" ng-show="(dashboardFilter.selectedAnalyticsMenu === \'DISTRIBUTION\' || dashboardFilter.selectedAnalyticsMenu === \'PACE\')"></ng-include><div class="analytics-filters scrollable" ng-class="{\'open\': dashboardFilter.showFilters }" ng-if="(dashboardFilter.selectedAnalyticsMenu === \'HK_OVERVIEW\' || dashboardFilter.selectedAnalyticsMenu === \'HK_WORK_PRIRORITY\')"><div class="analytics-filters-options scrollable"><div class=wrapper><div class=entry><div class="select with-label"><label for=room-type>Room Type</label><select ng-model=dashboardFilter.selectedRoomType ng-if="dashboardFilter.selectedAnalyticsMenu !== \'HK_WORK_PRIRORITY\'"><option value="" selected="" translate="">SHOW_ALL</option><option value={{roomType.code}} ng-repeat="roomType in availableRoomTypes track by $index">{{roomType.name}}</option></select><select ng-model=dashboardFilter.selectedRoomType ng-if="dashboardFilter.selectedAnalyticsMenu === \'HK_WORK_PRIRORITY\'"><option value="" selected="" translate="">SHOW_ALL</option><option value={{roomType.code}} ng-repeat="roomType in availableRoomTypes | orderBy: \'-shortage\'">{{roomType.name}} {{ roomType.shortage > 0 ? \'....(-\' + roomType.shortage + \' rooms)\' : \'\' }}</option></select></div><div class=selected data-list=analytics-room-type><span class=tag ng-repeat="roomType in selectedFilters.roomTypes" ng-click=chartFilterRemoved(roomType)>{{roomType.name}}</span></div></div></div></div><div class=analytics-filters-actions><button class="button blank" ng-click=clearAllFilters() translate="">AN_CLEAR_ALL</button> <button class="button green" ng-click=onAnlayticsRoomTypeChange() translate="">AN_APPLY_FILTER</button></div></div><div class="analytics-filters scrollable" ng-class="{\'open\': dashboardFilter.showFilters }" ng-if="(dashboardFilter.selectedAnalyticsMenu === \'FO_ARRIVALS\' || dashboardFilter.selectedAnalyticsMenu === \'FO_ACTIVITY\' || dashboardFilter.selectedAnalyticsMenu === \'FO_WORK_LOAD\')"><div class="analytics-filters-options scrollable"><div class=wrapper><div class=entry><div class="select with-label"><label for=room-type>Room Type</label><select ng-model=dashboardFilter.selectedRoomType ng-if="dashboardFilter.selectedAnalyticsMenu !== \'FO_ARRIVALS\'"><option value="" selected="" translate="">SHOW_ALL</option><option value={{::roomType.code}} ng-repeat="roomType in ::roomTypes track by $index">{{::roomType.name}}</option></select><select ng-model=dashboardFilter.selectedRoomType ng-if="dashboardFilter.selectedAnalyticsMenu === \'FO_ARRIVALS\'"><option value="" selected="" translate="">SHOW_ALL</option><option value={{roomType.code}} ng-repeat="roomType in roomTypes | orderBy: \'-overBooking\'">{{roomType.name}} {{ roomType.overBooking > 0 ? \'....(+\' + roomType.overBooking + \' rooms)\' : \'\' }}</option></select></div></div><div class=entry ng-if="dashboardFilter.selectedAnalyticsMenu === \'FO_ACTIVITY\'"><label class="checkbox inline" ng-class="{\'checked\': dashboardFilter.showPreviousDayData}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': dashboardFilter.showPreviousDayData}"></span> <input id=show-remaining type=checkbox ng-model=dashboardFilter.showPreviousDayData> Show yesterday\'s data</label></div><div class=entry ng-if="dashboardFilter.selectedAnalyticsMenu === \'FO_WORK_LOAD\'"><label class="checkbox inline" ng-class="{\'checked\': dashboardFilter.showRemainingReservations}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': dashboardFilter.showRemainingReservations}"></span><input id=show-remaining ng-model=dashboardFilter.showRemainingReservations type=checkbox ng-change=showRemainingReservationsToggled()> Show Remaining Reservations</label></div></div></div><div class=analytics-filters-actions><button class="button blank" ng-click=clearAllFilters() translate="">AN_CLEAR_ALL</button> <button class="button green" ng-click=applyFoFilters() translate="">AN_APPLY_FILTER</button></div></div></div>'),t.put("/assets/partials/search/rvDatePickerPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ui-date=dateOptions ng-model=datePicked ui-date-format=yy-mm-dd class="ngmodal-uidate-wrap ui-datepicker datepicker-position-absolute"></div></div>'),t.put("/assets/partials/search/rvFrontDeskDashboardSearchReservations.html","<div ng-controller=rvFrontDeskDashboardSearchController ng-click=clickedOnSearchArea($event)><ng-include src=\"'/assets/partials/search/rvSearchReservationsWidget.html'\"></ng-include></div>"),t.put("/assets/partials/search/rvFrontDeskDashboardSearchReservationsWithAnalytics.html","<div ng-controller=rvFrontDeskDashboardSearchController ng-click=clickedOnSearchArea($event)><ng-include src=\"'/assets/partials/search/rvSearchReservationsWidgetWithAnalytics.html'\"></ng-include></div>"),t.put("/assets/partials/search/rvManagerDashboardSearchReservations.html","<div ng-controller=rvManagerDashboardSearchController ng-click=clickedOnSearchArea($event)><ng-include src=\"'/assets/partials/search/rvSearchReservationsWidgetWithAnalytics.html'\"></ng-include></div>"),t.put("/assets/partials/search/rvMergeCards.html",'<div class=merge-cards><div class=merge-header><h2>Cards to Merge</h2><p>Select a primary card and merge other cards into it.</p></div><div class="merge-content scrollable no-content" ng-if="viewState.selectedCardsForMerge.length === 0"><div class=info ng-if="viewState.selectedCardsForMerge.length === 0"><span class="icon-no-content icon-cards"></span> <strong class=h1>Nothing selected</strong> <span class=h2>When you select a card it will appear here.</span></div></div><div class="merge-content scrollable" ng-iscroll=selected_cards_for_merge_scroll ng-if="viewState.selectedCardsForMerge.length > 0"><section class=wrapper><div ng-if="viewState.selectedCardsForMerge.length > 0 && !viewState.hasInitiatedMergeVerification"><div class="card with-button with-label" ng-class="{\'no-address\': !escapeNull(selectedItem.address.city) && !escapeNull(selectedItem.address.state)}" ng-repeat="selectedItem in viewState.selectedCardsForMerge"><label class=radio ng-class="{\'checked\': selectedItem.isPrimary}"><span class="icon-form icon-radio" ng-class="{\'checked\': selectedItem.isPrimary}"></span> <input type=radio ng-model=selectedItem.isPrimary ng-click=onPrimaryGuestSelectionChange(selectedItem.id) name=card_primary> <span class=primary ng-class="{\'company\': escapeNull(selectedItem.account_type) === \'COMPANY\', \'company\': escapeNull(selectedItem.account_type) === \'TRAVELAGENT\', \'guest\': !selectedItem.account_type}">Primary</span><h2 ng-if=isGuestCard>{{getGuestName(selectedItem.first_name, selectedItem.last_name)}}</h2><h2 ng-if=!isGuestCard>{{selectedItem.account_name}}</h2><p ng-hide="(!escapeNull(selectedItem.address.city) && !escapeNull(selectedItem.address.state) ) || !isGuestCard">{{selectedItem.address.city}} {{selectedItem.address.state}}</p><p ng-hide="!escapeNull(selectedItem.account_address) || isGuestCard">{{selectedItem.account_address}}</p></label> <button type=button class="button with-icon only-icon" ng-click=removeSelectedCard(selectedItem)><span class="icons icon-remove-40"></span></button></div></div><div ng-if=viewState.hasInitiatedMergeVerification><div class=card><div class=merge-icon><figure class=guest-image ng-if=isGuestCard><img src={{viewState.selectedPrimaryCard.image_url}}></figure><span class="guest-image icons" ng-class="{\'icon-company\' : escapeNull(viewState.selectedPrimaryCard.account_type)==\'COMPANY\', \'icon-travel-agent\': escapeNull(viewState.selectedPrimaryCard.account_type)==\'TRAVELAGENT\'}" ng-if=!isGuestCard></span></div><span class=primary ng-class="{\'company\' : escapeNull(viewState.selectedPrimaryCard.account_type)==\'COMPANY\', \'travel-agent\': escapeNull(viewState.selectedPrimaryCard.account_type)==\'TRAVELAGENT\', \'guest\': isGuestCard}">Primary</span><h2 ng-if=isGuestCard>{{getGuestName(viewState.selectedPrimaryCard.first_name, viewState.selectedPrimaryCard.last_name)}}</h2><h2 ng-if=!isGuestCard>{{viewState.selectedPrimaryCard.account_name}}</h2><p ng-hide="(!escapeNull(viewState.selectedPrimaryCard.address.city) && !escapeNull(viewState.selectedPrimaryCard.address.state) ) || !isGuestCard">{{viewState.selectedPrimaryCard.address.city}} {{viewState.selectedPrimaryCard.address.state}}</p><p ng-hide="!escapeNull(viewState.selectedPrimaryCard.account_address) || isGuestCard">{{viewState.selectedPrimaryCard.account_address}}</p></div><div class=merge-status ng-class="{\'green\': viewState.canMerge, \'red\': !viewState.canMerge}">{{viewState.mergeStatusText}}</div><div class=card ng-repeat="card in viewState.selectedCardsForMerge" ng-if=!card.isPrimary ng-class="{\'with-button\': getErrorMsg(card) !== \'\'}"><span class=merge-icon><div id=loading-spinner ng-show=showVerifyMergeProcessActivityIndicator></div><span class="icons icon-action icon-unassigned" ng-if="hasMergeVerificationErrors(card) && !showVerifyMergeProcessActivityIndicator"></span> <span class="icons icon-action icon-completed" ng-if="!hasMergeVerificationErrors(card) && !showVerifyMergeProcessActivityIndicator"></span></span><h2 ng-if=isGuestCard>{{getGuestName(card.first_name, card.last_name)}}</h2><h2 ng-if=!isGuestCard>{{card.account_name}}</h2><p ng-hide="(!escapeNull(card.address.city) && !escapeNull(card.address.state)) || !isGuestCard">{{card.address.city}} {{card.address.state}}</p><p ng-hide="!escapeNull(card.account_address) || isGuestCard">{{card.account_address}}</p><p class=error ng-if="getErrorMsg(card) !== \'\'">{{getErrorMsg(card)}}</p><button type=button class="button with-icon only-icon" ng-show="getErrorMsg(card) !== \'\'" ng-click=removeSelectedCard(card)><span class="icons icon-remove-40"></span></button></div></div></section></div><div class=merge-actions ng-hide="viewState.selectedCardsForMerge.length === 0"><button class="button blank" ng-click=cancelSelections()>Cancel</button> <button class="button {{getMergeActionClassName()}}" ng-click=verifyMerge() ng-if=!viewState.hasInitiatedMergeVerification ng-disabled="viewState.selectedCardsForMerge.length === 1">Verify Merge</button> <button class=button ng-click=mergeCards() ng-if=viewState.hasInitiatedMergeVerification ng-disabled=!isEmpty(viewState.mergeStatusErrors) ng-class="{\'grey\': !isEmpty(viewState.mergeStatusErrors) || showVerifyMergeProcessActivityIndicator, \'green\': isEmpty(viewState.mergeStatusErrors)}">Merge Cards</button></div></div>'),t.put("/assets/partials/search/rvSearchCompanyCard.html",'<div id=page-main-second ng-click=clickedOnSearchArea() class="" style=""><div ng-include="\'/assets/partials/common/header.html\'"></div><form name=find-cards-search-form id=find-cards-search-form class="search-form card-search" role=search ng-class="{\'enable-adding\': viewState.isViewSelected && textInQueryBox !== \'\', \'show-merge\': !viewState.isViewSelected}"><div class="entry switch"><div class=switch-button ng-class="{\'on\': viewState.isViewSelected}"><input id=cards-merge-switch value="" type=checkbox ng-model=viewState.isViewSelected ng-change=onViewChange() ng-disabled="!isStandAlone || !hasMergeViewPermission"> <label class=data-off><span class=value>View</span> <span class=switch-icon>Merge</span></label> <label class=data-on><span class=switch-icon>View</span> <span class=value>Merge</span></label></div></div><div class="entry switch switch-merge" ng-if=!viewState.isViewSelected><div class=switch-button ng-class="{\'on\': viewState.isCompanyCardSelected}"><input id=cards-merge-cota-switch type=checkbox ng-model=viewState.isCompanyCardSelected ng-change=onTravelAgentCompanyCardSwitch()> <label class=data-off><span class=value><span class="icons icon-company"></span></span> <span class=switch-icon><span class="icons icon-travel-agent"></span></span></label> <label class=data-on><span class=switch-icon><span class="icons icon-company"></span></span> <span class=value><span class="icons icon-travel-agent"></span></span></label></div></div><div class="entry search"><button type=button id=clear-query class=clear-query ng-click=clearResults() ng-class="{\'visible\': textInQueryBox!=\'\'}"><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input type=text class=query placeholder="Name, IATA # or Corporate ID" name=query id=query autocomplete=off ng-model=textInQueryBox ng-keyup=queryEntered()></div><div class="entry options"><div class="select with-label"><label for=showing-cards>Showing</label><select id=showing-cards ng-model=cardFilter ng-change=queryEntered()><option value=ALL>All Active Cards</option><option value=AR_ONLY>AR Accounts Only</option></select></div></div><a class=add-new-button ng-show="textInQueryBox!=\'\'" ng-click=addNewCard()>+ Add new</a></form><rv-pagination ng-if="results.length > 0" page-options=companyCardSearchPagination page-data=totalResultCount div-class={{getStyleClasses()}}></rv-pagination><section id=find-cards class="content scrollable no-results" role=complementary ng-show="textInQueryBox === \'\'"><div class=wrapper><ul id=cards-search-results class=search-results><li class=no-content><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>Find Cards</strong> <span class=h2>Search by <strong>Name</strong>, <strong>IATA #</strong> or <strong>Corporate ID</strong></span></div></li></ul></div></section><section id=find-cards class=content role=complementary ng-class="{\'show-merge\': !viewState.isViewSelected && (results.length > 0 || viewState.selectedCardsForMerge.length > 0), \'no-pagination\': totalResultCount <= perPage}"><ul class=find-cards-header ng-hide="textInQueryBox === \'\' || results.length === 0"><li class=card>Card Details</li><li class=rate>Rate</li><li class=contract>Contract</li></ul><div class=scrollable ng-iscroll=company_card_scroll><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><ul id=search-cards-results class=search-results><li class="card all-cards" ng-repeat="row in results" ng-show="row.is_row_visible === true || textInQueryBox !== \'\'"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': row.selected}"></span> <input type=checkbox ng-change=onCardSelection(row) ng-model=row.selected ng-disabled=viewState.hasInitiatedMergeVerification></label><a ng-click="navigateToDetails(row.id, row.account_type)" ng-class="{\'no-arrow\': viewState.hasInitiatedMergeVerification}"><figure class=guest-image ng-if="escapeNull(row.company_logo)!=\'\'"><span class=global-card ng-if=row.is_global_enabled>Gl</span> <img ng-src={{row.company_logo}} alt=""></figure><div ng-if="escapeNull(row.company_logo)==\'\'"><div class="guest-image icons" ng-class="{\'icon-company\' : escapeNull(row.account_type)==\'COMPANY\', \'icon-travel-agent\': escapeNull(row.account_type)==\'TRAVELAGENT\'}"><span class=global-card ng-if=row.is_global_enabled>Gl</span></div></div><div class=data ng-class="{\'no-address\': escapeNull(row.account_address)===\'\'}"><h2 ng-bind-html="getHighlightedHTML(row.account_name, textInQueryBox)"></h2><span class="icons icon-location" ng-if="escapeNull(row.account_address)!==\'\'">{{row.account_address}}</span></div><div class=rate ng-if="ratesCount(row) === 1">{{getRateName()}}</div><div class=rate ng-if="ratesCount(row) > 1"><span class=label>Multiple</span></div><span ng-if="row.current_contracts.length > 1" class="icons icon-contracts active">Multiple</span> <span class="icons icon-contracts active" ng-if="row.current_contracts.length === 1">{{row.current_contracts[0].name}}</span></a></li><li class=no-content ng-show="results.length === 0 && textInQueryBox !== \'\'"><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>No matches have been found</strong> <span class=h2>Do you want to create a new Company or Travel Agent card ?<br><a class=open-modal ng-click=addNewCard()>Add a New Card</a></span></div></li></ul></div></div><span ng-include="\'/assets/partials/search/rvMergeCards.html\'" ng-controller=mergeCardsController></span></section></div>'),t.put("/assets/partials/search/rvSearchGuestCard.html",'<div id=page-main-second ng-click=clickedOnSearchArea() class="" style=""><div ng-include="\'/assets/partials/common/header.html\'"></div><form class="search-form card-search guest-search" role=search ng-class="{\'enable-adding\': viewState.isViewSelected && textInQueryBox !== \'\', \'show-merge\': !viewState.isViewSelected}"><div class="entry switch"><div class=switch-button ng-class="{\'on\': viewState.isViewSelected}"><input id=cards-merge-switch value="" type=checkbox ng-model=viewState.isViewSelected ng-change=onViewChange() ng-disabled="!isStandAlone || !hasMergeViewPermission"> <label class=data-off><span class=value>View</span> <span class=switch-icon>Merge</span></label> <label class=data-on><span class=switch-icon>View</span> <span class=value>Merge</span></label></div></div><div class="entry search"><button class=clear-query ng-class="{\'visible\': textInQueryBox != \'\'}" ng-click=clearResults() type=button><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input id=find-guests-query class=query placeholder="Search by Name, City or Email address" type=search autocomplete=off ng-model=textInQueryBox ng-keyup=queryEntered()></div><a class=add-new-button ng-click=addNewCard()>+ Add new</a></form><rv-pagination ng-if="results.length > 0" page-options=guestCardPagination page-data=totalResultCount></rv-pagination><section id=find-guests class=content role=main ng-class="{\'no-pagination\' : shouldHidePagination(), \'show-merge\': !viewState.isViewSelected && (results.length > 0 || viewState.selectedCardsForMerge.length > 0)}"><div class=scrollable ng-iscroll=guest_card_scroll><div class=wrapper><ul id=guest-search-results class=search-results><li class="reservation identify-guest" ng-repeat="guest in results" ng-hide=shouldHideSearchResults()><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': guest.selected}"></span> <input type=checkbox ng-change=onCardSelection(guest) ng-model=guest.selected ng-disabled=viewState.hasInitiatedMergeVerification></label> <a ng-click=navigateToDetails(guest.id)><figure ng-class="{\'guest-image\':true, \'blacklisted\':guest.is_flagged}"><img src={{guest.image_url}} alt=""> <span class=stay-count ng-if="guest.stay_count > 0 && isStandAlone">{{::guest.stay_count}}</span> <span class=vip ng-if=guest.vip>VIP</span></figure><div class=data ng-class="{\'no-stay\': guest.stay_count === 0}"><h2 ng-show="escapeNull(guest.first_name) != \'\' || escapeNull(guest.last_name) != \'\'" ng-bind-html="getGuestName(guest.first_name, guest.last_name) | highlightWords :searchWords"></h2><span class=confirmation ng-if=!!guest.address.postal_code>{{guest.address.postal_code}}</span> <span class="icons icon-location" ng-hide="(guest.address.city == null || guest.address.city == \'\') && (guest.address.state ==\'\' || guest.address.state == null)"><span ng-bind-html="guest.address.city | highlight:textInQueryBox:false" ng-if="escapeNull(guest.address.city) != \'\'"></span> <span ng-hide="guest.address.city == null || guest.address.city == \'\' || guest.address.state ==\'\' || guest.address.state == null">,</span> <span>{{ guest.address.state }}</span></span> <span class="icons icon-phone" ng-if=!!guest.home_phone>{{guest.home_phone}}</span> <span class="icons icon-email-grey" ng-if=!!guest.email ng-bind-html="guest.email | highlight:textInQueryBox:false"></span></div><div class=last-stay ng-if="guest.stay_count > 0"><span class=label>Last <span class=date>{{ guest.last_stay.date | date: \'MMMM d, yyyy\'}}</span></span> <strong class=room>{{ guest.last_stay.room }}</strong> <em class=type>{{ guest.last_stay.room_type }}</em></div></a></li><li class=no-content ng-show="results.length==0 && textInQueryBox!=\'\'"><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>No matches have been found</strong> <span class=h2>Check that you didn\'t mispell the <strong>Name</strong>, <strong>City</strong> or <strong>Email</strong>.</span></div></li></ul></div></div><span ng-include="\'/assets/partials/search/rvMergeCards.html\'" ng-controller=mergeCardsController></span></section><section id=find-guests class="content scrollable no-results" role=main ng-if="results.length === 0 && textInQueryBox==\'\'"><div class=wrapper><ul id=guest-search-results class=search-results><li class=no-content><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>Find Guests</strong> <span class=h2>Search by <strong>Guest Name</strong>, <strong>City</strong> or <strong>Email address</strong></span></div></li></ul></div></section></div>'),t.put("/assets/partials/search/rvSearchReservation.html","<div ng-include=\"'/assets/partials/common/header.html'\"></div><ng-include src=\"'/assets/partials/search/rvSearchReservationsWidget.html'\"></ng-include>"),t.put("/assets/partials/search/rvSearchReservationsWidget.html",'<div ng-controller=rvReservationSearchWidgetController><form method=get action="" name=reservations-search-form id=reservations-search-form class="search-form has-dates has-room-types enable-adding" role=search outside-click-handler="" ng-class="{\'has-bulk-check\': (isDueoutShowing || (!hotelDiaryConfig.hourlyRatesForDayUseEnabled && isDueinShowing && isBulkCheckinEnabled)), \'with-refresh\': isStandAlone && isCheckoutWithBalance, \'with-print\':isDueinShowing }"><div class="entry switch" ng-if=isDueoutShowing><div class=switch-button ng-class="{\'on\': !isBulkCheckoutSelected}"><input value="" type=checkbox ng-model=isBulkCheckoutSelected ng-change=onDeparturesScreenTabViewChange() ng-disabled=shouldDisableBulkCheckoutOption()> <label class=data-off><span class=value>All</span> <span class=switch-icon>Bulk Checkout</span></label> <label class=data-on><span class=switch-icon>All</span> <span class=value>Bulk Checkout</span></label></div></div><div class="entry switch" ng-if="isDueinShowing && isBulkCheckinEnabled && !hotelDiaryConfig.hourlyRatesForDayUseEnabled && !isReservationSelectedForPrint"><div class=switch-button ng-class="{\'on\': !isBulkCheckinSelected}"><input value="" type=checkbox checked="" ng-model=isBulkCheckinSelected ng-disabled=shouldDisableBulkCheckinOption() ng-change=toggleBulkCheckinBtn()> <label class=data-off><span class=value>All</span> <span class=switch-icon>Bulk Check In</span></label> <label class=data-on><span class=switch-icon>All</span> <span class=value>Bulk Check In</span></label></div></div><button type=button class="button white with-icon only-icon refresh" ng-if="isStandAlone && isCheckoutWithBalance" ng-click=refreshReservationsWithOpenBalance()><span class="icons icon-reset"></span> Refresh</button><div class="entry open-balance" ng-if=isDueoutShowing ng-class="{\'hidden\': !isBulkCheckoutSelected}"><label class=checkbox for=open-balance><span class="icon-form icon-checkbox" ng-class="{\'checked\': allowOpenBalanceCheckout}"></span> <input id=open-balance value=1 type=checkbox ng-model=allowOpenBalanceCheckout ng-click=toggleAllowOpenBalanceCheckoutFilter()> ALLOW OPEN BALANCE CHECK OUT</label></div><div class="entry notice-check-in" ng-if="isDueinShowing && isBulkCheckinSelected"><div class=notice>This will check in a total of <span class=count>{{ bulkCheckinReservationsCount }}</span> reservations</div><button type=button class="button green" ng-click=performBulkCheckin() ng-disabled="bulkCheckinReservationsCount === 0" ng-class="{\'grey\': bulkCheckinReservationsCount === 0}">Check In</button></div><div class="entry notice-checkout" ng-if=isDueoutShowing ng-class="{\'hidden\': !isBulkCheckoutSelected}"><div class=notice>This will check out a total of <span class=count>{{bulkCheckoutReservationsCount}}</span> reservations</div><button type=button class="button red" ng-click=performBulkCheckout() ng-disabled="results.length === 0" ng-class="{\'grey\': results.length === 0}">Check out</button></div><div class="entry search" ng-class="{\'hidden\': isBulkCheckoutSelected || isBulkCheckinSelected || isReservationSelectedForPrint }"><button id=dashboard-clear-query class=clear-query ng-click=clearResults($event) ng-class="{\'visible\': textInQueryBox!=\'\'}"><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input name=reservations-query id=reservations-query class=query placeholder="Search by Name, Group, Room No. or Confirmation No." type=search autocomplete=off ng-change=queryEntered() ng-click=focusOnSearchText() ng-blur=checkSearchResults() ng-model=textInQueryBox focus-me=focusSearchField></div><div class="entry room-types" ng-class="{\'hidden\': isBulkCheckoutSelected || isBulkCheckinSelected || isReservationSelectedForPrint }"><div class="select with-label"><label for=room-type>Room Type</label><select id=room-type ng-model=room_type_id ng-change=onRoomTypeChange()><option value="" selected="" translate="">SHOW_ALL</option><option value={{::roomType.id}} ng-repeat="roomType in ::roomTypes track by $index">{{::roomType.name}}</option></select></div></div><div class="entry dates" ng-class="{\'hidden\': isBulkCheckoutSelected || isBulkCheckinSelected || isReservationSelectedForPrint }"><div class="entry-data has-datepicker"><label for=dashboard-date-from>From</label> <input name=dashboard-date-from id=dashboard-date-from class=hasDatepicker readonly="" type=text placeholder="{{fromDate | date : dateFormat }}" value="{{fromDate| date : dateFormat}}"> <button ng-click="showCalendar(\'RVReservationSearchFromDatepickerCtrl\')" type=button class=ui-datepicker-trigger></button></div><div class="entry-data has-datepicker"><label for=dashboard-date-to>To</label> <button id=dashboard-date-to-clear class=clear-query ng-class="{\'visible\': escapeNull(toDate) !=\'\'}"><span class="icons icon-clear-search" ng-click=clearToDateClicked()>Clear query</span></button> <input name=dashboard-date-to id=dashboard-date-to class=datepicker placeholder="{{toDate | date : dateFormat}}" value="{{toDate| date : dateFormat}}" readonly="" type=text> <button ng-click="showCalendar(\'RVReservationSearchToDatepickerCtrl\')" type=button class=ui-datepicker-trigger></button></div></div><button type=button class="button blue with-icon only-icon print" ng-if="isDueinShowing && !isReservationSelectedForPrint && !isBulkCheckinSelected" ng-click=enableReservationSelectionMode()><span class="icons icon-print"></span> Print</button><div class=print-selection ng-if="isDueinShowing && isReservationSelectedForPrint"><div class=check><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'semi-checked\': isCurrentPagePartiallySelected(), \'checked\': isCurrentPageAllSelected()}"></span> <input type=checkbox ng-click=toggleSelectAll()></label></div><div class=notice>This will print in a total of <span class=count>{{getSelectedReservationsCount()}}</span> registration cards</div><div class=entry><div class="select with-label"><label>Sort By</label><select ng-model=sortOptions.sortBy><option value=roomNumberAscending>Room Number ASC</option><option value=roomNumberDescending>Room Number DESC</option><option value=lastNameAscending>Last Name ASC</option><option value=lastNameDescending>Last Name DESC</option></select></div></div><div class=actions><button type=button class="button blank" ng-click=cancelPrinting()>Cancel</button> <button type=button class="button blue with-icon" ng-click=printRegistrationCards() ng-disabled="totalSearchResults === 0"><span class="icons icon-print"></span> {{ selectedReservationsId.length === 0 || isCurrentPageAllSelected() ? "PRINT ALL" : "PRINT SELECTED" }}</button></div></div><a class=add-new-button ui-sref=rover.reservation.search ng-show=isStandAlone ng-class="{\'hidden\': isBulkCheckoutSelected || isBulkCheckinSelected}">+ New</a></form><div ng-show="totalSearchResults > searchPerPage && results.length > 0 && showSearchResultsArea"><rv-pagination page-options=dashboardSearchPagination page-data=totalSearchResults></rv-pagination></div><section ng-attr-id={{search_area_id}} class="content scrollable" ng-class="{\'no-pagination\': ((totalSearchResults <= searchPerPage && results.length > 0) || isSwiped), \'no-results\' : results.length == 0, \'hidden\': !showSearchResultsArea, \'showing-search\': searchAreaIsOpening, \'closing-search\': searchAreaIsHiding, \'device-overflow\': isFromDevice, \'no-print\': isPrintRegistrationCardClicked }" role=complementary ng-show=showSearchResultsArea ng-iscroll=result_showing_area ng-iscroll-delay=1000><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><ul id=dashboard-search-results class=search-results><li class=find-reservation ng-repeat="row in results" ng-show=row.is_row_visible ngrepeatend="" ngrepeatstarted="" ng-class="{\'show-balance\': isBulkCheckoutSelected && isDueoutShowing, \'with-checkbox\':isDueinShowing && isReservationSelectedForPrint}"><div class=check ng-show="isDueinShowing && isReservationSelectedForPrint"><label class="checkbox inline" for={reservationID} ng-class="{\'checked\': isReservationSelected(row)}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': isReservationSelected(row) }"></span> <input id={{row.id}} type=checkbox ng-click=toggleReservationSelection(row)></label></div><a ng-class=getReservationClass(row.reservation_status) ng-click="goToReservationDetails($event,row.id, row.confirmation)"><figure class=guest-image ng-class="{\'accompany\': row.images.length >1, \'blacklisted\': row.is_flagged}" ng-show="row.images.length!=0"><img ng-repeat="image in row.images" ng-src={{image.guest_image}}><span class=stay-count ng-if="row.stay_count > 0 && isStandAlone">{{::row.stay_count}}</span> <span class=vip ng-show="row.vip==1">VIP</span></figure><div class=data><div class=guest-info><span class=guest-company ng-if="escapeNull(row.company)!=\'\'" ng-bind-html=escapeNull(row.company)|highlight:textInQueryBox:false></span> <span class=guest-travelagent ng-if="escapeNull(row.travel_agent)!=\'\'" ng-bind-html=escapeNull(row.travel_agent)|highlight:textInQueryBox:false></span> <span class=group ng-if="escapeNull(row.group)!=\'\'" ng-bind-html=escapeNull(row.group)|highlight:textInQueryBox:false></span> <span class=allotment ng-if="escapeNull(row.allotment)!=\'\'" ng-bind-html=escapeNull(row.allotment)|highlight:textInQueryBox:false></span></div><h2 ng-show="escapeNull(row.lastname) != \'\' || escapeNull(row.firstname) != \'\'" ng-bind-html="getGuestName(row.firstname, row.lastname)| highlightWords:searchWords" ng-class="{\'cancelled\' : row.reservation_status == \'CANCELED\' || row.reservation_status == \'NO SHOW\'}"></h2><h2 class=pending ng-if="escapeNull(row.lastname) == \'\' && escapeNull(row.firstname) == \'\'" translate="">PENDING</h2><div class=guest-meta><span class=confirmation><span class=confirmation-text>{{getConfirmationNoText(row)}}</span> <span ng-bind-html="getConfirmationNo(row) | highlight:textInQueryBox:false" ng-if="textInQueryBox.length >= 5"></span> <span ng-bind-html=getConfirmationNo(row) ng-if="textInQueryBox.length < 5"></span></span> <span class="icons icon-location" ng-if="escapeNullStr(row.location) !== \'\'">{{escapeNullStr(row.location)}}</span> <span class="icons icon-location no-location" ng-if="escapeNullStr(row.location) === \'\'">N/A</span> <span class=member-level ng-if="escapeNullStr(row.membership_level) !== \'\'"><strong>{{row.membership_type}}</strong> {{row.membership_card_number}} ({{row.membership_level}})</span> <span class=member-level ng-if="escapeNullStr(row.membership_level) === \'\'"><strong>{{row.membership_type}}</strong> {{row.membership_card_number}}</span></div></div><div class=reservation-time ng-class="{\'daily\': row.arrival_date === row.departure_date}"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">departure</span></div><div class=check-times><time class=guest-time ng-if="row.arrival_date !== row.departure_date"><span>{{row.arrival_date| date : dateFormat}}</span> <span class=hours>{{getTimeConverted(row.arrival_time)}}</span></time><time class=guest-time ng-if="row.arrival_date !== row.departure_date"><span>{{row.departure_date| date : dateFormat}}</span> <span class=hours>{{getTimeConverted(row.late_checkout_time || row.departure_time)}}</span></time><div class=guest-hours ng-if="row.arrival_date === row.departure_date"><time class=guest-time>{{getTimeConverted(row.arrival_time)}}</time>-<time class=guest-time>{{getTimeConverted(row.late_checkout_time || row.departure_time)}}</time></div><span class=date ng-if="row.arrival_date === row.departure_date">{{row.arrival_date| date : dateFormat}}</span></div></div><div class=reservation-info><div class="reservation-type red" ng-if=row.is_day_use>D</div><div class=reservation-type ng-if="!row.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class=reservation-status><span class="guest-status {{getGuestStatusMapped(row.reservation_status, row.is_opted_late_checkout,row.is_pre_checkin , row.arrival_date)}}">{{getGuestStatusMapped(row.reservation_status, row.is_opted_late_checkout,row.is_pre_checkin, row.arrival_date)}}</span></div><div class=room-info><div class=room-number-info><strong class="room-number {{getMappedClassWithResStatusAndRoomStatus(row.reservation_status, row.roomstatus, row.fostatus, row.room_ready_status, row.checkin_inspected_only, row.room_service_status, row.room)}}" ng-bind-html="getRoomNo(row.room) | highlight:textInQueryBox:false"></strong> <span class="icons icon-suite-orange" ng-if=row.is_suite_room></span> <span class=room-status ng-if=showStatus(row) ng-class="{\'green\':!row.is_room_due_out}">{{getRoomStatus(row)}}</span></div><span class=room-type>{{row.room_type}}</span> <span class="icons icon-queued-red" ng-if="isReservationQueued(row.is_reservation_queued, row.is_queue_rooms_on, row.reservation_status)">Queued <span class=time pretty-time-ago=row.is_queued_till></span></span></div></div><div class=reservation-balance ng-if=isBulkCheckoutSelected><span class=currency>{{currencySymbol}}</span> {{row.balance | number : 2}}</div></a></li><li class=no-content ng-show="showNoMatches(results, textInQueryBox.trim().length, isTyping, isSwiped)"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Name</strong> or <strong>Group</strong>, or typed in the wrong <strong>Room</strong> or <strong>Confirmation</strong> number <span ng-show="results.length==0 && showAddNewGuestButton">, or <a ui-sref=rover.reservation.search>Add a New Guest <a></a></a></span></span> .</div></li><li class=no-content ng-show="results.length == 0 && searchType != \'default\' && (isLateCheckoutList && textInQueryBox==\'\')"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No guests opted for late checkout</strong></div></li><li class=no-content ng-show="results.length == 0 && textInQueryBox.trim().length<=3 && !swipeNoResults"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>Find Guests</strong> <span class=h2>Search by <strong>Name</strong>, <strong>Group</strong>, <strong>Room No.</strong> or <strong>Confirmation No.</strong></span></div></li><li class=no-content ng-show=swipeNoResults><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No matches</strong> <span class=h2>Enter different search criteria to find reservation / guest.</span></div></li></ul></div></section><div ng-if="!isRegistrationCardEnabledFor.austria && !isRegistrationCardEnabledFor.arabia" include-replace="" ng-include="\'/assets/partials/registrationCardBatchPrint/defaultRegistrationCardTemplate.html\'"></div><div ng-if=isRegistrationCardEnabledFor.austria include-replace="" ng-include="\'/assets/partials/registrationCardBatchPrint/rvRegistrationCardAustriaTemplate.html\'"></div><div ng-if=isRegistrationCardEnabledFor.arabia include-replace="" ng-include="\'/assets/partials/registrationCardBatchPrint/rvRegistrationCardArabicTemplate.html\'"></div></div>'),
t.put("/assets/partials/search/rvSearchReservationsWidgetWithAnalytics.html",'<div ng-controller=rvReservationSearchWidgetController><div id=dashboard-search-form class="search-form has-dates has-room-types enable-adding dashboard" role=search outside-click-handler="" ng-class="{\'has-bulk-checkout\': isDueoutShowing}" ng-show=!dashboardFilter.analyticsActive ng-cloak=""><div class="entry switch" ng-if=isDueoutShowing><div class=switch-button ng-class="{\'on\': !isBulkCheckoutSelected}"><input value="" type=checkbox checked="" ng-model=isBulkCheckoutSelected ng-change=onDeparturesScreenTabViewChange() ng-disabled=shouldDisableBulkCheckoutOption()> <label class=data-off><span class=value>All</span> <span class=switch-icon>Bulk Checkout</span></label> <label class=data-on><span class=switch-icon>All</span> <span class=value>Bulk Checkout</span></label></div></div><div class="entry open-balance" ng-if="isDueoutShowing && isBulkCheckoutSelected"><label class=checkbox for=open-balance><span class="icon-form icon-checkbox" ng-class="{\'checked\': allowOpenBalanceCheckout}"></span> <input id=open-balance value=1 type=checkbox ng-model=allowOpenBalanceCheckout ng-click=toggleAllowOpenBalanceCheckoutFilter()> ALLOW OPEN BALANCE CHECK OUT</label></div><div class="entry notice-checkout" ng-if="isDueoutShowing && isBulkCheckoutSelected"><div class=notice>This will check out a total of <span class=count>{{bulkCheckoutReservationsCount}}</span> reservations</div><button type=button class="button red" ng-click=performBulkCheckout() ng-disabled="results.length === 0" ng-class="{\'grey\': results.length === 0}">Check out</button></div><div class="entry switch" ng-if=analyticsDashboardEnabled><div class="switch-button off" ng-class="{ \'on\' : !dashboardFilter.analyticsActive }"><input id=analytics-toggle value="" type=checkbox ng-click=toggleAnalyticsView() checked=""> <label class=data-off><span class=value>SUMMARY</span> <span class=switch-icon>ANALYTICS</span></label> <label class=data-on><span class=switch-icon>SUMMARY</span> <span class=value>ANALYTICS</span></label></div></div><div class="entry search" ng-hide=isBulkCheckoutSelected><button id=dashboard-clear-query class=clear-query ng-click=clearResults($event) ng-class="{\'visible\': textInQueryBox!=\'\'}"><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input name=reservations-query id=reservations-query class=query placeholder="Search by Name, Group, Room No. or Confirmation No." type=search autocomplete=off ng-change=queryEntered() ng-click=focusOnSearchText() ng-blur=checkSearchResults() ng-model=textInQueryBox focus-me=focusSearchField></div><div class="entry room-types" ng-hide=isBulkCheckoutSelected><div class="select with-label"><label for=room-type>Room Type</label><select id=room-type ng-model=room_type_id ng-change=onRoomTypeChange()><option value="" selected="" translate="">SHOW_ALL</option><option value={{::roomType.id}} ng-repeat="roomType in ::roomTypes track by $index">{{::roomType.name}}</option></select></div></div><div class="entry dates" ng-hide=isBulkCheckoutSelected><div class="entry-data has-datepicker"><label for=dashboard-date-from>From</label> <input name=dashboard-date-from id=dashboard-date-from class=hasDatepicker readonly="" type=text placeholder="{{fromDate | date : dateFormat }}" value="{{fromDate| date : dateFormat}}"> <button ng-click="showCalendar(\'RVReservationSearchFromDatepickerCtrl\')" type=button class=ui-datepicker-trigger></button></div><div class="entry-data has-datepicker"><label for=dashboard-date-to>To</label> <button id=dashboard-date-to-clear class=clear-query ng-class="{\'visible\': escapeNull(toDate) !=\'\'}"><span class="icons icon-clear-search" ng-click=clearToDateClicked()>Clear query</span></button> <input name=dashboard-date-to id=dashboard-date-to class=datepicker placeholder="{{toDate | date : dateFormat}}" value="{{toDate| date : dateFormat}}" readonly="" type=text> <button ng-click="showCalendar(\'RVReservationSearchToDatepickerCtrl\')" type=button class=ui-datepicker-trigger></button></div></div><a class=add-new-button ui-sref=rover.reservation.search ng-show=isStandAlone ng-if=!isBulkCheckoutSelected>+ New</a></div><div ng-show="totalSearchResults > searchPerPage && results.length > 0 && showSearchResultsArea"><rv-pagination page-options=dashboardSearchPagination page-data=totalSearchResults></rv-pagination></div><section ng-attr-id={{search_area_id}} class="content scrollable" ng-class="{\'no-pagination\': ((totalSearchResults <= searchPerPage && results.length > 0) || isSwiped), \'no-results\' : results.length == 0, \'hidden\': !showSearchResultsArea, \'showing-search\': searchAreaIsOpening, \'closing-search\': searchAreaIsHiding, \'device-overflow\': isFromDevice }" role=complementary ng-show=showSearchResultsArea ng-iscroll=result_showing_area ng-iscroll-delay=1000><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><ul id=dashboard-search-results class=search-results><li class=find-reservation ng-repeat="row in results" ng-show=row.is_row_visible ngrepeatend="" ngrepeatstarted="" ng-class="{\'show-balance\': isBulkCheckoutSelected && isDueoutShowing}"><a ng-class=getReservationClass(row.reservation_status) ng-click="goToReservationDetails($event,row.id, row.confirmation)"><figure class=guest-image ng-class="{ \'accompany\': row.images.length > 1, \'blacklisted\': row.is_flagged }" ng-show="row.images.length!=0"><img ng-repeat="image in row.images" ng-src={{image.guest_image}}><span class=stay-count ng-if="row.stay_count > 0 && isStandAlone">{{::row.stay_count}}</span> <span class=vip ng-show="row.vip==1">VIP</span></figure><div class=data><div class=guest-info><span class=guest-company ng-if="escapeNull(row.company)!=\'\'" ng-bind-html=escapeNull(row.company)|highlight:textInQueryBox:false></span> <span class=guest-travelagent ng-if="escapeNull(row.travel_agent)!=\'\'" ng-bind-html=escapeNull(row.travel_agent)|highlight:textInQueryBox:false></span> <span class=group ng-if="escapeNull(row.group)!=\'\'" ng-bind-html=escapeNull(row.group)|highlight:textInQueryBox:false></span> <span class=allotment ng-if="escapeNull(row.allotment)!=\'\'" ng-bind-html=escapeNull(row.allotment)|highlight:textInQueryBox:false></span></div><h2 ng-show="escapeNull(row.lastname) != \'\' || escapeNull(row.firstname) != \'\'" ng-bind-html="getGuestName(row.firstname, row.lastname)| highlightWords:searchWords" ng-class="{\'cancelled\' : row.reservation_status == \'CANCELED\' || row.reservation_status == \'NO SHOW\'}"></h2><h2 class=pending ng-if="escapeNull(row.lastname) == \'\' && escapeNull(row.firstname) == \'\'" translate="">PENDING</h2><div class=guest-meta><span class=confirmation><span class=confirmation-text>{{getConfirmationNoText(row)}}</span> <span ng-bind-html="getConfirmationNo(row) | highlight:textInQueryBox:false" ng-if="textInQueryBox.length >= 5"></span> <span ng-bind-html=getConfirmationNo(row) ng-if="textInQueryBox.length < 5"></span></span> <span class="icons icon-location" ng-if="escapeNullStr(row.location) !== \'\'">{{escapeNullStr(row.location)}}</span> <span class="icons icon-location no-location" ng-if="escapeNullStr(row.location) === \'\'">N/A</span> <span class=member-level ng-if="escapeNullStr(row.membership_level) !== \'\'"><strong>{{row.membership_type}}</strong> {{row.membership_card_number}} ({{row.membership_level}})</span> <span class=member-level ng-if="escapeNullStr(row.membership_level) === \'\'"><strong>{{row.membership_type}}</strong> {{row.membership_card_number}}</span></div></div><div class=reservation-time ng-class="{\'daily\': row.arrival_date === row.departure_date}"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">departure</span></div><div class=check-times><time class=guest-time ng-if="row.arrival_date !== row.departure_date"><span>{{row.arrival_date| date : dateFormat}}</span> <span class=hours>{{getTimeConverted(row.arrival_time)}}</span></time><time class=guest-time ng-if="row.arrival_date !== row.departure_date"><span>{{row.departure_date| date : dateFormat}}</span> <span class=hours>{{getTimeConverted(row.late_checkout_time || row.departure_time)}}</span></time><div class=guest-hours ng-if="row.arrival_date === row.departure_date"><time class=guest-time>{{getTimeConverted(row.arrival_time)}}</time>-<time class=guest-time>{{getTimeConverted(row.late_checkout_time || row.departure_time)}}</time></div><span class=date ng-if="row.arrival_date === row.departure_date">{{row.arrival_date| date : dateFormat}}</span></div></div><div class=reservation-info><div class="reservation-type red" ng-if=row.is_day_use>D</div><div class=reservation-type ng-if="!row.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class=reservation-status><span class="guest-status {{getGuestStatusMapped(row.reservation_status, row.is_opted_late_checkout,row.is_pre_checkin , row.arrival_date)}}">{{getGuestStatusMapped(row.reservation_status, row.is_opted_late_checkout,row.is_pre_checkin, row.arrival_date)}}</span></div><div class=room-info><div class=room-number-info><strong class="room-number {{getMappedClassWithResStatusAndRoomStatus(row.reservation_status, row.roomstatus, row.fostatus, row.room_ready_status, row.checkin_inspected_only, row.room_service_status, row.room)}}" ng-bind-html="getRoomNo(row.room) | highlight:textInQueryBox:false"></strong> <span class="icons icon-suite-orange" ng-if=row.is_suite_room></span> <span class=room-status ng-if=showStatus(row) ng-class="{\'green\':!row.is_room_due_out}">{{getRoomStatus(row)}}</span></div><span class=room-type>{{row.room_type}}</span> <span class="icons icon-queued-red" ng-if="isReservationQueued(row.is_reservation_queued, row.is_queue_rooms_on, row.reservation_status)">Queued <span class=time pretty-time-ago=row.is_queued_till></span></span></div></div><div class=reservation-balance ng-if=isBulkCheckoutSelected><span class=currency>{{currencySymbol}}</span> {{row.balance | number : 2}}</div></a></li><li class=no-content ng-show="showNoMatches(results, textInQueryBox.trim().length, isTyping, isSwiped)"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Name</strong> or <strong>Group</strong>, or typed in the wrong <strong>Room</strong> or <strong>Confirmation</strong> number <span ng-show="results.length==0 && showAddNewGuestButton">, or <a ui-sref=rover.reservation.search>Add a New Guest <a></a></a></span></span> .</div></li><li class=no-content ng-show="results.length == 0 && searchType != \'default\' && (isLateCheckoutList && textInQueryBox==\'\')"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No guests opted for late checkout</strong></div></li><li class=no-content ng-show="results.length == 0 && textInQueryBox.trim().length<=3 && !swipeNoResults"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>Find Guests</strong> <span class=h2>Search by <strong>Name</strong>, <strong>Group</strong>, <strong>Room No.</strong> or <strong>Confirmation No.</strong></span></div></li><li class=no-content ng-show=swipeNoResults><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No matches</strong> <span class=h2>Enter different search criteria to find reservation / guest.</span></div></li></ul></div></section></div>'),t.put("/assets/partials/search/rvSearchRoomWidget.html",'<div ng-controller=rvHouseKeepingDashboardRoomSearchCtrl><form name=dashboard-search-form id=dashboard-search-form class=search-form role=search><div class=entry><a href=# id=dashboard-clear-query class=clear-query ng-show="query != \'\'" ng-click=clearResults() ng-class="{\'visible\': query != \'\'}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></a> <button type=submit name=submit class="icons icon-search" translate="">MENU_SEARCH</button> <input name=dashboard-query id=dashboard-query class=query placeholder="{{ \'ENTER_ROOM_NUMBER\' | translate }}" type=search autocomplete=off ng-focus=focusedOnQueryBox() ng-model=query ng-change=filterByQuery() ng-blur=focusedOutOnQueryBox()></div></form><div ng-show=showSearchResultsArea><section id=dashboard-search class="content scrollable" ng-iscroll=result_showing_area ng-iscroll-delay=1000 ng-class="{\'no-results\': uiTotalCount == 0}"><div class=wrapper id=rooms><ul id=dashboard-search-results class=search-results ng-hide="uiTotalCount == 0"><li class=room ng-repeat="room in rooms"><a ng-click=roomListItemClicked() ui-sref="rover.housekeeping.roomDetails({ id: room.id })" ng-class="{ \'with-image\': room.is_occupied }"><div class=data><h2 class="{{ room.roomStatusClass }}">{{ room.room_no }}</h2><span class="room-status {{ room.roomStatusClass }}">{{ room.description }}</span></div><div class=reservation-status><div class="current {{ room.leaveStatusClass }}"><span class="guest-status {{ room.leaveStatusClass }}">{{ room.room_reservation_status }}</span><span ng-if="room.room_reservation_status == \'Departed\'">OUT</span> <span ng-if="room.room_reservation_status != \'Departed\'">{{ room.departure_time }}</span></div><div class="next {{ room.enterStatusClass }}"><span class="guest-status {{ room.enterStatusClass }}">{{ room.room_reservation_status }}</span><span>{{ room.arrival_time }}</span></div></div><div class=additional-info ng-if=isStandAlone><span ng-if=room.assignee_maid.id class=assigned>{{ room.assignee_maid.name }}</span> <span ng-if="!room.assignee_maid.id && (room.room_reservation_status == \'Departed\' || room.room_reservation_status == \'STAYOVER\')" class=unassigned>Unassigned</span><span ng-if="room.room_reservation_hk_status == 2" class=service-status>Out of Service</span> <span ng-if="room.room_reservation_hk_status == 3" class=service-status>Out of Order</span></div><figure class=guest-image ng-if=room.is_occupied><span ng-if=room.is_vip class=vip translate="">VIP</span> <img src={{room.avatar_src}} alt=""></figure></a></li></ul><ul id=dashboard-search-results class=search-results ng-show="uiTotalCount == 0"><li class=no-content><div class=info><span class="icon-no-content icon-room"></span> <strong class=h1>Find Rooms</strong> <span class=h2>Search by <strong>Room Number</strong></span></div></li></ul></div></section><div class=search-pagination ng-show="(rooms | filter:{display_room:true}).length === 50 && (!disablePrevBtn || !disableNextBtn)"><button type=button class="button dark-grey next" ng-click=loadNextPage() ng-disabled=disableNextBtn>Next</button> <button type=button class="button dark-grey prev" ng-click=loadPrevPage() ng-disabled=disablePrevBtn>Previous</button><p>Showing <strong>{{ resultFrom }}-{{ resultUpto }}</strong> of <strong id=total-count>{{ netTotalCount }}</strong> items</p></div></div></div>'),t.put("/assets/partials/search/rvSearchRoomWidgetWithAnalytics.html",'<div ng-controller=rvHouseKeepingDashboardRoomSearchCtrl><div id=dashboard-search-form class="search-form has-options dashboard single-option has-room-types has-dates" role=search ng-show=!dashboardFilter.analyticsActive><div class="entry switch"><div class="switch-button off" ng-class="{ \'on\' : !dashboardFilter.analyticsActive }"><input id=room-task-toggle value="" type=checkbox ng-click=toggleAnalyticsView() checked=""> <label class=data-off><span class=value>SUMMARY</span> <span class=switch-icon>ANALYTICS</span></label> <label class=data-on><span class=switch-icon>SUMMARY</span> <span class=value>ANALYTICS</span></label></div></div><div class="entry search"><a href=# id=dashboard-clear-query class=clear-query ng-show="query != \'\'" ng-click=clearResults() ng-class="{\'visible\': query != \'\'}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></a> <button type=submit name=submit class="icons icon-search" translate="">MENU_SEARCH</button> <input name=dashboard-query id=dashboard-query class=query placeholder="{{ \'ENTER_ROOM_NUMBER\' | translate }}" type=search autocomplete=off ng-focus=focusedOnQueryBox() ng-model=query ng-change=filterByQuery() ng-blur=focusedOutOnQueryBox()></div><div class="entry options" ng-if=false><div class=select><select id=work-type name=work-type><option value="">All Work Types</option><option value=daily-cleaning selected="">Daily Cleaning</option></select></div><div class=select><select id=employees name=employees class=placeholder><option value="" selected="">All Employees</option><option value="">{Employee}</option></select></div></div></div><ng-include src="\'/assets/partials/search/rvAnalyticsHeader.html\'" ng-if="dashboardFilter.analyticsActive && dashboardFilter.isHkDashboard"></ng-include><div ng-show="showSearchResultsArea && !dashboardFilter.analyticsActive"><section id=dashboard-search class="content scrollable" ng-iscroll=result_showing_area ng-iscroll-delay=1000 ng-class="{\'no-results\': uiTotalCount == 0}"><div class=wrapper id=rooms><ul id=dashboard-search-results class=search-results ng-hide="uiTotalCount == 0"><li class=room ng-repeat="room in rooms"><a ng-click=roomListItemClicked() ui-sref="rover.housekeeping.roomDetails({ id: room.id })" ng-class="{ \'with-image\': room.is_occupied }"><div class=data><h2 class="{{ room.roomStatusClass }}">{{ room.room_no }}</h2><span class="room-status {{ room.roomStatusClass }}">{{ room.description }}</span></div><div class=reservation-status><div class="current {{ room.leaveStatusClass }}"><span class="guest-status {{ room.leaveStatusClass }}">{{ room.room_reservation_status }}</span><span ng-if="room.room_reservation_status == \'Departed\'">OUT</span> <span ng-if="room.room_reservation_status != \'Departed\'">{{ room.departure_time }}</span></div><div class="next {{ room.enterStatusClass }}"><span class="guest-status {{ room.enterStatusClass }}">{{ room.room_reservation_status }}</span><span>{{ room.arrival_time }}</span></div></div><div class=additional-info ng-if=isStandAlone><span ng-if=room.assignee_maid.id class=assigned>{{ room.assignee_maid.name }}</span> <span ng-if="!room.assignee_maid.id && (room.room_reservation_status == \'Departed\' || room.room_reservation_status == \'STAYOVER\')" class=unassigned>Unassigned</span><span ng-if="room.room_reservation_hk_status == 2" class=service-status>Out of Service</span> <span ng-if="room.room_reservation_hk_status == 3" class=service-status>Out of Order</span></div><figure class=guest-image ng-if=room.is_occupied><span ng-if=room.is_vip class=vip translate="">VIP</span> <img src={{room.avatar_src}} alt=""></figure></a></li></ul><ul id=dashboard-search-results class=search-results ng-show="uiTotalCount == 0"><li class=no-content><div class=info><span class="icon-no-content icon-room"></span> <strong class=h1>Find Rooms</strong> <span class=h2>Search by <strong>Room Number</strong></span></div></li></ul></div></section><div class=search-pagination ng-show="(rooms | filter:{display_room:true}).length === 50 && (!disablePrevBtn || !disableNextBtn)"><button type=button class="button dark-grey next" ng-click=loadNextPage() ng-disabled=disableNextBtn>Next</button> <button type=button class="button dark-grey prev" ng-click=loadPrevPage() ng-disabled=disablePrevBtn>Previous</button><p>Showing <strong>{{ resultFrom }}-{{ resultUpto }}</strong> of <strong id=total-count>{{ netTotalCount }}</strong> items</p></div></div></div>'),t.put("/assets/partials/search/search.html",'<div id=page-main-second class="" style=""><div id=search_list data-view=Search data-search-type=""><div ng-include="\'/assets/partials/common/header.html\'"></div><form role=search name=search-form method=get id=search-form class="search-form form float" action="" ng-click=clickedOnSearchArea()><div class="entry search"><a id=clear-query class="icons icon-clear-search" ng-click=clearResults() ng-class="{\'visible\': textInQueryBox!=\'\'}">Clear query</a> <button type=submit name=submit class="icons icon-search">Search</button> <input type=text class=query placeholder="Name, Group, Room No. or Confirmation No." name=query id=query autocomplete=off ng-model=textInQueryBox ng-keyup=queryEntered()></div></form><section role=main id=search class="content scrollable"><div class="" id=result-showing-area><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-iscroll=result_showing_area ng-iscroll-delay=1000 style="position:absolute; top:125px; bottom: 0px; left:0px; width: 100%;overflow:hidden;"><ul id=search-results class=search-results style="width: 100%;"><li class=reservation ng-repeat="row in results" ng-show="row.is_row_visible==true" ng-hide="results.length == 0"><a ng-click="goToReservationDetails(row.id, row.confirmation)"><figure class=guest-image ng-show="row.images.length!=0"><img ng-repeat="image in row.images" ng-src={{image.guest_image}} ng-class="{\'second-image\':(row.images.length >1 && image.is_primary==false)}"> <span class=vip ng-show="row.vip==true">VIP</span></figure><div class=data><h2 ng-bind-html="\'{{row.lastname}}, {{row.firstname}}\'|highlight:textInQueryBox:false" ng-class="{\'grey\' : row.is_accompanying_guest==\'1\'}"></h2><span class=confirmation ng-bind-html="\'{{row.confirmation}}\'|highlight:textInQueryBox:false">{{row.confirmation}}</span> <span class="icons icon-location" ng-hide="escapeNull(row.location)==\'\'">{{escapeNull(row.location)}}</span> <em class="icons icon-group" ng-hide="{{row.group==null}}" ng-bind-html="\'{{row.group}}\'|highlight:textInQueryBox:false"></em></div><div class=status ng-class="getQueueClass(row.is_reservation_queued, row.is_queue_rooms_on)"><span class=late-checkout-time ng-hide="escapeNull(row.late_checkout_time)==\'\'&&row.reservation_status!=\'CHECKING_OUT\'&&row.is_opted_late_checkout==false">{{row.late_checkout_time}}</span> <span class="guest-status {{getGuestStatusMapped(row.reservation_status, row.is_opted_late_checkout)}}"></span></div><span class=room-number ng-class="getMappedClassWithResStatusAndRoomStatus(row.reservation_status, row.roomstatus, row.fostatus, row.room_ready_status, row.checkin_inspected_only)"><span ng-class="{\'highlight\': row.room.indexOf(textInQueryBox) != -1 && textInQueryBox!=\'\' && textInQueryBox.length>=3 }">{{row.room}}</span></span> <span class=room-status ng-show="getRoomStatusMapped(row.roomstatus, row.fostatus) == \'not-ready\' && row.reservation_status == \'CHECKING_IN\'">{{row.fostatus}}</span></a></li><li class=no-content ng-show="results.length == 0 && currentType!=\'direct\' && (!isLateCheckoutList || searchTermPresent)"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Name</strong> or <strong>Group</strong>, or typed in the wrong <strong>Room</strong> or <strong>Confirmation</strong> number.</span></div></li><li class=no-content ng-show="results.length == 0 && currentType!=\'direct\' && (isLateCheckoutList && !searchTermPresent)"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>No guests opted for late checkout</strong></div></li><li class=no-content ng-show="results.length == 0 && currentType==\'direct\'"><div class=info><span class="icon-no-content icon-search"></span> <strong class=h1>Find Guests</strong> <span class=h2>Search by <strong>Name</strong>, <strong>Group</strong>, <strong>Room No.</strong> or <strong>Confirmation No.</strong></span></div></li></ul></div></div></section></div></div>'),t.put("/assets/partials/settings/rvDeviceMessage.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-show="screenMode ===\'DISPLAY_MESSAGE\'" ng-cloak=""><div class=modal-content><div class=modal-header><span class="h2 message" translate="">MESSAGE</span></div><div ng-if="actionDisplayName === \'RFID Tag Meta\'"><ul><li ng-repeat="(rfidPropertyKey, rfidProperty) in ngDialogData" ng-if="rfidPropertyKey !== \'ngDialogId\'"><b>{{ humanize(rfidPropertyKey) }}</b> <span class=float-right style="margin-left: 10px">{{rfidProperty}}</span></li></ul></div><div class=scrollable ng-iscroll=deviceMessage ng-iscroll-delay=100 style="max-height: 580px; position: relative; padding-right: 15px;"><div class=wrapper><pre style="font-size: initial;">{{ngDialogData.message}}</pre></div></div><div class="entry button-grp"><button type=button class="button blank" ng-click=emailReceipt() ng-if="actionDisplayName ===\'Email Last Receipt\'" style="background-image: -webkit-gradient(linear,0 0,0 100%,from(#90d92b),to(#54d115));color: white;" translate="">E-MAIL</button> <button type=button class="button blank" ng-click=printReceipt() ng-if="actionDisplayName ===\'Print Last Receipt\'" style="background-image: -webkit-gradient(linear,0 0,0 100%,from(#90d92b),to(#54d115));color: white;" translate="">PRINT</button> <button type=button class="button blank" ng-click=closeThisDialog() translate="">CANCEL</button></div></div></div><div id=modal class=modal-show ng-show="screenMode ===\'EMAIL_ENTRY\'"><form id=confirm-reservation class="modal-content form confirm-reservation ng-pristine ng-valid"><span class="h2 message ng-scope" translate="">ENTER E-MAIL</span><div class="entry full-width ng-scope" style=""><label for=guest-email translate="" class=ng-scope>E-mail</label> <input name=guest-email id=guest-email type=text autocomplete=off ng-model=screenData.emailId class="ng-pristine ng-untouched ng-valid ng-empty"></div><div class=actions><button type=button class="button with-icon" ng-class="{\'green\': isEmailValid() }" ng-click=sendEmail() ng-disabled=!isEmailValid()><span class="icons icon-email"></span> EMAIL</button> <button type=button class="button blank ng-scope" ng-click=closeThisDialog() translate="">Close</button></div></form></div>'),t.put("/assets/partials/settings/rvDeviceStatus.html",'<div role=dialog id=modal class=modal-show ng-cloak=""><div class="modal-content alert" ng-if="connectedDeviceDetails.length === 0" ng-cloak=""><button class=modal-close id=modal-close type=button ng-click=closeDialogImmediately()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">NO_DEVICES_FOUND</span><div class=actions><button type=button class="button blank" ng-click=closeDialogImmediately() translate="">CLOSE_WINDOW</button></div></div><div class="modal-content device-status" ng-if="connectedDeviceDetails.length > 0" ng-cloak=""><button class=modal-close id=modal-close type=button ng-click=closeDialogImmediately()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><section ng-if=serviceDetails><span class="h2 message" translate="">Rover Service</span><div class=devices-grid><ul class=device-labels><li translate="">VERSION</li><li translate="">CLIENTS</li></ul><div class="device-list scrollable"><div class=wrapper><ul class=device style=width:320px;><li>{{serviceDetails.version}}</li><li>{{serviceDetails.activeClients}}</li></ul></div></div></div></section><span class="h2 message" translate="">DEVICES</span><div class=devices-grid><ul class=device-labels><li translate="">DEVICE_TYPE</li><li translate="">DEVICE_NAME</li><li translate="">DEVICE_ID</li><li translate="">STATUS</li><li translate="">DEVICE_BATTERY</li><li translate="">DEVICE_LIBRARY_NAME</li><li translate="">DEVICE_LIBRARY_VERSION</li><li translate="">DEVICE_FIRMWARE_VERSION</li><li translate="">DEVICE_SERIAL_NO</li><li translate="">ACTIONS</li></ul><div class="device-list scrollable"><div class=wrapper style="width:{{(connectedDeviceDetails.length === 1) ? \'320\': connectedDeviceDetails.length * 160}}px"><ul class=device ng-repeat="device in connectedDeviceDetails" ng-style=widthStyle><li class=title>{{device.device_short_name}}</li><li ng-class="{\'text-grey\': !device.device_identified_name}">{{device.device_identified_name}}</li><li ng-class="{\'text-grey\': !device.device_id}">{{device.device_id}}</li><li ng-if="device.device_connection_sate === \'Connected\'"><em class=text-green>Connected</em></li><li ng-if="device.device_connection_sate !== \'Connected\'"><em class=text-orange>Not Connected</em></li><li ng-if="device.device_connection_sate !== \'Connected\' || !device.battery_percentage" class=text-grey>N/A</li><li ng-if="device.device_connection_sate === \'Connected\' && device.battery_percentage"><div class=battery><strong class="battery-value text" ng-class="{\'red\': device.battery_percentage < 25 , \'orange\': device.battery_percentage >= 25 && device.battery_percentage < 50, \'green\': device.battery_percentage >=50}" ng-if="device.device_connection_sate === \'Connected\'">{{device.battery_percentage}}%</strong><div class=battery-bar ng-class="{\'background-red\': device.battery_percentage < 25 , \'background-orange\': device.battery_percentage < 50, \'background-green\': device.battery_percentage >=50}" ng-if="device.device_connection_sate === \'Connected\'"><span class=battery-graph style="width: {{device.battery_percentage}}%;"></span></div><span ng-if="device.device_connection_sate !== \'Connected\'">NA</span></div></li><li ng-class="{\'text-grey\': !device.library_name || device.library_name == \'NA\'}">{{device.library_name || \'N/A\'}}</li><li ng-class="{\'text-grey\': !device.library_version ||device.library_version == \'NA\'}">{{device.library_version || \'N/A\'}}</li><li ng-class="{\'text-grey\': !device.firmware_version || device.firmware_version == \'NA\'}">{{device.firmware_version || \'N/A\'}}</li><li ng-class="{\'text-grey\': !device.serial_number || device.serial_number == \'NA\'}">{{device.serial_number || \'N/A\'}}</li><li ng-class="{\'text-grey\': !device.actions}" ng-if=!device.actions>{{\'N/A\'}}</li><li ng-if="device.actions && device.actions.length"><div class=select style="width: calc(100% - 60px); display: inline-block;"><select ng-model=device.selectedAction ng-class="{\'placeholder\': !device.selectedAction}"><option value="" selected="">Select an Action</option><option value={{action.action_name}} ng-repeat="action in device.actions">{{action.display_name}}</option></select></div><label class="button green" style="display:inline-block; margin-left: 8px;" ng-class="{\'grey\': !device.selectedAction}" ng-click=onExecuteAction(device)>RUN</label></li></ul></div></div></div><div class="form ng-hide"><div class=entry><label for=email translate="">EMAIL_STATUS_TO</label> <input id=email type=email></div><div class="entry action"><button type=button class="button green">SEND</button></div></div><div class="entry button-grp"><button type=button class="button blank" ng-click=closeDialogImmediately() ng-hide=isIpad translate="">CLOSE_WINDOW</button> <button type=button class="button green" ng-click=refreshDeviceStatus() translate="">REFRESH</button> <button type=button class="button blue" ng-click=sendLogFiles() ng-show=isIpad translate="">SEND_LOG_FILES</button></div></div></div>'),t.put("/assets/partials/settings/rvStaffSettingModal.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-click=clearErrorMessage()><form name=update-settings id=update-settings class="modal-content form admin-form"><button type=button id=modal-close ng-click=cancelClicked() class=modal-close><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 admin-title">Update your account settings</strong><div class="entry full-width"><div id=notification-message></div></div><div class="entry full-width"><label for=name>Name</label> <input type=text value={{userInfo.name}} readonly=readonly name=name id=name class=normalInputStyle></div><div class="entry full-width"><label for=email>E-mail</label> <input type=email value={{userInfo.email}} readonly=readonly name=email id=email class=normalInputStyle></div><div class="entry full-width"><label for=change-password>Change password</label> <input type=password ng-model=newPassword placeholder="Enter new password" name=change-password id=change-password></div><div class="entry full-width"><label for=confirm-password>Confirm password</label> <input type=password ng-model=confirmPassword placeholder="Repeat new password" name=confirm-password id=confirm-password></div><div class="actions float"><button type=button ng-click=updateSettings() class="button modal-close" ng-disabled=!passwordsMatch() ng-class="{\'green\': passwordsMatch()}">Save changes</button> <button type=button id=cancel ng-click=cancelClicked() class="button blank modal-close">Cancel</button></div></form></div>'),
t.put("/assets/partials/smartbands/rvAddNewSmartBand.html",'<div id=add-new-smartband><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=smartband-image></div><br clear=all><div id=new-area-of-details><rv-textbox value=smartBandData.firstName ng-model=smartBandData.firstName label="{{\'FIRST_NAME\' | translate}}" placeholder="{{ \'ENTER_FIRST_NAME\' | translate}}" styleclass=margin-right-and-width></rv-textbox><rv-textbox value=smartBandData.lastName ng-model=smartBandData.lastName label="{{\'LAST_NAME\' | translate}}" placeholder="{{ \'ENTER_LAST_NAME\' | translate}}" styleclass=margin-right-and-width></rv-textbox><div class="entry only-switch full-width"><div class="payment-type-parent margin-right"><label for=payment-type translate="">PAYMENT_TYPE</label><div class=switch-button ng-class="{\'on\': isFixedAmount}" ng-click=setPaymentType()><input id=payment-type name=payment-type type=checkbox value=1> <label class=data-on><span class=value translate="">OPEN_ROOM_CHARGE</span> <span class=switch-icon translate="">FIXED_AMOUNT</span></label> <label class=data-off><span class=switch-icon translate="">OPEN_ROOM_CHARGE</span> <span class=value translate="">FIXED_AMOUNT</span></label></div></div><rv-textbox value=smartBandData.fixedAmount ng-show=isFixedAmount ng-model=smartBandData.fixedAmount label=Amount placeholder="Enter Amount" styleclass=payment-type-associated-div></rv-textbox><br clear=all></div></div><br clear=all><a class="continue-button button green" ng-click=clickContinueButton() translate="">CONTINUE</a> <a class=cancel-link ng-click=clickContinueEdit(false) translate="">CANCEL</a></div>'),t.put("/assets/partials/smartbands/rvModifyAddCreditSmartband.html",'<div data-currency-symbol=$ id=update-card-info><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=smartband-image></div><div id=smartband-id>{{bandData.account_number}}</div><br clear=all><div id=area-of-details ng-class="{\'showDisabled\':!bandData.is_fixed }"><rv-textbox value=bandData.first_name ng-model=bandData.first_name label="{{\'FIRST_NAME\' | translate}}" placeholder="{{ \'ENTER_FIRST_NAME\' | translate}}" styleclass=margin-right-and-width></rv-textbox><rv-textbox value=bandData.last_name ng-model=bandData.last_name label="{{\'LAST_NAME\' | translate}}" placeholder="{{ \'ENTER_LAST_NAME\' | translate}}" styleclass=margin-right-and-width></rv-textbox><div class=entry id=float-right ng-show=bandData.is_fixed><div><label translate="">AVAILABLE_CREDIT</label> <label id=credit-bal>{{currencySymbol}} {{bandData.amount}}</label></div></div><div class=entry id=credit-adding-div ng-show=bandData.is_fixed><label translate="">ADD_CREDIT</label><div><label>{{currencySymbol}}</label> <input id=credit-to-add name=credit-to-add type=text ng-model=bandData.additionalCredit></div></div><div class="entry only-switch full-width" id=payment-type-div ng-show=!bandData.is_fixed><div class="payment-type-parent margin-right"><label for=payment-type translate="">PAYMENT_TYPE</label><div class="on switch-button"><input id=payment-type name=payment-type type=checkbox value=1> <label class=data-on><span class=value translate="">OPEN_ROOM_CHARGE</span> <span class=switch-icon translate="">FIXED_AMOUNT</span></label> <label class=data-off><span class=switch-icon translate="">OPEN_ROOM_CHARGE</span> <span class=value translate="">FIXED_AMOUNT</span></label></div></div></div></div><br clear=all><a class="continue-button button green" id=continue-button ng-click=clickContinueEdit(bandData.is_fixed) translate="">CONTINUE</a> <a class=cancel-link id=cancel-link ng-click=clickContinueEdit(false) translate="">CANCEL</a></div>'),t.put("/assets/partials/smartbands/rvSmartBandDialog.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form class="modal-content form new-content" id=smartband><div class=header><span class=heading translate="">SMARTBANDS</span> <a class="button green" ng-click=addNewSmartband() ng-show=showSmartBandListView id=add-new-button translate="">ADD_NEW_SMART</a> <a class="button white" id=see-all-band-button ng-show=showAddNewSmartBandScreen ng-click=seeAllBands() translate="">SEE_ALL_BANDS</a></div><div ng-include="\'/assets/partials/smartbands/rvSmartbandList.html\'" ng-show=showSmartBandListView></div><div ng-include="\'/assets/partials/smartbands/rvAddNewSmartBand.html\'" ng-show=showAddNewSmartBandScreen></div><div ng-include="\'/assets/partials/smartbands/rvModifyAddCreditSmartband.html\'" ng-if=showBandEditScreen></div><div ng-include="\'/assets/partials/smartbands/rvWriteToSmartBand.html\'" ng-show=showWriteToBand></div><div class=footer ng-show=showSmartBandListView><a id=close-popup ng-click=closeDialog() translate="">CLOSE</a></div></form></div>'),t.put("/assets/partials/smartbands/rvSmartbandList.html",'<div id=smartband-listing><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="middle scrollable" data-currency-symbol=$ id=listing-area><ul><li ng-repeat="bands in smartBands" ng-click=editBandDetails(bands.id)><span class=smartband-icon></span> <span class=band-holder>{{bands.first_name}} {{bands.last_name}}</span> <span class=charge ng-show=bands.is_fixed>{{currencySymbol}} {{bands.amount}}</span> <span class=charge ng-show=!bands.is_fixed>OPEN ROOM CHARGE</span><span class=account-num>{{bands.account_number.substr(bands.account_number.length - 4)}}</span></li></ul></div><div class=footer><a id=close-popup ng-click=closeDialog() translate="">CLOSE</a></div></div>'),t.put("/assets/partials/smartbands/rvSmartbandListCheckoutscreen.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form class="modal-content form new-content" id=smartband><div class=header><span class=heading translate="">SMARTBANDS_WITH_REMAINING_BALANCE</span></div><div class="middle scrollable" id=listing-area><ul><li ng-repeat="remainingBands in remainingSmartBands"><span class=smartband-icon></span> <span class=band-holder>{{remainingBands.first_name}} {{remainingBands.last_name}}</span> <span class=charge>{{currencySymbol}} {{remainingBands.amount}}</span><span class=account-num>{{remainingBands.account_number.substr(remainingBands.account_number.length - 4)}}</span></li></ul></div><div class=footer style="text-align: center;"><a id=close-button class="button blank modal-close" ng-click=closeDialog() translate="">CANCEL</a> <a class="button brand-colors" id=keep-credit ng-click=cashOutSmartBandSuccess() translate="">KEEP_CREDIT</a> <a class="button green" id=credit-room ng-click=clickCreditToRoom() translate="">CREDIT_TO_ROOM</a></div></form></div>'),t.put("/assets/partials/smartbands/rvWriteToSmartBand.html",'<div id=write-to-band><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=heading translate="">HOLD_BAND_TO_ENCODE_UNTIL_READY</div><div class=smartband-large-writing-icon><img src=/assets/smartband-hold-writing.png><div class=success ng-show=showSuccess><img src=/assets/smartband-success.png></div></div><a class=not-ready-status ng-show=!showSuccess translate="">NOT_READY</a> <a class=cancel ng-click=seeAllBands() ng-show=!showSuccess translate="">CANCEL</a><div id=button-area ng-show=showSuccess><a class=button id=done-button ng-click=seeAllBands() translate="">DONE</a> <a class="green button" id=next-band-button ng-click=addNewSmartband() translate="">NEXT_BAND</a></div></div>'),t.put("/assets/partials/socialLobby/rvSLComments.html",'<div class=conversation ng-controller=RVSocialLobbyCommentsCtrl><div class=conversation-wrapper iscroll-stop-propagation=""><div ng-iscroll=comment-list-scroll class="scrollable neighbours-comment-scroll"><div class="wrapper neighbours-comment-container"><div class=reply-post ng-repeat="comment in comments"><div class=post-details><figure class=guest-image><img src={{comment.user.image_url}} alt=""> <span class=vip ng-show=comment.user.is_vip>VIP</span></figure><div class=post-data><div class=author><h3>{{comment.author_name}}</h3><span class=job-title>{{getProfessionStringForUser(comment.user)}}</span><button type=button class="button white brand-text small-button" ng-show="comment.user_role == \'guest\' && comment.user.current_reservation_id != \'\' && comment.user.current_reservation_id != null" ng-click="goToStayCard(comment.user.current_reservation_id, post.user.current_reservation_confirm_no, $event)" translate="">SL_STAYCARD_LINK</button><em class="icons icon-staff-blue" ng-show="comment.user_role != \'guest\'">Staff</em> <span class=posted>{{comment.created_at}}</span></div><h4 class="post post-full" ng-class="{\'staff\': comment.user_role != \'guest\'}">{{comment.comment}}</h4></div></div><button type=button class="button white icons icon-remove-10" ng-click=deleteCommentClicked(comment.id)>Delete</button></div></div></div></div><div class="conversation-reply numbers-pagination"><input placeholder="Add comment to this conversation" ng-model=newComment type=text> <button type=button class="button soft-red" ng-click=addComment() translate="">SL_POST_BUTTON</button><div class=pages ng-show="totalCommentPages > 1"><button type=button class="button prev" ng-show="commentParams.page != 1" ng-click="paginateComments(commentParams.page -1)">Prev</button><button type=button class="button dark-grey number" ng-click=paginateComments(1) ng-class="{\'active\': 1 == commentParams.page}">1</button><span class="delimiter post-delimiter" ng-show="middle_page1 > 2 && totalCommentPages > 5">...</span><button type=button class="button dark-grey number" ng-click=paginateComments(middle_page1) ng-show="totalCommentPages > 2" ng-class="{\'active\': middle_page1 == commentParams.page}">{{middle_page1 }}</button><button type=button class="button dark-grey number" ng-click=paginateComments(middle_page2) ng-show="totalCommentPages > 3" ng-class="{\'active\': middle_page2 == commentParams.page}">{{middle_page2 }}</button> <button type=button class="button dark-grey number" ng-click=paginateComments(middle_page3) ng-show="totalCommentPages > 4" ng-class="{\'active\': middle_page3 == commentParams.page}">{{middle_page3 }}</button><span class="delimiter post-delimiter" ng-show="middle_page3 < (totalCommentPages - 1) && totalCommentPages > 5">...</span> <button type=button class="button dark-grey number" ng-click=paginateComments(totalCommentPages) ng-class="{\'active\' : commentParams.page == totalCommentPages }">{{totalCommentPages}}</button><button type=button class="button next" ng-click="paginateComments(commentParams.page +1)" ng-show="commentParams.page != totalCommentPages">Next</button></div></div></div>'),t.put("/assets/partials/socialLobby/rvSLPostDelete.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class=modal-content><strong class=message>Please confirm to delete the post...</strong> <button type=button class="button grey edit-data-inline post-delete-dialog-button" ng-click=closeDialog()>Cancel</button> <button type=button class="button red edit-data-inline" ng-click=delete()>Confirm</button></div></div>'),t.put("/assets/partials/socialLobby/rvSLPosts.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><form id=neighbors-search-form class="search-form neighbors-search" role=search><button type=button ng-click=refreshPosts() class="button white with-icon only-icon refresh"><span class="icons icon-reset"></span> Refresh</button><div class="entry search"><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <button type=submit class="icons icon-search">Search</button> <input id=neighbors-query class=query placeholder=Search type=search autocomplete=off focus-me=isSearchFocussed ng-click="isSearchFocussed = true" ng-change=queryEntered() ng-model=textInQueryBox></div></form><section id=neighbors-activity ng-show="posts.length == 0" class=content role=main><div class=no-content><div class=info><span class="icon-no-content icon-messages"></span> <strong class=h1 translate="">SL_NO_POST_TITLE</strong> <span class=h2 translate="">SL_NO_POST_MESSAGE</span></div></div></section><section id=neighbors-activity ng-show="posts.length != 0" role=main><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=neighbours-search-results-label ng-show="match_count > 0" translate="">{{"We found " + match_count + " results"}}</div><div ng-iscroll=post-list-scroll class="content scrollable neighbours-post-scroll" ng-class="{\'neighbours-post-scroll-error\': errorMessage != \'\'}"><div class="wrapper neighbours-post-container"><div class=activity-post ng-class="{\'has-replies\': post.comment_count > 0}" ng-repeat="post in posts"><div class="post-details toggle has-arrow" ng-click=togglePostDetails(post)><figure class=guest-image><img src={{post.user.image_url}} alt=""> <span class=vip ng-show=post.user.is_vip>VIP</span></figure><div class=post-data><div class=author><h3>{{post.user.first_name + " " + post.user.last_name}}</h3><span class=job-title>{{getProfessionStringForUser(post.user)}}</span><button type=button class="button white brand-text small-button" ng-show="post.user_role == \'guest\' && post.user.current_reservation_id != \'\' && post.user.current_reservation_id != null" ng-click="goToStayCard(post.user.current_reservation_id, post.user.current_reservation_confirm_no, $event)" translate="">SL_STAYCARD_LINK</button><em class="icons icon-staff-blue" ng-show="post.user_role != \'guest\'">Staff</em> <span class=posted>{{post.created_at}}</span></div><h4 class=post ng-class="{\'staff\': post.user_role != \'guest\', \'post-with-limit\': post.id != selectedPost.id, \'post-full\': post.id == selectedPost.id}"><span class="icons icon-comment" ng-show="post.comment_count > 0">{{post.comment_count}}</span>{{post.body}}</h4></div></div><button type=button class="button white icons icon-remove-10" ng-click=deletePostClicked(post.id)>Delete</button><div class=conversation-container ng-if=post.isExpanded ng-include="\'/assets/partials/socialLobby/rvSLComments.html\'"></div></div></div></div></section><div class="neighbors-form numbers-pagination"><input type=text placeholder="Add comment" ng-model=newPost> <button type=button class="button white soft-red-text" ng-click=addPost(); translate="">SL_POST_BUTTON</button><div class=pages ng-show="totalPostPages > 1"><button type=button class="button prev" ng-show="postParams.page != 1" ng-click="paginatePosts(postParams.page -1)">Prev</button><button type=button class="button dark-grey number" ng-click=paginatePosts(1) ng-class="{\'active\': 1 == postParams.page}">1</button><span class="delimiter post-delimiter" ng-show="middle_page1 > 2 && totalPostPages > 5">...</span><button type=button class="button dark-grey number" ng-click=paginatePosts(middle_page1) ng-show="totalPostPages > 2" ng-class="{\'active\': middle_page1 == postParams.page}">{{middle_page1 }}</button><button type=button class="button dark-grey number" ng-click=paginatePosts(middle_page2) ng-show="totalPostPages > 3" ng-class="{\'active\': middle_page2 == postParams.page}">{{middle_page2 }}</button> <button type=button class="button dark-grey number" ng-click=paginatePosts(middle_page3) ng-show="totalPostPages > 4" ng-class="{\'active\': middle_page3 == postParams.page}">{{middle_page3 }}</button><span class="delimiter post-delimiter" ng-show="middle_page3 < (totalPostPages - 1) && totalPostPages > 5">...</span> <button type=button class="button dark-grey number" ng-click=paginatePosts(totalPostPages) ng-class="{\'active\' : postParams.page == totalPostPages }">{{totalPostPages}}</button><button type=button class="button next" ng-click="paginatePosts(postParams.page +1)" ng-show="postParams.page != totalPostPages">Next</button></div></div>'),t.put("/assets/partials/staycard/rvStaycard.html",'<div id=page-inner-first class="page page-current"><div id=staycard_main ng-controller=stayCardMainCtrl ng-click=staycardClicked()><div role=main id=view-nested-first class="nested-view view-current"><div ng-include="\'/assets/partials/common/header.html\'"></div><div ng-class="{ \'return-back\': returnBack }"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ui-view="" class=main-view></div></div></div></div></div>'),t.put("/assets/partials/staycard/rvStaycardAddPaymentPopup.html",'<div class="entry full-width" ng-show="payment.showAddToGuestCard && actionType!== \'ADD_PAYMENT_GUEST_CARD\'"><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\':payment.addToGuestCardSelected}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': payment.addToGuestCardSelected}"></span> <input ng-model=payment.addToGuestCardSelected id=add-in-guest-card value=1 type=checkbox> {{\'ADD_TO_GUEST_CARD\' | translate}}</label></div><div class=actions ng-show=!showCCPage><button type=button class="button blank modal-close" ng-click=closeThePopup()>Close</button> <button type=button class="button green" ng-click=saveReservationPaymentMethod(); ng-disabled=!selectedPaymentType ng-class="{\'grey\': !selectedPaymentType}">Add</button></div>'),t.put("/assets/partials/staycard/unavailablePopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content alert"><strong class="h2 message">This reservation is not available to check-in.</strong> <span class=message>Reason: Room number is excluded from Manual Check-In</span> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div>'),t.put("/assets/partials/upgrades/rvGroupRoomTypeNotConfigured.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">Selected Room Type is not part of the Group Room Block. Borrow from Room type \'{{upgradesList[selectedUpgradeIndex].upgrade_room_type_name}}\'?</span> <button type=button class="button green modal-close" ng-click=borrowFromOtherRoomType();>Borrow</button> <button type=button class="button blank" ng-click=closeDialog();>Cancel</button></div></div>'),t.put("/assets/partials/upgrades/rvUpgrades.html",'<section id=room-assignment class="content stay-card-inner check-in" role=complementary><input id=roomassignment-ref-id type=hidden><div class=reservation-header><div class=data><span class=room><span class="guest-status room">room</span> <span id=header-room-num class=room-number ng-class=getTopbarRoomStatusClass()>{{reservationData.reservation_card.room_number}}</span> <span id=room-type>{{reservationData.reservation_card.room_type_description}}</span></span> <span class=nights><span class="guest-status nights"></span> {{reservationData.reservation_card.total_nights+" "+setNightsText()}}</span> <span class=date><span class="guest-status small-icon check-in">check-in</span> {{reservationData.reservation_card.arrival_date|date:dateFormat}}</span> <span class=date><span class="guest-status small-icon check-out">check-out</span> {{reservationData.reservation_card.departure_date|date:dateFormat}}</span></div></div><div class=wrapper><div id=notification-message ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="room-assignment-content only-upgrades"><div id=room-upgrades class="upgrades scrollable" ng-iscroll=upgradesView ng-iscroll-delay=50 style=width:100%;><ul id=upgradesView class=wrapper style=width:{{getHorizontalScrollWidth()}}px;><li ng-repeat="upgrade in upgradesList"><div class=upgrade-title><span class=room-number ng-class=getRoomStatusClass(upgrade)>{{upgrade.upgrade_room_number}}</span><h2>{{upgrade.upgrade_room_type_name}}</h2><a class="toggle has-arrow" ng-click=toggleUpgradeDescriptionStatus($index) translate="">DETAILS_LABEL</a></div><div id=room2008-details ng-class="{\'hidden\':!isDescriptionVisible($index)}" class=room-details ng-bind-html=upgrade.upgrade_room_description></div><a id=upgrade-room-select class="button green submit-value hover-hand" ng-click=showMaximumOccupancyDialog($index)>Upgrade for only <sup></sup> {{currencySymbol}} {{upgrade.upsell_amount}} per night</a><figure class=room-image><img ng-src={{upgrade.room_type_image}} alt="" ng-if="upgrade.room_type_image !== \'\'"> <img ng-src=/ui/pms-ui/images/bedroom-blank.png alt="" ng-if="upgrade.room_type_image === \'\'"></figure></li></ul></div><a id=no-thanks class="button green no-auto-bind" ng-show="clickedButton == \'checkinButton\'" ng-click=goToCheckinScreen()>{{buttonText.noThanks}}</a></div></div></section>'),t.put("/assets/partials/validateCheckin/rvAskEmailFromCheckin.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form id=validate-opt-email class="modal-content form confirmation"><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class="entry full-width"><div id=notification-message></div></div><span class="h2 message" translate="">EMAIL_MISSING</span> <span class=text translate="">ASK_GUEST_TO_PROVIDE_EMAIL</span><div id=guest-opt-email-entry class="entry full-width"><label for=guest-email translate="">EMAIL</label> <input type=text ng-model=saveData.email autocomplete=off></div><div class="actions float"><a id=save class="button green modal-close" ng-click=submitAndCheckin() translate="">SUBMIT</a> <a id=cancel class="button blank modal-close" ng-click=closeDialog() translate="">CANCEL</a></div></form></div>'),t.put("/assets/partials/validateCheckin/rvShowValidation.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content checkout-print form"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-success"></span> <span class="h2 message">{{popupMessage}}</span> <em class=text ng-if="status === \'success\' && reservationBillData.enable_room_status_at_checkout === \'true\'">You can print the invoice from the Guest Bill</em><div class=entry ng-if="status === \'success\' && reservationBillData.enable_room_status_at_checkout === \'true\'"><label for=room-status>Room Status</label><div class=switch-button ng-class="{\'on\': flag.roomStatusReady}"><input name=room-status id=room-status value="" type=checkbox ng-model=flag.roomStatusReady> <label class=data-on><span class=value>Not Ready</span> <span class=switch-icon>Ready</span></label> <label class=data-off><span class=switch-icon>Not Ready</span> <span class=value>Ready</span></label></div></div><div class=actions><button type=button class="button blue" ng-click="okButtonClicked(\'dashboard\')" ng-if=isMessagePopupDuringCheckout>Go to Dashboard</button> <button type=button class="button blank" ng-click="okButtonClicked(\'bill\')" ng-if=isMessagePopupDuringCheckout>Stay on Guest Bill</button> <button id=ok class="button modal-close" ng-class="{\'red\':status===\'error\',\'green\':status === \'success\'}" ng-if=!isMessagePopupDuringCheckout ng-click=closeDialog()>Ok</button></div></div></div>'),t.put("/assets/partials/validateCheckin/rvTermsAndConditionsDialog.html",'<div id=modal role=dialog class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form action="" class="modal-content terms" id=terms-and-conditions method=post name=terms-and-conditions><button class=modal-close id=modal-close type=button click-touch=clickCancel()><span class="icons icon-close invert"></span></button><div class=head_terms_and_conditions translate="">TERMS_AND_CONDITIONS_LABEL</div><div class=scrollable ng-iscroll=termsandconditions ng-iscroll-delay=50 id=terms-content><div class=wrapper style=width:400px;padding-right:0px; ng-bind-html=termsAndConditionsText></div></div><div class=actions><button class="button red modal-close" id=disagree-button type=button click-touch=disagreeButtonClicked() translate="">DISAGREE_BUTTON_LABEL</button> <button class="button green modal-close" id=agree-button type=button click-touch=agreeButtonClicked() translate="">AGREE_BUTTON_LABEL</button></div></form></div>'),t.put("/assets/partials/validateCheckin/rvValidateEmailPhone.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form check-in-data"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">Provide data before check in</span> <span class=text>Fields marked with <strong class=required>*</strong> are mandatory</span><div class="modal-fields scrollable" ng-iscroll=guestCardFields><div class=wrapper><fieldset ng-if=shouldShowGuestInfoInValidationPopup><legend>Guest Info</legend><div class=fields><div class=entry ng-if=showNationality><label>Nationality <strong class=required>*</strong></label><div class=select><select iscroll-stop-propagation="" ng-options="country.id as country.value for country in countries" snt-placeholder="Select Nationality" ng-model=guestCardData.contactInfo.nationality_id class=placeholder></select></div></div><div class=entry ng-if="showCountry && roverObj.forceCountryAtCheckin"><label>Country <strong class=required>*</strong></label><div class=select><select iscroll-stop-propagation="" ng-options="country.id as country.value for country in countries" ng-model=guestCardData.contactInfo.address.country_id class=placeholder><option value="">Select Country</option></select></div></div><div class=entry ng-if=showMobile><label>Mobile</label> <input type=tel placeholder="Enter Number" ng-model=saveData.mobile></div><div class=entry ng-if=showPhone><label>Phone</label> <input type=tel placeholder="Enter Number" ng-model=saveData.phone></div><div class=entry ng-if=showEmail><label>E-mail</label> <input type=email placeholder="Enter E-mail Address" ng-model=saveData.email></div><div class=entry ng-if="showJobTitle && (guestCardData.contactInfo.job_title === \'\' || guestCardData.contactInfo.job_title === null)"><label>Job Title<strong>*</strong></label> <input type=text placeholder="Enter Job Title" ng-model=saveData.job_title></div><div class=entry ng-if="showNameOfFather && (guestCardData.contactInfo.father_name === \'\' || guestCardData.contactInfo.father_name === null)"><label>Name of Father<strong>*</strong></label> <input type=text placeholder="Enter Name of Father" ng-model=saveData.father_name></div><div class=entry ng-if="showNameOfMother && (guestCardData.contactInfo.mother_name === \'\' || guestCardData.contactInfo.mother_name === null)"><label>Name of Mother<strong>*</strong></label> <input type=text placeholder="Enter Name of Mother" ng-model=saveData.mother_name></div><div class=entry ng-if="showPlaceOfBirth && (guestCardData.contactInfo.birth_place === \'\' || guestCardData.contactInfo.birth_place === null)"><label>Place of Birth<strong>*</strong></label> <input type=text placeholder="Enter Place of Birth" ng-model=saveData.birth_place></div><div class=entry ng-if="showGender && (guestCardData.contactInfo.gender_id === \'\' || guestCardData.contactInfo.gender_id === null)"><label>Gender<strong>*</strong></label><select iscroll-stop-propagation="" ng-options="genderType.id as genderType.value for genderType in guestCardData.contactInfo.genderTypeList" ng-model=saveData.gender_id ng-class="{\'placeholder\': saveData.gender_id === null}"><option value="" disabled="" selected="">Select Gender</option><option style=display:none value=genderType.id></option></select></div><div class=entry ng-if="showVehicleRegistrationNumber && (guestCardData.contactInfo.vehicle_registration_number === \'\' || guestCardData.contactInfo.vehicle_registration_number === null)"><label>Vehicle Registration Number<strong>*</strong></label> <input type=text placeholder="Enter Vehicle Registration Number" ng-model=saveData.vehicle_registration_number></div><div class=entry ng-if="showIdPlaceOfIssue && (guestCardData.contactInfo.id_place_of_issue === \'\' || guestCardData.contactInfo.id_place_of_issue === null)"><label>Id Place of Issue<strong>*</strong></label> <input type=text placeholder="Enter Id Place of Issue" ng-model=saveData.id_place_of_issue></div><div class=entry ng-if=showIdExpDate><label>ID Date of Expiry<strong>*</strong></label> <input type=text ng-model="saveData.id_expiration_date | date:dateFormat" name=guest-birthday maxlength=8 id=guest-birthday class=datepicker ng-click="popupCalendar(\'idExpirationDateValidate\')" readonly=""></div><div class=entry ng-if=showIdCountryOfIssue><label>ID Country of issue<strong>*</strong></label><div class=select><select iscroll-stop-propagation="" ng-options="country.id as country.value for country in countries" ng-model=saveData.id_country_id class=placeholder><option style=display:none value="">Select id country of issue</option></select></div></div><div class=entry ng-if="showPersonalIdNumber && (guestCardData.contactInfo.personal_id_no === \'\' || guestCardData.contactInfo.personal_id_no === null)"><label>Personal Id Number<strong>*</strong></label> <input type=text placeholder="Enter Personal Id No" ng-model=saveData.personal_id_no></div><div class=entry ng-if="showHomeTown && (guestCardData.contactInfo.home_town === \'\' || guestCardData.contactInfo.home_town === null)"><label>Home Town<strong>*</strong></label> <input type=text placeholder="Enter Home Town" ng-model=saveData.home_town></div><div class=entry ng-if="showPlaceOfResidence && (guestCardData.contactInfo.place_of_residence === \'\' || guestCardData.contactInfo.place_of_residence === null)"><label>Place Of Residence<strong>*</strong></label> <input type=text placeholder="Enter Place of Residence" ng-model=saveData.place_of_residence></div><div class=entry ng-if=showVehicleCountryMark><label>Vehicle Country Mark<strong>*</strong></label><div class=select><select iscroll-stop-propagation="" ng-options="country.code as country.code for country in countries" ng-model=saveData.country_code class=placeholder><option style=display:none value="">Select vehicle country mark</option></select></div></div><div class=entry ng-if=showDateOfBirth><label>Date Of Birth<strong>*</strong></label> <input type=text ng-model="saveData.birth_day | date:dateFormat" name=guest-birthday maxlength=8 id=guest-birthday class=datepicker ng-click="popupCalendar(\'validate\')" readonly=""></div></div></fieldset><fieldset ng-if=shouldShowDemographicsInValidationPopup><legend>Demographics</legend><div class=fields><div class="entry margin" ng-if=shouldShowReservationType><label for=reservation-type>Reservation type<strong ng-show=otherData.reservationTypeIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=reservation-type id=reservation-type ng-class="{\'placeholder\': reservationParentData.demographics.reservationType == \'\'}" ng-model=reservationParentData.demographics.reservationType><option value="" translate="">RESERVATION_TYPE_PLACEHOLDER</option><option ng-repeat="reservationType in otherData.reservationTypes" value={{reservationType.value}} ng-selected="reservationType.value == reservationParentData.demographics.reservationType">{{reservationType.name}}</option></select></div></div><div class="entry margin" ng-if=shouldShowMarket><label for=market>Market<strong ng-show=otherData.marketIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=market id=market ng-class="{\'placeholder\': reservationParentData.demographics.market == \'\'}" ng-model=reservationParentData.demographics.market><option value="" translate="">MARKET_PLACEHOLDER</option><option ng-repeat="market in otherData.markets" value={{market.value}} ng-selected="market.value==reservationParentData.demographics.market">{{market.name}}</option></select></div></div><div class="entry margin" ng-if=shouldShowSource><label for=source>Source<strong ng-show=otherData.sourceIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=source id=source ng-class="{\'placeholder\': reservationParentData.demographics.source == \'\'}" ng-model=reservationParentData.demographics.source><option value="" translate="">SOURCE_PLACEHOLDER</option><option ng-repeat="source in otherData.sources" value={{source.value}} ng-selected="source.value==reservationParentData.demographics.source">{{source.name}}</option></select></div></div><div class="entry margin" ng-if=shouldShowOriginOfBooking><label for=origin>Origin of Booking<strong ng-show=otherData.originIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=origin id=origin ng-class="{\'placeholder\': reservationParentData.demographics.origin == \'\'}" ng-model=reservationParentData.demographics.origin><option value="" translate="">ORIGIN_BOOKING_PLACEHOLDER</option><option ng-repeat="origin in otherData.origins" value={{origin.value}} ng-selected="origin.value==reservationParentData.demographics.origin">{{origin.name}}</option></select></div></div><div class="entry margin" ng-if=shouldShowSegments><label for=origin>Segments<strong ng-show=otherData.segmentsIsForced>*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=origin id=origin ng-class="{\'placeholder\': reservationParentData.demographics.segment == \'\'}" ng-model=reservationParentData.demographics.segment ng-disabled=!!reservationParentData.demographics.segment><option value="" translate="">SEGMENT_PLACEHOLDER</option><option ng-repeat="segment in otherData.segments" value={{segment.value}} ng-selected="segment.value==reservationParentData.demographics.segment">{{segment.name}}</option></select></div></div></div></fieldset></div></div><div class=actions><button class="button blank" ng-click=closeDialog() ng-show="showNationality || showCountry || shouldShowDemographicsInValidationPopup">Cancel</button> <button class="button blank" ng-click=ignoreAndGoToCheckin() ng-show="!showNationality && !showCountry && !shouldShowDemographicsInValidationPopup" translate="">IGNORE_AND_GOTO_CHECKIN</button> <button class=button ng-class="{\'green\': shouldEnableSubmitButton() || isDemographicsFormValid(), \'grey\': !shouldEnableSubmitButton() || !isDemographicsFormValid()}" ng-disable="!(shouldEnableSubmitButton()) || !isDemographicsFormValid()" ng-click=submitAndGoToCheckin()>Submit</button></div></div></div>'),
t.put("/assets/partials/validateCheckout/rvDirectDebitDisabled.html",'<div id=modal class=modal-show role=dialog ng-cloak=""><div class="modal-content alert"><button type=button id=modal-close class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Company / Travel Agent is restricted for Direct Billing.</span> <button class="button red" type=button ng-disabled=!hasPermissionToProceedCheckout() ng-class="{\'grey\': !hasPermissionToProceedCheckout()}" ng-click=proceedWithCheckout()>Prooced with checkout</button> <button class="button blank" type=button ng-click=closeDialog()>Close window</button></div></div>'),t.put("/assets/partials/validateCheckout/rvValidateEmail.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form id=validate class="modal-content form confirmation"><button id=modal-close class=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class=text translate="">PLEASE_ASK_THE_GUEST_FOR_EMAIL</span><div id=guest-email-entry class="entry full-width"><label translate="">EMAIL</label> <input ng-model=saveData.email id=guest-email autocomplete:="" "off",="" name:="" "guest-email",="" type:="" "text",="" value:="" "savedata.email"=""></div><div class="actions float"><a id=submit class="button red modal-close" ng-click=submitAndGoToCheckout() translate="">SUBMIT_AND_GOTO_CHECKOUT</a> <a id=cancel class="button blank modal-close" ng-click=ignoreAndGoToCheckout() translate="">IGNORE_AND_GOTO_CHECKOUT</a></div></form></div>'),t.put("/assets/partials/workManagement/rvWorkManagement.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><div id=workManagementContainer role=main class="nested-view view-current"><div ui-view="" class=main-view></div></div>'),t.put("/assets/partials/workManagement/rvWorkManagementLanding.html",'<div ng-include="\'/assets/partials/common/header.html\'"></div><section id=work-management-header class=worksheet-header><div class="entry date"><label for=worksheet-date translate="">DATE</label><div class=entry-data><input id=worksheet-date type=text placeholder="{{stateVariables.viewingDate.date | date : \'dd MMMM yyyy\'}}" readonly="" value={{currentFilterData.selected_date_range}} class=datepicker ng-click="showCalendar(\'RVWorkManagementSearchDatePickerController\')"> <strong class=day>{{stateVariables.viewingDate.date | date: \'dd\'}}</strong> <span class=month>{{stateVariables.viewingDate.date | date: \'MMMM\'}}</span> <span class=year>{{stateVariables.viewingDate.date | date: \'yyyy\'}}</span></div></div><div class="entry actions"><div class=action><label translate="">RE_SET</label> <button type=button class="button white with-icon only-icon" ng-click=resetView()><span class="icons icon-reset"></span></button></div></div></section><section id=work-management class="content scrollable" role=main ng-if="!stateVariables.searching && !stateVariables.noSearchResults" ng-iscroll=work_management ng-iscroll-delay=500><div class=wrapper><div class=work-type ng-repeat-start="workType in workStats.work_types" ng-init="showTasks = false" ng-class="{ \'first\': $first, \'last\': $last }"><h3 class=toggle ng-click=toggleTasksList(workType) ng-class="{ \'active\': workType.showTasks, \'has-arrow\': workType.tasks.length }">{{workType.name}}</h3><ul ng-if=$first><li data-translate=TOTAL_HOURS data-translate-values="{ totalHours: workType.total_hours}"></li><li data-translate=TOTAL_STAFF data-translate-values="{ totalStaff: workType.total_staff}"></li><li data-translate=TOTAL_ROOMS data-translate-values="{ totalRooms: workType.total_rooms}"></li><li data-translate=ROOMS_ASSIGNED data-translate-values="{ cssClass: workType.css_class, totalRoomsAssigned: workType.total_rooms_assigned }"></li><li data-translate=ROOMS_COMPLETED data-translate-values="{ cssClass: workType.css_class, totalRoomsCompleted: workType.total_rooms_completed }"></li></ul><ul ng-if=!$first><li><span>{{workType.total_hours}}</span></li><li><span>{{workType.total_staff}}</span></li><li><span>{{workType.total_rooms}}</span></li><li><span class="{{ workType.css_class }}">{{workType.total_rooms_assigned}}</span></li><li><span class="{{ workType.css_class }}">{{workType.total_rooms_completed}}</span></li></ul></div><div class=task-details ng-repeat-end="" ng-class="{ \'hidden\': !workType.showTasks }"><div class=task ng-repeat="task in workType.tasks"><h4>{{task.name}}</h4><ul><li><span>{{ task.total_hours }}</span></li><li><span>{{ task.total_staff }}</span></li><li><span>{{ task.total_rooms }}</span></li><li><span class="{{ task.css_class }}">{{ task.total_rooms_assigned }}</span></li><li><span class="{{ task.css_class }}">{{ task.total_rooms_completed }}</span></li></ul></div></div><button type=button class="button blue" ng-click=navigateToMultiSheet() translate="">MANAGE_WS</button></div></section>'),t.put("/assets/partials/workManagement/rvWorkManagementMultiSheet.html",'<section id=worksheet-content class=content role=main><div class=worksheet-error-msg ng-include="\'/assets/partials/common/notification_message.html\'"></div><ul class="worksheet-content for-lone-task"></ul><section class=worksheet-header><div class="entry date"><label for=worksheet-date translate="">DATE</label><div class=entry-data ng-click="showCalendar(\'RVWorkManagementMultiDatePickerController\')"><input name=worksheet-date id=worksheet-date type=text class=datepicker value={date} readonly=""> <strong id=worksheet-date-day class=day>{{multiSheetState.selectedDate | date : \'dd\'}}</strong> <span id=worksheet-date-month class=month>{{multiSheetState.selectedDate | date : \'MMMM\'}}</span> <span id=worksheet-date-year class=year>{{multiSheetState.selectedDate | date : \'yyyy\'}}</span></div></div><div class="entry employees"><label for=worksheet-employees translate="">ALL_EMPLOYEES</label><div multi-select="" custom-template=workmanagement input-model=employeeList button-label=maid_name item-label=maid_name max-labels=0 on-item-click=selectEmployee() on-open=onEmployeeListOpen(employeeList) on-close=onEmployeeListClosed() tick-property=ticked disable-property=checkboxDisabled scroller=multiSelectWorkSheet></div></div><div class="entry task"><label for=work-type translate="">WORK_TYPE</label><div class=select><select id=work-type ng-model=multiSheetState.header.work_type_id><option value="" selected="" translate="">SHOW_ALL_WORK_TYPES</option><option ng-repeat="workType in workTypes" value={{workType.id}} ng-if=workType.is_active>{{workType.name}}</option></select></div></div><div class="entry actions"><div class=action ng-hide=workSheetChanged><label translate="">PRINT</label> <button type=button class="button blue with-icon only-icon" ng-click=openPrintWorkSheetPopup()><span class="icons icon-print"></span></button></div><div class=action><label translate="">RE_SET</label> <button type=button class="button white with-icon only-icon" ng-disabled=shouldDisableResetButton() ng-click=resetWorkAssignments() ng-class="{\'overlay\': shouldDisableResetButton()}"><span class="icons icon-reset"></span></button></div><div class=action ng-show=workSheetChanged><label translate="">SAVE</label> <button type=button class="button green with-icon only-icon" ng-click=saveMultiSheet()><span class="icons icon-ok-20"></span></button></div></div></section><section id=unassigned-rooms><h2 translate="">UNASSIGNED</h2><button type=button class="button orange" ng-click=executeAutoAssign()>{{\'AUTO_ASSIGN\' | translate}}</button> <button type=button class="button white with-icon only-icon" ng-click=showFilter()><span class="icons icon-filter"></span> {{\'FILTER_ROOMS\' | translate}}</button><div id=worksheet-unassigned class="worksheet-content scrollable" ng-iscroll=unAssignedRoomList data-drop=true jqyoui-droppable="{multiple:true, onDrop:\'dropToUnassign(event, dropped)\'}" data-jqyoui-options="{accept: \'#assigned-rooms .worksheet-task\'}"><div class=wrapper><ul class="worksheet-room sortable" ng-repeat="(roomIndex, room) in multiSheetState.unassignedFiltered" ng-hide=!room.show><li class="worksheet-task multi-sheet unassigned" iscroll-stop-propagation="" ng-repeat="task in room.room_tasks" ng-if="!(multiSheetState.header.work_type_id && task.work_type_id != multiSheetState.header.work_type_id)" id="unassigned-UA-{{ roomIndex }}-{{ $index }}" data-drag={{multiSheetState.dndEnabled}} jqyoui-draggable="{index: {{$index}}, animate:false, onStart:\'dragStart()\', onStop:\'dragDrop()\', onDrag:\'userDragging()\'}" data-jqyoui-options="{revert: \'invalid\', helper:\'clone\', appendTo:\'#worksheet-content .for-lone-task\'}"><div class=info><span ng-class=getReservationStatusClass(multiSheetState.allRooms[room.room_index]) ng-bind=getReservationStatusValue(multiSheetState.allRooms[room.room_index])></span> <span ng-class=getCurrentStatusClass(multiSheetState.allRooms[room.room_index])>{{ getHKStatus(multiSheetState.allRooms[room.room_index].current_status) }}</span></div><span class=room-type>{{getRoomType(room.room_type)}}</span><h3><span class="icons icon-suite" ng-if=multiSheetState.allRooms[room.room_index].is_suite translate="">SUITE_ROOM</span> {{task.room_no}} <span ng-if=multiSheetState.allRooms[room.room_index].is_queued class="icons icon-queued has-time">Queued <span class=time pretty-time-ago=multiSheetState.allRooms[room.room_index].is_queued_till></span></span></h3><span class=task>{{task.task_name}}</span><div class=print-date ng-show="multiSheetState.allRooms[room.room_index].fo_status === \'OCCUPIED\'"><div class=arrival-date><span class="guest-status check-in">check-in</span><time datetime={{multiSheetState.allRooms[room.room_index].arrival_date}}>{{formatDateForUI(multiSheetState.allRooms[room.room_index].arrival_date)}}</time></div><div class=departure-date><span class="guest-status check-out">check-out</span><time datetime={{multiSheetState.allRooms[room.room_index].dep_date}}>{{formatDateForUI(multiSheetState.allRooms[room.room_index].dep_date)}}</time></div></div></li></ul></div></div></section><section id=assigned-rooms class=no-content ng-if="multiSheetState.selectedEmployees.length === 0"><div class=info><span class="icon-no-content icon-housekeeping"></span> <strong class=h1 translate="">NO_EMPLOYEES_SELECTED</strong> <span class=h2 translate="">SELECT_EMPLOYEES_TO_ASSIGN</span></div></section><section id=assigned-rooms class=scrollable ng-if="multiSheetState.selectedEmployees.length > 0" ng-iscroll=worksheetHorizontal><div class=wrapper style="width: {{getWidthForWorkSheetContent()}};"><div class=employee ng-repeat="(empIndex, employee) in multiSheetState.selectedEmployees"><div class=totals><h2>{{employee.display_name}}</h2><ul><li><span class=value ng-class="{ \'red\': multiSheetState.summary[employee.id].timeAllocated > multiSheetState.summary[employee.id].shiftLength }">{{ multiSheetState.summary[employee.id].timeAllocated }}</span> <span class=total>{{ multiSheetState.summary[employee.id].shiftLength }}</span></li><li><span class=value>{{ multiSheetState.summary[employee.id].tasksCompleted }}</span> <span class=total>{{ multiSheetState.summary[employee.id].tasksAssigned }}</span></li></ul></div><div id="{{ empIndex }}-{{ employee.id }}" class="worksheet-content scrollable" data-drop=true jqyoui-droppable="{multiple:true, onDrop:\'dropToAssign(event, dropped)\'}" data-jqyoui-options="{accept: \'#assigned-rooms .worksheet-task, #unassigned-rooms .worksheet-task\'}" ng-iscroll=assignedRoomList-{{employee.id}}><div class=wrapper><ul class=worksheet-room ng-repeat="(roomIndex, room) in employee.rooms track by $index"><li class=worksheet-task id="assigned-{{ empIndex }}-{{ roomIndex }}-{{ $index }}" iscroll-stop-propagation="" ng-repeat="task in room.room_tasks track by $index" ng-if="!(multiSheetState.header.work_type_id && task.work_type_id != multiSheetState.header.work_type_id)" ng-class="{ \'completed-task\': task.is_completed}" data-drag={{multiSheetState.dndEnabled}} jqyoui-draggable="{index: {{$index}}, animate:false, onStart:\'dragStart()\', onStop:\'dragDrop()\', onDrag:\'userDragging()\' }" data-jqyoui-options="{revert: \'invalid\', helper:\'clone\', appendTo:\'#worksheet-content .for-lone-task\', cancel: \'.completed-task\'}" emit-when="{event: \'ALL_RENDER_COMPLETE\', condition: ($parent.$parent.$last && $parent.$last && $last)}"><div class=info><span ng-class=getReservationStatusClass(multiSheetState.allRooms[room.room_index]) ng-bind=getReservationStatusValue(multiSheetState.allRooms[room.room_index])></span> <span ng-class=getCurrentStatusClass(multiSheetState.allRooms[room.room_index])>{{ getHKStatus(multiSheetState.allRooms[room.room_index].current_status) }}</span></div><span class=room-type ng-class="{\'no-print\': getFirstFilteredTaskId(multiSheetState.header.work_type_id, task.work_type_id, room.room_tasks) !== task.id}">{{getRoomType(room.room_type)}}</span><h3><span class="icons icon-suite" ng-show=multiSheetState.allRooms[room.room_index].is_suite translate="">SUITE_ROOM</span> {{task.room_no}} <span class="icons icon-queued has-time" ng-show=multiSheetState.allRooms[room.room_index].is_queued>Queued <span class=time pretty-time-ago=multiSheetState.allRooms[room.room_index].is_queued_till></span></span></h3><span class=task>{{task.task_name}}</span><div class=print-date ng-show="multiSheetState.allRooms[room.room_index].fo_status === \'OCCUPIED\'"><div class=arrival-date><span class="guest-status check-in" translate="">CHECK_IN</span><time datetime={{multiSheetState.allRooms[room.room_index].arrival_date}}>{{formatDateForUI(multiSheetState.allRooms[room.room_index].arrival_date)}}</time></div><div class=departure-date><span class="guest-status check-out" translate="">CHECK_OUT</span><time datetime={{multiSheetState.allRooms[room.room_index].dep_date}}>{{formatDateForUI(multiSheetState.allRooms[room.room_index].dep_date)}}</time></div></div><span class="icons icon-ok-10" ng-show=task.is_completed></span><span class="icons icon-ok-10 no-icon" ng-show=!task.is_completed></span></li></ul></div></div><button type=button class="remove-tasks no-print" ng-click=unassignAllTasks(employee.id) ng-if=shouldShowRemoveTasksButton(employee.rooms)>Remove all tasks from sheet</button></div></div></section></section>'),t.put("/assets/partials/workManagement/rvWorkManagementSingleSheet.html",'<section id=worksheet-content class="content worksheets single" role=main><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><form method=post action="" id=worksheet-header name=worksheet-header class=worksheet-header><div class="entry maid"><label for=worksheet-employee translate="">EMP</label><div class=select><select ng-model=singleState.workSheet.user_id ng-options="employee.id as employee.maid_name for employee in employeeList" id=worksheet-employee name=worksheet-employee><option value="">{{\'SELECT_EMPLOYEE\'| translate}}</option></select></div></div><div class="entry task"><label for=worksheet-work-type translate="">TASK</label><div class=select><select ng-model=singleState.workSheet.work_type_id ng-options="workType.id as workType.name for workType in workTypes" id=worksheet-work-type name=worksheet-work-type></select></div></div><div class="entry shift"><label for=worksheet-shift translate="">SHIFT</label><div class=select><select ng-model=singleState.workSheet.shift_id ng-options="shift.id as shift.display_name for shift in shifts" id=worksheet-shift name=worksheet-shift></select></div></div><div class=actions><button type=button class="button button white with-icon only-icon" ng-click=refreshSheet()><span class="icons icon-reset"></span></button> <button type=button class="button grey" ng-click=printWorkSheet()>{{\'PRINT\' | translate}}</button> <button type=button class="button red" ng-click=deletWorkSheet()>{{\'DELETE\' | translate}}</button></div></form><div class="unassigned-rooms single-sheet"><h2 translate="">UNASSIGNED ROOMS</h2><a ng-click=showFilter() class="filter button open-modal white with-icon only-icon"><span class="icons icon-filter"></span> {{\'FILTER_ROOMS\' | translate}}</a><div class=worksheet-actions ng-if=false><div class=select><select id=worksheet-unassigned-room-status ng-model=singleState.filters.selectedStatus ng-class="{\'placeholder\': !singleState.filters.selectedFloor}" name=worksheet-unassigned-room-status ng-change=startLoader();filterRooms();><option value="" selected="">{{ \'ALL_UNASSIGNED\'| translate}}</option><option value=DIRTY>{{ \'UNASSIGNED\'| translate}} &amp; Dirty</option><option value=PICKUP>{{\'UNASSIGNED\' | translate}} &amp; Pickup</option></select></div><div class=select><select id=worksheet-unassigned-floor name=worksheet-unassigned-floor ng-model=singleState.filters.selectedFloor ng-class="{\'placeholder\': !singleState.filters.selectedFloor}" ng-options="floor.floor_number as floor.description for floor in floors" ng-change=startLoader();filterRooms();><option value="" selected="">{{ \'ALL_FLOORS\'| translate}}</option></select></div></div><div id=worksheet-unassigned-rooms class="worksheet-content scrollable" ng-iscroll=workSheetUnassigned data-type=source data-drop=true jqyoui-droppable="{multiple:true, onDrop:\'dropToUnassign(event, dropped)\'}" data-jqyoui-options="{accept: \'.worksheet-room.single-sheet.assigned\'}"><ul class="sortable wrapper"><li iscroll-stop-propagation="" id=unassigned-{{$index}} class="worksheet-room single-sheet unassigned" ng-repeat="room in singleState.unassignedFiltered" data-drag=true jqyoui-draggable="{index: {{$index}}, animate:false, onStart: \'onAssignmentDragStart()\', onStop: \'onAssignmentDragStop()\' }" data-jqyoui-options="{revert: \'invalid\', helper:\'clone\', appendTo:\'#worksheet-content\', containment: \'#worksheet-content\'}"><h3 class="{{room.current_status | lowercase}}"><span ng-show=NOT_NOW class="icons icon-suite">Suite room</span> {{room.room_no}} <span ng-show=NOT_NOW class="icons icon-queued has-time">Queued <span class=time pretty-time-span=room.is_queued_till></span></span></h3><div class=reservation-status><div class="current {{departureClass[room.reservation_status]}}"><span class="guest-status {{departureClass[room.reservation_status]}}">{{room.reservation_status}}</span><span ng-if="room.reservation_status == \'Due out\' && !room.checkout_time">DUE OUT</span> <span ng-if="room.reservation_status == \'Due out\' && !!room.checkout_time">{{ room.checkout_time}}</span> <span ng-if="room.reservation_status == \'Departed\' || room.reservation_status == \'Departed / Arrival\'" translate="">OUT</span> <span ng-if="room.reservation_status != \'Due out\' && room.reservation_status != \'Departed / Arrival\' && room.reservation_status != \'Departed\' && departureClass[room.reservation_status] == \'check-out\' &&!!room.checkout_time">{{ room.checkout_time }}</span> <span ng-if="room.reservation_status != \'Due out\' && room.reservation_status != \'Departed\' && departureClass[room.reservation_status] == \'check-out\' && !room.checkout_time">DUE OUT</span></div><div class="next {{arrivalClass[room.reservation_status]}}"><span class="guest-status {{arrivalClass[room.reservation_status]}}">{{room.reservation_status}}</span><span ng-if="room.reservation_status == \'Arrived\'">IN</span> <span ng-if="room.reservation_status == \'Arrival\' && !room.checkin_time">ARRIVAL</span> <span ng-if="room.reservation_status == \'Arrival\' && !!room.checkin_time">{{ room.checkin_time }}</span> <span ng-if="room.reservation_status != \'Arrival\' && room.reservation_status != \'Arrived\' && arrivalClass[room.reservation_status] == \'check-in\' && !!room.checkin_time">{{ room.checkin_time}}</span> <span ng-if="room.reservation_status != \'Arrival\' && room.reservation_status != \'Arrived\' && arrivalClass[room.reservation_status] == \'check-in\' && !room.checkin_time">IN</span></div></div><span class=vip ng-show=room.is_vip translate="">VIP</span><span ng-show=room.is_queued class="icon icon-queued">Room queued</span> <button type=button class="button green" ng-click=assignRoom(room) translate="">ASSIGN_LABEL</button></li></ul></div></div><div class="assigned-rooms single-sheet"><h2>Assigned</h2><ul class="worksheet-summary show-on-print"><li ng-bind="idToVal(singleState.workSheet.user_id, \'maid_name\', employeeList)"></li><li ng-bind="idToVal(singleState.workSheet.work_type_id, \'name\', workTypes)"></li></ul><ul class=worksheet-summary><li class=shift><strong class=title>{{\'TIME_ALLOCATED\' | translate}}</strong> <span class=value>{{ singleState.summary.timeAllocated }}</span></li><li class=departures><strong class=title>{{\'DASHBOARD_SEARCH_CHECKINGOUT\' | translate}}</strong> <span class=value>{{singleState.summary.departures}}</span></li><li class=stayovers><strong class=title>{{\'STAYOVERS\' | translate}}</strong> <span class=value>{{ singleState.summary.stayovers }}</span></li><li class=completed><strong class=title>{{\'COMPLETED\' | translate}}</strong> <span class=value>{{ singleState.summary.completed }}</span> <span class=delimiter>|</span> <span class=total>{{ singleState.assigned.length }}</span></li></ul><div id=worksheet-assigned-rooms class="worksheet-content scrollable" data-drop=true jqyoui-droppable="{multiple:true, onDrop:\'dropToAssign(event, dropped)\'}" data-jqyoui-options="{accept: \'.worksheet-room.single-sheet.unassigned\'}" ng-iscroll=workSheetAssigned><section><ul class="sortable wrapper placeholder" ng-if="singleState.assigned.length === 0"></ul><div id=initial-no-content class=no-content ng-if="singleState.assigned.length === 0"><div class=info><span class="icon-no-content icon-housekeeping"></span> <strong class=h1 translate="">NO_ROOM_ASSIGNED</strong> <span class=h2 translate="">DRAG_DROP_TO_ASSIGN</span></div></div><ul class="sortable wrapper" ng-if="singleState.assigned.length > 0" data-type=source data-drop=true jqyoui-droppable={multiple:true} data-jqyoui-options="{accept:\'.worksheet-room.single-sheet.unassigned\'}"><li iscroll-stop-propagation="" class="worksheet-room single-sheet assigned" ng-repeat="room in singleState.assigned" data-drag=true jqyoui-draggable="{index: {{$index}}, animate:false, onStart: \'onUnassignmentDragStart()\', onStop: \'onUnassignmentDragStop()\' }" data-jqyoui-options="{revert: \'invalid\', helper:\'clone\', appendTo:\'#worksheet-content\', containment: \'#worksheet-content\'}" id=unassigned-{{$index}}><h3 class="{{room.current_status | lowercase}}">{{room.room_no}}</h3><div class=reservation-status><div class="current {{departureClass[room.reservation_status]}}"><span class="guest-status {{departureClass[room.reservation_status]}}">{{room.reservation_status}}</span><span ng-if="room.reservation_status == \'Due out\' && !room.checkout_time">DUE OUT</span> <span ng-if="room.reservation_status == \'Due out\' && !!room.checkout_time">{{ room.checkout_time}}</span> <span ng-if="room.reservation_status == \'Departed\' || room.reservation_status == \'Departed / Arrival\'" translate="">OUT</span> <span ng-if="room.reservation_status != \'Due out\' && room.reservation_status != \'Departed / Arrival\' && room.reservation_status != \'Departed\' && departureClass[room.reservation_status] == \'check-out\' &&!!room.checkout_time">{{ room.checkout_time }}</span> <span ng-if="room.reservation_status != \'Due out\' && room.reservation_status != \'Departed\' && departureClass[room.reservation_status] == \'check-out\' && !room.checkout_time">DUE OUT</span></div><div class="next {{arrivalClass[room.reservation_status]}}"><span class="guest-status {{arrivalClass[room.reservation_status]}}">{{room.reservation_status}}</span><span ng-if="room.reservation_status == \'Arrived\'">IN</span> <span ng-if="room.reservation_status == \'Arrival\' && !room.checkin_time">ARRIVAL</span> <span ng-if="room.reservation_status == \'Arrival\' && !!room.checkin_time">{{ room.checkin_time }}</span> <span ng-if="room.reservation_status != \'Arrival\' && room.reservation_status != \'Arrived\' && arrivalClass[room.reservation_status] == \'check-in\' && !!room.checkin_time">{{ room.checkin_time}}</span> <span ng-if="room.reservation_status != \'Arrival\' && room.reservation_status != \'Arrived\' && arrivalClass[room.reservation_status] == \'check-in\' && !room.checkin_time">IN</span></div></div><span class=vip ng-show=room.is_vip translate="">VIP</span><span ng-show=room.is_queued class="icon icon-queued">Room queued</span><button ng-hide="room.current_status == \'INSPECTED\' || room.current_status == \'CLEAN\'" type=button class="button red" ng-click=unAssignRoom(room)>Unassign Room</button><span class=no-action ng-show="room.current_status == \'INSPECTED\' || room.current_status == \'CLEAN\'">Room {{room.current_status}}</span></li></ul></section></div></div></section>'),t.put("/assets/partials/workstation/rvWorkstationPopup.html",'<div id=modal class=modal-show role=dialog ng-cloak=""><div class="modal-content form admin-form"><strong class="h2 message" translate="">ADD_NEW_WORKSTATION</strong><div ng-include="\'/assets/partials/common/notification_err_message_basic.html\'"></div><div class="entry full-width"><label for=name>{{\'WORKSTATION_NAME\' | translate}}<strong>*</strong></label> <input id=name placeholder="{{\'WORKSTATION_NAME_PLACEHOLDER\' | translate }}" ng-model=mapping.name type=text></div><div class="entry full-width"><label for=email>{{\'WORKSTATION_ID\' | translate}}<strong>*</strong></label><input id=id placeholder="{{\'WORKSTATION_ID_PLACEHOLDER\' | translate }}" value="" type=text ng-model=mapping.station_identifier></div><div class="entry full-width"><label for=emv translate="">EMV_TERMINAL</label><div class=select><select id=emv class=placeholder ng-options="emv.id as emv.name for emv in emv_terminals" ng-model=mapping.selectedEmvTerminal><option style=display:none value="" translate="">TERMINAL_DEFAULT_OPTION</option></select></div></div><div class="entry full-width"><label for=key translate="">KEY_ENCODER</label><div class=select><select id=emv class=placeholder ng-options="encoder.id as encoder.description for encoder in key_encoders | filter:{enabled: true}" ng-model=mapping.selectedKeyEncoder><option style=display:none value="" translate="">KEY_ENCODER_DEFAULT_OPTION</option></select></div></div><div class="actions float"><button type=button class="button green" ng-click=saveWorkStation() translate="">ADD_TERMINAL</button></div></div></div>');t.put("/assets/directives/autocomplete/rvAutoCompleteGroups/rvAutoCompleteGroups.html",'<div class="entry full-width"><label for=search-guest-or-room>Group Name</label> <input id=search-guest-or-room type=text autocomplete=off ng-model=groupName placeholder="Search by Group Name."></div>');t.put("/assets/directives/autocomplete/rvAutoCompleteReservations/rvAutoCompleteReservations.html",'<div class="entry full-width"><label for=search-guest-or-room>Guest Name or Room</label> <input id=search-guest-or-room type=text autocomplete=off ng-model=guestName placeholder="Search by Guest Name or Room No."></div>'),t.put("/assets/directives/customExports/durationFilter/durationFilter.html",'<div class=entry-wrapper><div class=entry><label for=duration-field>Field Name</label><div class=select><select id=duration-field class=text-bold ng-model=selectedFirstLevel><option value="">Select a field</option><option ng-repeat="filter in firstLevelData" value={{filter.value}}>{{filter.label}}</option></select></div></div><div class=entry><label for=duration>Duration</label><div class=select><select id=duration ng-model=selectedSecondLevel><option value="">Select duration</option><option ng-repeat="filter in secondLevelData" value={{filter.value}}>{{filter.description}}</option></select></div></div><div class=entry><button class="button white red-text" ng-click=removeFilter()>Remove Duration</button></div></div>'),t.put("/assets/directives/customExports/generalFilter/generalFilter.html",'<div class=entry-wrapper><div class=entry><label for=duration-field>Field Name</label><div class=select><select id=duration-field class=text-bold ng-model=selectedFirstLevel ng-change=onFieldNameChange()><option value="">Select a field</option><option ng-repeat="filter in firstLevelData" value={{filter.value}}>{{filter.label}}</option></select></div></div><div class=entry><label for=duration>General</label><div class=select><select id=duration ng-model=selectedSecondLevel><option value="">Select options</option><option ng-repeat="filter in secondLevelData" value={{filter.value}}>{{filter.label}}</option></select></div></div><div class=entry><button class="button white red-text" ng-click=removeFilter()>Remove Options</button></div></div>'),t.put("/assets/directives/customExports/optionFilter/optionFilter.html",'<div class=entry-wrapper><div class=entry><label for=duration-field>Field Name</label><div class=select><select id=duration-field class=text-bold ng-model=selectedFirstLevel ng-change=onFieldNameChange()><option value="">Select a field</option><option ng-repeat="filter in firstLevelData" value={{filter.value}}>{{filter.label}}</option></select></div></div><multi-option-selection ng-show=isMultiSelect label=Options report=uiChosenReport data=secondLevelData options=options on-update=onSelectboxExpand display-style=entryDisplayStyle></multi-option-selection><div class=entry ng-show=hasDualState><label for=duration-field>Options</label><div class=select><select id=option-field class=text-bold ng-model=selectedSecondLevel><option value="">Select Options</option><option ng-repeat="filter in secondLevelData" value={{filter.value}}>{{filter.label}}</option></select></div></div><div class=entry><button class="button white red-text" ng-click=removeFilter()>Remove Options</button></div></div>'),t.put("/assets/directives/customExports/rangeFilter/rangeFilter.html",'<div class=entry-wrapper ng-show="firstLevelData.length > 0"><div class=entry><label for=options-field>Field Name</label><div class=select><select id=duration-field class=text-bold ng-model=selectedFirstLevel ng-change=onFieldNameChange()><option value="">Select a field</option><option ng-repeat="filter in firstLevelData" value={{filter.value}}>{{filter.label}}</option></select></div></div><div class="entry dual"><label for=range-options>Range Options</label><div class=select><select id=range-options ng-model=selectedSecondLevel><option value="">Select</option><option ng-repeat="filter in secondLevelData" value={{filter.value}} ng-selected="filter.value === selectedSecondLevel">{{filter.label}}</option></select></div><input type=number placeholder="Enter value" ng-model=rangeValue></div><div class=entry><button class="button white red-text" ng-click=removeFilter()>Remove Range</button></div></div>'),t.put("/assets/directives/fileCloudStorage/partials/rvCardNotes.html",'<div class=notes-container><div class="entry no-print"><textarea ng-model=cardData.noteText placeholder="Write a note" rows=4></textarea> <label class="checkbox inline" ng-hide=true><span class="icon-form icon-checkbox"></span> <input value={value} type=checkbox> {{ \'ADD_TO_STAYCARD\' | translate }}</label> <button type=button ng-click=createNewNote() class=button ng-class="{\'brand-colors\': cardData.noteText.trim()!==\'\', \'grey\': cardData.noteText.trim()===\'\'}" ng-disabled="cardData.noteText.trim()===\'\'" ng-style="{\'display\': editingNote === null ? \'block\': \'none\'}" translate="">POST</button> <button type=button class="button brand-colors" ng-class="{\'brand-colors\': cardData.noteText.trim()!==\'\', \'grey\': cardData.noteText.trim()===\'\'}" ng-style="{\'display\': editingNote !== null ? \'block\': \'none\'}" ng-disabled="cardData.noteText.trim()===\'\'" ng-click=updateActiveNote() translate="">SAVE</button> <button type=button class="button blank" ng-show="editingNote!==null" ng-click=cancelEditMode() translate="">CANCEL</button></div><div class="holder scrollable no-print" ng-iscroll=card_notes_scroller><ul class="notes wrapper" ng-show=notes.length><li ng-repeat="note in notes" ng-class="{\'editing\': (editingNote && note.id === editingNote.id)}" ng-click=clickedOnNote(note)><figure class=guest-image><img ng-if="note.posted_user_image_url===\'\'" src=/ui/pms-ui/images/avatar-trans.png alt=""> <img ng-if="note.posted_user_image_url!==\'\'" ng-src={{note.posted_user_image_url}} alt=""></figure><div class=note-title><h4>{{note.posted_user_first_name}} {{note.posted_user_last_name}}</h4><time datetime=""><span class=time>{{note.time}}</span> <span class=date>{{formatDateForUI(note.date)}}</span></time><button type=button class="icons icon-trash" ng-click="deleteCardNote($event, note.id)" translate="">DELETE_POST</button></div><p ng-bind-html=note.text></p></li></ul><div class=no-content ng-show=!notes.length><div class=info><span class="icon-no-content icon-notes"></span> <strong class=h1 translate="">NO_NOTES</strong> <span class=h2 translate="">NO_NOTES_SUB</span></div></div></div></div>'),
t.put("/assets/directives/fileCloudStorage/partials/rvFileCloudFiles.html",'<div class="notes-files scrollable" ng-iscroll=card_file_list_scroller style="height: 100%;" rv-drop-file="" drag-in-progress=cardData.dragInProgress><div class=wrapper><ng-include ng-if="cardData.group_files_by === \'FILE_TYPE\' && !cardData.searchText" src="\'/assets/directives/fileCloudStorage/partials/rvGroupedFilesList.html\'"></ng-include><ul class="files files-file-type" ng-if="cardData.group_files_by !== \'FILE_TYPE\' || cardData.searchText"><li class=file ng-repeat="file in cardData.fileList | orderBy : sortFiles : cardData.sort_files_by === \'NEWLY_ADDED\' | filter: cardData.searchText" ng-class="{\'selected\': file.is_selected}"><label class="checkbox inline" ng-class="{\'hidden\': (!cardData.hasDeleteFilePermission && !cardData.hasDownloadFilePermission)}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': file.is_selected }"></span> <input ng-model=file.is_selected type=checkbox ng-change=fileSelectionChanged()></label><div class="file-container open-modal" ng-click=openFileDetails(file)><div class=file-image><div ng-if=!isImageAndHasThumbNail(file) class=file-icon><span class="icons icon-document {{getIconClass(file.content_type)}}"></span><div class="file-type {{getContentTypeClass(file.content_type)}}">{{file.content_type}}</div></div><img ng-if=isImageAndHasThumbNail(file) ng-src={{file.preview_url}} img-error=""></div><h3 class=file-title>{{file.file_name}}</h3><div class=file-details><div class=file-author>{{file.user}}</div><div class=file-date>{{file.uploaded_at}}</div></div></div></li></ul></div><div class=notes-files-drag ng-class="{ \'hidden\': !cardData.hasUploadFilePermission || (!cardData.dragInProgress && cardData.fileList.length !== 0) || cardData.firstFileFetch }"><div class=notes-files-drag-content ng-if=cardData.hasUploadFilePermission><span class=icon-upload></span><p translate="">DROP_FILES_TO_UPLOAD</p></div></div></div>'),t.put("/assets/directives/fileCloudStorage/partials/rvFileCloudHeader.html",'<div class="" ng-class="{\'tab-header search-form no-print\': cardType !== \'stay_card\', \'notes-files-header search-form\': cardType === \'stay_card\'}"><div class="entry switch" ng-class="{\'hidden\': (cardData.selectedFileList.length !== 0 && !cardData.notesViewOn) || cardType === \'stay_card\'}"><div class="switch-button full-width" ng-class="{\'on\': cardData.notesViewOn}"><input id=gc-notes-switch value=1 type=checkbox checked="" ng-model=cardData.notesViewOn ng-change="screenModeChanged(cardData.notesViewOn ? \'NOTES\' : \'FILES\')"> <label class=data-off><span class=value translate="">NOTES</span> <span class=switch-icon translate="">FILES</span></label> <label class=data-on><span class=switch-icon translate="">NOTES</span> <span class=value translate="">FILES</span></label></div></div><div class=files-selected ng-class="{\'hidden\': (!cardData.hasDeleteFilePermission && !cardData.hasDownloadFilePermission) || cardData.selectedFileList.length === 0 || cardData.notesViewOn}"><strong class=files-count><span class=count>{{cardData.selectedFileList.length}}</span> {{ \'FILES_SELECTED\' | translate }}</strong> <button type=button class="button purple" ng-click=donwloadFiles() ng-if=cardData.hasDownloadFilePermission translate="">DOWNLOAD_SELECTED</button> <button type=button class="button red" ng-click=deleteFiles() ng-if=cardData.hasDeleteFilePermission translate="">DELETE_SELECTED</button></div><div class="entry search" id=file-search ng-class="{\'hidden\': cardData.selectedFileList.length !== 0 || cardData.notesViewOn}"><button id=faux-select-clear-query class=clear-query ng-click="cardData.searchText= \'\'"><span class="icons icon-clear-search">Clear query</span></button> <button type=button name=submit class="icons icon-search">Search</button> <input name=faux-select-query id=faux-select-query class=query ng-model=cardData.searchText placeholder="Search File" autocomplete=off type=search onkeydown="return event.key !== \'Enter\'"></div><div class="entry group-by" ng-class="{\'hidden\': cardData.selectedFileList.length !== 0 || cardData.notesViewOn}"><div class="select with-label"><label for=files-group-by translate="">GROUP_BY</label><select id=files-group-by ng-model=cardData.group_files_by ng-change=filterChanged()><option value=UNGROUPED selected="" translate="">UNGROUPED</option><option value=FILE_TYPE translate="">FILE_TYPE</option></select></div></div><div class="entry sort" ng-class="{\'hidden\': cardData.selectedFileList.length !== 0 || cardData.notesViewOn}"><div class="select with-label"><label for=sort translate="">SORT</label><select id=sort ng-model=cardData.sort_files_by ng-change=filterChanged()><option value=NEWLY_ADDED selected="" translate="">LAST_ADDED</option><option value=FIRST_ADDED translate="">FIRST_ADDED</option></select></div></div><div class="entry add-new" ng-class="{\'hidden\': cardData.selectedFileList.length !== 0 || cardData.notesViewOn || !cardData.hasUploadFilePermission}" ng-if=showAddFile()><label for=add-new-file class=add-new-button><input id=add-new-file type=file ng-model=cardData.newFile.base64 accept=* app-filereader="" multiple="" ng-change=fileUploadCompleted() class=hidden> {{ \'ADD_NEW_FILE\' | translate }}</label></div><div class="entry selection-checkbox" ng-class="{\'hidden\': cardData.selectedFileList.length === 0 || cardData.notesViewOn}"><label class=checkbox ng-click=cancelFileSelection() ng-class="{\'inline\': cardData.selectedFileList.length === 0}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': cardData.selectedFileList.length > 0 }"></span> <input name=file-selection-enabled id=file-selection-enabled type=checkbox> <span class=label-text translate="">CANCEL_FILE_SELECTION</span></label></div></div>'),t.put("/assets/directives/fileCloudStorage/partials/rvFileCloudStorage.html",'<div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><ng-include src="\'/assets/directives/fileCloudStorage/partials/rvFileCloudHeader.html\'" ng-if=showFiles></ng-include><div class=tab-details><div class=notes-container ng-class="{\'hidden\': !cardData.notesViewOn }"><div class="entry no-print"><textarea ng-model=cardData.noteText placeholder="Write a note" rows=4></textarea> <label class="checkbox inline" ng-hide=true><span class="icon-form icon-checkbox"></span> <input value={value} type=checkbox> {{ \'ADD_TO_STAYCARD\' | translate }}</label> <button type=button ng-click=createNewNote() class=button ng-class="{\'brand-colors\': cardData.noteText.trim()!==\'\', \'grey\': cardData.noteText.trim()===\'\'}" ng-disabled="cardData.noteText.trim()===\'\'" ng-style="{\'display\': editingNote === null ? \'block\': \'none\'}" translate="">POST</button> <button type=button class="button brand-colors" ng-class="{\'brand-colors\': cardData.noteText.trim()!==\'\', \'grey\': cardData.noteText.trim()===\'\'}" ng-style="{\'display\': editingNote !== null ? \'block\': \'none\'}" ng-disabled="cardData.noteText.trim()===\'\'" ng-click=updateActiveNote() translate="">SAVE</button> <button type=button class="button blank" ng-show="editingNote!==null" ng-click=cancelEditMode() translate="">CANCEL</button></div><div class="holder scrollable no-print" ng-iscroll=card_notes_scroller><ul class="notes wrapper" ng-show=notes.length><li ng-repeat="note in notes | orderBy: sortByDate: true" ng-class="{\'editing\': (editingNote && note.id === editingNote.id)}" ng-click=clickedOnNote(note)><figure class=guest-image><img ng-if="note.posted_user_image_url===\'\'" src=/ui/pms-ui/images/avatar-trans.png alt=""> <img ng-if="note.posted_user_image_url!==\'\'" ng-src={{note.posted_user_image_url}} alt=""></figure><div class=note-title><h4>{{note.posted_user_first_name}} {{note.posted_user_last_name}}</h4><time datetime=""><span class=time>{{note.time}}</span> <span class=date>{{note.date | date:dateFormat}}</span></time><button type=button class="icons icon-trash" ng-click="deleteCardNote($event, note.id)" translate="">DELETE_POST</button></div><p ng-bind-html=note.text></p></li></ul><div class=no-content ng-show=!notes.length><div class=info><span class="icon-no-content icon-notes"></span> <strong class=h1 translate="">NO_NOTES</strong> <span class=h2>{{noNotesText}}</span></div></div></div></div><div class="notes-files scrollable no-print" ng-class="{\'hidden\': cardData.notesViewOn}" ng-iscroll=card_file_list_scroller style="height: 100%;" rv-drop-file="" drag-in-progress=cardData.dragInProgress><div class=wrapper><ng-include ng-if="cardData.group_files_by === \'FILE_TYPE\' && !cardData.searchText" src="\'/assets/directives/fileCloudStorage/partials/rvGroupedFilesList.html\'"></ng-include><ul class="files files-file-type" ng-if="cardData.group_files_by !== \'FILE_TYPE\' || cardData.searchText"><li class=file ng-repeat="file in cardData.fileList | orderBy : sortFiles : cardData.sort_files_by === \'NEWLY_ADDED\' | filter: cardData.searchText" ng-class="{\'selected\': file.is_selected}"><label class="checkbox inline" ng-class="{\'hidden\': (!cardData.hasDeleteFilePermission && !cardData.hasDownloadFilePermission)}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': file.is_selected }"></span> <input ng-model=file.is_selected type=checkbox ng-change=fileSelectionChanged()></label><div class="file-container open-modal" ng-click=openFileDetails(file)><div class=file-image><div ng-if=!isImageAndHasThumbNail(file) class=file-icon><span class="icons icon-document {{getIconClass(file.content_type)}}"></span><div class="file-type {{getContentTypeClass(file.content_type)}}">{{file.content_type}}</div></div><img ng-if=isImageAndHasThumbNail(file) ng-src={{file.preview_url}} img-error=""></div><h3 class=file-title>{{file.file_name}}</h3><div class=file-details><div class=file-author>{{file.user}}</div><div class=file-date>{{file.uploaded_at}}</div></div></div></li></ul></div><div class=notes-files-drag ng-class="{ \'hidden\': !cardData.hasUploadFilePermission || (!cardData.dragInProgress && cardData.fileList.length !== 0) || cardData.firstFileFetch }"><div class=notes-files-drag-content><span class=icon-upload></span><p translate="">DROP_FILES_TO_UPLOAD</p></div></div></div></div></div>'),t.put("/assets/directives/fileCloudStorage/partials/rvFileDetails.html",'<div id=modal class=modal-show role=dialog><div id=edit-file name=deposit-balance class="modal-content file-edit"><button id=modal-close type=button class=modal-close ng-click=closeFileDetailsPopup();><span class="icons icon-close invert"></span></button><div class=modal-body><div class=file-info><div class=file-image><div class=file-icon><span class="icons icon-document {{getIconClass(selectedFile.content_type)}"></span><div class="file-type {{getContentTypeClass(selectedFile.content_type)}}">{{selectedFile.content_type}}</div></div></div><div class=file-details><div class=file-author>{{selectedFile.user}}</div><div class=file-date>{{selectedFile.uploaded_at}}</div></div><textarea class="file-title disabled" disabled="">{{selectedFile.file_name}}</textarea></div><div class=preview-file ng-if=selectedFile.embed_url style="position: relative;"><iframe ng-src="{{selectedFile.embed_url | trustAsResourceUrl}}"></iframe></div><div class=preview-file ng-if="(selectedFile.preview_url && cardData.cloudType === \'DROP_BOX\' && isImageAndHasThumbNail(selectedFile))" style="position: relative;"><img ng-if="cardData.cloudType === \'DROP_BOX\' && isImageAndHasThumbNail(selectedFile)" ng-src={{selectedFile.preview_url}} img-error="" style="position: absolute; left: 50%; top: 50%; max-height: 70%; max-width: 90%; transform: translate(-50%, -50%);"></div></div><div class=actions><input id=replace-file type=file ng-model=cardData.selectedFile accept=* app-filereader="" ng-change=fileReplaced() class=hidden> <button class="button blue" ng-click=replaceFile(selectedFile) ng-if=cardData.hasUploadFilePermission>Replace File</button> <button class="button purple" ng-click=donwloadFiles(selectedFile) ng-if=cardData.hasDownloadFilePermission>Download File</button> <button class="button red" ng-click=deleteFiles(selectedFile) ng-if=cardData.hasDeleteFilePermission>Delete File</button> <button class="button blank" ng-click=closeFileDetailsPopup()>Cancel</button></div></div></div>'),t.put("/assets/directives/fileCloudStorage/partials/rvGroupedFilesList.html",'<div ng-repeat="fileType in cardData.fileTypes"><h4 class=file-type-title ng-if="cardData.group_files_by === \'FILE_TYPE\'">{{fileType}} <span>({{getFileCount(fileType)}})</span></h4><ul class="files files-file-type"><li class=file ng-if="file.content_type === fileType" ng-repeat="file in cardData.fileList | orderBy : sortFiles : cardData.sort_files_by === \'NEWLY_ADDED\' | filter: cardData.searchText" ng-class="{\'selected\': file.is_selected}"><label class="checkbox inline" ng-class="{\'hidden\': (!cardData.hasDeleteFilePermission && !cardData.hasDownloadFilePermission)}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': file.is_selected }"></span> <input ng-model=file.is_selected type=checkbox ng-change=fileSelectionChanged()></label><div class="file-container open-modal" ng-click=openFileDetails(file)><div class=file-image><div ng-if=!isImageAndHasThumbNail(file) class=file-icon><span class="icons icon-document {{getIconClass(file.content_type)}"></span><div class="file-type {{getContentTypeClass(file.content_type)}}">{{file.content_type}}</div></div><img ng-if=isImageAndHasThumbNail(file) ng-src={{file.preview_url}} img-error=""></div><h3 class=file-title>{{file.file_name}}</h3><div class=file-details><div class=file-author>{{file.user}}</div><div class=file-date>{{file.uploaded_at}}</div></div></div></li></ul></div>'),t.put("/assets/directives/fileCloudStorage/partials/rvReservationCardNotesAndFiles.html",'<div id=modal class=modal-show role=dialog><form method=post action=post-note id=notes class="modal-content form staycard-notes" ng-controller=rvStayCardNotesAndFileCtrl ng-class="{\'show-files\': !cardData.notesViewOn, \'with-files\': showFiles}"><button id=modal-close type=button class="dark-title modal-close" ng-click=closeDialog();><span class="icons icon-close"></span></button><div class=modal-header><h1>{{ showFiles ? \'Notes & Files\' : \'Notes\' }}</h1><strong ng-if=reservationData.reservation_card.room_number>Room {{reservationData.reservation_card.room_number}}</strong><div class=switch ng-if=showFiles><div class="switch-button full-width" ng-class="{ \'on\' : cardData.notesViewOn}"><input id=modal-notes-switch value=1 type=checkbox ng-model=cardData.notesViewOn ng-change="screenModeChanged(cardData.notesViewOn ? \'NOTES\' : \'FILES\')"> <label class=data-off><span class=value translate="">NOTES</span> <span class=switch-icon translate="">FILES</span></label> <label class=data-on><span class=switch-icon translate="">NOTES</span> <span class=value translate="">FILES</span></label></div></div></div><div id=notes-list class=scrollable ng-show=cardData.notesViewOn ng-iscroll=card_notes_scroller><ul class="notes wrapper" ng-show=notes.length><li ng-repeat="note in notes" ng-class="{\'editing\': (editingNote && note.id === editingNote.id)}" ng-click=clickedOnNote(note)><figure class=guest-image><img ng-if="note.posted_user_image_url===\'\'" src=/ui/pms-ui/images/avatar-trans.png alt=""> <img ng-if="note.posted_user_image_url!==\'\'" ng-src={{note.posted_user_image_url}} alt=""></figure><div class=note-title><h4>{{note.posted_user_first_name}} {{note.posted_user_last_name}}</h4><time datetime=""><span class=time>{{note.time}}</span> <span class=date>{{formatDateForUI(note.date)}}</span></time><button type=button class="icons icon-trash" ng-click="deleteCardNote($event, note.id)" translate="">DELETE_POST</button></div><p ng-bind-html=note.text></p></li></ul><div class=no-content ng-show=!notes.length><div class=info><span class="icon-no-content icon-notes"></span> <strong class=h1>No Notes</strong></div></div></div><div class=actions ng-show=cardData.notesViewOn><textarea id=note-content placeholder="Write a note" ng-model=cardData.noteText rows=2></textarea><div class=post><button type=button ng-click=createNewNote() class=button ng-class="{\'brand-colors\': cardData.noteText.trim()!==\'\', \'grey\': cardData.noteText.trim()===\'\'}" ng-disabled="cardData.noteText.trim()===\'\'" ng-style="{\'display\': editingNote === null ? \'block\': \'none\'}" translate="">POST</button> <button type=button class="button brand-colors" ng-class="{\'brand-colors\': cardData.noteText.trim()!==\'\', \'grey\': cardData.noteText.trim()===\'\'}" ng-style="{\'display\': editingNote !== null ? \'block\': \'none\'}" ng-disabled="cardData.noteText.trim()===\'\'" ng-click=updateActiveNote() translate="">SAVE</button> <button type=button class="button blank" ng-show="editingNote!==null" ng-click=cancelEditMode() translate="">CANCEL</button></div></div><ng-include src="\'/assets/directives/fileCloudStorage/partials/rvFileCloudHeader.html\'" ng-if="showFiles && !cardData.notesViewOn"></ng-include><ng-include ng-show=!cardData.notesViewOn src="\'/assets/directives/fileCloudStorage/partials/rvFileCloudFiles.html\'"></ng-include></form></div>'),t.put("/assets/partials/accounts/accountsTab/rvAccountAlertCloseWithBalance.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=onCloseWarningPopup()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">CANNOT_CLOSE_ACCOUNT</span> <button type=button class="button blue modal-close" ng-click=onCloseWarningPopup() translate="">OK</button></div></div>'),t.put("/assets/partials/accounts/accountsTab/rvAccountDemographics.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action="" class="modal-content form demographics" ng-cloak=""><button ng-click=closeDemographicsPopup() ng-hide=accountSummaryData.promptMandatoryDemographics id=modal-close class=modal-close type=button><span class="icons icon-close invert"></span></button> <strong class="h2 message" ng-hide=accountSummaryData.promptMandatoryDemographics>Demographics</strong><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry margin" ng-show=accountSummaryData.demographics.is_use_markets><label for=market>Market</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=market id=market ng-class="{\'placeholder\': !accountConfigData.summary.demographics.market_segment_id}" ng-model=accountConfigData.summary.demographics.market_segment_id><option value="" selected="" translate="">MARKET_PLACEHOLDER</option><option ng-repeat="market in accountSummaryData.demographics.markets" value={{market.value}} ng-selected="market.value == accountConfigData.summary.demographics.market_segment_id">{{market.name}}</option></select></div></div><div class="entry margin" ng-show=accountSummaryData.demographics.is_use_sources><label for=source>Source</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=source id=source ng-class="{\'placeholder\': !accountConfigData.summary.demographics.source_id}" ng-model=accountConfigData.summary.demographics.source_id><option value="" selected="" translate="">SOURCE_PLACEHOLDER</option><option ng-repeat="source in accountSummaryData.demographics.sources" value={{source.value}} ng-selected="source.value == accountConfigData.summary.demographics.source_id">{{source.name}}</option></select></div></div><div class="entry margin" ng-show=accountSummaryData.demographics.is_use_origins><label for=origin>Origin of Booking</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=origin id=origin ng-class="{\'placeholder\': !accountConfigData.summary.demographics.booking_origin_id}" ng-model=accountConfigData.summary.demographics.booking_origin_id><option value="" selected="" translate="">ORIGIN_BOOKING_PLACEHOLDER</option><option ng-repeat="origin in accountSummaryData.demographics.origins" value={{origin.value}} ng-selected="origin.value == accountConfigData.summary.demographics.booking_origin_id">{{origin.name}}</option></select></div></div><div class=actions><button type=button class="button blank" ng-hide=accountSummaryData.promptMandatoryDemographics ng-click=cancelDemographicChanges();closeDemographicsPopup(); translate="">CANCEL</button> <button type=button class=button ng-hide=accountSummaryData.promptMandatoryDemographics ng-disabled=!isDemographicsFormValid(false) ng-class="isDemographicsFormValid(false) ? \'green\' : \'grey\'" ,="" ng-click=saveDemographicsData(); translate="">SAVE</button> <button ng-show=accountSummaryData.promptMandatoryDemographics type=button class=button ng-disabled=!isDemographicsFormValid(false) ng-class="isDemographicsFormValid(false) ? \'green\' : \'grey\'">Save & Continue</button></div></form></div>'),t.put("/assets/partials/accounts/accountsTab/rvAccountDepositRules.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post id=group-deposit-rules name=group-deposit-rules class="modal-content form group-deposit"><button id=modal-close type=button class=modal-close><span class="icons icon-close invert"></span></button> <span class="message h2">Deposit Rules</span><div class=switch-button><input name=deposit-rules id=deposit-rules type=checkbox> <span class=switch-icon></span></div><div class=holder><label>Rule Set</label><div class="rules scrollable"><ul class=wrapper><li><button type=button class="button white open-modal"><strong>{Policy Name}</strong> <em>{Policy Description}</em></button> <span class="icons icon-remove-40">-</span></li>... repeat for all deposit rules</ul></div><button type=button class="add-new-button open-modal">+ Add Deposit Rule</button></div><div class=actions><button type=button class="button blank">Close</button></div></form></div>'),t.put("/assets/partials/accounts/accountsTab/rvAccountsSummary.html",'<form method=post class="form card-tab scrollable" ng-controller=rvAccountSummaryCtrl ng-iscroll=rvAccountSummaryScroller ng-iscroll-delay=500 outside-click-handler=""><div class=wrapper><div class="holder left"><strong class=h3 translate="">ACCOUNT_INFO</strong><div class="entry full-width"><label for=account-name translate="">NAME</label> <input id=account-name ng-model=accountConfigData.summary.posting_account_name type=text></div><div class="entry margin"><label for=account-number translate="">ACCOUNT_NUMBER</label> <input id=account-number ng-disabled=accountConfigData.summary.account_number_locked ng-model=accountConfigData.summary.posting_account_number type=text></div><div class=entry><label for=account-type translate="">ACCOUNT_TYPE</label><div class=select><select iscroll-stop-propagation="" id=account-type ng-model=accountConfigData.summary.posting_account_type ng-change=onAccountTypeModification(); ng-disabled=!!groupConfigData><option value=HOUSE selected="">House</option><option value=GROUP ng-hide=isHourlyRateOn>Group</option></select></div></div><div class="entry full-width" ng-class="{\'overlay\': accountConfigData.summary.posting_account_type === \'GROUP\' || accountConfigData.summary.posting_account_status === \'CLOSED\'}"><label for=account-posting>Open new bill after EOD</label><div class=switch-button ng-class="{\'on\': accountConfigData.summary.posting}"><input id=account-posting type=checkbox ng-model=accountConfigData.summary.posting> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div></div><div class="entry break full-width" ng-if=!groupConfigData><a ng-click=openDemographicsPopup(); class="button white brand-text" translate="">DEMOGRAPHICS</a></div></div><div class="holder right"><strong class=h3>Balance / Status</strong><div class="entry margin"><label for=account-balance translate="">BALANCE</label> <input id=account-balance ng-class="{\'balance-red\' : accountConfigData.summary.balance > 0, \'balance-green\' : accountConfigData.summary.balance <= 0}" value={{getBalanceAmount(accountConfigData.summary.balance)}} type=text readonly=""></div><div class=entry><label for=account-status translate="">STATUS</label><div class=select><select iscroll-stop-propagation="" id=account-status ng-model=accountConfigData.summary.posting_account_status ng-change=onAccountStatusModification();><option value=OPEN selected="">Open</option><option value=CLOSED>Closed</option></select></div></div><div class="entry no-label only-button margin"><button class="button white blue-text" ng-click=openDepositBalanceModal(); ng-disabled=!accountConfigData.summary.posting_account_id ng-class="{\'overlay\': !accountConfigData.summary.posting_account_id}" translate="">BALANCE_DETAILS</button></div><div class="entry no-label only-button" ng-hide=true><button class="button white blue-text" translate="">DEPOSIT_RULES</button></div><strong class="h3 margin" translate="">Notes</strong><div class="entry full-width no-label with-notes"><textarea id=account-notes ng-model=accountSummaryData.newNote placeholder="Write a note" rows=2></textarea> <button type=button class=button ng-class="{\'brand-colors\' : !isInAddMode() && accountSummaryData.newNote.trim()!==\'\' , \'grey\' : isInAddMode() || accountSummaryData.newNote.trim()===\'\'}" ng-click=saveAccountNote() ng-show="accountSummaryData.editingNote===null" translate="">POST</button> <button type=button class=button ng-class="{\'brand-colors\' : !isInAddMode() && accountSummaryData.newNote.trim()!==\'\', \'grey\' : isInAddMode()||accountSummaryData.newNote.trim()===\'\'}" ng-click=updateActiveAccountNote() ng-show="accountSummaryData.editingNote!==null" ng-disabled="accountSummaryData.newNote.trim()===\'\'">Save</button> <button type=button class="button blank" ng-click=cancelEditModeAccountNote() ng-show="accountSummaryData.editingNote!==null">Cancel</button></div><ul class=notes><li ng-repeat="note in accountConfigData.summary.notes" ng-class="{\'editing\': (accountSummaryData.editingNote && note.note_id === accountSummaryData.editingNote.note_id)}" ng-click=clickedOnNote(note)><figure class=guest-image><img src={{note.user_image}} alt=""></figure><div class=note-title><h4>{{note.username}}</h4><time datetime={{note.posted_date}}><span class=time>{{note.posted_date}}</span> <span class=date>{{note.posted_time}}</span></time><button type=button class="icons icon-trash" ng-click="removeAccountNote($event, note.note_id)">Delete post</button></div><p ng-bind-html=note.description></p></li></ul></div></div></form>'),t.put("/assets/partials/accounts/search/rvAccountsSearch.html",'<form method=get action="" name=accounts-search-form id=accounts-search-form class="search-form has-options three-options" role=search ng-class="{\'enable-adding\':shouldShowAddNewButton()}"><div class="entry search"><button id=accounts-clear-query class=clear-query ng-click=clearSearchQuery($event) ng-class="{\'visible\': !isEmpty(query)}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <button type=submit name=submit class="icons icon-search" translate="">SEARCH</button> <input name=accounts-query id=accounts-query class=query placeholder="Search by Account Name, Code" type=search autocomplete=off ng-model=query rv-delay-textbox="" delay=1000 function-to-fire=searchQueryChanged></div><div class="entry options"><div class="select with-label"><label for=account-type>Account Type</label><select id=account-type ng-model=accountType ng-change=search()><option value="" selected="" translate="">ALL_ACCOUNT_TYPE</option><option value=GROUP translate="">GROUP</option><option value=HOUSE translate="">HOUSE</option></select></div><div class="select larger-select with-label"><label for=account-status>Account Status</label><select id=account-status ng-model=status ng-change=search() ng-class="{\'placeholder\': status == \'\'}"><option value="" translate="">ALL_ACCOUNTS</option><option value=OPEN translate="">ACCOUNTS_OPEN</option><option value=CLOSED translate="">ACCOUNTS_CLOSED</option></select></div><label class="checkbox inline" ng-class="{\'checked\':isNonZero}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':isNonZero}"></span> <input type=checkbox checked=checked value={value} ng-model=isNonZero ng-change=search()> Non-Zero Balance</label></div><a ng-click=gotoAddNewAccount() class=add-new-button ng-show=shouldShowAddNewButton() translate="">ACCOUNTS_ADD_NEW</a></form><div><rv-pagination page-options=accountSearchPagination page-data=totalResultCount></rv-pagination></div><section id=find-account class="content scrollable" role=main ng-class="{\'no-pagination\': !shouldShowPagination(), \'no-results\': shouldShowNoResult()}" ng-iscroll=result_showing_area ng-iscroll-delay=1000><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><ul class=search-results><li class=no-content ng-show=isFirstTimeWithNoResult()><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1 translate="">FIND_ACCOUNTS</strong> <span class=h2>{{\'ACCOUNTS_SEARCH_BY\'|translate}} <strong translate="">ACCOUNT_CODE</strong> {{\'OR\'|translate}} <strong translate="">ACCOUNT_NAME</strong></span></div></li><li class=no-content ng-show=shouldShowNoResult()><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1 translate="">NO_MATCHES</strong> <span class=h2>{{\'CHECK_THAT_YOU_DIDNT_MISPELL_THE_\'|translate}}<strong translate="">ACCOUNT_NAME</strong>, <strong translate="">CODE</strong><a ng-show=shouldShowAddNewButton() ng-click=gotoAddNewAccount() class=inline-link translate="">OR_ADD_A_NEW_ACCOUNT</a>.</span></div></li><li class=account ng-show=!shouldShowNoResult() ng-repeat="account in accountList" ngrepeatend="" ngrepeatstarted=""><a ng-click=gotoEditAccountConfiguration(account.id)><div class=data><h2 ng-bind-html="getHighlightedHTML(account.posting_accounts_name, query)"></h2><span class=confirmation ng-bind-html="getHighlightedHTML(account.posting_accounts_number, query)"></span><span class="icons icon-guest-company" ng-hide=isEmpty(account.company)>{{account.company}}</span><span class="icons icon-guest-travelagent" ng-hide=isEmpty(account.travel_agent)>{{account.travel_agent}}</span> <span class="icons icon-group" ng-if=!isEmpty(account.group)>{{account.group}}</span></div><div class=info><strong ng-class=getClassAgainstBalance(account) class=currency-decoration ng-bind-html="account.balance | sntCurrency:this"></strong> <span translate="">BALANCE</span></div><div class=info><strong ng-class=getClassAgainstAccountStatus(account)>{{account.status}}</strong><span>Status</span></div></a></li></ul></div></section>'),t.put("/assets/partials/accounts/transactions/rvAccountDatePicker.html","<div id=modal class=modal-show ng-class=\"{'modal-show': !modalClosing}\"><div ui-date=dateOptions ng-model=date ui-date-format=yy-mm-dd class=ngmodal-uidate-wrap></div></div>"),t.put("/assets/partials/accounts/transactions/rvAccountInvoice.html",'<div class="invoice-logo envelope"><img ng-src={{printData.hotel_logo}} alt=""><br><br><h1>{{printData.hotel_name}}</h1><span ng-bind-html=printData.hotel_address ng-if=printData.show_hotel_address></span> <span ng-if=printData.show_hotel_address><br><strong ng-if=printData.hotel_tax_id>{{printData.translation.tax_id}}:&nbsp;</strong>{{printData.hotel_tax_id}}<br ng-if=printData.hotel_tax_id><strong ng-if=printData.hotel_company_registration_number>{{printData.translation.company_reg_number}}:&nbsp;</strong>{{printData.hotel_company_registration_number}}<br ng-if=printData.hotel_company_registration_number></span> <span class=type>{{printData.invoiceLabel}}</span> <span class=type ng-if="printData.invoice_qr_code_location === \'HEADER\' && ( printData.is_deposit_invoice || !printData.is_informational_invoice ) && printData.qr_code !== \'\' && printData.qr_code !== null"><br><img ng-src={{printData.qr_code}} alt="" class=qr-code></span> <span class=type ng-if="printData.invoice_qr_code_location === \'HEADER\' && !printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice && printData.efsta_fiskal_signature_data.qr_code"><br><img ng-src={{printData.efsta_fiskal_signature_data.qr_code}} alt="" class=qr-code></span> <span class=type ng-if="printData.invoice_qr_code_location === \'HEADER\' && !printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice && printData.is_internal_qr_code && printData.internal_qr_code !== \'\' && printData.internal_qr_code !== null"><br><img ng-src={{printData.internal_qr_code}} alt="" class=qr-code></span></div><div class="info-container account-info"><span ng-if="printData.card_type === \'COMPANY\'"><span>{{printData.company_card_details.name}}</span><br ng-if=printData.company_card_details.name><span ng-bind-html=printData.company_card_details.address></span><br ng-if=printData.company_card_details.address><strong ng-if=printData.company_card_details.tax_id>{{printData.translation.tax_number}}:&nbsp;</strong>{{printData.company_card_details.tax_id}}<br ng-if=printData.company_card_details.tax_id></span> <span ng-if="printData.card_type === \'TRAVELAGENT\'"><span>{{printData.ta_card_details.name}}</span><br ng-if=printData.ta_card_details.name><span ng-bind-html=printData.ta_card_details.address></span><br ng-if=printData.ta_card_details.address><strong ng-if=printData.ta_card_details.tax_id>{{printData.translation.tax_number}}:&nbsp;</strong>{{printData.ta_card_details.tax_id}}<br ng-if=printData.ta_card_details.tax_id></span><div class=info-bottom><div class=info-left ng-if="printData.card_type === \'COMPANY\'"><strong>{{printData.translation.invoice_date}}:&nbsp;</strong>{{printData.invoice_date | date:dateFormat}}<br><span ng-if=printData.should_print_invoice_number><strong><span ng-if=printData.invoice_number_label>{{printData.invoice_number_label}}:</span> <span ng-if=!printData.invoice_number_label>{{printData.translation.invoice_number}}:</span>&nbsp;</strong>{{printData.invoice_number}}<br></span> <span ng-if="printData.should_print_ar_invoice_number && shouldShowArInvoiceNumber && printData.ar_invoice_number"><strong><span ng-if=printData.ar_invoice_number_label>{{printData.ar_invoice_number_label}}:</span> <span ng-if=!printData.ar_invoice_number_label>{{printData.translation.ar_invoice_number}}:</span>&nbsp;</strong>{{printData.ar_invoice_number}}<br></span> <span ng-if="!printData.is_informational_invoice && printData.folio_number && printData.is_print_folio_enabled && ((printData.is_print_ar_invoice_number_enabled && (!printData.is_db_payment_exists || !shouldShowArInvoiceNumber)) || !printData.is_print_ar_invoice_number_enabled)"><strong><span ng-if="!printData.folio_number_label && !printData.is_invoice_void_number_enabled">{{printData.translation.folio_number}}:</span> <span ng-if="printData.folio_number_label && !printData.is_invoice_void_number_enabled">{{printData.folio_number_label}}:</span> <span ng-if="printData.is_invoice_void_number_enabled && !printData.void_number_label">{{printData.translation.void_number}}:</span> <span ng-if="printData.is_invoice_void_number_enabled && printData.void_number_label">{{printData.void_number_label}}:</span></strong>{{printData.folio_number}}<br></span> <span ng-if="printData.has_enabled_invoice_number_sequence && printData.mod_invoice_number && !printData.is_informational_invoice"><strong>{{printData.mod_label}}:&nbsp;</strong>{{printData.mod_invoice_number}}<br></span> <span ng-if="printData.control_code !== \'\' && !printData.is_informational_invoice"><strong>{{printData.translation.control_code}}:&nbsp;</strong> {{printData.control_code | limitTo : 30}}<br></span> <span ng-if="printData.control_unit !== \'\' && !printData.is_informational_invoice"><strong>{{printData.translation.control_unit}}:&nbsp;</strong> {{printData.control_unit}}<br></span> <span ng-if="printData.register_id !== \'\' && isInfrasecActivated && isInfrasecActivatedForWorkstation"><strong>{{printData.translation.register_id}}:&nbsp;</strong> {{printData.register_id}}</span><div ng-if="printData.custom_reference_number != null"><strong>{{printData.translation.reference_number}}:&nbsp;</strong>{{printData.custom_reference_number}}</div><br><strong ng-if=printData.company_card_details.payment_due_in_days>{{printData.translation.payment_due_days}}:&nbsp;</strong>{{printData.company_card_details.payment_due_in_days}}<br ng-if=printData.company_card_details.payment_due_in_days></div><div class=info-left ng-if="printData.card_type === \'TRAVELAGENT\'"><strong>{{printData.translation.invoice_date}}:&nbsp;</strong>{{printData.invoice_date | date:dateFormat}}<br><span ng-if=printData.should_print_invoice_number><strong><span ng-if=printData.invoice_number_label>{{printData.invoice_number_label}}:</span> <span ng-if=!printData.invoice_number_label>{{printData.translation.invoice_number}}:</span>&nbsp;</strong>{{printData.invoice_number}}<br></span> <span ng-if="printData.should_print_ar_invoice_number && shouldShowArInvoiceNumber"><strong><span ng-if=printData.ar_invoice_number_label>{{printData.ar_invoice_number_label}}:</span> <span ng-if=!printData.ar_invoice_number_label>{{printData.translation.ar_invoice_number}}:</span>&nbsp;</strong>{{printData.ar_invoice_number}}<br></span> <span ng-if="!printData.is_informational_invoice && printData.folio_number && printData.is_print_folio_enabled && ((printData.is_print_ar_invoice_number_enabled && (!printData.is_db_payment_exists || !shouldShowArInvoiceNumber)) || !printData.is_print_ar_invoice_number_enabled)"><strong><span ng-if="!printData.folio_number_label && !printData.is_invoice_void_number_enabled">{{printData.translation.folio_number}}:</span> <span ng-if="printData.folio_number_label && !printData.is_invoice_void_number_enabled">{{printData.folio_number_label}}:</span> <span ng-if="printData.is_invoice_void_number_enabled && !printData.void_number_label">{{printData.translation.void_number}}:</span> <span ng-if="printData.is_invoice_void_number_enabled && printData.void_number_label">{{printData.void_number_label}}:</span></strong>{{printData.folio_number}}<br></span> <span ng-if="printData.has_enabled_invoice_number_sequence && printData.mod_invoice_number && !printData.is_informational_invoice"><strong>{{printData.mod_label}}:&nbsp;</strong>{{printData.mod_invoice_number}}<br></span><div ng-if="printData.custom_reference_number != null"><strong>{{printData.translation.custom_reference_number}}:&nbsp;</strong>{{printData.custom_reference_number}}</div><br><strong ng-if=printData.ta_card_details.payment_due_in_days>{{printData.translation.payment_due_days}} :</strong>{{printData.ta_card_details.payment_due_in_days}}<br ng-if=printData.ta_card_details.payment_due_in_days></div><div class=info-right ng-if="printData.card_type === \'COMPANY\'"><strong>{{printData.translation.account_name}}:&nbsp;</strong>{{printData.account_name}}<br><strong ng-if="printData.group_account_contact && printData.is_group">{{printData.translation.account_contact}}:&nbsp;</strong>{{printData.group_account_contact}}<br ng-if="printData.group_account_contact && printData.is_group"><strong ng-if=printData.company_card_details.corporate_id>{{printData.translation.corp_id}}:&nbsp;</strong>{{printData.company_card_details.corporate_id}}<br ng-if=printData.company_card_details.corporate_id><strong ng-if=printData.company_card_details.ar_number>{{printData.translation.ar_number}}:&nbsp;</strong>{{printData.company_card_details.ar_number}}<br ng-if=printData.company_card_details.ar_number><strong ng-if=printData.invoice_currency_code>{{printData.translation.invoice_currency}}:</strong>{{printData.invoice_currency_code}}<br></div><div class=info-right ng-if="printData.card_type === \'TRAVELAGENT\'"><strong>{{printData.translation.account_name}}:&nbsp;</strong>{{printData.account_name}}<br><strong ng-if="printData.group_account_contact && printData.is_group">{{printData.translation.account_contact}}:&nbsp;</strong>{{printData.group_account_contact}}<br ng-if="printData.group_account_contact && printData.is_group"><strong ng-if=printData.ta_card_details.payment_due_in_days>{{printData.translation.payment_due_days}}:&nbsp;</strong>{{printData.ta_card_details.payment_due_in_days}}<br ng-if=printData.ta_card_details.payment_due_in_days><strong ng-if=printData.ta_card_details.iata_no>{{printData.translation.iata_number}}#:&nbsp;</strong>{{printData.ta_card_details.iata_no}}<br ng-if=printData.ta_card_details.iata_no><strong ng-if=printData.ta_card_details.ar_number>{{printData.translation.ar_number}}:&nbsp;</strong>{{printData.ta_card_details.ar_number}}<br ng-if=printData.ta_card_details.ar_number><strong ng-if=printData.invoice_currency_code>{{printData.translation.invoice_currency}}:</strong>{{printData.invoice_currency_code}}<br></div></div></div><div class=invoice-header ng-bind-html=trustAsHtml(printData.custom_text_header)></div><div class=invoice-body><table class=invoice-details><thead><tr><th>{{printData.translation.date_of_charge}}</th><th>{{printData.translation.charge_code}}</th><th>{{printData.translation.charge_description}}</th><th class=align-right>{{printData.translation.charge_amount}}</th><th class=align-right>{{printData.translation.credit_amount}}</th></tr></thead><tfoot><tr><td colspan=4><strong>{{printData.translation.total_charge}}</strong></td><td><strong><span ng-bind-html="printData.bill_transactions_info.total_charge | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.bill_transactions_info.invoice_currency_total_charge !== null"><span ng-bind-html="printData.bill_transactions_info.invoice_currency_total_charge | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td colspan=4><strong>{{printData.translation.total_credits}}</strong></td><td><strong><span ng-bind-html="printData.bill_transactions_info.total_credits | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.bill_transactions_info.invoice_currency_total_credits !== null"><span ng-bind-html="printData.bill_transactions_info.invoice_currency_total_credits | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td colspan=4>{{printData.translation.net_amount}}</td><td><span ng-bind-html="printData.bill_transactions_info.net_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.bill_transactions_info.invoice_currency_net_amount !== null"><span ng-bind-html="printData.bill_transactions_info.invoice_currency_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td colspan=4><strong>{{printData.translation.balance}}</strong></td><td><strong><span ng-bind-html="printData.bill_transactions_info.balance | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.bill_transactions_info.invoice_currency_balance !== null"><span ng-bind-html="printData.bill_transactions_info.invoice_currency_balance | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr ng-if=!printData.has_enabled_extended_tax_breakdown ng-repeat="tax in printData.bill_transactions_info.tax_info"><td colspan=4>{{tax.tax_charge_code_desc}}</td><td><span ng-bind-html="tax.amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && tax.invoice_currency_amount !== null"><span ng-bind-html="tax.invoice_currency_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td colspan=4>{{printData.translation.total_incl_tax}}</td><td><span ng-bind-html="printData.bill_transactions_info.total_incl_tax | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.bill_transactions_info.invoice_currency_total_incl_tax !== null"><span ng-bind-html="printData.bill_transactions_info.invoice_currency_total_incl_tax | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tfoot><tbody><tr ng-repeat="charge in printData.bill_transactions_info.fees_details"><td>{{charge.date | date:dateFormat}}</td><td>{{charge.description.charge_code}}</td><td class=description><strong>{{charge.description.item_description}}</strong> <span>{{charge.description.fees_desc}}</span><div class="converted-currency smaller" ng-if="isMultiCurrencyEnabled && charge.description.rate_conversion_rate && ( charge.rate_currency_credits || charge.description.rate_converted_amount)">{{charge.description.rate_conversion_rate}}</div><div class="converted-currency smaller" ng-if="isMultiCurrencyEnabled && charge.description.rate_converted_amount"><span ng-bind-html="charge.description.rate_converted_amount | sntCurrency:this:charge.description.rate_currency"></span></div><div class="converted-currency smaller" ng-if="isMultiCurrencyEnabled && charge.rate_currency_credits"><span ng-bind-html="charge.rate_currency_credits | sntCurrency:this:charge.description.rate_currency"></span></div><span class=reference>{{charge.reference_text}}</span></td><td class=align-right><span ng-show=!!charge.description.fees_amount><span ng-bind-html="charge.description.fees_amount | sntCurrency:this"></span></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && charge.description.invoice_currency_fees_amount !== null"><span ng-bind-html="charge.description.invoice_currency_fees_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td class=align-right><span ng-show=!!charge.credits><span ng-bind-html="charge.credits | sntCurrency:this"></span></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && charge.invoice_currency_credits !== null"><span ng-bind-html="charge.invoice_currency_credits | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tbody></table></div><table class="invoice-details extended-tax-table" ng-if=printData.has_enabled_extended_tax_breakdown><thead><tr><th class=text-align-left>{{printData.translation.tax_description}}</th><th>{{printData.translation.gross}}</th><th>{{printData.translation.net}}</th><th>{{printData.translation.tax}}</th></tr></thead><tbody><tr ng-repeat="item in printData.extended_tax_breakdown.details"><td class=text-align-left ng-if="item.description === \'Tax Exempt\'">{{ printData.translation.tax_exempt }}</td><td class=text-align-left ng-if="item.description !== \'Tax Exempt\'">{{ item.description }}</td><td><span ng-bind-html="item.gross_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.inv_gross_amount !== null"><span ng-bind-html="item.inv_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.net_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.inv_net_amount !== null"><span ng-bind-html="item.inv_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.tax_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && item.inv_tax_amount !== null"><span ng-bind-html="item.inv_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tbody><tfoot><tr><td class=text-align-left>{{printData.translation.total}}</td><td><span ng-bind-html="printData.extended_tax_breakdown.total_gross_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.extended_tax_breakdown.inv_total_gross_amount !== null"><span ng-bind-html="printData.extended_tax_breakdown.inv_total_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="printData.extended_tax_breakdown.total_net_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.extended_tax_breakdown.inv_total_net_amount !== null"><span ng-bind-html="printData.extended_tax_breakdown.inv_total_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="printData.extended_tax_breakdown.total_tax_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && invoiceCurrencySymbol !== \'\' && printData.extended_tax_breakdown.inv_total_tax_amount !== null"><span ng-bind-html="printData.extended_tax_breakdown.inv_total_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr></tfoot></table><div class=info-container><div class=info-left ng-show="!printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice && !isEmpty(printData.efsta_fiskal_signature_data) && printData.efsta_fiskal_signature_data.qr_code !== \'\' && printData.efsta_fiskal_signature_data.qr_code !== null"><div><strong>{{printData.translation.tse_transaction_id}}:</strong>{{printData.efsta_fiskal_signature_data.t_id}}<br><strong>{{printData.translation.tse_transaction_start}}:</strong>{{printData.efsta_fiskal_signature_data.start_date | date:dateFormat}}<br><strong>{{printData.translation.tse_transaction_end}}:</strong>{{printData.efsta_fiskal_signature_data.end_date | date:dateFormat}}<br><strong>{{printData.translation.tse_serial_number}}:</strong>{{printData.efsta_fiskal_signature_data.serial_number}}<br><strong>{{printData.translation.tse_sign_counter}}:</strong>{{printData.efsta_fiskal_signature_data.sign_counter}}<br><strong>{{printData.translation.tse_signature}}:</strong>{{printData.efsta_fiskal_signature_data.signature}}<br></div></div><div class=info-right><div ng-show="printData.invoice_qr_code_location === \'FOOTER\' && !printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice"><span class=type ng-if=printData.efsta_fiskal_signature_data.qr_code><br><img ng-src={{printData.efsta_fiskal_signature_data.qr_code}} alt="" class=qr-code></span> <span class=type ng-if="printData.is_internal_qr_code && printData.internal_qr_code !== \'\' && printData.internal_qr_code !== null"><br><img ng-src={{printData.internal_qr_code}} alt="" class=qr-code></span></div><div ng-show="printData.invoice_qr_code_location === \'FOOTER\' && (printData.is_deposit_invoice || !printData.is_informational_invoice)"><span class=type ng-if=printData.qr_code><br><img ng-src={{printData.qr_code}} alt="" class=qr-code></span></div></div><div class=info-bottom></div></div><div class="invoice-footer text-center" ng-bind-html=trustAsHtml(printData.ar_invoice_billing_text)></div><div class="invoice-footer text-center" ng-bind-html=trustAsHtml(printData.custom_text_footer)></div>'),
t.put("/assets/partials/accounts/transactions/rvAccountInvoicePromptEmail.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert" ng-init="mailInvoiceTo = \'\'"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class="entry full-width"><label for=invoice-email translate="">EMAIL</label> <input id=invoice-email ng-model=mailInvoiceTo type=text></div><button type=button class="button blue modal-close" ng-click="sendEmail(mailInvoiceTo, ngDialogData.billNumber)" translate="">SEND</button></div></div>'),t.put("/assets/partials/accounts/transactions/rvAccountPaymentModal.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-click=clearErrorMessage() ng-cloak=""><form ng-show="!showArSelection && !showSixPayLoader" class="modal-content form pay-bill" ng-class="{\'select-card\':showCCPage}"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message">{{\'PAY_BILL\' | translate}}<div class=select><select convert-to-number="" name=post-charge-to-bill ng-model=renderData.billNumberSelected ng-change=billNumberChanged()><option ng-repeat="bills in billsArray" value={{bills.bill_number}} ng-selected="{{bills.bill_number == renderData.billNumberSelected}}">{{bills.bill_number}}</option></select></div></strong> <span class=text>Or enter negative amount to make a refund</span><div class=payment-form><snt-payment hotel-config=hotelPaymentConfig workstation-id={{workstation_id}} bill-id=billsArray[renderData.billNumberSelected-1].bill_id payment-types=renderData.paymentTypes selected-payment-type=saveData.paymentType bill-number=renderData.billNumberSelected amount=renderData.defaultPaymentAmount payment-currency-amount=renderData.defaultPaymentCurrencyAmount action-type=GROUP_SUBMIT_PAYMENT posting-account-id=accountConfigData.summary.posting_account_id has-permission=hasPermissionToMakePayment() payment-currency-list=paymentCurrencyList has-payment-rounding=hasPaymentRounding receipts-list=billPaymentReceiptData.receiptsList form-template-url=/assets/partials/payment/rvAccountPaymentPartial.html></snt-payment></div></form><div class="modal-content confirmation" ng-if=showArSelection><span class="h2 message">Post Payment To</span><div class=actions><button type=button class="button blue" ng-click="selectArAccount(\'company\')">Company</button> <button type=button class="button purple" ng-click="selectArAccount(\'travel_agent\')">Travel Agent</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/accounts/transactions/rvAccountTransactions.html",'<form ng-controller=rvAccountTransactionsCtrl id=group-transactions name=group-transactions class="form card-tab inner-header bills" ng-click="errorMessage = \'\';"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div id=account-transaction-header class="tab-header no-print"><ul class=totals><li><div class=data><span class=label translate="">TOTAL_CHARGES</span> <span class=value><span ng-bind-html="transactionsDetails.total_fees | sntCurrency:this"></span></span></div></li><li><div class=data><span class=label translate="">TOTAL_BALANCE</span> <span class=value ng-class="{\'green\': transactionsDetails.total_balance == 0, \'red\': transactionsDetails.total_balance != 0}"><span ng-bind-html="transactionsDetails.total_balance | sntCurrency:this"></span></span></div></li><li><div class=entry><span class=label>Billing Reference No.</span> <input id=account-company ng-model=transactionsDetails.custom_reference_number ng-change=changeBillingReferenceNumber() type=text></div></li><li ng-show="stateParams.activeTab === \'SUMMARY\' || accountConfigData.summary.group.id != \'\'"><button type=button class="button orange" ng-click=openAllowances() translate="">ALLOWANCES</button></li></ul></div><div id=account-transactions-content class=tab-details><div class=no-content ng-show="transactionsDetails.bills.length === 0"><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1 translate="">NO_TRANSACTIONS_MESSAGE</strong></div></div><div class="registration-content scrollable" ng-iscroll=registration-content><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=registration-summary id=registration-summary><div class="bill-tabs scrollable" ng-iscroll=bill-tab-scroller><ul class=wrapper style=width:{{getWidthForBillTabsScroll();}}px;><li ng-class=showActiveBill($index) ng-repeat="billTab in transactionsDetails.bills"><a class=bill-toggle ng-class="{\'has-icon\': !billTab.is_active && (billTab.is_control_code_exist || billTab.is_folio_number_exists)}" click-touch=setActiveBill($index)><div class=price ng-hide="billTab.is_void_bill || billTab.is_voided"><span>{{\'BILL\' |translate}} #{{billTab.bill_number}}</span> <span ng-bind-html="billTab.balance_amount | sntCurrency:this"></span></div><div class=price ng-show=billTab.is_void_bill><span translate="">BILL</span> VOID</div><div class=price ng-show=billTab.is_voided><span translate="">BILL</span> VOIDED</div><span class="icons icon-room-lock" ng-show="!billTab.is_active && (billTab.is_control_code_exist || billTab.is_folio_number_exists)"></span></a> <button ng-if="($index === transactionsDetails.bills.length - 1) && !billTab.is_transactions_exist && !billTab.is_routing_exist" click-touch=clickedRemoveBill($index) type=button class="button icons icon-remove-10"></button></li><li class=new-bill ng-show=isStandAlone><button type=button class="button with-icon only-icon brand-colors" click-touch=createNewBill()><span class="icons icon-plus"></span></button></li></ul></div><div class=bill-summary ng-repeat="billData in transactionsDetails.bills" ng-class="{\'hidden\': $index!=currentActiveBill}"><div class=bill-summary-wrapper><div class=scrollable ng-iscroll=billDays><ul class=wrapper><li class=add-new><button ng-class="{\'overlay\': !billData.is_active }" type=button click-touch=openPostCharge(billData.bill_number) class="button with-icon brand-colors"><span class="icons icon-charge"></span> {{\'ADD_CHARGE\' |translate}}</button> <button type=button class="button with-icon red" ng-show=shouldShowVoidBill() ng-click=clickedVoidBillButton()><span class="icons icon-blocked-white"></span> Void<br>Bill</button></li><li class=go-to-date ng-hide="billData.days.length <= maxNoOfDaysToShow"><button type=button class="button blue with-icon" ng-click=clickedGotoDate()><span class="icons icon-forward"></span> Go to Date</button></li><li class=days ng-class="{\'with-date\': billData.days.length > maxNoOfDaysToShow}"><div class=days-wrapper><ul class=wrapper><li class=active ng-class="{\'today\' : (businessDate === day.date)}" ng-repeat="(index, day) in billData.days" ng-show=day.show click-touch=clickedSummaryDate(day.date)><a class=toggle type=button ng-class="{\'active\' : (billData.activeDate === day.date)}"><span class=day>{{day.date | date:\'MMM\'}} {{day.date | date:\'dd\'}}</span> <span class=price><span ng-bind-html="day.total_amount | sntCurrency:this"></span></span></a></li></ul></div></li></ul></div></div><div class=invoice><ng-include ng-if="invoiceActive && !printGroupProfomaActive" src="\'/assets/partials/accounts/transactions/rvAccountInvoice.html\'"></ng-include></div><div id=invoiceDiv ng-if=printGroupProfomaActive class="invoice invoice-page-break" ng-include="\'/assets/partials/bill/rvPrintGroupProfoma.html\'"></div><div id=invoiceDiv ng-if=printReceiptActive class="invoice invoice-receipt" ng-include="\'/assets/partials/bill/rvPrintReceipt.html\'"></div><div class=total-stay-fees><ul class=group-overview><li><span class=title translate="">CHARGES</span> <span class=value><span ng-bind-html="billData.total_amount | sntCurrency:this"></span></span></li><li class=break><button type=button class="button with-icon only-icon" click-touch="showFormatBillPopup(billData.bill_number, billData.is_active)" ng-class=getInvoiceButtonClass() ng-disabled=isInvoiceButtonDisabled()><span class="icons icon-invoice"></span> {{\'INVOICE\' |translate}}</button></li><li><span class=title translate="">BALANCE</span> <span class=value ng-class="{\'green\': billData.total_fees.balance_amount == 0, \'red\': billData.total_fees.balance_amount != 0}"><span ng-bind-html="billData.balance_amount | sntCurrency:this"></span></span></li><li><button class="button green with-icon only-icon" ng-class="{\'overlay\': !billData.is_active }" click-touch=showPayemntModal()><span class="icons icon-wallet"></span> {{\'PAY\' |translate}}</button></li><li ng-show="billData.is_routed === \'true\'"><span class=title ng-show="billData.payment_details.payment_type != \'CC\'">{{billData.guest_or_company_name}}&nbsp;{{billData.payment_details.payment_type_description}}</span><span class=title ng-show="billData.payment_details.payment_type === \'CC\' && billData.payment_details.payment_type.length >0">{{billData.guest_or_company_name}}&nbsp;{{billData.payment_details.card_number}}</span></li><li><button ng-class="{\'overlay\': !billData.is_active }" type=button class="button with-icon only-icon brand-colors" ng-show="((isAllChargeCodesSelected() || isAnyOneChargeCodeIsExcluded())&& hasMoveToOtherBillPermission())&& isStandAlone" ng-click=moveChargesClicked()><span class="icons icon-move"></span> Move selected</button></li></ul><div class=details><table class=total-fees><thead><tr><th translate="">DATE</th><th translate="">CHARGE_CODE</th><th translate="">DESCRIPTION</th><th translate="">CHARGES</th><th class="credits align-right" translate="">CREDITS</th><th class=form ng-show=showMoveCharges>{{\'BILL\' |translate}} #</th><th class=action translate="">EDIT</th><th class=action><label ng-class="{\'overlay\': !billData.is_active }" class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\':isAllChargeCodesSelected(),\'semi-checked\':isAnyOneChargeCodeIsExcluded()}"></span> <input id=bill-1-all ng-model=transactionsDetails.isAllChargeCodeSelected type=checkbox ng-change=selectAllChargeCodeToggle()></label></th></tr></thead><tfoot><tr class=pagination ng-show="billData.total_count > perPage && billData.transactions.length > 0"><td colspan=8><rv-pagination ng-if=billData.pageOptions page-options=billData.pageOptions page-data=billData.total_count></rv-pagination></td></tr><tr class="active edit"><td colspan=3 class=total-label><button type=button class="button with-icon only-icon blue inline" click-touch="showFormatBillPopup(billData.bill_number, billData.is_active)"><span class="icons icon-invoice"></span> {{\'INVOICE\' |translate}}</button> {{\'CHARGES\' |translate}} ({{\'AS_OF\' |translate}} {{ businessDate | date:dateFormat }}):</td><td colspan=3 class=total-value><strong><span ng-bind-html="billData.total_amount | sntCurrency:this"></span></strong></td><td></td><td></td></tr><tr class="active edit"><td colspan=3 class=total-label>{{\'BALANCE\' |translate}} ({{\'AS_OF\' |translate}} {{ businessDate | date:dateFormat }}):</td><td colspan=3 class=total-value ng-class="{\'green\': billData.total_fees.balance_amount == 0, \'red\': billData.total_fees.balance_amount != 0}"><strong><span ng-bind-html="billData.balance_amount | sntCurrency:this"></span></strong></td><td><button ng-class="{\'overlay\': !billData.is_active }" class="button green with-icon only-icon" click-touch=showPayemntModal()><span class="icons icon-wallet"></span> {{\'PAY\' |translate}}</button></td><td></td></tr></tfoot><tbody><tr class="active edit" ng-repeat="feesData in billData.transactions"><td>{{feesData.date |date:dateFormat}}</td><td><span ng-if=!feesData.is_group_by_ref>{{feesData.charge_code}}<br></span></td><td class=description ng-class="{\'with-reference\': feesData.reference_text != \'\'}"><span class="icons icon-invoice-blue" ng-show="feesData.reference_text != \'\'"></span> <strong ng-if="isStandAlone && !feesData.is_group_by_ref">{{feesData.item_description}}</strong> <strong ng-class="{\'toggle\': isStandAlone && feesData.is_group_by_ref, \'active\': feesData.isExpanded}" ng-click=expandGroupedCharge(feesData) ng-if="isStandAlone && feesData.is_group_by_ref"><span class="icons icon-double-arrow"></span></strong><ul class=charge-items ng-if="isStandAlone && feesData.is_group_by_ref" ng-class="{\'hidden\': !feesData.isExpanded}"><li ng-repeat="item in feesData.light_speed_data"><strong>{{item.description}}</strong> <span class=cost ng-class="{\'fee\': !item.is_payment, \'credit\': item.is_payment }">{{item.amount | number: precisonTwo}}</span></li></ul><span ng-if="isStandAlone && !feesData.is_group_by_ref" class=charge ng-class="{ \'icons edited\' : feesData.is_description_edited }">{{feesData.description}}<br></span> <span ng-show="feesData.reference_text != \'\'" class=reference>{{feesData.reference_text}}</span> <span class=adjusted ng-show="feesData.adjustment_reason && feesData.adjustment_reason !=\'\'"><em>{{\'ADJUSTMENT\' | translate}}</em> - {{feesData.adjustment_reason}}</span></td><td><strong><span ng-show=feesData.fees><span ng-bind-html="feesData.fees | sntCurrency:this"></span></span></strong></td><td class="credits align-right"><strong ng-show=feesData.credits><span ng-bind-html="feesData.credits | sntCurrency:this"></span></strong><button type=button class="button with-icon only-icon blue open-modal inline" ng-click=openReceiptDialog($index) ng-if=feesData.is_print_receipt_available><span class="icons icon-invoice"></span></button></td><td ng-show=showMoveCharges><div class=select ng-class="{\'overlay\': !billData.is_active }"><select ng-change="moveToBillAction(feesData.oldBillValue, $index)" ng-model=feesData.billValue iscroll-stop-propagation=""><option value="" disabled="">Move to bill</option><option value={{billNumbers.bill_number}} ng-selected="billNumbers.bill_number==(currentActiveBill+1)" ng-repeat="billNumbers in transactionsDetails.bills">{{billNumbers.bill_number}}</option><option value={{transactionsDetails.bills.length+1}}>{{transactionsDetails.bills.length+1}} &nbsp;&nbsp;({{\'NEW_BILL\'|translate}})</option></select></div></td><td><button type=button ng-class="{\'overlay\': !billData.is_active }" class="button purple with-icon only-icon" click-touch="openActionsPopup(feesData.id,feesData.description,feesData.fees,feesData.type.value,feesData.credits, feesData.reference_text_on_edit, feesData.show_ref_on_invoice, feesData.show_split_payment)" ng-show=showEditChargeButton(feesData.type.value) ng-if=!feesData.is_group_by_ref><span class="icons icon-pencil"></span> {{\'EDIT\' |translate}}</button></td><td ng-class="{\'overlay\': !billData.is_active }" class=action><label class="checkbox inline" ng-if=(hasMoveToOtherBillPermission())><span class="icon-form icon-checkbox" ng-class="{\'checked\':feesData.isSelected}"></span> <input ng-model=feesData.isSelected type=checkbox></label></td></tr></tbody></table></div></div></div></div></div></div></div></form>'),t.put("/assets/partials/allotments/activity/rvAllotmentActivityTab.html","<div ng-controller=rvAllotmentActivityCtrl><div ng-include=\"'/assets/partials/activityLog/rvActivityLogTemplate.html'\"></div></div>"),t.put("/assets/partials/allotments/details/rvAllotmentAddRoomAndRatesPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action={action} id=allotment-room-and-rates name=allotment-room-and-rates class="modal-content group-rooms"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">ROOM_TYPES_AND_RATES</span><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=allotment-rooms-grid class="rooms-grid scrollable" ng-iscroll=room_type_scroller ng-iscroll-delay=500><div class=wrapper><div class=row ng-repeat="row in selectedRoomTypeAndRates track by $index"><div class=entry-data><div class=room-type><label for=room-type-1-select class=row-count>{{$index+1}}</label><div class=select><select id=room-type-1-select ng-model=row.room_type_id ng-change=changeBestAvailableRate(row) iscroll-stop-propagation="" ng-class="{\'placeholder\': row.room_type_id === \'\'}"><option value="" translate="" ng-selected="row.room_type_id === \'\'">SELECT_ROOM_TYPE</option><option ng-hide="hideRoomType(row.room_type_id, roomType)" ng-repeat="roomType in roomTypes" value={{roomType.room_type_id}} ng-selected="roomType.room_type_id==row.room_type_id">{{roomType.room_type_name}}</option></select></div></div><div class=entry><label for=room-type-1-bar translate="" ng-hide="$index>0">BAR_SINGLE</label> <input id=room-type-1-bar ng-model=row.best_available_rate_amount type=text readonly=""></div><div class=entry><label for=room-type-1-single translate="" ng-hide="$index>0">SINGLE_OCCUPANCY</label> <input id=room-type-1-single ng-model=row.single_rate ng-if="allotmentConfigData.summary.rate == -1" type=text ng-disabled=allotmentConfigData.summary.is_cancelled> <input id=room-type-1-single value={{parseCurrency(row.single_rate)}} ng-if="allotmentConfigData.summary.rate != -1" type=text readonly=""></div><div class=entry><label for=room-type-1-double translate="" ng-hide="$index>0">DOUBLE_OCCUPANCY</label> <input id=room-type-1-double ng-model=row.double_rate ng-if="allotmentConfigData.summary.rate == -1" type=text ng-disabled=allotmentConfigData.summary.is_cancelled> <input id=room-type-1-double value={{parseCurrency(row.double_rate)}} ng-if="allotmentConfigData.summary.rate != -1" type=text readonly=""></div><div class=entry><label for=room-type-1-plus translate="" ng-hide="$index>0">ONE_MORE_ADULT</label> <input id=room-type-1-plus ng-model=row.extra_adult_rate ng-if="allotmentConfigData.summary.rate == -1" type=text ng-disabled=allotmentConfigData.summary.is_cancelled> <input id=room-type-1-plus value={{parseCurrency(row.extra_adult_rate)}} ng-if="allotmentConfigData.summary.rate != -1" type=text readonly=""></div></div><span class="remove-type icons icon-remove-60" ng-class="{\'hidden\': !shouldShowDeleteButton()}" ng-click=deleteRoomTypeAndRatesRow($index)>-</span><span class="add-type icons icon-add-60" ng-class="{\'hidden\': !shouldShowAddNewButton(row)}" ng-click=addNewRoomTypeAndRatesRow()>+</span></div></div></div><div class=actions><button type=button class="button blank" ng-click=clickedOnCancelButton()>Cancel</button> <button type=button class="button green" ng-class="{\'overlay\': allotmentConfigData.summary.is_cancelled}" ng-disabled=allotmentConfigData.summary.is_cancelled ng-click=checkIfAllotmentCustomRateChanged();>Update</button></div></form></div>'),t.put("/assets/partials/allotments/details/rvAllotmentConfigurationRoomBlockTab.html",'<form id=allotment-room-block name=allotment-room-block class="form card-tab inner-header rooms" ng-controller=rvAllotmentRoomBlockCtrl><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div id=allotment-room-block-header class="tab-header with-filters"><div class="entry status" ng-class="{\'hidden\': shouldHideHoldStatus()}"><label for=allotment-grid-view translate="">GRID_VIEW_LABEL</label><div class=select><select id=allotment-grid-view ng-model=activeGridView ng-disabled=shouldDisableGridViewSwitch() ng-change=activeGridViewChanged()><option value=CONTRACT selected="" translate="">CONTRACT</option><option value=CURRENT translate="">CURRENT_STATUS</option><option value=RELEASE translate="">RELEASE_DATES</option></select></div></div><div class="entry date" ng-show=shouldShowRoomBlockActions()><label for=allotment-start-view translate="">GO_TO_DATE</label> <input id=allotment-start-date class=datepicker ui-date=timeLineStartDateOptions rv-set-textbox-value="" listen-this="timeLineStartDate | date:dateFormat" readonly=""></div><div class=actions ng-show=shouldShowRoomBlockActions()><button type=button class="button red" ng-show=shouldShowDiscardButton() ng-click=clickedOnDiscardButton() translate="">DISCARD_CHANGES</button><button type=button class="button green" ng-class="{ \'grey\': shouldDisableApplyToContractButton() }" ng-disabled=shouldDisableApplyToContractButton() ng-show=shouldShowApplyToContractButton() ng-click=clickedOnUpdateContractButton() translate="">UPDATE_CONTRACT</button> <button type=button class="button green" ng-class="{ \'grey\': shouldDisableApplyToCurrrentButton() }" ng-disabled=shouldDisableApplyToCurrrentButton() ng-show=shouldShowApplyToCurrentButton() ng-click=clickedOnUpdateCurrentButton() translate="">UPDATE_CURRENT</button> <button type=button class="button brand-colors" ng-show=shouldShowApplyToHeldCountsButton() ng-click=clickedOnApplyToHeldCountsButton() translate="">APPLY_TO_HELD</button></div></div><div id=allotment-room-block-content class=tab-details><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-include=gridViewTemplateUrl></div></div></form>'),t.put("/assets/partials/allotments/details/rvAllotmentConfirmMassUpdatePopup.html",'<div id=modal ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content form new-worksheet"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">SELECT_END_DATE</span> <span class=notice ng-if="overBookingMessage !=\'\'" translate="">{{overBookingMessage | translate}}</span><div class="entry full-width has-datepicker"><input id=end-date class=datepicker ui-date=massUpdateEndDateOptions rv-set-textbox-value="" listen-this="massUpdateEndDate | date:dateFormat" readonly=""></div><div class=actions><button type=button class=button ng-show=showSaveButton ng-click=clickedOnSaveButton(!!overBookingMessage) ng-disabled=disableButtons ng-class="{ \'grey\': disableButtons, \'green\': !disableButtons }" translate="">SAVE</button> <button type=button class="button blank" ng-click=closeDialog() translate="">CANCEL</button></div></div></div>'),t.put("/assets/partials/allotments/details/rvAllotmentInhouseReservationsExistsPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class=modal-content><span class="h3 message" translate="">INHOUSE_RESERVATIONS_EXISTS_BUT_ARE_EXCLUDED_FROM_THIS_RATE_UPDATE</span> <button id=ok class="button green modal-close" ng-click=saveNewRoomTypesAndRates(); ng-if=!isFromSummary>OK</button> <button id=ok class="button green modal-close" ng-click=updateRate(true) ng-if=isFromSummary>OK</button></div></div>'),t.put("/assets/partials/allotments/details/rvAllotmentNoPermissionOverBookingPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">Room Block exceeds Room Type Availability - no permission to overbook.</span> <button type=button class="button green modal-close" ng-click=closeDialog();>Ok</button></div></div>'),t.put("/assets/partials/allotments/details/rvAllotmentRoomBlockPickedupReservationsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content alert wide"><button id=modal-close type=button class=modal-close ng-click=closeRateChangePromptPopup() ng-if=isFromSummary><span class="icons icon-close invert"></span></button> <button id=modal-close type=button class=modal-close ng-click=closeDialog() ng-if=!isFromSummary><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2" ng-if=!isFromSummary translate="">GROUP_CUSTOM_RATE_HAS_CHANGED</span> <span class="message h2" ng-if=isFromSummary translate="">RATE_HAS_CHANGED</span> <button type=button class="button green modal-close" ng-click=checkIfInhouseReservationsExists(); ng-if=!isFromSummary translate="">APPLY_TO_NEW_AND_EXISTING_RESERVATIONS</button> <button type=button class="button blue modal-close" ng-click=updateRateToNewReservations(); ng-if=!isFromSummary translate="">APPLY_TO_NEW_RESERVATIONS_ONLY</button> <button type=button class="button green modal-close" ng-click=updateRateToNewAndExistingReservations(); ng-if=isFromSummary translate="">APPLY_TO_NEW_AND_EXISTING_RESERVATIONS</button> <button type=button class="button blue modal-close" ng-click=updateRateToNewReservations(); ng-if=isFromSummary translate="">APPLY_TO_NEW_RESERVATIONS_ONLY</button></div></div>'),t.put("/assets/partials/allotments/details/rvAllotmentWarnOverBookingPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">{{ngDialogData.message | translate}}</span> <button type=button class="button green modal-close" ng-click="closeDialog(); saveRoomBlock(true, undefined, true);">Ok</button></div></div>'),t.put("/assets/partials/allotments/notesAndFiles/rvAllotmentsConfigurationNotesAndFiles.html","<rv-file-cloud-storage card-type=allotment card-id={{allotmentConfigData.summary.allotment_id}} show-files=\"isCloudStorageEnabledForCardType('group')\" card-name={{allotmentConfigData.summary.allotment_name}}></rv-file-cloud-storage>"),t.put("/assets/partials/allotments/reservations/rvAllotmentReservationsListTab.html",'<form id=allotment-reservations name=allotment-reservations ng-click=clearErrorMessage() class="form card-tab scrollable rooming-list inner-header" ng-controller=rvAllotmentReservationsListCtrl><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div class=tab-header ng-class="{\'no-print\' : isPrintRegistrationCard}"><div class="search-form has-dates" ng-class="{\'open\': shouldShowAddReservationFields()}"><div class="entry filter"><button type=button class="button icons icon-add-60" ng-click=toggleAddMode() ng-class="{\'icon-add-60\': !shouldShowAddReservationFields(), \'icon-remove-60\': shouldShowAddReservationFields(), \'hidden\' : isCancelledAllotment()}">{{\'ALLOTMENT_ADD_RESERVATIONS\'|translate}}</button></div><div class="entry date-range"><div class=has-datepicker><label for=rooming-date-from translate="">FROM</label> <button class=clear-query ng-class="{\'visible\': !isEmpty(reservationAddFromDate.toString())}" ng-click=clearReservationAddFromDate()><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input id=rooming-date-from type=text class="range-datepicker green" readonly="" rv-clear-text-box="" listen-this=reservationAddFromDate ui-date=reservationAddFromDateOptions value={{reservationAddFromDate|date:dateFormat}}></div><div class=has-datepicker><label for=rooming-date-to translate="">TO</label> <button class=clear-query ng-class="{\'visible\': !isEmpty(reservationAddToDate.toString())}" ng-click=clearReservationAddToDate()><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input id=rooming-date-to type=text class="range-datepicker red" readonly="" ui-date=reservationAddToDateOptions value={{reservationAddToDate|date:dateFormat}} rv-clear-text-box="" listen-this=reservationAddToDate></div></div><div class="entry type"><label for=rooming-room-type>{{\'ALLOTMENT_ROOM_TYPE\'|translate}}</label><div class=select><select id=rooming-room-type ng-model=selectedRoomType ng-change=changedSelectedRoomType() ng-options="item.room_type_id as item.room_type_name+\'(\'+item.availableRoomCount+\')\' for item in roomTypesAndData"></select></div></div><div class="entry occupancy"><label for=rooming-occupancy>{{\'ALLOTMENT_OCCUPANCY\'|translate}}</label><div class=select><select id=rooming-occupancy ng-model=selectedOccupancy><option value=1 ng-show="shouldShowThisOccupancyAgainstRoomType(\'single_occupancy\')">{{\'ALLOTMENT_SINGLE\'|translate}}</option><option value=2 ng-show="shouldShowThisOccupancyAgainstRoomType(\'double_occupancy\')">{{\'ALLOTMENT_DOUBLE\'|translate}}</option><option value=3 ng-show="shouldShowThisOccupancyAgainstRoomType(\'triple_occupancy\')">{{\'ALLOTMENT_TRIPLE\'|translate}}</option><option value=4 ng-show="shouldShowThisOccupancyAgainstRoomType(\'quadruple_occupancy\')">{{\'ALLOTMENT_QUADRUPLE\'|translate}}</option></select></div></div><div class="entry number"><label for=rooming-no-of-rooms>{{\'ALLOTMENT_NO__OF_ROOMS\'|translate}}</label><div class=select><select id=rooming-no-of-rooms ng-model=numberOfRooms convert-to-number=""><option ng-repeat="roomcount in possibleNumberOfRooms" value={{roomcount}}>{{roomcount}}</option></select></div></div><div class="entry action"><button type=button class="button green" ng-click=addReservations() translate="">ADD</button></div></div><div class="search-form has-dates" ng-class="{\'open\': shouldShowSearchReservationFields()}"><div class="entry filter"><button type=button class="button icons icon-search-60" ng-click=toggleSearchMode() ng-class="{\'icon-search-60\': !shouldShowSearchReservationFields(), \'icon-remove-60\': shouldShowSearchReservationFields(), \'hidden\' : isCancelledAllotment()}">Search Reservations</button></div><div class="entry search"><button class=clear-query ng-class="{\'visible\': !isEmpty(searchQuery.toString())}" ng-click=clearSearchQuery()><span class="icons icon-clear-search">Clear query</span></button> <button type=button name=submit class="icons icon-search">Search</button> <input class=query placeholder="Search by Name, Room No. or Confirmation No." type=search autocomplete=off rv-delay-textbox="" delay=1000 function-to-fire=searchAllotmentReservations ng-model=searchQuery></div><div class="entry date-range"><div class=has-datepicker><label for=allotment-reservations-from>Start Date</label> <button class=clear-query ng-class="{\'visible\': !isEmpty(reservationSearchFromDate.toString())}" ng-click=clearReservationSearchFromDate()><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input type=text id=allotment-reservations-from class=range-datepicker readonly="" rv-clear-text-box="" listen-this=reservationSearchFromDate ui-date=reservationSearchFromDateOptions value={{reservationSearchFromDate|date:dateFormat}}></div><div class=has-datepicker><label for=allotment-reservations-to>End Date</label> <button class=clear-query ng-click=clearReservationSearchToDate() ng-class="{\'visible\': !isEmpty(reservationSearchToDate.toString())}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input type=text id=allotment-reservations-to class=range-datepicker readonly="" rv-clear-text-box="" listen-this=reservationSearchToDate ui-date=reservationSearchToDateOptions value={{reservationSearchToDate|date:dateFormat}}></div></div></div><ul class="totals dual-search"><li><div class=data><span class=label>{{\'ALLOTMENT_PICKED_UP\'|translate}}</span> <span class=value>{{totalPickUpCount}}</span></div></li><li><button type=button class=button ng-show=!shouldShowNoReservations() ng-click=autoAssignRooms() ng-class="{\'grey\': shouldDisableAutoRoomAssignButton(), \'brand-colors\': !shouldDisableAutoRoomAssignButton()}" ng-disabled=shouldDisableAutoRoomAssignButton()>{{\'ALLOTMENT_AUTO_ASSIGN_ROOMS\'|translate}}</button></li><li><button type=button class="button with-icon only-icon blue" ng-hide=shouldShowNoReservations() ng-click=sendRoomingList()><span class="icons icon-email"></span> {{\'ALLOTMENT_EMAIL\'|translate}}</button> <button type=button class="button blue with-icon only-icon" ng-hide=shouldShowNoReservations() ng-click=fetchReservationsForPrintingRoomingList()><span class="icons icon-print"></span> {{\'ALLOTMENT_PRINT\'|translate}}</button> <button type=button class="batch button with-icon" ng-click=printRegistrationCards() ng-class="{\'grey\' : totalPickUpCount < 1,\'brand-colors\' : totalPickUpCount > 0}" ng-disabled="totalPickUpCount < 1"><span class="icons icon-print"></span> {{\'ALLOTMENT_BATCH\'|translate}}</button> <button type=button class="button with-icon only-icon purple" ng-hide=true><span class="icons icon-save"></span> {{\'ALLOTMENT_DOWNLOAD\'|translate}}</button></li></ul></div><div id=group-room-list-content class=tab-details ng-class="{\'no-print\' : isPrintRegistrationCard}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-include="\'/assets/partials/common/notification_success_message.html\'"></div><div class=no-content ng-show=shouldShowNoReservations()><div class=info><span class="icon-no-content icon-reservation"></span> <strong class=h1>{{\'ALLOTMENT_NO_RESERVATIONS\'|translate}}</strong> <span class=h2>{{\'ALLOTMENT_ADD_RESERVATIONS_TO_ROOMING_LIST\'|translate}}</span></div></div><ul class=rooming-list-header ng-show=!shouldShowNoReservations()><li class=check><label class="checkbox inline" for=rooming-list-all ng-class="{\'disabled\' : isCancelledAllotment()}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': whetherAllReservationsSelected(), \'semi-checked\': whetherReservationsArePartiallySelected()}"></span><input id=rooming-list-all ng-disabled=isCancelledAllotment() type=checkbox ng-click=toggleAllSelection()></label></li><li class="room sort" ng-class="getSortClass(\'room_number\')" ng-click="sortBy(\'room_number\')">{{\'ALLOTMENT_ROOM\'|translate}}</li><li class="name sort" ng-class="getSortClass(\'guest_name\')" ng-click="sortBy(\'guest_name\')">{{\'ALLOTMENT_GUEST_NAME\'|translate}}</li><li class="date sort" ng-class="getSortClass(\'arrival_date\')" ng-click="sortBy(\'arrival_date\')">{{\'ALLOTMENT_ARRIVAL\'|translate}}</li><li class="date sort" ng-class="getSortClass(\'departure_date\')" ng-click="sortBy(\'departure_date\')">{{\'ALLOTMENT_DEPARTURE\'|translate}}</li><li class="type sort" ng-class="getSortClass(\'room_type_id\')" ng-click="sortBy(\'room_type_id\')">{{\'ALLOTMENT_ROOM_TYPE\'|translate}}</li><li class="rate sort" ng-class="getSortClass(\'room_rate_amount\')" ng-click="sortBy(\'room_rate_amount\')">{{\'ALLOTMENT_ROOM RATE\'|translate}}</li><li class="status sort" ng-class="getSortClass(\'reservation_status\')" ng-click="sortBy(\'reservation_status\')">{{\'ALLOTMENT_STATUS\'|translate}}</li></ul><div id=rooming-grid class="rooming-grid scrollable" ng-show=!shouldShowNoReservations() ng-class="{\'with-pagination\': shouldShowPagination()}" ng-iscroll=rooming_list ng-iscroll-delay=100><ul id=rooming-grid-list class="search-results wrapper"><li class="reservation rooming-list" ng-repeat="reservation in reservations" ngrepeatend=""><div class=check><label class="checkbox inline" for=guest-id ng-class="{\'disabled\' : isCancelledAllotment()}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': isReservationInSelectedReservation(reservation)}"></span><input id=guest-id type=checkbox ng-click=addOrRemoveFromSelectedReservation(reservation) ng-disabled=isCancelledAllotment()></label></div><a ng-click=onClickReservation(reservation)><div class="data no-image"><h2 ng-show=!isGuestBlank(reservation)><span class=no-margin-right ng-bind-html=escapeNull(reservation.lastname)|highlight:searchQuery:false></span>, <span ng-bind-html=escapeNull(reservation.firstname)|highlight:searchQuery:false></span></h2><h2 ng-show=isGuestBlank(reservation)><span class=highlight>{{\'ALLOTMENT_PENDING\'|translate}}</span></h2><span class=room ng-show=!isRoomUnAssigned(reservation)>{{\'ALLOTMENT_ROOM\'|translate}} <span ng-class=getRoomStatusClass(reservation) ng-bind-html=escapeNull(reservation.room_number)|highlight:searchQuery:false></span></span> <span class="room unassigned" ng-show=isRoomUnAssigned(reservation)>{{\'ALLOTMENT_UNASSIGNED\'|translate}}</span> | <span class=confirmation ng-bind-html=escapeNull(reservation.confirm_no)|highlight:searchQuery:false></span></div><div class=reservation-info><div class=arrival-departure><span class="guest-status check-in">{{\'ALLOTMENT_CHECK-IN\'|translate}}</span><time datetime="{arrival timestamp}">{{formatDateForUI(reservation.arrival_date)}}</time></div><div class=departing><span class="guest-status check-out">{{\'ALLOTMENT_CHECK-OUT\'|translate}}</span><time datetime="{departure timestamp}">{{formatDateForUI(reservation.departure_date)}}</time></div></div><div class=room-info><strong class=room-type>{{reservation.room_type}}</strong> <em class=room-occupancy>{{occupancyTextMap[reservation.occupancy]}}</em></div><div class=rate>{{reservation.rate_amount}}</div><div class=reservation-status><span class=guest-status ng-class=getReservationClass(reservation)>{{reservation.reservation_status}}</span></div></a></li></ul></div><rv-pagination page-options=pageOptions page-data=totalResultCount></rv-pagination></div><div class=batch-registration-cards ng-class="{\'no-print\' : !isPrintRegistrationCard}" ng-include="\'/assets/partials/allotments/reservations/rvAllotmentsBatchPrintRegistrationCards.html\'"></div></form>'),
t.put("/assets/partials/allotments/reservations/rvAllotmentsBatchPrintRegistrationCards.html",'<section ng-repeat="allotmentReservation in printRegCardData.allotment_reservations"><table class=hotel-guest-info><tbody><tr><td class=hotel-info><img ng-src="{{ printRegCardData.hotel_logo }}" alt=""><p>{{ printRegCardData.hotel_name }}<br>{{ printRegCardData.street }}<br>{{ printRegCardData.city }}, {{ printRegCardData.state }} {{printRegCardData.zipcode}}<br><br>Ph: {{ printRegCardData.phone }}</p></td><td class=guest-info><table class=name-addr><tr><td><span>REGISTERED TO:</span> <strong>{{ allotmentReservation.guest_details.first_name }} {{ allotmentReservation.guest_details.last_name }}</strong> <strong><label ng-if="allotmentReservation.guest_details.street || allotmentReservation.guest_details.city">{{ allotmentReservation.guest_details.street }} {{ allotmentReservation.guest_details.city }},</label> <label>{{ allotmentReservation.guest_details.state }} {{ allotmentReservation.guest_details.postal_code }}</label></strong></td><td><span>BILL TO:</span> <strong>{{ allotmentReservation.bill_to.name }}</strong> <strong ng-if="allotmentReservation.bill_to.street1 || allotmentReservation.bill_to.street2">{{ allotmentReservation.bill_to.street1 }} {{ allotmentReservation.bill_to.street2 }}</strong> <strong><label ng-if=allotmentReservation.bill_to.city>{{ allotmentReservation.bill_to.city }},</label> <label ng-if=allotmentReservation.bill_to.state>{{ allotmentReservation.bill_to.state }}</label> <label>{{ allotmentReservation.bill_to.postal_code }}</label></strong></td></tr></table><table><tr><td><span>ARRIVAL DATE:</span> <strong>{{ allotmentReservation.arrival_date | date : dateFormat }}</strong></td><td><span>DEPARTURE DATE:</span> <strong>{{ allotmentReservation.dep_date | date : dateFormat }}</strong></td><td><span>CONFIRMATION:</span> <strong>{{ allotmentReservation.confirm_no }}</strong></td></tr><tr><td><span>ARRIVAL TIME:</span> <strong>{{ allotmentReservation.arrival_time }}</strong> <span>&nbsp;</span></td><td><span>DEPARTURE TIME:</span> <strong>{{ allotmentReservation.departure_time }}</strong> <span>&nbsp;</span></td><td><span>ROOM:</span> <strong>{{ allotmentReservation.room_number}}</strong> <span>&nbsp;</span></td></tr><tr><td><span>AMOUNT PAID:</span> <strong><span ng-bind-html="allotmentReservation.amount_paid | sntCurrency:this"></span></strong></td><td><span>PAYMENT:</span> <strong>{{ allotmentReservation.payment_type }}</strong></td><td><span>ACCOUNT:</span> <strong>{{ allotmentReservation.account }}</strong></td></tr></table><table class=rate-initial><tr><td ng-hide=printRegCardData.hide_rates><span>AVERAGE DAILY RATE:</span> <strong><span ng-bind-html="allotmentReservation.adr | sntCurrency:this"></span></strong></td><td><span>GUEST INITIALS:</span></td></tr></table></td></tr></tbody></table><table class=bill-details><thead><tr><th>DATE</th><th ng-hide=printRegCardData.hide_rates>RATE</th><th ng-hide=printRegCardData.hide_rates>TAXES</th><th>ADD-ON</th><th ng-hide=printRegCardData.hide_rates class=addon-price>ADD-ON PRICE</th></tr></thead><tbody><tr ng-repeat="each in allotmentReservation.daily_instances_info"><td>{{ each.date | date : dateFormat }}</td><td ng-hide=printRegCardData.hide_rates><span ng-bind-html="each.rate | sntCurrency:this"></span></td><td ng-hide=printRegCardData.hide_rates><span ng-bind-html="each.tax | sntCurrency:this"></span></td><td class=addons colspan=2><table><tr ng-repeat="item in each.addons"><td>{{ item.name }}</td><td ng-hide=printRegCardData.hide_rates ng-if="item.price == \'INCLUDED\'">{{ item.price }}</td><td ng-hide=printRegCardData.hide_rates ng-if="item.price != \'INCLUDED\'"><span ng-bind-html="item.price | sntCurrency:this"></span></td></tr></table></td></tr></tbody></table><table class=guest-data-enter ng-if=allotmentReservation.is_show_vehiche_info><tr><td>Guest DL/ID #</td><td class=details><table><tr><td>Vehicle Make</td><td>Lic. Plate #</td><td>Lic. Plate State/Prov.</td></tr></table></td></tr></table><table class="terms-signature page-break"><tr><td colspan=2 class=terms>{{ printRegCardData.terms_conditions }}</td></tr><tr><td><span class=signature>Guest Signature</span></td></tr></table></section>'),t.put("/assets/partials/allotments/search/rvAllotmentSearch.html",'<form method=get action="" name=allotment-search-form id=allotment-search-form class="search-form has-dates" role=search><div class="entry search"><button id=allotment-clear-query class=clear-query type=button ng-click=clearSearchQuery() ng-class="{\'visible\': !isEmpty(query)}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <button type=button name=submit class="icons icon-search" translate="">SEARCH</button> <input name=allotment-query id=allotment-query class=query placeholder="Allotment Code, Allotment Name, Travel Agent or Company Name" type=search autocomplete=off ng-model=query rv-delay-textbox="" delay=1000 function-to-fire=searchQueryChanged></div><div class="entry dates"><div class="entry-data has-datepicker"><label for=allotment-date-from translate="">FROM</label> <button id=allotment-date-from-clear type=button class=clear-query ng-class="{\'visible\': !isEmpty(fromDate)}" ng-click=clearFromDate()><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input name=allotment-date-from id=allotment-date-from class=datepicker readonly="" type=text rv-clear-text-box="" listen-this=fromDate ui-date=fromDateOptions value={{fromDate}}></div><div class="entry-data has-datepicker"><label for=allotment-date-to translate="">TO</label> <button id=allotment-date-to-clear class=clear-query type=button ng-click=clearToDate() ng-class="{\'visible\': !isEmpty(toDate)}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input name=allotment-date-to id=allotment-date-to class=datepicker readonly="" type=text ui-date=toDateOptions value={{toDate}} rv-clear-text-box="" listen-this=toDate></div></div></form><rv-pagination page-options=pageOptions page-data=totalResultCount></rv-pagination><section id=find-allotment class="content scrollable" role=main ng-class="{\'no-pagination\': !shouldShowPagination(), \'no-results\': shouldShowNoResult()}" ng-iscroll=result_showing_area ng-iscroll-delay=1000><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><ul class=search-results><li class=no-content ng-show=isFirstTimeWithNoResult()><div class=info><span class="icon-no-content icon-allotments"></span> <strong class=h1>Find Allotments</strong> <span class=h2>Search by <strong>Allotment Name</strong> or <strong>Code</strong></span></div></li><li class=no-content ng-show=shouldShowNoResult()><div class=info><span class="icon-no-content icon-allotments"></span> <strong class=h1>No Matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Allotment Name</strong> or <strong>Code</strong>.<a ng-click=gotoAddNewAllotment() ng-show=hasPermissionToAddNewAllotment() class=inline-link>Or add a New Allotment</a>.</span></div></li><li class=group ng-show=!shouldShowNoResult() ng-repeat="allotment in allotmentList" ngrepeatend="" ngrepeatstarted=""><a ng-click=gotoEditAllotmentConfiguration(allotment.id)><div class=data><h2 ng-bind-html=escapeNull(allotment.allotment_name)|highlight:query:false></h2><span class=confirmation ng-bind-html=escapeNull(allotment.allotment_code)|highlight:query:false></span><span class="icons icon-guest-company" ng-hide=isEmpty(allotment.company)>{{allotment.company}}</span><span class="icons icon-guest-travelagent" ng-hide=isEmpty(allotment.travel_agent)>{{allotment.travel_agent}}</span></div><div class=arrival><span class=guest-status ng-class=getGuestClassForArrival(allotment)></span><time datetime=allotment.arrival_date>{{formatDateForUI(allotment.arrival_date)}}</time></div><div class=departure><span class=guest-status ng-class=getGuestClassForDeparture(allotment)></span><time datetime=allotment.departure_date>{{formatDateForUI(allotment.departure_date)}}</time></div><div class=blocked ng-class=getClassAgainstHoldStatus(allotment)><strong>{{allotment.total_booked === null? \'0\':allotment.total_booked}}</strong> <span>{{allotment.hold_status}}</span></div><div class=picked ng-class=getClassAgainstPickedStatus(allotment)><strong>{{allotment.total_picked_count === null? \'0\' :allotment.total_picked_count}}</strong> <span>Picked Up</span></div></a></li></ul></div></section>'),t.put("/assets/partials/allotments/summary/allotmentAddonsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content room-enhancements"><span class="h2 message">{{allotmentConfigData.summary.allotment_name}} Enhancements</span><div class=scrollable ng-iscroll=resultDetails ng-iscroll-delay=500><ul class="wrapper enhancements-added"><li ng-repeat="addon in allotmentConfigData.selectedAddons" class=addons-list><span class=item>{{ addon.name }}</span><span><span class=count ng-hide="addon.post_type ===\'Nightly\'">({{addon.addon_count}})</span></span> <span class=base ng-hide=addon.is_inclusive>at {{currencySymbol}}{{addon.amount | number : 2}} / {{addon.amount_type.value}} <span ng-show="addon.post_type.description ===\'First Night\'">per stay</span> <span ng-show="addon.post_type.description ===\'Nightly\'">per night</span></span> <span><span class=price ng-hide="addon.is_inclusive || addon.post_type ===\'Nightly\'"><span ng-bind-html="addon.amount | sntCurrency:this"></span></span> <span class=price ng-hide="addon.is_inclusive || addon.post_type !==\'Nightly\'"><span ng-bind-html="addon.amount | sntCurrency:this"></span></span></span> <span class=price ng-show=addon.is_inclusive>INCL</span> <button type=button ng-hide=addon.is_inclusive class="icons icon-trash" ng-click=removeAddon(addon) translate="">REMOVE</button></li></ul></div><div class=actions><button type=button ng-click="closeDialog(); manageAddons()" class="button orange modal-hide" translate="">ADD_MORE_TO_THIS_GROUP</button> <button class="button blank" ng-click="closeDialog(); reloadPage();" translate="">CLOSE</button></div></div></div>'),t.put("/assets/partials/allotments/summary/allotmentDemographicsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action="" class="modal-content form demographics" ng-cloak=""><button ng-click=closeDialog() ng-hide=allotmentSummaryData.promptMandatoryDemographics id=modal-close class=modal-close type=button><span class="icons icon-close invert"></span></button> <strong class="h2 message" ng-hide=allotmentSummaryData.promptMandatoryDemographics>Demographics</strong><strong class="h2 message" ng-show=allotmentSummaryData.promptMandatoryDemographics>Demographics Missing!</strong> <span class=text ng-show=allotmentSummaryData.promptMandatoryDemographics>Set mandatory demographics to continue</span><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry margin" ng-show=shouldShowReservationType><label for=reservation-type>Reservation type</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=reservation-type id=reservation-type ng-class="{\'placeholder\': !allotmentConfigData.summary.demographics.reservation_type_id}" ng-model=allotmentConfigData.summary.demographics.reservation_type_id><option value="" selected="" translate="">RESERVATION_TYPE_PLACEHOLDER</option><option ng-repeat="reservationType in allotmentSummaryData.demographics.reservationTypes" value={{reservationType.value}} ng-selected="reservationType.value == allotmentConfigData.summary.demographics.reservation_type_id">{{reservationType.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowMarket><label for=market>Market<strong ng-show="hotelSettings.force_market_code && allotmentSummaryData.promptMandatoryDemographics">*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=market id=market ng-class="{\'placeholder\': !allotmentConfigData.summary.demographics.market_segment_id}" ng-model=allotmentConfigData.summary.demographics.market_segment_id><option value="" selected="" translate="">MARKET_PLACEHOLDER</option><option ng-repeat="market in allotmentSummaryData.demographics.markets" value={{market.value}} ng-selected="market.value == allotmentConfigData.summary.demographics.market_segment_id">{{market.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowSource><label for=source>Source<strong ng-show="hotelSettings.force_source_code && allotmentSummaryData.promptMandatoryDemographics">*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=source id=source ng-class="{\'placeholder\': !allotmentConfigData.summary.demographics.source_id}" ng-model=allotmentConfigData.summary.demographics.source_id><option value="" selected="" translate="">SOURCE_PLACEHOLDER</option><option ng-repeat="source in allotmentSummaryData.demographics.sources" value={{source.value}} ng-selected="source.value == allotmentConfigData.summary.demographics.source_id">{{source.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowOriginOfBooking><label for=origin>Origin of Booking<strong ng-show="hotelSettings.force_origin_of_booking && allotmentSummaryData.promptMandatoryDemographics">*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=origin id=origin ng-class="{\'placeholder\': !allotmentConfigData.summary.demographics.booking_origin_id}" ng-model=allotmentConfigData.summary.demographics.booking_origin_id><option value="" selected="" translate="">ORIGIN_BOOKING_PLACEHOLDER</option><option ng-repeat="origin in allotmentSummaryData.demographics.origins" value={{origin.value}} ng-selected="origin.value == allotmentConfigData.summary.demographics.booking_origin_id">{{origin.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowSegments><label for=origin>Segment<strong ng-show="hotelSettings.force_segments && allotmentSummaryData.promptMandatoryDemographics">*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=segment id=segment ng-class="{\'placeholder\': !allotmentConfigData.summary.demographics.segment_id}" ng-model=allotmentConfigData.summary.demographics.segment_id ng-disabled="!!allotmentConfigData.summary.demographics.segment_id && !!allotmentSummaryData.computedSegment"><option value="" selected="" translate="">SEGMENT_PLACEHOLDER</option><option ng-repeat="segment in allotmentSummaryData.demographics.segments" value={{segment.value}} ng-selected="segment.value == allotmentConfigData.summary.demographics.segment_id">{{segment.name}}</option></select></div></div><div class=actions><button type=button class="button blank" ng-hide=allotmentSummaryData.promptMandatoryDemographics ng-click=cancelDemographicChanges();closeDialog();>Cancel</button> <button type=button class=button ng-hide=allotmentSummaryData.promptMandatoryDemographics ng-disabled=!isDemographicsFormValid(false) ng-class="isDemographicsFormValid(false) ? \'green\' : \'grey\'" ,="" ng-click=saveDemographicsData();>Save</button> <button ng-show=allotmentSummaryData.promptMandatoryDemographics type=button class=button ng-disabled=!isDemographicsFormValid(true) ng-class="isDemographicsFormValid(true) ? \'green\' : \'grey\'" ng-click=saveNewAllotment()>Save & Continue</button></div></form></div>'),t.put("/assets/partials/allotments/summary/rvAllotmentConfigurationAddons.html",'<section id=enhance-stay class="content reservations-inner stay-card-inner" ng-controller=rvAllotmentConfigurationAddonsCtrl><div id=enhance-stay-content class=reservations-content-wrapper><div id=addons-content class="reservation-content addons-content scrollable" ng-iscroll=enhanceAllotmentStays ng-iscroll-delay=1000><div class=wrapper><div id=addon-items class=addons><ul class=addon-categories><li ng-class="{\'ui-state-active\': -1 === activeAddonCategoryId }"><a ng-click="selectAddonCategory(\'\', $event)" class="button white" translate="">BEST_SELLER</a></li><li ng-repeat="addonCategory in allotmentConfigData.addons.addonCategories" ng-class="{ \'ui-state-active\': addonCategory.id === activeAddonCategoryId }"><a ng-click="selectAddonCategory(addonCategory, $event)" class="button white">{{ addonCategory.name }}</a></li></ul><div class=addon-items><div class=options><button type=button ng-click=openAddonsPopup() class="button white"><span class=label translate="">ENHANCEMENTS</span> <span class=count>{{ allotmentConfigData.summary.addons_count }}</span></button></div><ul id=addon-best-sellers class=addon-tab><li ng-repeat="addon in addons"><div class=data><span class=categories><span ng-show=addon.isBestSeller class=current translate="">BEST_SELLER</span> <label ng-show=addon.isBestSeller>|</label> <span>{{ addon.category }}</span></span><h2>{{ addon.title }}</h2><em>{{ addon.description }}</em></div><div class=price><span class=value><span ng-bind-html="addon.price | sntCurrency:this"></span></span> <span class=amount-type>{{ addon.amountTypeDesc | uppercase}}</span> <span class=post-type>{{ addon.postTypeDesc | uppercase}}</span></div><div class=add-enhancement ng-init="addonQty=1"><button id=enhance-room-1-champagne type=button class="button green" ng-click="selectAddon(addon, addonQty)">Add</button><div class=select><label class=label for=room-1-champagne-quantity translate="">QUANTITY</label><select name=room-1-champagne-quantity ng-model=addonQty><option ng-repeat="i in [1, 3] | makeRange" value={{i}}>{{i}}</option></select></div></div></li></ul></div></div></div></div></div></section>'),t.put("/assets/partials/allotments/summary/rvAllotmentConfigurationSummaryTab.html",'<form id=allotment-summary name=allotment-summary ng-click=clearErrorMessage() class="form card-tab scrollable" ng-controller=rvAllotmentConfigurationSummaryTabCtrl ng-iscroll=allotmentSummaryScroller ng-iscroll-delay=500 outside-click-handler=""><div class=wrapper><div class="holder left"><strong class=h3 translate="">ALLOTMENT_INFO</strong><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry full-width"><label for=allotment-name>{{ \'NAME\' | translate}} <strong>*</strong></label> <input id=allotment-name ng-model=allotmentConfigData.summary.allotment_name type=text></div><div class="entry margin"><label for=allotment-code translate="">ALLOTMENT_CODE</label> <input id=allotment-code ng-model=allotmentConfigData.summary.allotment_code type=text ng-disabled=!isInAddMode()></div><div class=entry><label for=allotment-firstname translate="">CONTACT_FIRST_NAME</label> <input id=allotment-firstname ng-model=allotmentConfigData.summary.first_name type=text></div><div class="entry margin"><label for=allotment-lastname translate="">CONTACT_LAST_NAME</label> <input id=allotment-lastname ng-model=allotmentConfigData.summary.last_name type=text></div><div class=entry><label for=allotment-phone translate="">CONTACT_PHONE</label> <input id=allotment-phone ng-model=allotmentConfigData.summary.contact_phone type=text></div><div class="entry full-width"><label for=allotment-email translate="">CONTACT_EMAIL</label> <input id=allotment-email ng-model=allotmentConfigData.summary.contact_email type=text></div><div class="entry break full-width"><a ng-click="openDemographicsPopup(false, true);" ng-disabled="" class=button ng-class="{\'grey\': isInAddMode(), \'white brand-text\': !isInAddMode()}" translate="">DEMOGRAPHICS</a> <a ng-click=openBillingInformation(); class="button white blue-text" ng-if=allotmentConfigData.summary.default_billing_info_present translate="">BILLING_INFORMATION</a> <a ng-click=openBillingInformation(); class=button ng-class="{\'grey\': isInAddMode(), \'blue\': !isInAddMode()}" ng-if=!allotmentConfigData.summary.default_billing_info_present translate="">ADD_BILLING_INFO</a></div></div><div class="holder right auto-height"><strong class=h3 translate="">ROOM_BLOCK_SUMMARY</strong><div class="entry full-width stay-dates no-actions"><div class=entry-data><label for=allotment-block-from>{{\'FROM\' | translate}} <strong>*</strong></label><input id=allotment-block-from class=datepicker type=text ui-date=fromDateOptions value={{allotmentConfigData.summary.block_from|date:dateFormat}} rv-clear-text-box="" listen-this=allotmentConfigData.summary.block_from readonly="" ng-class="{\'not-selected\': !allotmentConfigData.summary.block_from}" ng-disabled=isDisabledDatePicker></div><div class=entry-data><label for=allotment-block-to>{{\'TO\' | translate}} <strong>*</strong></label><input id=allotment-block-to class=datepicker type=text ui-date=toDateOptions value={{allotmentConfigData.summary.block_to|date:dateFormat}} rv-clear-text-box="" listen-this=allotmentConfigData.summary.block_to readonly="" ng-class="{\'not-selected\': !allotmentConfigData.summary.block_to}" ng-disabled=isDisabledDatePicker></div></div><div class="entry full-width with-button"><label for=allotment-release-date>{{\'ALLOTMENT_RELEASE_DATE\' | translate}}</label><input class=datepicker type=text ui-date=releaseDateOptions value={{allotmentConfigData.summary.release_date|date:dateFormat}} rv-clear-text-box="" listen-this=allotmentConfigData.summary.release_date readonly="" ng-class="{\'not-selected\': !allotmentConfigData.summary.release_date}"> <button type=button ng-click=warnReleaseRooms(); class=button ng-class="{\'red\': !isInAddMode() ,\'grey\': isInAddMode() || !!allotmentConfigData.summary.is_cancelled}" translate="">ALLOTMENT_RELEASE_NOW</button></div><div class="entry margin"><label for=allotment-hold-status>{{\'HOLD_STATUS\' | translate}} <strong>*</strong></label><div class=select><select convert-to-number="" id=allotment-hold-status ng-model=allotmentConfigData.summary.hold_status iscroll-stop-propagation="" ng-change=onHoldStatusChange(); ng-disabled=!!allotmentConfigData.summary.is_cancelled><option value="" selected="" translate="" ng-if=!allotmentConfigData.summary.hold_status>SET_STATUS</option><option ng-repeat="holdstatus in allotmentConfigData.holdStatusList" value={{holdstatus.id}} ng-selected="holdstatus.id == allotmentConfigData.summary.hold_status" ng-hide="holdstatus.name == \'Cancel\' && holdstatus.is_system && !isCancellable()">{{holdstatus.name}}</option></select></div></div><div class="entry margin small"><label for=allotment-rooms translate="">ROOMS</label> <input id=allotment-rooms ng-model=allotmentConfigData.summary.rooms_total type=text readonly=""></div><div class="entry small"><label for=allotment-pickup translate="">PICK_UP</label> <input id=allotment-pickup ng-model=allotmentConfigData.summary.rooms_pickup type=text readonly=""></div><div class="entry commission margin" ng-show="allotmentConfigData.summary.allotment_id && allotmentConfigData.summary.travel_agent.id"><label for=travel-agent-commission translate="">COMMISSION</label><div class=switch-button ng-class="{\'on\': allotmentConfigData.summary.commission_details.is_on}"><input id=travel-agent-commission ng-model=allotmentConfigData.summary.commission_details.is_on type=checkbox> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div><input ng-model=allotmentConfigData.summary.commission_details.value type=text ng-show=allotmentConfigData.summary.commission_details.is_on><div class=select ng-show=allotmentConfigData.summary.commission_details.is_on><select name=travel-agent-commission-type ng-model=allotmentConfigData.summary.commission_details.type><option value=percent>%</option><option value=amount>{{currencySymbol}}</option></select></div><div class=select ng-show="allotmentConfigData.summary.commission_details.is_on && allotmentConfigData.summary.commission_details.type === \'amount\'"><select ng-model=allotmentConfigData.summary.commission_details.commission_type><option value=NIGHT translate="">PER_NIGHT</option><option value=STAY translate="">PER_STAY</option></select></div></div><div class="entry full-width with-button"><label for=allotment-rate translate="">RATE</label><div class=select><select id=allotment-rate iscroll-stop-propagation="" ng-model=allotmentConfigData.summary.uniqId ng-change=onRateChange() ng-disabled=allotmentConfigData.summary.is_cancelled snt-placeholder=SELECT_RATE ng-options="rate.uniqId as rate.name group by rate.groupName for rate in allotmentSummaryData.rateSelectDataObject" ng-class="{\'highlighted\': !allotmentConfigData.summary.uniqId}"></select></div><a ng-click="!allotmentConfigData.summary.is_cancelled ? (isInAddMode() ? manageAddons() : viewAddons()) : false" class="button with-icon" ng-class="{\'brand-colors\' : !isInAddMode() && !allotmentConfigData.summary.is_cancelled, \'grey\' : isInAddMode() || !!allotmentConfigData.summary.is_cancelled}"><span ng-show="allotmentConfigData.summary.addons_count > 0" class=count>{{allotmentConfigData.summary.addons_count}}</span> <span class="icons icon-addons"></span> Add-Ons</a></div><strong class="h3 margin" ng-if="!isCloudStorageEnabledForCardType(\'group\')">Notes</strong><div class="entry full-width no-label with-notes" ng-if="!isCloudStorageEnabledForCardType(\'group\')"><textarea id=allotment-notes ng-model=allotmentSummaryData.newNote placeholder="Write a note" rows=2></textarea> <button type=button class="button post" ng-class="{\'brand-colors\' : !isInAddMode() , \'grey\' : isInAddMode()}" ng-click=saveAllotmentNote()>Post</button></div><ul class=notes ng-if="!isCloudStorageEnabledForCardType(\'group\')"><li ng-repeat="note in allotmentConfigData.summary.notes"><figure class=guest-image><img src={{note.user_image}} alt=""></figure><div class=note-title><h4>{{note.username}}</h4><time datetime={{note.posted_date}}><span class=time>{{note.posted_date}}</span> <span class=date>{{note.posted_time}}</span></time><button type=button class="icons icon-trash" ng-click=removeAllotmentNote(note.note_id)>Delete post</button></div><p>{{note.description}}</p></li></ul></div></div></form>'),t.put("/assets/partials/allotments/summary/rvBillingInfoConfirmPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content confirmation"><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message" translate="">BILLING_INFORMATION_FOUND</span> <span class=text ng-if="contractRoutingType == \'TRAVEL_AGENT\'"><span translate="">ON_SELECTED_CARD</span> <strong>{{allotmentConfigData.summary.travel_agent.name}}</strong></span> <span class=text ng-if="contractRoutingType == \'COMPANY\'"><span translate="">ON_SELECTED_CARD</span> <strong>{{allotmentConfigData.summary.company.name}}</strong></span><div class=actions><button type=button class="button green" ng-click=copyDefaultBillingFromCards(contractRoutingType) translate="">Apply To Allotment<span ng-if="reservationData.isHourly && reservationData.reservations.length > 1">s</span></button> <button type=button class="button red" ng-click=cancelCopyDefaultBilling() translate="">DONT_APPLY</button></div></div></div>'),t.put("/assets/partials/allotments/summary/rvBillingInfoConflict.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content confirmation"><button type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message" translate="">CONFLICTING_BILLING_INFO_EXISTS</span><div class=actions><button type=button class="button green" ng-click="copyDefaultBillingFromCards(\'COMPANY\')" translate="">Copy From Company Card</button> <button type=button class="button green" ng-click="copyDefaultBillingFromCards(\'TRAVEL_AGENT\')" translate="">Copy From TA Card</button> <button type=button class="button red" ng-click=cancelCopyDefaultBilling() translate="">DONT_APPLY</button></div></div></div>'),t.put("/assets/partials/allotments/summary/warnCancelAllotmentPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form method=post action=cancel-group id=cancel-group name=cancel-group class="modal-content form cancel-reservation"><button class=modal-close id=modal-close type=button ng-click=abortCancelAllotment();><span class="icons icon-close invert"></span></button> <span class="h2 message">Block will be cancelled.</span><span class=text ng-hide=!!allotmentConfigData.summary.rooms_pickup>Block inventory will be returned to hotel availability.</span><span class=text ng-show=!!allotmentConfigData.summary.rooms_pickup>{{allotmentConfigData.summary.rooms_pickup}} attached reservations will be cancelled and inventory returned to hotel availability.</span><div class="entry full-width"><label for=cancel-reason>Cancelation reason(<span>optional</span>)</label> <textarea id=cancel-reason name=cancel-reason ng-model=cancellationReason placeholder="Cancelling because ...." rows=2>\n        </textarea></div><div class=actions><button id=cancel-action type=button class="button green" ng-click=cancelAllotment(cancellationReason)>Proceed</button> <button type=button class="button blank" ng-click=abortCancelAllotment();>Close</button></div></form></div>'),t.put("/assets/partials/allotments/summary/warnChangeRateNotPossible.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">No rate information for some of the room types with this rate.</span> <button type=button class="button green modal-close" ng-click="saveRoomBlock(); closeDialog();">Ok</button></div></div>'),t.put("/assets/partials/allotments/summary/warnReleaseRoomsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog();><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Release all remaining rooms from block?</span> <button type=button class="button red modal-close" ng-click=releaseRooms()>Release rooms</button> <button type=button class="button blank modal-close" ng-click=closeDialog();>Cancel</button></div></div>'),t.put("/assets/partials/billingInformation/accounts/rvBillingInfoAccountsMain.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form ng-hide=shouldShowWaiting method=post action=billing-information id=billing-information name=billing-information class="modal-content billing-information" ng-class="{\'add-card\':saveData.newPaymentFormVisible}"><button id=modal-close type=button class="dark-title modal-close" ng-click=handleCloseDialog()><span class="icons icon-close"></span></button><div class=modal-header><h1 translate="">BILLING_INFO_TITLE</h1><em ng-if="billingEntity !== \'TRAVEL_AGENT_DEFAULT_BILLING\' && billingEntity !== \'COMPANY_CARD_DEFAULT_BILLING\' && billingEntity !==\'GROUP_DEFAULT_BILLING\' && billingEntity !==\'ALLOTMENT_DEFAULT_BILLING\'"><span translate="">CONFIRMATION_LABEL</span> #{{reservationData.confirm_no}}</em> <em ng-if="billingEntity == \'TRAVEL_AGENT_DEFAULT_BILLING\'">{{attachedEntities.travel_agent.name}}</em> <em ng-if="billingEntity == \'COMPANY_CARD_DEFAULT_BILLING\'">{{attachedEntities.company_card.name}}</em> <em ng-if="billingEntity == \'GROUP_DEFAULT_BILLING\'">{{attachedEntities.group_details.name}}</em> <em ng-if="billingEntity == \'ALLOTMENT_DEFAULT_BILLING\'">{{attachedEntities.allotment_details.name}}</em> <button type=button id=new-route class=button ng-class="{\'green\': isInitialPage, \'white\':!isInitialPage}" ng-click=headerButtonClicked() ng-hide="billingEntity ===\'ALLOTMENT_DEFAULT_BILLING\' || billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\' || billingEntity === \'GROUP_DEFAULT_BILLING\'">{{getHeaderButtonLabel()}}</button> <button type=button class="button red" ng-click=deleteBillingInfo() ng-show="billingEntity === \'TRAVEL_AGENT_DEFAULT_BILLING\' || billingEntity === \'COMPANY_CARD_DEFAULT_BILLING\'" translate="">DELETE</button></div><div style="position: relative;overflow: hidden;height:510px;"><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-if="(!isInitialPage && isEntitySelected)" class=billing-info-body ng-include="\'/assets/partials/billingInformation/sharedPartials/rvSearchAndAttachEntity.html\'"></div><div ng-if="(!isInitialPage && !isEntitySelected)" class=billing-info-entity ng-include="\'/assets/partials/billingInformation/reservation/rvBillingInfoAccountsRouteDetails.html\'"></div></div></div></form><div ng-show=shouldShowWaiting class="modal-content modal-vertical-centered waiting-dialog" style="position: relative;padding: 40px;text-align: center;" ng-cloak=""><div class="centeralign alert-box">WAITING</div><div class=waiting-payment>&nbsp;</div></div></div>'),
t.put("/assets/partials/billingInformation/accounts/rvBillingInfoAccountsRouteDetails.html","<div id=billing-content class=content-wrapper ng-controller=rvBillingInfoGroupAndAllotmentRouteDetailsCtrl><fieldset class=content-left><div id=entity-details ng-iscroll=routeDetails ng-iscroll-delay=100 class=\"entity-details scrollable\"><div class=wrapper><div ng-hide=\"billingEntity === 'TRAVEL_AGENT_DEFAULT_BILLING' || billingEntity === 'COMPANY_CARD_DEFAULT_BILLING' || billingEntity === 'ALLOTMENT_DEFAULT_BILLING'\"><div class=title>{{'DATE_RANGE' | translate}}</div><div class=entry><div class=has-datepicker><label for=routing-range-from>{{'FROM_DATE' | translate}}</label> <input id=routing-range-from ui-date=routingDateFromOptions class=range-datepicker ng-model=routeDates.from ng-change=onRouteDateChange() readonly=\"\"></div><div class=has-datepicker><label for=routing-range-to>{{'TO_DATE' | translate}}</label> <input id=routing-range-to ui-date=routingDateToOptions class=range-datepicker ng-model=routeDates.to ng-change=onRouteDateChange() readonly=\"\"></div></div></div><div class=title>{{'ENTITY' | translate}} <button type=button id=edit-entity ng-click=deSelectEntity() class=\"button with-icon only-icon purple edit\" ng-if=\"isInAddRoutesMode || billingEntity === 'ALLOTMENT_DEFAULT_BILLING'\" ng-hide=\"billingEntity === 'TRAVEL_AGENT_DEFAULT_BILLING' || billingEntity === 'COMPANY_CARD_DEFAULT_BILLING' || billingEntity === 'GROUP_DEFAULT_BILLING'\"><span class=\"icons icon-pencil\"></span></button></div><div class=\"entity guest\"><figure class=guest-image ng-class=getEntityIconClass(selectedEntity) ng-if=\"escapeNull(selectedEntity.images[0].guest_image)!=''\"><img src={{selectedEntity.images[0].guest_image}} alt=\"\"></figure><figure class=guest-image ng-if=\"escapeNull(selectedEntity.images[0].guest_image)==''\"><div class=\"guest-image icons icon-company\" ng-if=\"escapeNull(selectedEntity.entity_type)=='COMPANY_CARD'\"></div><div class=\"guest-image icons icon-travel-agent\" ng-if=\"escapeNull(selectedEntity.entity_type)=='TRAVEL_AGENT'\"></div><div class=group-info ng-if=\"escapeNull(selectedEntity.entity_type)=='GROUP' || escapeNull(selectedEntity.entity_type)=='HOUSE'\">A</div><div class=group-info ng-if=\"escapeNull(selectedEntity.entity_type)=='ALLOTMENT' || escapeNull(selectedEntity.entity_type)=='HOUSE'\">A</div></figure><h2>{{selectedEntity.name}}</h2><span class=\"guest-status small-icon\" ng-class=\"getGuestStatusMapped(selectedEntity.reservation_status, selectedEntity.is_opted_late_checkout)\" ng-hide=\"selectedEntity.entity_type !='RESERVATION'\">{{selectedEntity.status}}</span> <span class=status ng-class=getEntityRole(selectedEntity) ng-show=\"selectedEntity.entity_type !='RESERVATION'\">{{selectedEntity.status}}</span></div><div class=title ng-show=showPayment ng-hide=\"(reservationData.reservation_id != selectedEntity.id && selectedEntity.entity_type == 'RESERVATION') || ((selectedEntity.entity_type == 'GROUP' || selectedEntity.entity_type == 'HOUSE') && (billingEntity !== 'GROUP_DEFAULT_BILLING'))\">{{'PAYMENT' | translate}} <button type=button id=edit-entity ng-click=editPaymentMethod(); class=\"button with-icon only-icon purple edit\" ng-show=\"renderAddedPayment != null\"><span class=\"icons icon-pencil\"></span></button></div><div ng-iscroll=paymentList ng-iscroll-delay=100 style=\"position: relative;max-height:210px;overflow: hidden;\" ng-show=\"!isAddPayment && showPayment && renderAddedPayment == null\" ng-hide=\"(((selectedEntity.entity_type == 'GROUP' || selectedEntity.entity_type == 'HOUSE') || selectedEntity.has_accompanying_guests || renderAddedPayment != null))\"><div class=wrapper><div class=payment ng-class=\"{'active': selectedEntity.selected_payment == paymentType.id}\" ng-show=\"!isAddPayment && showPayment\" ng-repeat=\"paymentType in attachedPaymentTypes\" ng-click=\"selectedEntity.selected_payment = paymentType.id\"><span ng-show=\"paymentType.payment_type_id == 1\"><figure class=card-logo><img src=/assets/{{paymentType.card_code}}.png alt=\"\"></figure><span class=number>{{'NUMBER' | translate}} <span class=\"value number\">{{paymentType.mli_token}}</span></span> <span class=date>{{'DATE' | translate}} <span class=\"value date\">{{paymentType.card_expiry}}</span></span></span> <span class=\"value code\" ng-show=\"paymentType.payment_type_id != 1\">{{ paymentType.payment_type }}</span> <span class=\"icons icon-ok-10\" ng-show=\"selectedEntity.selected_payment == paymentType.id\"></span></div></div></div><div class=\"payment active\" ng-show=\"renderAddedPayment != null && !isAddPayment && showPayment && !saveData.newPaymentFormVisible && ( (selectedEntity.entity_type !== 'GROUP' && selectedEntity.entity_type !== 'HOUSE') || billingEntity == 'GROUP_DEFAULT_BILLING' || billingEntity == 'COMPANY_CARD_DEFAULT_BILLING' || billingEntity == 'TRAVEL_AGENT_DEFAULT_BILLING')\"><span ng-show=\"renderAddedPayment.payment_type == 'CC'\"><figure class=card-logo><img src=/assets/{{renderAddedPayment.creditCardType}}.png alt=\"\"></figure><span class=number>{{'NUMBER' | translate}} <span class=\"value number\">{{renderAddedPayment.endingWith}}</span></span> <span class=date>{{'DATE' | translate}} <span class=\"value date\">{{renderAddedPayment.cardExpiry}}</span></span></span> <span class=\"value code\" ng-show=\"renderAddedPayment.payment_type != 'CC'\">{{ renderAddedPayment.payment_type_description }}</span> <span class=\"icons icon-ok-10\"></span></div><button type=button class=add-new-button ng-click=showAddPayment() ng-show=\"!isAddPayment && showPayment && renderAddedPayment == null\" ng-hide=\"(reservationData.reservation_id != selectedEntity.id && selectedEntity.entity_type == 'RESERVATION') || (selectedEntity.entity_type == 'GROUP' || selectedEntity.entity_type == 'HOUSE' || billingEntity === 'GROUP_DEFAULT_BILLING') || renderAddedPayment != null\">{{'NEW_PAYMENT' | translate}}</button><div id=newpaymentview ng-show=\"isAddPayment && showCreditCardDropDown && showPayment && paymentDetails == null\" ng-include=\"'/assets/partials/bill/rvRoutesAddPayment.html'\"></div><div ng-show=\"selectedEntity.entity_type === 'RESERVATION' || selectedEntity.entity_type === 'TRAVEL_AGENT' || selectedEntity.entity_type === 'COMPANY_CARD' || billingEntity === 'TRAVEL_AGENT_DEFAULT_BILLING' || billingEntity === 'COMPANY_CARD_DEFAULT_BILLING' || billingEntity === 'ALLOTMENT_DEFAULT_BILLING'\"><div class=title>{{'POSTING_CAP' | translate}}<span>({{currencySymbol}})</span></div><div class=entry><input type=text ng-model=selectedEntity.credit_limit></div><div class=title>{{'REFERENCE_NUMBER' | translate}}</div><div class=entry><input type=text ng-model=selectedEntity.reference_number></div></div></div></div></fieldset><fieldset class=content-right><span class=\"h2 message\" ng-hide=\"(reservationData.reservation_id != selectedEntity.id && selectedEntity.entity_type == 'RESERVATION') || billingEntity === 'TRAVEL_AGENT_DEFAULT_BILLING' || billingEntity === 'COMPANY_CARD_DEFAULT_BILLING' || billingEntity === 'ALLOTMENT_DEFAULT_BILLING' || billingEntity === 'GROUP_DEFAULT_BILLING' || (selectedEntity.entity_type == 'GROUP' || selectedEntity.entity_type == 'ALLOTMENT' || selectedEntity.entity_type == 'HOUSE')\">{{'ROUTE_TO_BILL' | translate}}<div class=select><select ng-model=selectedEntity.to_bill ng-disabled=!selectedEntity.is_new name=post-charge-to-bill><option value={{bill.id}} ng-selected=\"bill.id == selectedEntity.to_bill\" ng-repeat=\"bill in bills\">{{bill.bill_number}}</option></select></div></span> <span class=\"h2 message\" ng-show=\"billingEntity === 'TRAVEL_AGENT_DEFAULT_BILLING' || billingEntity === 'COMPANY_CARD_DEFAULT_BILLING' || billingEntity === 'GROUP_DEFAULT_BILLING' || billingEntity === 'ALLOTMENT_DEFAULT_BILLING'\" translate=\"\">DETAILS</span> <span ng-include=\"'/assets/partials/billingInformation/sharedPartials/rvChargeCodesAndBillingGroup.html'\"></span></fieldset></div><div class=actions><button type=button id=close-information class=\"button blank modal-close\" ng-click=headerButtonClicked() ng-hide=\"billingEntity === 'TRAVEL_AGENT_DEFAULT_BILLING' || billingEntity === 'COMPANY_CARD_DEFAULT_BILLING' || billingEntity === 'ALLOTMENT_DEFAULT_BILLING' || billingEntity === 'GROUP_DEFAULT_BILLING'\">CANCEL</button> <button type=button id=close-information class=\"button blank modal-close\" ng-click=closeThisDialog() ng-show=\"billingEntity === 'TRAVEL_AGENT_DEFAULT_BILLING' || billingEntity === 'COMPANY_CARD_DEFAULT_BILLING' || billingEntity === 'ALLOTMENT_DEFAULT_BILLING' || billingEntity === 'GROUP_DEFAULT_BILLING'\">CANCEL</button> <button type=button id=save-route class=\"button green modal-close\" ng-click=saveRoute() ng-hide=\"billingEntity === 'TRAVEL_AGENT_DEFAULT_BILLING' || billingEntity === 'COMPANY_CARD_DEFAULT_BILLING'\" translate=\"\">SAVE_ROUTE</button> <button type=button id=save-route class=\"button green modal-close\" ng-click=saveRoute() ng-show=\"billingEntity === 'TRAVEL_AGENT_DEFAULT_BILLING' || billingEntity === 'COMPANY_CARD_DEFAULT_BILLING'\" translate=\"\">SAVE</button></div>"),t.put("/assets/partials/billingInformation/allotment/rvBillingInfoAllotmentMain.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form ng-hide=shouldShowWaiting method=post action=billing-information id=billing-information name=billing-information class="modal-content billing-information" ng-class="{\'add-card\':saveData.newPaymentFormVisible}"><button id=modal-close type=button class="dark-title modal-close" ng-click=handleCloseDialog()><span class="icons icon-close"></span></button><div class=modal-header><h1 translate="">BILLING_INFO_TITLE</h1></div><div style="position: relative;overflow: hidden;height:510px;"><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-if=billingInfoFlags.isEntitySelected class=billing-info-body ng-include="\'/assets/partials/billingInformation/allotment/rvBillingInfoAllotmentRouteDetails.html\'"></div><div ng-if=!billingInfoFlags.isEntitySelected class=billing-info-entity ng-include="\'/assets/partials/billingInformation/sharedPartials/rvSearchAndAttachEntity.html\'"></div></div></div></form><div ng-show=shouldShowWaiting class="modal-content modal-vertical-centered waiting-dialog" style="position: relative;padding: 40px;text-align: center;" ng-cloak=""><div class="centeralign alert-box">WAITING</div><div class=waiting-payment>&nbsp;</div></div></div>'),t.put("/assets/partials/billingInformation/allotment/rvBillingInfoAllotmentRouteDetails.html",'<div id=billing-content class=content-wrapper ng-controller=rvBillingInfoAllotmentRouteDetailsCtrl><fieldset class=content-left><div id=entity-details ng-iscroll=routeDetails ng-iscroll-delay=100 class="entity-details scrollable"><div class=wrapper><div class=title>{{\'ENTITY\' | translate}} <button type=button id=edit-entity ng-click=deSelectEntity() class="button with-icon only-icon purple edit"><span class="icons icon-pencil"></span></button></div><div class="entity guest"><figure class=guest-image ng-class=getEntityIconClass(selectedEntity) ng-if="escapeNull(selectedEntity.images[0].guest_image)!=\'\'"><img src={{selectedEntity.images[0].guest_image}} alt=""></figure><figure class=guest-image ng-if="escapeNull(selectedEntity.images[0].guest_image)==\'\'"><div class="guest-image icons icon-company" ng-if="escapeNull(selectedEntity.entity_type)==\'COMPANY_CARD\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(selectedEntity.entity_type)==\'TRAVEL_AGENT\'"></div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'GROUP\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'ALLOTMENT\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div></figure><h2>{{selectedEntity.name}}</h2><span class="guest-status small-icon" ng-class="getGuestStatusMapped(selectedEntity.reservation_status, selectedEntity.is_opted_late_checkout)" ng-hide="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span> <span class=status ng-class=getEntityRole(selectedEntity) ng-show="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span></div><span ng-include="\'/assets/partials/billingInformation/sharedPartials/rvDefaultBillingInformationPayment.html\'"></span> <span ng-include="\'/assets/partials/billingInformation/sharedPartials/rvBillingInfoCreditLimitAndReferenceNo.html\'"></span></div></div></fieldset><fieldset class=content-right><span class="h2 message" translate="">DETAILS</span> <span ng-include="\'/assets/partials/billingInformation/sharedPartials/rvChargeCodesAndBillingGroup.html\'"></span></fieldset></div><div class=actions><button type=button id=close-information class="button blank modal-close" ng-click=closeThisDialog()>CANCEL</button> <button type=button id=save-route class="button green modal-close" ng-click=saveRoute() translate="">SAVE</button></div>'),t.put("/assets/partials/billingInformation/cards/rvBillingInfoCardsMain.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form ng-hide=billingInfoFlags.shouldShowWaiting method=post action=billing-information id=billing-information name=billing-information class="modal-content billing-information" ng-class="{\'add-card\':saveData.newPaymentFormVisible}"><button id=modal-close type=button class="dark-title modal-close" ng-click=closeDialog()><span class="icons icon-close"></span></button><div class=modal-header><h1 translate="">BILLING_INFO_TITLE</h1><em ng-if="billingEntity == \'TRAVEL_AGENT_DEFAULT_BILLING\'">{{attachedEntities.travel_agent.name}}</em> <em ng-if="billingEntity == \'COMPANY_CARD_DEFAULT_BILLING\'">{{attachedEntities.company_card.name}}</em> <button type=button class="button red" ng-click=deleteDefaultRouting() translate="">DELETE</button></div><div style="position: relative;overflow: hidden;height:510px;"><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=billing-info-body ng-include="\'/assets/partials/billingInformation/cards/rvBillingInfoCardsRouteDetails.html\'"></div></div></div></form></div>'),t.put("/assets/partials/billingInformation/cards/rvBillingInfoCardsRouteDetails.html",'<div id=billing-content class=content-wrapper ng-controller=rvBillingInfoCardsRouteDetailsCtrl><fieldset class=content-left><div id=entity-details ng-iscroll=routeDetails ng-iscroll-delay=100 class="entity-details scrollable"><div class=wrapper><div class=title>{{\'ENTITY\' | translate}}</div><div class="entity guest"><figure class=guest-image ng-class=getEntityIconClass(selectedEntity) ng-if="escapeNull(selectedEntity.images[0].guest_image)!=\'\'"><img src={{selectedEntity.images[0].guest_image}} alt=""></figure><figure class=guest-image ng-if="escapeNull(selectedEntity.images[0].guest_image)==\'\'"><div class="guest-image icons icon-company" ng-if="escapeNull(selectedEntity.entity_type)==\'COMPANY_CARD\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(selectedEntity.entity_type)==\'TRAVEL_AGENT\'"></div></figure><h2>{{selectedEntity.name}}</h2><span class=status ng-class=getEntityRole(selectedEntity)>{{selectedEntity.status}}</span></div><span ng-include="\'/assets/partials/billingInformation/sharedPartials/rvDefaultBillingInformationPayment.html\'"></span> <span ng-include="\'/assets/partials/billingInformation/sharedPartials/rvBillingInfoCreditLimitAndReferenceNo.html\'"></span></div></div></fieldset><fieldset class=content-right><span class="h2 message" translate="">DETAILS</span> <span ng-include="\'/assets/partials/billingInformation/sharedPartials/rvChargeCodesAndBillingGroup.html\'"></span></fieldset></div><div class=actions><button type=button id=close-information class="button blank modal-close" ng-click=closeThisDialog()>CANCEL</button> <button type=button id=save-route class="button green modal-close" ng-click=saveRoute() translate="">SAVE</button></div>'),t.put("/assets/partials/billingInformation/reservation/rvBillingInfoReservationMain.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form ng-hide=billingInfoFlags.shouldShowWaiting method=post action=billing-information id=billing-information name=billing-information class="modal-content billing-information" ng-class="{\'add-card\':saveData.newPaymentFormVisible}"><button id=modal-close type=button class="dark-title modal-close" ng-click=handleCloseDialog()><span class="icons icon-close"></span></button><div class=modal-header><h1 translate="">BILLING_INFO_TITLE</h1><em><span translate="">CONFIRMATION_LABEL</span> #{{reservationData.confirm_no}}</em> <button type=button id=new-route class="button green" ng-show=billingInfoFlags.isInitialPage ng-click=addNewRoute() translate="">ADD_ROUTES_LABEL</button> <button type=button id=new-route class="button white" ng-show=!billingInfoFlags.isInitialPage ng-click=navigateToInitialPage() translate="">ALL_ROUTES_LABEL</button></div><div style="position: relative;overflow: hidden;height:510px;"><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-if=billingInfoFlags.isInitialPage class=billing-info-body ng-include="\'/assets/partials/billingInformation/reservation/rvBillingInfoRoutesList.html\'"></div><div ng-if="(!billingInfoFlags.isInitialPage && !billingInfoFlags.isEntitySelected)" class=billing-info-entity ng-include="\'/assets/partials/billingInformation/sharedPartials/rvSearchAndAttachEntity.html\'"></div><div ng-if="(!billingInfoFlags.isInitialPage && billingInfoFlags.isEntitySelected)" class=billing-info-body ng-include="\'/assets/partials/billingInformation/reservation/rvBillingInfoReservationRouteDetails.html\'"></div></div></div></form><div ng-show=billingInfoFlags.shouldShowWaiting class="modal-content modal-vertical-centered waiting-dialog" style="position: relative;padding: 40px;text-align: center;" ng-cloak=""><div class="centeralign alert-box">WAITING</div><div class=waiting-payment>&nbsp;</div></div></div>'),t.put("/assets/partials/billingInformation/reservation/rvBillingInfoReservationRouteDetails.html",'<div id=billing-content class=content-wrapper ng-controller=rvBillingInfoReservationRouteDetailsCtrl><fieldset class=content-left><div id=entity-details ng-iscroll=routeDetails ng-iscroll-delay=100 class="entity-details scrollable"><div class=wrapper><div><div class=title>{{\'DATE_RANGE\' | translate}}</div><div class=entry><div class=has-datepicker><label for=routing-range-from>{{\'FROM_DATE\' | translate}}</label> <input id=routing-range-from ui-date=routingDateFromOptions class=range-datepicker ng-model=routeDates.from ng-change=onRouteDateChange() readonly=""></div><div class=has-datepicker><label for=routing-range-to>{{\'TO_DATE\' | translate}}</label> <input id=routing-range-to ui-date=routingDateToOptions class=range-datepicker ng-model=routeDates.to ng-change=onRouteDateChange() readonly=""></div></div></div><div class=title>{{\'ENTITY\' | translate}} <button type=button id=edit-entity ng-click=deSelectEntity() class="button with-icon only-icon purple edit" ng-if=billingInfoFlags.isInAddRoutesMode><span class="icons icon-pencil"></span></button></div><div class="entity guest"><figure class=guest-image ng-class=getEntityIconClass(selectedEntity) ng-if="escapeNull(selectedEntity.images[0].guest_image)!=\'\'"><img src={{selectedEntity.images[0].guest_image}} alt=""></figure><figure class=guest-image ng-if="escapeNull(selectedEntity.images[0].guest_image)==\'\'"><div class="guest-image icons icon-company" ng-if="escapeNull(selectedEntity.entity_type)==\'COMPANY_CARD\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(selectedEntity.entity_type)==\'TRAVEL_AGENT\'"></div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'GROUP\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'ALLOTMENT\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div></figure><h2>{{selectedEntity.name}}</h2><span class="guest-status small-icon" ng-class="getGuestStatusMapped(selectedEntity.reservation_status, selectedEntity.is_opted_late_checkout)" ng-hide="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span> <span class=status ng-class=getEntityRole(selectedEntity) ng-show="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span></div><div class=title ng-show=paymentFlags.showPayment ng-hide="isOtherReservation || isGroupOrHouse">{{\'PAYMENT\' | translate}} <button type=button id=edit-entity ng-click=editPaymentMethod(); class="button with-icon only-icon purple edit" ng-show="!paymentFlags.isAddPayment && renderAddedPayment != null"><span class="icons icon-pencil"></span></button></div><div ng-iscroll=paymentList ng-iscroll-delay=100 style="position: relative;max-height:210px;overflow: hidden;" ng-show=showCreditCardOrNewPayment(); ng-hide=hideAvailableCreditCard();><div class=wrapper><div class=payment ng-class="{\'active\': selectedEntity.selected_payment == paymentType.id}" ng-show="!paymentFlags.isAddPayment && paymentFlags.showPayment" ng-repeat="paymentType in attachedPaymentTypes" ng-click="selectedEntity.selected_payment = paymentType.id"><span ng-show="paymentType.payment_type_id == 1"><figure class=card-logo><img src=/assets/{{paymentType.card_code}}.png alt=""></figure><span class=number>{{\'NUMBER\' | translate}} <span class="value number">{{paymentType.mli_token}}</span></span> <span class=date>{{\'DATE\' | translate}} <span class="value date">{{paymentType.card_expiry}}</span></span></span> <span class="value code" ng-show="paymentType.payment_type_id != 1">{{ paymentType.payment_type }}</span> <span class="icons icon-ok-10" ng-show="selectedEntity.selected_payment == paymentType.id"></span></div></div></div><div class="payment active" ng-show=showCreditCardAddedDuringRouteCreation();><span ng-show="renderAddedPayment.payment_type == \'CC\'"><figure class=card-logo><img src=/assets/{{renderAddedPayment.creditCardType}}.png alt=""></figure><span class=number>{{\'NUMBER\' | translate}} <span class="value number">{{renderAddedPayment.endingWith}}</span></span> <span class=date>{{\'DATE\' | translate}} <span class="value date">{{renderAddedPayment.cardExpiry}}</span></span></span> <span class="value code" ng-show="renderAddedPayment.payment_type != \'CC\'">{{ renderAddedPayment.payment_type_description }}</span> <span class="icons icon-ok-10"></span></div><button type=button class=add-new-button ng-click=showAddPayment() ng-show=showCreditCardOrNewPayment(); ng-hide=hideNewPaymentButton();>{{\'NEW_PAYMENT\' | translate}}</button><div id=newpaymentview ng-show=showSelectPaymentTypeDropDown(); ng-include="\'/assets/partials/billingInformation/sharedPartials/rvBillingInfoAddPayment.html\'"></div><span ng-hide=isGroupOrHouse ng-include="\'/assets/partials/billingInformation/sharedPartials/rvBillingInfoCreditLimitAndReferenceNo.html\'"></span></div></div></fieldset><fieldset class=content-right><span class="h2 message" ng-hide="isOtherReservation || isGroupOrHouse">{{\'ROUTE_TO_BILL\' | translate}}<div class=select><select ng-model=selectedEntity.to_bill ng-disabled=!selectedEntity.is_new name=post-charge-to-bill><option value={{bill.id}} ng-selected="bill.id == selectedEntity.to_bill" ng-repeat="bill in bills">{{bill.bill_number}}</option></select></div></span> <span ng-include="\'/assets/partials/billingInformation/sharedPartials/rvChargeCodesAndBillingGroup.html\'"></span></fieldset></div><div class=actions><button type=button id=close-information class="button blank modal-close" ng-click=navigateToInitialPage()>CANCEL</button> <button type=button id=save-route class="button green modal-close" ng-click=saveRoute() translate="">SAVE_ROUTE</button></div>'),t.put("/assets/partials/billingInformation/reservation/rvBillingInfoRoutesList.html",'<div id=billing-content class=content-wrapper ng-class="{\'no-content\':routes.length == 0}" ng-controller=rvBillingInfoRoutesListCtrl><div class=info ng-show="routes.length == 0"><strong class=h1 translate="">ROUTES_EMPTY_MESSAGE</strong></div><span class="h2 message bill-routing-header" ng-show="routes.length > 0" translate="">BILL_ROUTING_HEADER</span><div id=routes ng-iscroll=routes ng-iscroll-delay=100 ng-show="routes.length > 0" class="billing-list scrollable bill-routing-list"><ul class=wrapper><li ng-repeat="route in routes"><a href=#route-details ng-class=getEntityRole(route) ng-click=selectEntityFromRoutesList($index)><figure class=guest-image ng-class=getEntityIconClass(route) ng-if="escapeNull(route.images[0].image)!=\'\'"><img src={{route.images[0].image}} alt=""></figure><figure class=guest-image ng-if="escapeNull(route.images[0].image)==\'\'"><div class="guest-image icons icon-company" ng-if="escapeNull(route.entity_type)==\'COMPANY_CARD\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(route.entity_type)==\'TRAVEL_AGENT\'"></div><div class=group-info ng-if="escapeNull(route.entity_type)==\'GROUP\' || escapeNull(route.entity_type)==\'HOUSE\'">A</div><div class="guest-image icons icon-allotment" ng-if="escapeNull(selectedEntity.entity_type)==\'ALLOTMENT\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'"></div></figure><div ng-class="{ \'data\':route.address }"><h2>{{route.name}}</h2><span class=location>{{route.address}}</span></div><div class=type><span class=label>{{getRouteType(route)}}</span> {{getCharges(route)}}</div><div class=bill ng-hide=route.is_routed_to_different_reservation><span class=label>Bill #</span> {{route.bill_no}}</div><div class=bill ng-show=route.is_routed_to_different_reservation><span class=label ng-show="route.room_no == \'\'">ROOM</span> <span class=label ng-show="route.room_no != \'\'"></span> {{route.room_no}}</div></a><div id=remove-route-1 class="icons icon-remove-40" ng-click=deleteRoute($index)>-</div></li></ul></div></div><div class=actions><button type=button class="button blank modal-close" ng-click=handleCloseDialog() translate="">CLOSE</button></div>'),t.put("/assets/partials/billingInformation/sharedPartials/rvBillingInfoAddPayment.html",'<div id=new-payment-method class=form ng-controller=rvBillingInfoAddPaymentCtrl><div style=margin-right:20 class=payment-form><div class="entry full-width" ng-hide=showCCPage><label for=payment-type translate="">PAYMENT_TYPE</label><div class=select><select name=payment-type ng-model=saveData.payment_type id=payment-type class=placeholder ng-change=selectPaymentType()><option value="" translate="">SELECT_PAYMENT_TYPE</option><option value={{paymentType.name}} ng-repeat="paymentType in availablePaymentTypes">{{paymentType.description}}</option></select></div></div><div class=entry ng-show="paymentGateway === \'sixpayments\' && saveData.payment_type ===\'CC\' && !showCCPage"><label for=card-source>Card Input</label><div class=switch-button ng-class="{\'on\': !isManual}"><input name=card-source id=card-source value=card-source type=checkbox ng-model=isManual ng-change=changeOnsiteCallIn()> <label class=data-off><span class=value>C &amp; P</span> <span class=switch-icon>Manual</span></label> <label class=data-on><span class=switch-icon>C &amp; P</span> <span class=value>Manual</span></label></div></div><div ng-include="\'/assets/partials/roverPayment/rvCardOptions.html\'" ng-controller=RVCardOptionsCtrl ng-show=showCCPage></div><div class=actions><button type=button class="button blank" ng-click=cancelClicked() ng-show=paymentFlags.isAddPayment translate="">CANCEl</button></div></div></div>'),t.put("/assets/partials/billingInformation/sharedPartials/rvBillingInfoCreditLimitAndReferenceNo.html","<div ng-hide=isHourlyRateOn><div class=title>{{'CREDIT_LIMIT' | translate}}<span>({{currencySymbol}})</span></div><div class=entry><input type=text ng-model=selectedEntity.credit_limit maxlength=8 ng-disabled=!hasPermissionToEditCreditLimit();></div><div class=title>{{'REFERENCE_NUMBER' | translate}}</div><div class=entry><input type=text ng-model=selectedEntity.reference_number></div></div>"),t.put("/assets/partials/billingInformation/sharedPartials/rvBillingInfoCreditLimitExceededPopup.html",'<div id=modal class=modal-show role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog();><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">CREDIT_LIMIT_HAS_BEEN_EXCEEDED</span> <button type=button class="button green" ng-click=closeDialog();>OK</button></div></div>'),t.put("/assets/partials/billingInformation/sharedPartials/rvChargeCodesAndBillingGroup.html",'<div ng-controller=rvChargeCodesAndBillingGroupCtrl><div class=notice ng-show="selectedEntity.is_allow_direct_debit != undefined && !selectedEntity.is_allow_direct_debit"><span translate="">NO_DEBIT_ALLOWED</span></div><ul id=transaction-type class=modal-options><li ng-class="{\'active\' : billingInfoFlags.isBillingGroup}" ng-click=toggleChargeType() translate="">BILLING_GROUP</li><li ng-class="{\'active\' : !billingInfoFlags.isBillingGroup}" ng-click=toggleChargeType() translate="">CHARGE_CODES</li></ul><div id=transactions ng-iscroll=billingGroups ng-iscroll-delay=100 class="transactions scrollable" ng-show=billingInfoFlags.isBillingGroup><div class="entry radio-check wrapper"><label class=checkbox ng-repeat="billingGroup in availableBillingGroups" ng-click=toggleSelectionForBillingGroup(billingGroup)><span class="icon-form icon-checkbox" ng-class="{\'checked\': isBillingGroupSelected(billingGroup)}"></span> <input name=billing-group id=100 value=100 type=checkbox> <span class=value></span> {{billingGroup.name}}</label></div></div><div id=autocomplete-charge-codes class="search-codes charge-code-select" ng-show=!billingInfoFlags.isBillingGroup><input ng-model=chargeCodeSearchText ng-keyup=chargeCodeEntered() name=search-codes id=search-codes type=text placeholder="{{\'SEARCH_OR_SELECT_CODES_PLACEHOLDER\' | translate}}" value="" autocomplete=off><div class=mini-select ng-click=showAvailableChargeCodes()></div></div><div ng-show="(chargeCodeSearchText.length>2 || billingInfoFlags.showChargeCodes)"><div class="billing-info-charges charge-code-list" ng-hide="availableChargeCodes.length == 0" ng-iscroll=chargeCodesList ng-iscroll-delay=100><div class=search-results><ul id=search-list><li ng-repeat="chargeCode in availableChargeCodes" ng-click=selectChargeCode(chargeCode.id) ng-show="chargeCode.is_row_visible == true"><h4 class="text-bold first-text" ng-class="{\'grey\':isChargeCodeSelected(chargeCode)}" ng-bind-html=chargeCode.code|highlight:chargeCodeSearchText:false></h4>&nbsp;<h4 class=text-bold ng-class="{\'grey\':isChargeCodeSelected(chargeCode)}" ng-bind-html=chargeCode.description|highlight:chargeCodeSearchText:false></h4></li></ul></div></div></div><div id=transactions ng-iscroll=chargeCodes ng-iscroll-delay=100 class="transactions codes scrollable billing-info-charge-codes" ng-show="(!billingInfoFlags.isBillingGroup && selectedEntity.attached_charge_codes.length > 0)"><div class="entry radio-check wrapper"><label class=checkbox ng-click=removeChargeCode(selectedChargeCode) ng-repeat="selectedChargeCode in selectedEntity.attached_charge_codes"><span class="icon-form icon-checkbox checked"></span> <input name=billing-group id=100 value=100 type=checkbox checked=""> <span class=value>{{selectedChargeCode.code}}</span> {{selectedChargeCode.description}}</label></div></div><div id=transactions class="transactions codes scrollable no-content" ng-show="(!billingInfoFlags.isBillingGroup && selectedEntity.attached_charge_codes.length == 0)"><div class=info><strong class=h1 translate="">NO_CODES_ADDED</strong></div></div></div>'),
t.put("/assets/partials/billingInformation/sharedPartials/rvDefaultBillingInformationPayment.html",'<div class=title>{{\'PAYMENT\' | translate}} <button type=button id=edit-entity ng-click=editPaymentMethod(); class="button with-icon only-icon purple edit" ng-show="renderAddedPayment != null && !paymentFlags.isAddPayment"><span class="icons icon-pencil"></span></button></div><div class="payment active" ng-show=showAvailableCreditCard();><span ng-show="renderAddedPayment.payment_type == \'CC\'"><figure class=card-logo><img src=/assets/{{renderAddedPayment.creditCardType}}.png alt=""></figure><span class=number>{{\'NUMBER\' | translate}} <span class="value number">{{renderAddedPayment.endingWith}}</span></span> <span class=date>{{\'DATE\' | translate}} <span class="value date">{{renderAddedPayment.cardExpiry}}</span></span></span> <span class="value code" ng-show="renderAddedPayment.payment_type != \'CC\'">{{ renderAddedPayment.payment_type_description }}</span> <span class="icons icon-ok-10"></span></div><button type=button class=add-new-button ng-click=showAddPayment() ng-show="!paymentFlags.isAddPayment && renderAddedPayment == null">{{\'NEW_PAYMENT\' | translate}}</button><div id=newpaymentview ng-show="paymentFlags.isAddPayment && paymentFlags.showPaymentDropDown" ng-include="\'/assets/partials/billingInformation/sharedPartials/rvBillingInfoAddPayment.html\'"></div>'),t.put("/assets/partials/billingInformation/sharedPartials/rvSearchAndAttachEntity.html",'<div id=billing-content class="content-wrapper no-action" ng-controller=rvSearchAndAttachEntityCtrl><fieldset class=content-left><div class=search-form role=search><div class=entry><a href=# id=billing-info-clear-query class=clear-query ng-class="{\'visible\': textInQueryBox!=\'\'}"><span class="icons icon-clear-search" ng-click=clearResults() translate="">CLEAR_QUERY</span></a> <button type=submit name=submit class="icons icon-search" translate="">MENU_SEARCH</button> <input name=billing-info-query id=billing-info-query class=query placeholder="{{\'FIND_PLACEHOLDER\' | translate}}" type=search autocomplete=off ng-model=textInQueryBox ng-keyup=queryEntered()></div></div><div id=available-entities><span class="h3 message" ng-hide="textInQueryBox!=\'\'" translate="">ATTACHED_ENTITIES</span><div id=entities ng-iscroll=entities ng-iscroll-delay=100 class="entities-list scrollable" ng-hide="textInQueryBox!=\'\'"><ul class=wrapper><li class="entity guest" ng-show="attachedEntities.hasOwnProperty(\'primary_guest_details\')" ng-click="selectAttachedEntity(-1,\'GUEST\')"><figure class=guest-image><img src={{attachedEntities.primary_guest_details.avatar}} alt=""></figure><h2>{{attachedEntities.primary_guest_details.name}}</h2><span class="guest-status small-icon" ng-class="getGuestStatusMapped(reservationData.reservation_status, reservationData.is_opted_late_checkout)">{{attachedEntities.primary_guest_details.name}}</span></li><li class="entity accompany" ng-repeat="entity in attachedEntities.accompanying_guest_details" ng-click="selectAttachedEntity($index,\'ACCOMPANY_GUEST\')"><figure class="guest-image accompany"><img ng-src={{entity.primary_avatar}} alt=""> <img ng-src={{entity.avatar}} alt=""></figure><div class=data><h2>{{entity.name}}</h2></div><span class="guest-status small-icon" ng-class="getGuestStatusMapped(reservationData.reservation_status, reservationData.is_opted_late_checkout)">{{entity.name}}</span></li><li class="entity company" ng-show="attachedEntities.hasOwnProperty(\'company_card\')" ng-click="selectAttachedEntity(-1,\'COMPANY_CARD\')"><figure class=guest-image ng-if="escapeNull(attachedEntities.company_card.logo)!=\'\'"><img ng-src={{attachedEntities.company_card.logo}} alt=""></figure><figure class=guest-image ng-if="escapeNull(attachedEntities.company_card.logo)==\'\'"><div class="guest-image icons icon-company"></div></figure><div class=data><h2>{{attachedEntities.company_card.name}}</h2><span class=location>{{attachedEntities.company_card.address}}</span></div></li><li class="entity travel-agent" ng-show="attachedEntities.hasOwnProperty(\'travel_agent\')" ng-click="selectAttachedEntity(-1,\'TRAVEL_AGENT\')"><figure class=guest-image ng-if="escapeNull(attachedEntities.travel_agent.logo)!=\'\'"><img ng-src={{attachedEntities.travel_agent.logo}} alt=""></figure><figure class=guest-image ng-if="escapeNull(attachedEntities.travel_agent.logo)==\'\'"><div class="guest-image icons icon-travel-agent"></div></figure><div class=data><h2>{{attachedEntities.travel_agent.name}}</h2><span class=location>{{attachedEntities.travel_agent.address}}</span></div></li><li class="entity group" ng-show="billingEntity == \'GROUP_DEFAULT_BILLING\' && attachedEntities.hasOwnProperty(\'posting_account\')" ng-click=selectAttachedEntity(-1,attachedEntities.posting_account.type)><div class=group-info>A</div><h2>{{attachedEntities.posting_account.name}}</h2></li><li class="entity guest" ng-show="billingEntity == \'ALLOTMENT_DEFAULT_BILLING\'" ng-click="selectAttachedEntity(-1, \'ALLOTMENT\')"><figure class=guest-image ng-class=getEntityIconClass(selectedEntity) ng-if="escapeNull(selectedEntity.images[0].guest_image)!=\'\'"><img src={{selectedEntity.images[0].guest_image}} alt=""></figure><figure class=guest-image ng-if="escapeNull(selectedEntity.images[0].guest_image)==\'\'"><div class="guest-image icons icon-company" ng-if="escapeNull(selectedEntity.entity_type)==\'COMPANY_CARD\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(selectedEntity.entity_type)==\'TRAVEL_AGENT\'"></div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'GROUP\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div><div class=group-info ng-if="escapeNull(selectedEntity.entity_type)==\'ALLOTMENT\' || escapeNull(selectedEntity.entity_type)==\'HOUSE\'">A</div></figure><h2>{{selectedEntity.name}}</h2><span class="guest-status small-icon" ng-class="getGuestStatusMapped(selectedEntity.reservation_status, selectedEntity.is_opted_late_checkout)" ng-hide="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span> <span class=status ng-class=getEntityRole(selectedEntity) ng-show="selectedEntity.entity_type !=\'RESERVATION\'">{{selectedEntity.status}}</span></li></ul></div><ul id=filter-entities class=modal-options ng-show="textInQueryBox!=\'\'"><li click-touch=toggleClicked(true) ng-class="{\'active\':isReservationActive}" translate="">RESERVATIONS</li><li click-touch=toggleClicked(false) ng-class="{\'active\':!isReservationActive}" translate="">ACCOUNTS_AND_CARDS</li></ul><div id=entities class="entities-list scrollable" ng-show="textInQueryBox!=\'\' && !isReservationActive" ng-iscroll=cards_search_scroller ng-iscroll-delay=100 style="height:57%;bottom: 0px; left:0px; width: 100%;overflow:hidden;"><ul class=wrapper><div class=entity ng-repeat="row in searchResults.cards" ng-class="{\'company\': row.account_type.toLowerCase()==\'company\', \'travel-agent\': row.account_type.toLowerCase()==\'travelagent\'}" ng-hide="searchResults.cards.length == 0" ng-click="selectEntityFromSearchResults($index,\'ACCOUNT\')"><figure class=guest-image ng-if="escapeNull(row.company_logo)!=\'\'"><img ng-src={{row.company_logo}} alt=""></figure><figure class=guest-image ng-if="escapeNull(row.company_logo)==\'\'"><div class="guest-image icons icon-company" ng-if="escapeNull(row.account_type)==\'COMPANY\'"></div><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(row.account_type)==\'TRAVELAGENT\'"></div></figure><h2 ng-bind-html="row.account_name | highlight:textInQueryBox:false"></h2><span class=status ng-class="{\'company\': row.account_type.toLowerCase()==\'company\', \'travel-agent\': row.account_type.toLowerCase()==\'travelagent\'}"></span></div><div class=entity ng-repeat="row in searchResults.posting_accounts" ng-show="row.is_row_visible==true" ng-hide="searchResults.posting_accounts.length == 0" ng-click="selectEntityFromSearchResults($index, row.account_type )"><div class=group-info>A</div><h2 ng-bind-html="row.account_name | highlight:textInQueryBox:false"></h2></div></ul><div class=no-content ng-show=noSearchResultsFoundInAccountsAndCards();><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1 translate="">NO_MATCH_FOUND_MSG</strong></div></div></div><div id=entities class="entities-list scrollable" ng-show="textInQueryBox!=\'\' && isReservationActive" ng-iscroll=res_search_scroller ng-iscroll-delay=100 style="height:57%;bottom: 0px; left:0px; width: 100%;overflow:hidden;"><ul class=wrapper><div class=entity ng-repeat="row in searchResults.reservations" ng-hide="searchResults.reservations.length == 0 || row.images.length >1" ng-class="{\'guest\':row.images.length <= 1,\'accompany\':row.images.length >1}" ng-click="selectEntityFromSearchResults($index,\'RESERVATIONS\')"><figure class=guest-image ng-show="row.images.length!=0" ng-class="{\'accompany\': row.images.length >1}"><img ng-repeat="image in row.images" ng-src={{image.guest_image}} ng-class="{\'second-image\':(row.images.length >1 && image.is_primary==false)}"> <span class=vip ng-show="row.vip==true" translate="">VIP</span></figure><div class=data><h2 ng-bind-html="row.lastname + \' \' + row.firstname | highlight:textInQueryBox:false" ng-class="{\'grey\' : row.images.length >1}"></h2><span class=confirmation ng-bind-html="\'# {{row.confirmation}}\'|highlight:textInQueryBox:false"></span> <span class=room>{{\'ROOM_LABEL\' | translate}} <strong ng-bind-html="row.room | highlight:textInQueryBox:false"></strong></span></div><span class="guest-status small-icon {{getGuestStatusMapped(row.reservation_status, row.is_opted_late_checkout)}}"></span></div></ul><div class=no-content ng-show=noSearchResultsFoundInReservations();><div class=info><span class=icon-no-content></span> <strong class=h1 translate="">NO_MATCH_FOUND_MSG</strong></div></div></div><label class="checkbox inline search-filter" ng-show=!isReservationActive><span class="icon-form icon-checkbox"></span><input type=checkbox value=1> AR Accounts Only</label> <button ng-show="textInQueryBox!=\'\'" type=button id=cancel-entity-search class="button blank" ng-click=clearResults() translate="">CANCEL_SEARCH</button></div></fieldset><fieldset class=content-right><div class=no-content><div class=info><strong class=h1 translate="">ENTITY_NOT_SELECTED</strong> <span class=h2 translate="">SELECT_ENTITY_TO_CONFIGURE</span></div></div></fieldset></div>'),t.put("/assets/partials/cards/alerts/cardAdditionPrompt.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content modal-vertical-centered"><div class="centeralign alert-box">Please add a Guest Card to check in.<br><br><a ng-click=closeDialog() class="button blank" style="">Close</a></div></div></div>'),t.put("/assets/partials/cards/alerts/cardRemoval.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Please enter Card details</span> <button type=button class="button blank modal-close" ng-click=noRoutingToReservation()>OK</button></div></div>'),t.put("/assets/partials/cards/alerts/contractRatesConfirmation.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-click=clearErrorMessage()><div class="modal-content alert medium"><button ng-click=closeDialog() id=modal-close type=button class=modal-close><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="icons icon-popup-alert"></span> <span class="h2 message" ng-hide=cardData.showCommisionWarning translate="">CONTRACTED_RATE_EXISTS_WARNING</span> <span class="h2 message" ng-show=cardData.showCommisionWarning translate="">CONTRACTED_RATE_EXISTS_AND_COMMISSION_WARNING</span><div class=actions><button ng-click=changeToContractedRate(cardData) type=button class="button green">Change to contracted rate</button> <button ng-click=selectCard(cardData) type=button class="button blue">Keep existing rate</button> <button ng-click=closeDialog() type=button class="button blank">Cancel</button></div></div></div>'),t.put("/assets/partials/cards/alerts/contractedRateChangeFailure.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">CHANGE_TO_CONTRACT_RATE_FAILED</span> <button type=button class="button blank modal-close" ng-click=noRoutingToReservation()>Close</button></div></div>'),t.put("/assets/partials/cards/alerts/detachCard.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content modal-vertical-centered"><div class="centeralign alert-box">Confirm removal of current {{ngDialogData.cardTypeText}} from Stay Card?<br><br><a ng-click="deleteCard(ngDialogData.cardType, ngDialogData.cardId);closeDialog();" class="button green" style="">Yes</a> <a ng-click=closeDialog() class="button blank" style="">No</a></div></div></div>'),t.put("/assets/partials/cards/alerts/futureReservationsAccounts.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content modal-vertical-centered"><div class="centeralign alert-box">Future reservations exist for the same Travel Agent / Company card.<br><br><a ng-click="replaceCardCaller(ngDialogData.cardType , ngDialogData.card, false, ngDialogData.useCardRate);closeDialog();" class="button green" style="">Change this reservation only</a> <a ng-click="replaceCardCaller(ngDialogData.cardType , ngDialogData.card, true, ngDialogData.useCardRate);closeDialog()" class="button blank" style="">Change all Reservations</a></div></div></div>'),t.put("/assets/partials/cards/alerts/futureReservationsGuest.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content modal-vertical-centered"><div class="centeralign alert-box">Future reservations exist for the same Guest card.<br><br><a ng-click="replaceCardCaller(ngDialogData.cardType , ngDialogData.card, false);closeDialog();" class="button green" style="">Change this reservation only</a> <a ng-click="replaceCardCaller(ngDialogData.cardType , ngDialogData.card, true);closeDialog()" class="button blank" style="">Change all Reservations</a></div></div></div>'),t.put("/assets/partials/cards/alerts/warnCardOverride.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2" ng-show="ngDialogData.card.type===\'GROUP\'">Group information will replace linked cards, rates and billing information</span> <span class="message h2" ng-hide="ngDialogData.card.type===\'GROUP\'">Allotment information will replace linked cards, rates and billing information</span><div class=actions><button id=cancel-action ng-show="ngDialogData.card.type===\'GROUP\'" type=button class="button green" ng-click=selectGroup(ngDialogData.card)>Link Group</button> <button id=cancel-action ng-hide="ngDialogData.card.type===\'GROUP\'" type=button class="button green" ng-click=selectAllotment(ngDialogData.card)>Link Allotment</button> <button type=button class="button blank" ng-click=closeDialog();>Close</button></div></div></div>'),t.put("/assets/partials/cards/header/companyCardHeader.html",'<div id=company-card-header class=card-header ng-class="UICardClass(\'company-card\')" ng-controller=RVCompanyCardCtrl ng-click=companyCardClicked($event) ng-if=::isStandAlone outside-click-handler=""><section ng-if="searchMode == false"><figure ng-if="escapeNull(contactInformation.account_details.company_logo)!=\'\'" class=guest-image ng-click="switchCard(\'company-card\')"><img ng-src={{contactInformation.account_details.company_logo}} alt=""></figure><div class="guest-image icons icon-company" ng-if="escapeNull(contactInformation.account_details.company_logo)==\'\'" translate="" ng-click="switchCard(\'company-card\')"></div><form method=post name=change-company-name id=change-company-name><div class=holder><div class=entry><input ng-readonly="isUpdateEnabled() || !isUpdateEnabledForName()" name=cc-name-first id=cc-name-first placeholder="" value={{contactInformation.account_details.account_name}} ng-model=contactInformation.account_details.account_name type=text class="masked-input h1" auto-grow-field=""></div><div class="switch-button global-flag" ng-click=toggleGlobalButton() ng-class="{\'on\': contactInformation.is_global_enabled, \'readonly\': isGlobalToggleReadOnly, \'overlay\': !disableGlobalToggle}"><input id=global-company-card type=checkbox> <label class=data-off><span class=switch-icon>Global</span> <span class=value>Off</span></label> <label class=data-on><span class=value>On</span> <span class=switch-icon>Global</span></label></div><span class="icons icon-notes" ng-show="contactInformation.account_notes_count > 0"></span></div><div class="holder data"><input name=cc-city id=cc-city ng-readonly=isUpdateEnabled() value={{contactInformation.address_details.city}} ng-model=contactInformation.address_details.city type=text class="masked-input icons icon-gc-location" data-size={{contactInformation.address_details.city.length}} auto-grow-field=""> <input name=cc-state ng-readonly=isUpdateEnabled() id=cc-state value={{contactInformation.address_details.state}} ng-model=contactInformation.address_details.state type=text class=masked-input auto-grow-field=""> <input name=cc-phone ng-readonly=isUpdateEnabled() id=cc-phone value={{contactInformation.address_details.phone}} ng-model=contactInformation.address_details.phone type=tel class="masked-input icons icon-gc-phone" auto-grow-field=""> <input name=cc-email ng-readonly=isUpdateEnabled() id=cc-email value={{contactInformation.address_details.email_address}} ng-model=contactInformation.address_details.email_address type=email class="masked-input icons icon-gc-email" auto-grow-field=""></div></form><div class=card-actions ng-show=viewState.isAddNewCard><button class="button green ng-scope" type=button ng-click="clickedSaveCard(\'company\')" translate="">Save new card</button> <button class="button blank ng-scope" type=button ng-click="clickedDiscardCard(\'company\')" translate="">Discard</button> <button id=company-new-contract type=button class="button red pull-right" ng-click="detachCard(\'company\')" translate="" ng-hide=viewState.isAddNewCard>Detach Card</button></div><div class=card-actions ng-hide=viewState.isAddNewCard><button id=company-new-contract type=button class="button red pull-right" ng-class="{ grey: shouldDisableCompanyCardDetachButton()}" ng-disabled=shouldDisableCompanyCardDetachButton() ng-click=detachCompanyCard() translate="">Detach Card</button></div></section><section ng-if=searchMode><div class="guest-image icons icon-company new" ng-click="switchCard(\'company-card\')"><span class=search-indicator></span></div><form method=get action="" name=search-company id=search-company class=card-search-form role=search><div class=holder><div class=entry ng-click=openGuestCard()><input name=cc-name id=cc-name placeholder="Name or Access code" type=text class="masked-input fixed long-name h1" rv-delay-textbox="" ng-model=searchData.companyCard.companyName delay=1000 function-to-fire=searchCompany> <input name=cc-corporate-id id=cc-corporateid placeholder="Corporate ID" type=text class="masked-input fixed code h1" rv-delay-textbox="" ng-model=searchData.companyCard.companyCorpId delay=1000 function-to-fire=searchCompany> <input name=cc-city id=cc-city placeholder=City type=text class="masked-input fixed city h1" rv-delay-textbox="" ng-model=searchData.companyCard.companyCity delay=1000 function-to-fire=searchCompany></div></div></form></section></div>'),t.put("/assets/partials/cards/header/groupCardHeader.html",'<div id="{{fetchGroupAllotmentCardId(\'HEAD\')}}" class=card-header ng-class="UICardClass(\'group-card\')" ng-controller=RVGroupCardCtrl ng-if=::isStandAlone outside-click-handler=""><section ng-if="!searchMode && !!reservationData.group.id"><div class="guest-image icons icon-group-large" ng-click="switchCard(\'group-card\')"></div><form name=edit-group id=new-group class=dual-actions><div class=holder><div class=entry><input id=group-name placeholder="" value={{groupConfigData.summary.group_name}} type=text class="masked-input h1"></div></div><div class="holder data"><input class="masked-input icons icon-gc-company" id=group-company value={{groupConfigData.summary.company.name}} type=text style="width:{{ ((groupConfigData.summary.company && groupConfigData.summary.company.name && groupConfigData.summary.company.name.length) || 2) * 9 + 45}}px"><input class="masked-input icons icon-gc-ta" id=group-ta value={{groupConfigData.summary.travel_agent.name}} type=text style="width:{{ ((groupConfigData.summary.travel_agent && groupConfigData.summary.travel_agent.name && groupConfigData.summary.travel_agent.name.length) || 2) * 9 + 45}}px"></div></form><div class="card-actions dual-actions"><button type=button class="button blue" ng-hide=true>Duplicate</button><button type=button class="button brand-colors" ng-click=gotoGroupDetails()>Group Details</button> <button type=button class="button red" ng-click=detachFromGroupORAllotment()>Remove Group</button></div></section><section ng-if="!searchMode && !!reservationData.allotment.id"><div class="guest-image icons icon-allotment-large new" ng-click="switchCard(\'group-card\')"></div><form name=edit-group id=new-group class=dual-actions><div class=holder><div class=entry><input id=group-name placeholder="" value={{allotmentConfigData.summary.allotment_name}} type=text class="masked-input h1"></div></div><div class="holder data"><input class="masked-input icons icon-gc-company" id=group-company value={{allotmentConfigData.summary.company.name}} type=text style="width:{{ ((allotmentConfigData.summary.company && allotmentConfigData.summary.company.name && allotmentConfigData.summary.company.name.length) || 2) * 9 + 45}}px"><input class="masked-input icons icon-gc-ta" id=group-ta value={{allotmentConfigData.summary.travel_agent.name}} type=text style="width:{{ ((allotmentConfigData.summary.travel_agent && allotmentConfigData.summary.travel_agent.name && allotmentConfigData.summary.travel_agent.name.length) || 2) * 9 + 45}}px"></div></form><div class="card-actions dual-actions"><button type=button class="button blue" ng-hide=true>Duplicate</button><button type=button class="button brand-colors" ng-click=gotoAllotmentDetails()>Details</button> <button type=button class="button red" ng-click=detachFromGroupORAllotment()>Detach</button></div></section><section section="" ng-if=searchMode><div class="guest-image icons icon-group-allotment new" ng-click="switchCard(\'group-card\')"><span class=search-indicator></span></div><form method=post name=search-group id=ssearch-allotment-group class=card-search-form role=search><div class=holder><div class=entry ng-click=openGuestCard()><input name=group-name id=allotment-group-name placeholder="Group or Allotment Name" value="" class="masked-input fixed long-name h1" type=text rv-delay-textbox="" ng-model=searchData.groupCard.name delay=1000 function-to-fire=searchGroups> <input name=group-code id=allotment-group-code placeholder="Group or Allotment Code #" value="" class="masked-input fixed code h1" type=text rv-delay-textbox="" ng-model=searchData.groupCard.code delay=1000 function-to-fire=searchGroups></div></div></form></section></div>'),t.put("/assets/partials/cards/header/guestCardHeader.html",'<div id=guest-card-header class=card-header ng-class="UICardClass(\'guest-card\')" ng-controller=RVGuestCardCtrl ng-click=guestCardClicked()><section ng-if=!searchMode><figure class=guest-image ng-click="switchCard(\'guest-card\')" ng-class="{\'blacklisted\':guestCardData.contactInfo.is_flagged}"><img ng-src={{guestCardData.contactInfo.avatar}}> <span class=stay-count ng-if="guestCardData.contactInfo.stayCount > 0 && isStandAlone">{{::guestCardData.contactInfo.stayCount}}</span> <span class=vip ng-show=guestCardData.contactInfo.vip>VIP</span></figure><form name=change-name id=change-name class=dual-actions><div class=holder><div class=entry ng-click=openGuestCard()><input type=text class="masked-input h1" data-size={{guestCardData.contactInfo.first_name.length}} ng-model=guestCardData.contactInfo.first_name placeholder="First Name" ng-change=updateContactInfo() auto-grow-field=""> <input type=text class="masked-input h1" data-size={{guestCardData.contactInfo.last_name.length}} ng-model=guestCardData.contactInfo.last_name placeholder="Last Name" ng-change=updateContactInfo() auto-grow-field=""></div><span class="icons icon-notes" ng-show=guestCardData.contactInfo.notes_count></span> <strong class=status>{{guestCardData.selectedLoyaltyLevel}}</strong><div ng-show=::isStandAlone class=switch-button ng-class="{ \'on\': guestCardData.contactInfo.vip}"><input name=vip id=vip type=checkbox ng-model=guestCardData.contactInfo.vip ng-click=vipToggleClicked()> <label class=data-off><span class="switch-icon vip">VIP</span> <span class=value>Off</span></label> <label class=data-on><span class=value>On</span> <span class="switch-icon vip">VIP</span></label></div></div><div class="holder data"><input type=text data-size={{guestCardData.contactInfo.address.city.length}} class="masked-input icons icon-gc-location" placeholder="" ng-model=guestCardData.contactInfo.address.city ng-blur=updateContactInfo() auto-grow-field=""> <input type=text data-size={{guestCardData.contactInfo.address.state.length}} class=masked-input ng-model=guestCardData.contactInfo.address.state ng-blur=updateContactInfo() auto-grow-field=""> <input type=text id=gc-mobile data-size={{guestCardData.contactInfo.mobile.length}} class="masked-input icons icon-gc-mobile" ng-model=guestCardData.contactInfo.mobile ng-blur=updateContactInfo() auto-grow-field=""> <input type=tel data-size={{guestCardData.contactInfo.phone.length}} class="masked-input icons icon-gc-phone" ng-model=guestCardData.contactInfo.phone ng-blur=updateContactInfo() auto-grow-field=""> <input type=text data-size={{guestCardData.contactInfo.email.length}} class="masked-input icons icon-gc-email" ng-model=guestCardData.contactInfo.email ng-keydown="($event.keyCode === 9) && emailTabKey($event)" ng-blur=updateContactInfo() auto-grow-field=""></div></form><div class="card-actions dual-actions" ng-show=viewState.isAddNewCard><button class="button green ng-scope" type=button ng-click="clickedSaveCard(\'guest\')" translate="">Save new card</button> <button class="button red ng-scope" type=button ng-click="clickedDiscardCard(\'guest\')" translate="">Discard</button></div><div class=card-actions ng-hide=viewState.isAddNewCard><button id=company-new-contract type=button class="button red pull-right" ng-click=detachGuestCard() translate="" ng-hide="viewState.isAddNewCard || !isStandAlone">Detach Card</button> <button type=button class="button toggle has-arrow" ng-click=toggleCardActions() ng-class="{\'active\' : manageCardState.isOpen, \'\' : !manageCardState.isOpen}" ng-show=!isStandAlone>Manage Card</button><div class=manage-cards ng-class="{\'hidden\': !manageCardState.isOpen, \'\' : manageCardState.isOpen}" ng-show=!isStandAlone><button type=button class=button ng-click=removeGuestDetails(guestCardData.contactInfo.user_id) ng-class="{\'grey\':shouldDisableRemoveGuestBtn(),\'white red-text\': !shouldDisableRemoveGuestBtn()}" ng-disabled=shouldDisableRemoveGuestBtn()>Remove</button> <button type=button class="button purple" ng-hide=true>Archive Card</button> <button type=button class="button red" ng-hide=true>Delete Card</button></div></div></section><section ng-if=searchMode><figure class=guest-image ng-click="switchCard(\'guest-card\')"><img ng-src="{{ cardHeaderImage }}" alt=""> <span class=search-indicator></span></figure><form method=get action="" name=search-guests id=search-guests class=card-search-form role=search><div class=holder><div class=entry ng-click=openGuestCard()><input name=gc-lastname id=gc-lastname placeholder="Last Name" type=text class="masked-input fixed name h1" rv-delay-textbox="" ng-model=searchData.guestCard.guestLastName delay=1000 function-to-fire=searchGuest> <input name=gc-firstname id=gc-firstname placeholder="First Name" type=text class="masked-input fixed name h1" rv-delay-textbox="" ng-model=searchData.guestCard.guestFirstName delay=1000 function-to-fire=searchGuest> <input name=gc-email id=gc-email placeholder=E-mail type=text class="masked-input fixed email h1" rv-delay-textbox="" ng-model=searchData.guestCard.email delay=1000 function-to-fire=searchGuest> <input name=gc-city id=gc-city placeholder=City type=text class="masked-input fixed city h1" rv-delay-textbox="" ng-model=searchData.guestCard.guestCity delay=1000 function-to-fire=searchGuest> <input name=gc-loyalty id=gc-loyalty placeholder="Loyalty No." type=text class="masked-input fixed loyalty h1" rv-delay-textbox="" ng-model=searchData.guestCard.guestLoyaltyNumber delay=1000 function-to-fire=searchGuest ng-hide=!guestCardData.loyaltyInGuestCardEnabled></div></div></form></section></div>'),t.put("/assets/partials/cards/header/travelAgentCardHeader.html",'<div id=travel-agent-card-header ng-controller=RVTravelAgentCardCtrl class=card-header ng-class="UICardClass(\'travel-agent-card\')" ng-click=travelAgentCardClicked($event) ng-if=::isStandAlone outside-click-handler=""><section ng-if="searchMode== false"><figure ng-if="escapeNull(contactInformation.account_details.company_logo)!=\'\'" class=guest-image ng-click="switchCard(\'travel-agent-card\')"><img ng-src={{contactInformation.account_details.company_logo}} alt=""></figure><div class="guest-image icons icon-travel-agent" ng-if="escapeNull(contactInformation.account_details.company_logo)==\'\'" translate="" ng-click="switchCard(\'travel-agent-card\')"></div><form method=post name=change-company-name id=change-company-name><div class=holder><div class=entry><input name=cc-name-first id=cc-name-first placeholder="" value={{contactInformation.account_details.account_name}} ng-model=contactInformation.account_details.account_name type=text class="masked-input h1" auto-grow-field="" ng-readonly="isUpdateEnabledForTravelAgent() || !isUpdateEnabledForName()"></div><div class="switch-button global-flag" ng-click=toggleGlobalButton() ng-class="{\'on\': contactInformation.is_global_enabled, \'readonly\': isGlobalToggleReadOnly, \'overlay\': !disableGlobalToggle}"><input id=global-company-card type=checkbox> <label class=data-off><span class=switch-icon>Global</span> <span class=value>Off</span></label> <label class=data-on><span class=value>On</span> <span class=switch-icon>Global</span></label></div><span class="icons icon-notes" ng-show="contactInformation.account_notes_count > 0"></span></div><div class="holder data"><input name=cc-city id=cc-city value={{contactInformation.address_details.city}} ng-model=contactInformation.address_details.city type=text class="masked-input icons icon-gc-location" data-size={{contactInformation.address_details.city.length}} ng-readonly=isUpdateEnabledForTravelAgent() auto-grow-field=""> <input name=cc-state ng-readonly=isUpdateEnabledForTravelAgent() id=cc-state value={{contactInformation.address_details.state}} ng-model=contactInformation.address_details.state type=text class=masked-input auto-grow-field=""> <input name=cc-phone ng-readonly=isUpdateEnabledForTravelAgent() id=cc-phone value={{contactInformation.address_details.phone}} ng-model=contactInformation.address_details.phone type=tel class="masked-input icons icon-gc-phone" auto-grow-field=""> <input name=cc-email id=cc-email value={{contactInformation.address_details.email_address}} ng-model=contactInformation.address_details.email_address type=email class="masked-input icons icon-gc-email" ng-readonly=isUpdateEnabledForTravelAgent() auto-grow-field=""></div></form><div class=card-actions ng-show=viewState.isAddNewCard><button class="button green ng-scope" type=button ng-click="clickedSaveCard(\'travel_agent\')" translate="">Save new card</button> <button class="button blank ng-scope" type=button ng-click="clickedDiscardCard(\'travel_agent\')" translate="">Discard</button></div><div class=card-actions ng-hide=viewState.isAddNewCard><button id=company-new-contract type=button class="button red pull-right" ng-class="{ grey: shouldDisableTACardDetachButton()}" ng-disabled=shouldDisableTACardDetachButton() ng-click=detachTravelAgent() translate="">Detach Card</button></div></section><section ng-if=searchMode><div class="guest-image icons icon-travel-agent" ng-click="switchCard(\'travel-agent-card\')"><span class=search-indicator></span></div><form method=get action="" name=search-travel-agent id=search-travel-agent class=card-search-form role=search><div class=holder><div class=entry ng-click=openGuestCard()><input name=tac-name id=tac-name placeholder="Name or Access code" type=text class="masked-input fixed long-name h1" rv-delay-textbox="" ng-model=searchData.travelAgentCard.travelAgentName delay=1000 function-to-fire=searchTravelAgent> <input name=tac-city id=tac-city placeholder=City type=text class="masked-input fixed city h1" rv-delay-textbox="" ng-model=searchData.travelAgentCard.travelAgentCity delay=1000 function-to-fire=searchTravelAgent> <input name=tac-iata id=tac-iata placeholder="IATA #" type=text class="masked-input fixed code h1" rv-delay-textbox="" ng-model=searchData.travelAgentCard.travelAgentIATA delay=1000 function-to-fire=searchTravelAgent></div></div></form></section></div>'),
t.put("/assets/partials/cards/popups/detachCardsAPIErrorPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" ng-repeat="message in ngDialogData.errorMessages track by $index">{{message}}</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/cards/popups/detachCardsAPIWarningPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" ng-hide=ngDialogData.showCommisionWarning translate="">COMPANY_CARD_DETACH_BILLING_INFO_WARNING</span> <span class="h2 message" ng-show=ngDialogData.showCommisionWarning translate="">COMPANY_CARD_DETACH_BILLING_INFO_AND_COMMISSIONS_WARNING</span> <button type=button class="button red" ng-click=deleteCard(ngDialogData.cardType,ngDialogData.cardId)>Detach Card</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div>'),t.put("/assets/partials/cards/popups/rvCommisonHoldOrPaidWarning.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">TA_CARD_CANT_BE_REMOVED_WARNING_FOR_COMMISSIONS</span> <button type=button class="button blank" ng-if=!ngDialogData.cardData ng-click=closeDialog()>OK</button></div></div>'),t.put("/assets/partials/cards/popups/rvCommissionsWarningPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-if=ngDialogData.cardData ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <button id=modal-close type=button class=modal-close ng-if=!ngDialogData.cardData ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">RESERVATION_COMMISSIONS_WARNING</span> <button type=button class="button blank" ng-if=ngDialogData.cardData ng-click=setSelectedTACard(ngDialogData.cardData)>CONTINUE</button> <button type=button class="button blank" ng-if=!ngDialogData.cardData ng-click=closeDialog()>OK</button></div></div>'),t.put("/assets/partials/cards/popups/rvNewTACommissionsWarningPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=saveNewTACard($event)><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">RESERVATION_COMMISSIONS_WARNING</span> <button type=button class="button blank" ng-click=saveNewTACard($event)>CLOSE</button></div></div>'),t.put("/assets/partials/common/actions/actionSummary.html",'<div id=action-summary class="action-summary scrollable" ng-iscroll=actionSummaryScroller ng-iscroll-delay=500><div class=wrapper><span class="icons icon-action icon-{{selectedAction.action_status}} icon-100w">{{getActionStatusInfo(selectedAction)}}</span><h3>{{selectedAction.description}}</h3><span class=info>Created {{selectedAction.created_at_date}} at {{selectedAction.created_at_time}}<span ng-if=selectedAction.assigned_to>by {{selectedAction.assigned_to.name}}</span></span><div class=info-lists><ul><li>Assigned to<strong ng-if=selectedAction.assigned_to>{{selectedAction.assigned_to.name}}</strong> <strong ng-if=!selectedAction.assigned_to class=red>Unassigned</strong></li><li>Date Due <strong>{{selectedAction.due_at_date}}</strong></li><li>Time Due <strong>{{selectedAction.due_at_time_str}}</strong></li></ul><ul class=completed ng-if="selectedAction.action_status === \'COMPLETED\'"><li>Completed by <strong ng-if=selectedAction.completed_by>{{selectedAction.completed_by.name}}</strong></li><li>Date Completed <strong>{{selectedAction.completed_at | date: dateFormat}}</strong></li><li>Time Completed <strong>{{selectedAction.completed_at | date: "hh:mm a"}}</strong></li></ul></div></div></div><div class=detail-actions ng-show="actionSelected === \'selected\'" ng-class="{\'inline\': selectedAction.action_status === \'delete\'}"><button type=button ng-if="selectedAction.action_status !== \'delete\'" class="back-button hide-on-desktop" ng-click=onBackButtonClicked()>All Actions</button><button type=button class="button white purple-text" ng-click=prepareEditAction(selectedAction) ng-class="{\'overlay\': !hasPermissionToEditAction(), \'hidden\': !shouldShowEditAndCompleteBtns(selectedAction)}">Edit</button> <button type=button class="button white green-text" ng-click=completeAction() ng-class="{\'hidden\': !shouldShowEditAndCompleteBtns(selectedAction)}">Complete</button><button type=button class="button white red-text" ng-click=prepareDeletAction() ng-class="{\'overlay\': !hasPermissionToDeleteAction(), \'hidden\': !shouldShowDeleteBtn(selectedAction)}">Delete</button><button type=button class="button blank" ng-click=cancelDelete() ng-class="{\'hidden\': selectedAction.action_status !== \'delete\' }">Cancel</button> <button type=button class="button red" ng-click=deleteAction() ng-class="{\'hidden\': selectedAction.action_status !== \'delete\' }">Delete Action</button></div>'),t.put("/assets/partials/common/actions/actionsContentWrapper.html",'<div ng-hide=refreshingList() ng-show=showErrMsg() ng-class="{notice: errorMessage != \'\'}" class="error error_message" ng-switch="" on=errorMessage.length ng-click=clearErrorMessage()><span class=close-btn ng-click=clearErrorMessage()></span> <span class=actions-small-font>{{errorMessage}}</span></div><section class=actions-content ng-class="{\'show-right-content\': !showLeftSideViewForMobile}" role=main ng-show="showActionsList() || refreshingToNonEmpty()"><div class=content-left ng-show="showActionsList() || refreshingToNonEmpty()"><div ng-include="\'/assets/partials/common/actions/actionsList.html\'" class=scrollable ng-iscroll=rvActionListScroller ng-iscroll-delay=500></div></div><div class=content-right ng-show=showActionSummary() ng-click=stopEditClick()><div class=summary ng-include="\'/assets/partials/common/actions/actionSummary.html\'"></div></div><div class=content-right ng-class="{\'full-width\': actions.totalCount === 0}" ng-show="(showNewAction() || actionSelected === \'edit\') && !refreshingToNonEmpty()"><div id=summary class=summary ng-include="\'/assets/partials/common/actions/createAction.html\'" ng-show="showNewAction() && !refreshingToNonEmpty()"></div><div id=summary class=summary ng-include="\'/assets/partials/common/actions/editAction.html\'" ng-show="actionSelected === \'edit\' && !refreshingToNonEmpty()"></div></div></section><section class=actions-content ng-class="{\'show-right-content\': !showLeftSideViewForMobile}" role=main ng-show=showNewActionOnly()><div class=content-right ng-class="{\'full-width\': actions.totalCount === 0}"><div id=summary class=summary ng-include="\'/assets/partials/common/actions/createAction.html\'"></div></div></section>'),t.put("/assets/partials/common/actions/actionsList.html","<ul class=wrapper><li ng-repeat=\"action in actions\" ng-hide=action.is_deleted ng-click=selectAction(action);onActionSelected() ng-class=\"{'active': action.id == selectedAction.id}\"><span ng-hide=\"!isStandAlone && (isRequest(action.action_task_type))\" class=\"icons icon-action icon-{{getActionStatusClass(action)}}\" ng-class=\"{'active': action.id == selectedAction.id, 'ng-hide':action.is_deleted, 'action-set-mid': (isStandAlone && action.over_due == false && action.action_task_type == null) || (action.action_status === 'COMPLETED') }\"><span ng-if=\"(action.over_due && action.action_status !== 'COMPLETED' && isStandAlone) || (!isStandAlone && action.over_due && action.action_status !== 'COMPLETED' && isTrace(action.action_task_type))\" class=actions-overdue-font ng-class=\"{'active': action.id == selectedAction.id}\" translate=\"\">OVERDUE</span><br><span class=actions-overdue-font ng-class=\"{'active': action.id == selectedAction.id, 'ng-hide':action.action_status === 'COMPLETED'}\">{{action.action_task_type}}</span></span> <span ng-show=isOverlayRequest(action) class=\"icon-action special-request-icon\" style=margin-left:0px; ng-class=\"{ 'active': action.id == selectedAction.id, 'special-request-icon': (!isStandAlone && action.action_status === 'COMPLETED' && isRequest(action.action_task_type)) }\"><span ng-if=\"(!isStandAlone && action.over_due && action.action_status !== 'COMPLETED' && isTrace(action.action_task_type))\" class=actions-overdue-font ng-class=\"{'active': action.id == selectedAction.id}\" translate=\"\">OVERDUE</span><br><span class=actions-overdue-font style=margin-left:2px; ng-class=\"{'active': action.id == selectedAction.id, 'ng-hide':action.action_status === 'COMPLETED'}\">{{action.action_task_type}}</span></span><div class=data><h3>{{action.description}}</h3><em ng-if=!!action.due_at ng-show=isStandAloneAction(action)>{{action.due_at_date}} &#8226; {{action.due_at_time_str}}</em> <em ng-if=!!action.due_at ng-show=isTrace(action.action_task_type)>{{action.due_at_date}}</em> <em ng-show=\"isRequest(action.action_task_type) || isAlert(action.action_task_type)\"></em></div><span class=department>{{action.assigned_to.name}}</span></li></ul>"),t.put("/assets/partials/common/actions/createAction.html",'<div id=secondary-actions class=add-content ng-class="{\'action-mgr-screen\':isActionManager}"><span class="h2 message">New Action</span><div class="entry full-width" ng-show=isActionManager><label for=guest_input>Guest Name or Room No.</label> <input ng-change=initFetchGuestInfo() id=search-guest-or-room type=search class=query autocomplete=off ng-model=textInQueryBox name=guest_input placeholder="Search by Guest Name or Room No."><ul class=find-guest ng-show=showAutocompleteResults><li ng-click=selectGuestInfo(info) class=auto-complete-result ng-show=info.is_row_visible ng-repeat="info in searchResults"><a><figure class=guest-image><img src={{info.images[0].guest_image}} alt=""></figure><span class=name>{{info.firstname}} {{info.lastname}}</span> <span class=room>Room {{info.room}}</span></a></li></ul></div><div class="entry full-width"><label for=department>Assign to Department</label><div class=select><select id=department-new-action class=placeholder ng-model=newAction.department ng-options="department.name for department in departments"><option value="" selected="">Select department</option></select></div></div><div class="entry date margin" ng-click=showNewCalendar()><label for=due-date>Date Due</label> <input id=due-date type=text class=datepicker value={{newAction.date_due}} readonly=""></div><div ng-show=newCalendarShow class=ngmodal-uidate-wrap id=newCalendar ng-include="\'/assets/partials/common/actions/rvReservationCardActionsCalendar.html\'"></div><div class=entry ng-class="{\'overlay\': !newAction.hasDate}"><label for=due-time>Time Due</label><select id=due-time ng-model=newAction.time_due><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="newAction.time_due === timeSelector.value">{{timeSelector.text}}</option></select></div><div class="entry full-width"><label for=notes>Notes <span><font ng-if="newAction.notes.length < 255" color=green>{{255 - newAction.notes.length}}</font><font ng-if="newAction.notes.length >= 255" color=red>{{255 - newAction.notes.length}}</font></span></label> <textarea id=notes ng-model=newAction.notes name=notes placeholder="Enter message..." rows=4 maxlength=255></textarea></div><div id=new_action_post class=actions><button type=button class="button blank" ng-click=cancel()>Cancel</button> <button type=button class="button green action-post-btn" ng-click=postAction() ng-class="{\'overlay\': !newAction.hasDate || !newAction.notes || (!departmentSelected && !isStandAlone)}">Post Action</button></div></div>'),t.put("/assets/partials/common/actions/editAction.html",'<div id=secondary-actions class=add-content ng-class="{\'action-mgr-screen\':isActionManager}"><span class="h2 message">Edit Action</span><div class="entry full-width" ng-show=isActionManager><label for=guest_input>Guest Name or Room No.</label> <input ng-change=initFetchGuestInfo() id=search-guest-or-room type=search class=query autocomplete=off ng-model=textInQueryBox name=guest_input placeholder="Search by Guest Name or Room No."><ul class=find-guest ng-show=showAutocompleteResults><li ng-click=selectGuestInfo(info) class=auto-complete-result ng-show=info.is_row_visible ng-repeat="info in searchResults"><a><figure class=guest-image><img src={{info.images[0].guest_image}} alt=""></figure><span class=name>{{info.firstname}} {{info.lastname}}</span> <span class=room>Room {{info.room}}</span></a></li></ul></div><div class="entry full-width"><label for=department>Assign to Department</label><div class=select><select id=department-new-action class=placeholder ng-model=newAction.department ng-options="department.name for department in departments"><option value="" selected="">Select department</option></select></div></div><div class="entry date margin" ng-click=showNewCalendar()><label for=due-date>Date Due</label> <input id=due-date type=text class=datepicker value={{newAction.date_due}} readonly=""></div><div ng-show=newCalendarShow class=ngmodal-uidate-wrap id=newCalendar ng-include="\'/assets/partials/common/actions/rvReservationCardActionsCalendar.html\'"></div><div class=entry ng-class="{\'overlay\': !newAction.hasDate}"><label for=due-time>Time Due</label><select id=due-time ng-model=newAction.time_due><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="newAction.time_due === timeSelector.value">{{timeSelector.text}}</option></select></div><div class="entry full-width"><label for=notes>Notes <span><font ng-if="newAction.notes.length < 255" color=green>{{255 - newAction.notes.length}}</font><font ng-if="newAction.notes.length >= 255" color=red>{{255 - newAction.notes.length}}</font></span></label> <textarea id=notes ng-model=newAction.notes name=notes placeholder="Enter message..." rows=4 maxlength=255></textarea></div><div id=new_action_post class=actions><button type=button class="button blank" ng-click=cancel()>Cancel</button> <button type=button class="button green action-post-btn" ng-click=handleActionUpdate() ng-class="{\'overlay\': !newAction.hasDate || !newAction.notes || (!newAction.department && !isStandAlone)}">Save Changes</button></div></div>'),t.put("/assets/partials/common/actions/rvReservationCardActionsCalendar.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><button id=modal-close style="width:40px !important;" type=button class=modal-close ng-click="closeSelectedCalendar(); closeNewCalendar();"><span class="icons icon-close invert"></span></button><div ui-date=actionsDateOptions ng-model=actionsSelectedDate ui-date-format=yy-mm-dd class=ngmodal-uidate-wrap></div></div>'),t.put("/assets/partials/common/group/rvGroupBorrowPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><span class="icons icon-popup-alert"></span> <span class="message h2">There is no availability in the group allocation for the selected dates. Borrow from house?</span> <button type=button class="button green modal-close" ng-click=performBorrowFromHouse() ng-disabled=!hasBorrowFromHousePermission ng-class="{\'overlay\': !hasBorrowFromHousePermission}">Borrow</button> <button type=button class="button blank" ng-click=closeBorrowPopup()>Cancel</button></div></div>'),t.put("/assets/partials/common/group/rvGroupOverbookPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><span class="icons icon-popup-alert"></span> <span class="message h2" ng-if=borrowData.isRoomTypeOverbooked translate="">GROUP_OVERBOOK_ROOM_TYPE</span> <span class="message h2" ng-if=borrowData.isHouseOverbooked translate="">GROUP_OVERBOOK_HOUSE</span> <span class="message h2" ng-if=borrowData.isHouseAndRoomTypeOverbooked translate="">GROUP_OVERBOOK_ROOM_TYPE_AND_HOUSE</span> <button type=button class="button green modal-close" ng-click=performOverBook() ng-if=borrowData.shouldShowOverBookBtn>Overbook</button> <button type=button class="button blank" ng-click=closeOverbookPopup()>Cancel</button></div></div>'),t.put("/assets/partials/companyCard/activityLog/rvCompanyCardActivityLog.html",'<form method=post id=cc-activity-log name=cc-activity-log class="form card-tab inner-header activity-log"><div class="tab-header with-filters"><div class="search-form has-dates"><div class="entry dates"><div class="entry-data has-datepicker"><label for=activity-log-date-from>From</label> <button ng-click="clearDate(\'FROM\')" ng-class="{\'visible\': escapeNull(activityLogFilter.fromDate) !=\'\'}" id=activity-log-date-from-clear class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input name=activity-log-date-from id=activity-log-date-from type=text class=datepicker value="{{activityLogFilter.fromDate | date:dateFormat}}" ng-click=clickedFromDate() readonly=""></div><div class="entry-data has-datepicker"><label for=activity-log-date-to>To</label> <button ng-click="clearDate(\'TO\')" id=activity-log-date-to-clear class=clear-query ng-class="{\'visible\': escapeNull(activityLogFilter.toDate) !=\'\'}"><span class="icons icon-clear-search">Clear query</span></button> <input name=activity-log-date-to id=activity-log-date-to type=text class=datepicker value="{{activityLogFilter.toDate | date:dateFormat}}" ng-click=clickedToDate() readonly=""></div></div><div class=entry><div class=select><select id=activity-log-activities ng-model=activityLogFilter.selectedAction><option value="" ng-selected="activityLogFilter.selectedAction === \'\'">All Actions</option><option value={{action.id}} ng-repeat="action in activityLogFilter.actionsList" ng-selected="activityLogFilter.selectedAction === action.id">{{action.description}}</option></select></div></div><div class="entry search"><button class=clear-query ng-click=clearQuery() ng-class="{\'visible\': activityLogFilter.query!=\'\'}"><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input name=activity-log-search class=query placeholder="Search by Details" type=search autocomplete=off ng-model=activityLogFilter.query></div><button type=button class="button green" ng-click=clickedFilterButton()>Filter</button></div></div><div class="tab-details scrollable" ng-iscroll=rvCompanyCardActivityLogScroll ng-iscroll-delay=100 ng-class="{ \'with-pagination\': showPagination() }"><div class=wrapper><table><thead><tr><th><span ng-click="sortByAction(\'USERNAME\')" class=sort ng-class="{\'sorting-asc\':activityLogFilter.user == \'asc\',\'sorting-desc\':activityLogFilter.user == \'desc\'}">User</span></th><th><span ng-click="sortByAction(\'DATE\')" class=sort ng-class="{\'sorting-asc\':activityLogFilter.date == \'asc\',\'sorting-desc\':activityLogFilter.date == \'desc\'}">Date &amp; Time</span></th><th><span ng-click="sortByAction(\'ACTION\')" class=sort ng-class="{\'sorting-asc\':activityLogFilter.action == \'asc\',\'sorting-desc\':activityLogFilter.action == \'desc\'}">Action</span></th><th><span>Details</span></th></tr></thead><tbody><tr ng-repeat="item in activityLogObj.response.results"><td class=name>{{item.user_name}} <span class=property>{{item.property}}</span></td><td class=date>{{item.date | date: dateFormat }}, {{item.time}}</td><td class=action>{{item.action}}</td><td class=details><span ng-repeat="details in item.details"><span class=old ng-show=isOldValue(details.old_value)>{{ details.key }} <strong>{{ details.old_value }}</strong></span> {{details.key}} <span class=currency><strong>{{details.new_value }}</strong></span></span></td></tr></tbody></table></div></div><rv-pagination ng-show=showPagination() page-options=activityLogPagination page-data=activityLogObj.response></rv-pagination></form>'),t.put("/assets/partials/companyCard/contracts/rvCardAddContracts.html",'<div ng-controller=rvCardAddContractsCtrl class=contracts-details><div class="contracts-details-form scrollable" ng-iscroll=cardNewContractsScroll><div class="wrapper float"><div class="holder left"><strong class=h3>Contract Details</strong><div class="entry full-width"><label class=disable-element for=linked-contract-name>Name</label><input name=contract-name id=linked-contract-name ng-model=addData.contractName placeholder="Contract Name" type=text></div><div class="entry margin"><label class=disable-element for=contract-code>Access Code</label><input name=contract-code id=linked-contract-code ng-model=addData.accessCode placeholder="Access Code" type=text></div><div class="entry only-switch"><label class=disable-element for=travel-agent-contract-status>Status</label><div class="switch-button full-width" ng-class="{\'on\': addData.isActive}"><input id=contract-status ng-model=addData.isActive ng-click=toggleActiveStatus() type=checkbox> <label class=data-off><span class=value>Active</span> <span class=switch-icon>Inactive</span></label> <label class=data-on><span class=switch-icon>Active</span> <span class=value>Inactive</span></label></div></div><div class="entry margin has-datepicker"><label class=disable-element for=contract-start>Start Date</label><input name=contract-start id=contract-start class=datepicker ng-model=addData.startDate ng-value="addData.startDate | date:dateFormat" placeholder="Select Start Date" maxlength=8 readonly="" type=text ng-click=contractStart()></div><div class="entry has-datepicker"><label class=disable-element for=contract-end>End Date</label><input name=contract-end id=contract-end class=datepicker ng-model=addData.endDate ng-value="addData.endDate | date:dateFormat" placeholder="Select End Date" maxlength=8 readonly="" type=text ng-click=contractEnd()></div><div class="entry margin"><label class=disable-element for=contracted-nights>Contracted Nights</label><input name=contracted-nights id=contracted-nights class=contracted-nights placeholder="Set No. of Nights" ng-model=addData.contractedNights maxlength=8 readonly="" type=text ng-click=contractedNights()></div><div include-replace="" ng-include="\'/assets/partials/companyCard/contracts/rvCardSearchContractOwner.html\'"></div></div><div class="holder right"></div></div></div><div class=contract-details-footer><button type=button class="button blank" ng-click=cancelNewContract()>Cancel</button> <button type=button class="button green" ng-click=saveNewContract()>Save Contract</button></div></div>'),t.put("/assets/partials/companyCard/contracts/rvCardContractsLinking.html",'<span ng-controller=rvCardContractsLinkingCtrl><div class=tab-header><div class=search-form><div class="entry search"><button class=clear-query ng-class="{\'visible\': contractData.linkContractsSearch.query !== \'\'}"><span class="icons icon-clear-search" ng-click=clearQuery() ng-show="contractData.linkContractsSearch.query.length > 0">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input ng-model=contractData.linkContractsSearch.query ng-change=searchContracts() name=find-contracts class=query placeholder="Search by Name, Access Code or Account" autocomplete=off type=search></div></div><div class=actions><button ng-click=cancelSearch() type=button class="button blank">Cancel Search</button></div></div><div class="tab-details scrollable" ng-class="{\'searching\' : contractData.linkContractsSearch.results.length > 0, \'no-content\': contractData.linkContractsSearch.results.length === 0 }"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=info ng-show="contractData.linkContractsSearch.results.length === 0"><span class="icon-no-content icon-contracts"></span> <strong class=h1>No Contracts</strong> <span class=h2>Search by <strong>Contract Name</strong> or <strong>Access Code</strong></span></div><div class=contracts-search-results ng-show="contractData.linkContractsSearch.results.length > 0"><ul class=contracts-search-results-header><li class=contract-details>Contract Details</li><li class=contract-rates>Rates(s)</li><li class=contract-dates>Dates</li><li class=contract-status>Status</li></ul><div class="contracts-search-results-content scrollable" ng-iscroll=searchContractsResultsList><div class=wrapper><ul class=search-results><li class=contract ng-click=clickedOnResult($index) ng-repeat="item in contractData.linkContractsSearch.results"><div class=faux-anchor><div class="contract-details data"><h2 ng-bind-html=escapeNull(item.contract_name)|highlight:contractData.linkContractsSearch.query:false></h2><span class=access-code ng-bind-html=escapeNull(item.access_code)|highlight:contractData.linkContractsSearch.query:false></span><span class="icons icon-guest-company colored" ng-if="item.account_details.type === \'COMPANY\'" ng-bind-html=escapeNull(item.account_details.name)|highlight:contractData.linkContractsSearch.query:false></span><span class="icons icon-guest-travelagent colored" ng-if="item.account_details.type === \'TRAVELAGENT\'" ng-bind-html=escapeNull(item.account_details.name)|highlight:contractData.linkContractsSearch.query:false></span></div><div class=contract-rates ng-if="item.rates.length <= 3">{{item.rates.join()}}</div><div class=contract-rates ng-if="item.rates.length > 3" ng-init="showMore = true">{{ showMore ? item.rates.slice(0, 3).join() : item.rates.join()}} <span ng-show=showMore ng-click="showMore = false" class=more>+ {{item.rates.length - 3}} More</span></div><div class=contract-dates><span class=start-date>{{item.begin_date | date:dateFormat}}</span> <span class=end-date>{{item.end_date | date:dateFormat}}</span></div><div class=contract-status><span class="icons icon-contracts" ng-class="{\'active\': item.is_active}">{{item.is_active ? \'Active\': \'Inactive\'}}</span></div></div></li></ul></div></div></div></div></span>'),t.put("/assets/partials/companyCard/contracts/rvCardContractsMain.html",'<form ng-controller=rvCardContractsMainCtrl method=post id=cc-contracts name=cc-contracts class="form card-tab inner-header contracts" ng-show="currentSelectedTab == \'cc-contracts\'"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div ng-if="contractData.mode === \'LINK\'" include-replace="" ng-include="\'/assets/partials/companyCard/contracts/rvCardContractsLinking.html\'"></div><div ng-if="contractData.mode !== \'LINK\'" class="tab-details scrollable" ng-class="{\'no-content\': contractData.mode === \'\'}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div include-replace="" ng-if="(contractData.mode === \'ADD\' || contractData.mode === \'EDIT\')" ng-include="\'/assets/partials/companyCard/contracts/rvCardSidebarListContracts.html\'"></div><div include-replace="" ng-if="contractData.mode === \'ADD\'" ng-include="\'/assets/partials/companyCard/contracts/rvCardAddContracts.html\'"></div><div include-replace="" ng-if="contractData.mode === \'EDIT\'" ng-include="\'/assets/partials/companyCard/contracts/rvCardEditContracts.html\'"></div><div include-replace="" ng-if="contractData.mode === \'\'" ng-include="\'/assets/partials/companyCard/contracts/rvCardNoContracts.html\'"></div></div></form>'),t.put("/assets/partials/companyCard/contracts/rvCardEditContracts.html",'<div ng-controller=rvCardEditContractsCtrl class=contracts-details><div class="contracts-details-form scrollable" ng-class="{\'without-footer\': (contractData.isPastContract || !contractData.editData.is_master_contract)}" ng-iscroll=editContractScroller><div class="wrapper float"><div class="holder left"><strong class=h3>Contract Details</strong><div class="entry full-width"><label class=disable-element for=linked-contract-name>Name</label> <input ng-readonly=contractData.disableFields name=contract-name id=linked-contract-name ng-model=contractData.editData.contract_name placeholder="Contract Name" type=text></div><div class="entry margin"><label class=disable-element for=linked-contract-code>Access Code</label> <input ng-readonly=editAccessCode() name=contract-code id=linked-contract-code ng-model=contractData.editData.access_code placeholder="Access Code" type=text></div><div class="entry only-switch"><label class=disable-element for=travel-agent-contract-status>Status</label><div class="switch-button full-width" ng-class="{\'on\': contractData.editData.is_active, \'disabled\': !contractData.editData.is_active, \'disable-element\': contractData.disableFields}"><input id=contract-status ng-model=contractData.editData.is_active ng-click=toggleActiveStatus() type=checkbox> <label class=data-off><span class=value>Active</span> <span class=switch-icon>Inactive</span></label> <label class=data-on><span class=switch-icon>Active</span> <span class=value>Inactive</span></label></div></div><div class="entry margin has-datepicker"><label class=disable-element for=contract-start>Start Date</label> <input ng-disabled=contractData.disableFields name=contract-start id=contract-start class=datepicker ng-model=contractData.editData.begin_date ng-value="contractData.editData.begin_date | date:dateFormat" ng-click=contractStart() placeholder="Select Start Date" maxlength=8 readonly="" type=text></div><div class="entry has-datepicker"><label class=disable-element for=contract-end>End Date</label> <input ng-disabled=contractData.disableFields name=contract-end id=contract-end class=datepicker ng-model=contractData.editData.end_date ng-value="contractData.editData.end_date | date:dateFormat" ng-click=contractEnd() placeholder="Select End Date" maxlength=8 readonly="" type=text></div><div class="entry margin"><label class=disable-element for=contracted-nights>Contracted Nights</label> <input ng-disabled=contractData.disableFields name=contracted-nights id=contracted-nights class=contracted-nights placeholder="Set No. of Nights" ng-model=contractData.editData.total_contracted_nights ng-click=editContractedNights() maxlength=8 readonly="" type=text></div><div class="entry margin" ng-if=contractData.isPastContract><label class=disable-element for=contract-owner>Contract Owner</label> <input name=contract-owner id=linked-contract-owner ng-model=contractData.contractOwner.selectedOwner.name readonly="" type=text></div><div include-replace="" ng-include="\'/assets/partials/companyCard/contracts/rvCardSearchContractOwner.html\'"></div><div include-replace="" ng-include="\'/assets/partials/companyCard/contracts/rvCardSearchContractedRate.html\'"></div></div><div class="holder right"><strong class=h3>{{ contractData.editData.is_master_contract ? \'Linked To\' : \'Linked From\'}}</strong><div class=linked-contracts><div class=linked-contract ng-repeat="account in contractData.editData.account_details"><div class="contract with-image no-arrow"><div class="guest-image icons icon-company" ng-if="account.type === \'COMPANY\'"></div><div class="guest-image icons icon-travel-agent" ng-if="account.type === \'TRAVELAGENT\'"></div><h3 class=item-title>{{account.name}}</h3><div class=item-info>{{account.address}}</div></div><span class="remove-contract icons icon-remove-60" ng-click=clickedUnlinkContracts($index)>-</span></div></div><div class=no-content ng-if="contractData.editData.account_details.length === 0"><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h4>No Links</strong> <span class=h2>Cards using this contract will appear here</span></div></div></div></div></div><div class=contract-details-footer><button ng-if="contractData.editData.is_master_contract && contractData.hasDeleteContractPermission && !contractData.isPastContract" type=button class="button red" ng-click=deleteContract()>Delete Contract</button> <button ng-if="!contractData.isPastContract && !contractData.disableFields" type=button class="button blank" ng-click=restoreContract()>Cancel</button> <button ng-if="!contractData.isPastContract && !contractData.disableFields" type=button class="button green" ng-click=updateContract()>Save Changes</button></div></div>'),
t.put("/assets/partials/companyCard/contracts/rvCardNoContracts.html",'<div class=info ng-show="contractData.noContracts && contractData.mode === \'\'"><span class="icon-no-content icon-contracts"></span> <strong class=h1>No Contracts</strong> <span class=h2>{{contactInformation.account_details.account_name}} has no contracts.</span><button type=button class="button blue" ng-click=moveToLinkContract()>Link Existing Contract</button><button type=button class="button green" ng-click=createFirstContract()>Create New Contract</button></div>'),t.put("/assets/partials/companyCard/contracts/rvCardSearchContractOwner.html",'<div class="entry full-width" ng-controller=rvCardSearchContractOwnerCtrl ng-hide="contractData.mode === \'EDIT\' && contractData.isPastContract"><label for=contract-owner>Contract Owner</label><div class=contract-grid ng-class="{\'disable-element\': contractData.disableFields}"><div class=select><select id=contract-owners-active ng-model=contractData.contractOwner.selectedOwner.id><option ng-click=clickedOnResult() value="" ng-selected=checkNoContract()>No contract owner</option><optgroup label="Active Users"><option ng-click=clickedOnResult(item) ng-repeat="item in contractData.contractOwner.results" value={{item.id}} ng-selected="contractData.contractOwner.selectedOwner.id === item.id" ng-if=item.is_active>{{item.name}}</option></optgroup><optgroup label="Inactive Users" ng-show=contractData.contractOwner.isInactive><option ng-click=clickedOnResult(item) ng-repeat="item in contractData.contractOwner.results" value={{item.id}} ng-selected="contractData.contractOwner.selectedOwner.id === item.id" ng-if=!item.is_active>{{item.name}}</option></optgroup></select></div><label class="checkbox inline" ng-click=clickedInactive() ng-class="{\'checked\': contractData.contractOwner.isInactive}" ng-hide=contractData.disableFields><span class="icon-form icon-checkbox" ng-class="{\'checked\': contractData.contractOwner.isInactive}"></span><input type=checkbox> Include Inactive Users</label></div></div>'),t.put("/assets/partials/companyCard/contracts/rvCardSearchContractedRate.html",'<div class="entry find-rate full-width" ng-controller=rvCardSearchContractedRateCtrl><label for=contracted-rate-query>Contracted Rate</label><div class="entry full-width autocomplete-search compact" ng-class="{\'searching\': contractData.rateSearchQuery !== \'\'}"><div class=search ng-hide=contractData.disableFields><button id=contract-rate-clear-query class=clear-query ng-click=clearQuery() ng-class="{\'visible\': contractData.rateSearchQuery !== \'\'}" ng-show="contractData.searchResults.length > 0"><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button><input ng-readonly="contractData.disableFields && contractData.mode === \'EDIT\'" ng-model=contractData.rateSearchQuery ng-change=searchRate() name=faux-select-query id=contract-rate-query class=query placeholder="Search by Rate Name or Code" autocomplete=off type=search></div><div class=scrollable ng-hide=contractData.disableFields ng-class="{\'hidden\': contractData.rateSearchQuery === \'\'}" ng-iscroll=searchResultsList ng-iscroll-delay=1000><div class=wrapper><div class=card ng-repeat="item in contractData.searchResults" ng-click=clickedOnResult($index)><span ng-bind-html=escapeNull(item.name)|highlight:contractData.rateSearchQuery:false class=rate-name></span> <span ng-bind-html=escapeNull(item.code)|highlight:contractData.rateSearchQuery:false class=rate-code></span></div></div></div></div><div class=no-content ng-if="contractData.selectedRateList.length === 0"><div class=info><span class="icon-no-content icon-rates"></span> <strong class=h4>No Rates</strong> <span class=h2>There are no rates added to this contract</span></div></div><ul class="contracted-rates compact" ng-class="{\'disabled\': contractData.disableFields}"><li ng-repeat="rate in contractData.selectedRateList"><span class=rate-name>{{rate.name}}</span> <span class=rate-code>{{rate.code}}</span><button ng-click=removeRate($index) type=button class="button rate-remove"><span class="icons icon-remove-10"></span></button></li></ul></div>'),t.put("/assets/partials/companyCard/contracts/rvCardSidebarListContracts.html",'<div ng-controller=rvCardContractListCtrl class="contracts-list with-actions" ng-class="{\'actions-2\': contractData.mode === \'EDIT\'}"><div class=no-content ng-if="contractData.mode === \'ADD\'"><div class=info><span class="icon-no-content icon-contracts-black"></span> <strong class=h1>Creating new Contract</strong> <span class=h2>Once saved it will appear here</span></div></div><div class="contracts-list-items scrollable" ng-if="contractData.mode === \'EDIT\'" ng-iscroll=contractListScroller><div class=wrapper><div class=contract-list-items-section ng-repeat="item in contractData.contractsList" ng-class="{\'no-items\': item.count === 0, \'open\': item.opened}"><h2 ng-click=openContractsList(item)>{{item.type}} <span class=count>{{item.count}}</span><span ng-show="item.count !== 0" class="icons icon-double-arrow black" ng-class="{\'rotate-up\': item.opened, \'rotate-down\': !item.opened}"></span></h2><ul><li ng-repeat="contract in item.contracts" ng-click=fetchDetails(contract.id) ng-class="{\'active\': (contract.id === contractData.selectedContractId && contractData.mode === \'EDIT\'), \'inactive\': !contract.is_active}"><h3 class=item-title>{{contract.contract_name}}</h3><div class=item-info><span>{{contract.contract_start_date | date:dateFormat}}</span> <span class="icons icon-single-arrow"></span> <span>{{contract.contract_end_date | date:dateFormat}}</span></div><span class="icons icon-contracts" ng-hide="item.type === \'PAST\'" ng-class="{\'active\': contract.is_active}"></span></li></ul></div></div></div><div class=contracts-list-actions ng-if="contractData.mode === \'EDIT\'"><button type=button class="button blue" ng-click=linkContract()>Link Existing Contract</button> <button type=button class="button green" ng-click=newContract()>Create New Contract</button></div></div>'),t.put("/assets/partials/companyCard/contracts/rvCompanyCardContractsCalendar.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ui-date=dateOptions ng-model=date ui-date-format=yy-mm-dd class="ngmodal-uidate-wrap ui-datepicker datepicker-position-absolute"></div></div>'),t.put("/assets/partials/companyCard/contracts/rvConfirmRemoveRate.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert contract-alert"><button ng-click=closeDialog() class=modal-close id=modal-close type=button><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">You are about to remove a rate</span><p class=text>Once removed, rate "{{rateObj.name}}" will no longer be associated with "{{contractData.editData.contract_name}}".</p><button class="button red" ng-click=confirmRemoveRate(rateObj.id)>Remove Rate</button> <button class="button blank" ng-click=closeDialog()>Cancel</button></div></div>'),t.put("/assets/partials/companyCard/contracts/rvConfirmUnlinkContract.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert contract-alert"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">You are about to unlink a contract</span><p class=text>Once unlinked, contract"{{contractData.editData.contract_name}}" will no longer be associated with "{{cardName}}"</p><p class=text>The contract will remain available in the system and can be linked again.</p><button class="button red" ng-click=unlinkContractsCofirmed()>Unlink Contract</button> <button class="button blank" ng-click=closeDialog()>Cancel</button></div></div>'),t.put("/assets/partials/companyCard/contracts/rvContractedNightsPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post id=contracted-nights name=contracted-nights class="modal-content form grid"><button class=modal-close id=modal-close type=button ng-click=clickedCancel()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message" translate="">CONTRACTED_NIGHTS</span><div class=grid-wrapper><div class="holder left"><div class=entry><label for=contracted-all translate="">ALL</label> <input ng-model=nightsData.allNights name=contracted-all id=contracted-all type=number></div><div class="entry move"><span ng-click=updateAllNights() id=copy-to-all class="admin-icons icon-mover-right" translate="">COPY_VALUES</span></div></div><div class="holder right scrollable" ng-iscroll=contractedNightsScroller ng-iscroll-delay=1000><div class=wrapper><div ng-repeat="nights in nightsData.occupancy" class=entry><label for=contracted-jan>{{nights.month}} {{nights.year}}</label> <input ng-model=nights.contracted_occupancy name=contracted-jan id=contracted-jan type=number></div></div></div></div><div class="actions float"><button type=button id=cancel class="button blank modal-close" ng-click=clickedCancel() translate="">CANCEL</button> <button type=button id=submit class="button green modal-close" ng-click=saveContractedNights() translate="">SAVE</button></div></form></div>'),t.put("/assets/partials/companyCard/contracts/rvErrorOnRemoveRate.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert contract-alert"><button ng-click=closeDialog() class=modal-close id=modal-close type=button><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-error"></span> <span class="h2 message">Unable to remove rate</span><p class=text>{{rateErrorMessage}}</p><button class="button blank" ng-click=closeDialog()>Close Window</button></div></div>'),t.put("/assets/partials/companyCard/arTransactions/rvArInvoice.html",'<div class=invoice><div class="invoice-logo envelope"><img ng-src={{printData.hotel_logo}} alt=""><br><br><h1>{{printData.hotel_name}}</h1><span ng-bind-html=printData.hotel_address></span> <span ng-if=printData.show_hotel_address><br ng-if=printData.hotel_tax_id><strong ng-if=printData.hotel_tax_id>{{printData.translation.tax_id}}:</strong> {{printData.hotel_tax_id}}<br ng-if=printData.hotel_company_registration_number><strong ng-if=printData.hotel_company_registration_number>{{printData.translation.company_reg_number}}:</strong> {{printData.hotel_company_registration_number}}</span> <span class=type>{{printData.invoiceLabel}}</span> <span class=type ng-if="printData.invoice_qr_code_location === \'HEADER\' && !printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice && printData.efsta_fiskal_signature_data.qr_code"><br><img ng-src={{printData.efsta_fiskal_signature_data.qr_code}} alt="" class=qr-code></span> <span class=type ng-if="printData.invoice_qr_code_location === \'HEADER\' && !printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice && printData.is_internal_qr_code && printData.internal_qr_code !== \'\' && printData.internal_qr_code !== null"><br><img ng-src={{printData.internal_qr_code}} alt="" class=qr-code></span></div><div class="info-container account-info"><div class=info-left><div class=info-bottom><strong>{{printData.card_details.name}}</strong><br ng-if=printData.card_details.address><span ng-bind-html=printData.card_details.address></span><br ng-if=printData.tax_number><span ng-if=printData.tax_number><strong>{{printData.translation.tax_number}}:</strong> {{printData.tax_number}}</span><br ng-if=printData.invoice_date><br ng-if=printData.invoice_date><span ng-if=printData.invoice_date><strong>{{printData.translation.invoice_date}}:</strong> {{printData.invoice_date}}</span><br ng-if="printData.should_print_invoice_number && printData.invoice_number"><span ng-if="printData.should_print_invoice_number && printData.invoice_number"><strong><span ng-if=printData.invoice_number_label>{{printData.invoice_number_label}}:</span> <span ng-if=!printData.invoice_number_label>{{printData.translation.invoice_number}}:</span></strong> {{printData.invoice_number}}</span><br ng-if="!printData.is_informational_invoice && !printData.is_print_ar_invoice_number_enabled && printData.folio_number && printData.is_print_folio_enabled"><span ng-if="!printData.is_informational_invoice && !printData.is_print_ar_invoice_number_enabled && printData.folio_number && printData.is_print_folio_enabled"><strong><span ng-if=printData.folio_number_label>{{printData.folio_number_label}}:</span><span ng-if=!printData.folio_number_label>{{printData.translation.folio_number}}:</span></strong> {{printData.folio_number}}</span><br ng-if="printData.is_print_ar_invoice_number_enabled && printData.ar_invoice_number"><span ng-if="printData.is_print_ar_invoice_number_enabled && printData.ar_invoice_number"><strong><span ng-if=printData.ar_invoice_number_label>{{printData.ar_invoice_number_label}}:</span> <span ng-if=!printData.ar_invoice_number_label>{{printData.translation.ar_invoice_number}}:</span>&nbsp;</strong> {{printData.ar_invoice_number}}</span><br ng-if="!printData.is_informational_invoice && printData.is_print_ar_folio_number_enabled && printData.ar_folio_number"><span ng-if="!printData.is_informational_invoice && printData.is_print_ar_folio_number_enabled && printData.ar_folio_number"><strong><span ng-if=printData.ar_folio_number_label>{{printData.ar_folio_number_label}}:</span><span ng-if=!printData.ar_folio_number_label>{{printData.translation.ar_folio_number}}:</span></strong> {{printData.ar_folio_number}}</span></div></div><div class=info-right><br><br><span ng-if=printData.account_name><strong>{{printData.translation.account_name}}:</strong> {{printData.account_name}}</span><br ng-if=printData.arrival_date><span ng-if=printData.arrival_date><strong>{{printData.translation.arrival_date}}:</strong> {{printData.arrival_date}}</span><br ng-if=printData.departure_date><span ng-if=printData.departure_date><strong>{{printData.translation.departure_date}}:</strong> {{printData.departure_date}}</span><br ng-if=printData.room_number><span ng-if=printData.room_number><strong>{{printData.translation.room_number}}:</strong> {{printData.room_number}}</span><br ng-if=printData.confirmation_number><span ng-if=printData.confirmation_number><strong>{{printData.translation.confirmation_number}}:</strong> {{printData.confirmation_number}}</span><br ng-if="!printData.is_informational_invoice && printData.card_details.ar_number"><span ng-if="!printData.is_informational_invoice && printData.card_details.ar_number"><strong>{{printData.translation.ar_number}}:</strong> {{printData.card_details.ar_number}}</span><br ng-if=printData.guest_details.address><br ng-if=printData.guest_details.address><span ng-bind-html=printData.guest_details.address></span><br ng-if=printData.invoice_currency_code><span ng-if=printData.invoice_currency_code><strong>{{printData.translation.invoice_currency}}:</strong>{{printData.invoice_currency_code}}</span><br><br></div></div><div class=invoice-header ng-if=printData.ar_invoice_header><p>{{printData.ar_invoice_header}}</p></div><div class=invoice-body><br><br><br><table class=invoice-details><thead class=invoice-table><tr><th>{{printData.translation.date_of_charge}}</th><th colspan=6>{{printData.translation.charge_description}}</th><th class=align-right>{{printData.translation.charge_amount}}</th><th colspan=6></th><th class=align-right>{{printData.translation.credit_amount}}</th></tr></thead><tbody><tr ng-if="printData.debits.length > 0" class=person ng-repeat="statement in printData.debits"><td rowspan={rowspan}>{{statement.date}}</td><td class=description colspan=6><span>{{statement.description}}</span> <span class=reference>{{statement.reference_text}}</span></td><td class=align-right><span ng-if=statement.fees ng-bind-html="statement.fees | sntCurrency:this:printData.currency_for_html"></span><div ng-if=statement.ar_fees_invoice_currency class=converted-currency><span ng-bind-html="statement.ar_fees_invoice_currency | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td><td rowspan={rowspan} class=align-right><span ng-if=statement.credits ng-bind-html="statement.credits | sntCurrency:this:printData.currency_for_html"></span><div ng-if=statement.ar_credits_invoice_currency class=converted-currency><span ng-bind-html="statement.ar_credits_invoice_currency | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td></tr><tr ng-if="printData.payments.length > 0" class=person ng-repeat="statement in printData.payments"><td rowspan={rowspan}>{{statement.transaction_date}}</td><td class=description colspan=6><strong>{{statement.payment_type}}</strong> <span>{{statement.description}}</span> <span class=reference>{{statement.reference_text}}</span></td><td class=align-right><span ng-if=statement.fees ng-bind-html="statement.fees | sntCurrency:this:printData.currency_for_html"></span><div ng-if=statement.ar_fees_invoice_currency class=converted-currency><span ng-bind-html="statement.ar_fees_invoice_currency | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td><td colspan=6></td><td rowspan={rowspan} class=align-right><span ng-if=statement.amount ng-bind-html="statement.amount | sntCurrency:this:printData.currency_for_html"></span><div ng-if=statement.ar_amount_invoice_currency class=converted-currency><span ng-bind-html="statement.ar_amount_invoice_currency | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td></tr><br><tr class="totals first-total"><td></td><td colspan=6></td><td><strong>{{printData.translation.total_charge}}</strong></td><td colspan=6></td><td><strong><span ng-if=printData.total_charge ng-bind-html="printData.total_charge | sntCurrency:this:printData.currency_for_html"></span></strong><div ng-if=printData.invoice_currency_total_charge class=converted-currency><span ng-bind-html="printData.invoice_currency_total_charge | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td></tr><tr class=totals><td></td><td colspan=6></td><td><strong>{{printData.translation.total_credits}}</strong></td><td colspan=6></td><td><strong><span ng-if=printData.total_credits ng-bind-html="printData.total_credits | sntCurrency:this:printData.currency_for_html"></span></strong><div ng-if=printData.invoice_currency_total_credits class=converted-currency><span ng-bind-html="printData.invoice_currency_total_credits | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td></tr><tr class=totals><td></td><td colspan=6></td><td><strong>{{printData.translation.balance}}</strong></td><td colspan=6></td><td><strong><span ng-if=printData.balance ng-bind-html="printData.balance | sntCurrency:this:printData.currency_for_html"></span></strong><div ng-if=printData.invoice_currency_balance class=converted-currency><span ng-bind-html="printData.invoice_currency_balance | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td></tr><tr class=totals><td></td><td colspan=6></td><td>{{printData.translation.net_amount}}</td><td colspan=6></td><td><span ng-if=printData.net_amount ng-bind-html="printData.net_amount | sntCurrency:this:printData.currency_for_html"></span><div ng-if=printData.invoice_currency_net_amount class=converted-currency><span ng-bind-html="printData.invoice_currency_net_amount | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td></tr><tr class=totals ng-if=!printData.ar_has_enabled_extended_tax_breakdown ng-repeat="tax in printData.tax_info"><td></td><td colspan=6></td><td>{{tax.tax_charge_code_desc}}</td><td colspan=6></td><td><span ng-if=tax.amount ng-bind-html="tax.amount | sntCurrency:this:printData.currency_for_html"></span><div ng-if=tax.invoice_currency_amount class=converted-currency><span ng-bind-html="tax.invoice_currency_amount | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td></tr><tr class=totals><td></td><td colspan=6></td><td>{{printData.translation.total_incl_tax}}</td><td colspan=6></td><td><span ng-if=printData.total_incl_tax ng-bind-html="printData.total_incl_tax | sntCurrency:this:printData.currency_for_html"></span><div ng-if=printData.invoice_currency_total_incl_tax class=converted-currency><span ng-bind-html="printData.invoice_currency_total_incl_tax | sntCurrency:this:printData.invoice_currency_for_html"></span></div></td></tr></tbody></table></div><strong ng-if=printData.ar_has_enabled_extended_tax_breakdown>{{printData.translation.tax_breakdown}}</strong><table class="invoice-details extended-tax-table" ng-if=printData.ar_has_enabled_extended_tax_breakdown><thead class=invoice-table><tr><th class=text-align-left>{{printData.translation.tax_description}}</th><th>{{printData.translation.gross}}</th><th>{{printData.translation.net}}</th><th>{{printData.translation.tax}}</th></tr></thead><tbody><tr ng-repeat="item in printData.extended_tax_breakdown.details"><td class=text-align-left ng-if="item.description === \'Tax Exempt\'">{{ printData.translation.tax_exempt }}</td><td class=text-align-left ng-if="item.description !== \'Tax Exempt\'">{{ item.description }}</td><td><span ng-bind-html="item.gross_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && item.inv_gross_amount !== null"><span ng-bind-html="item.inv_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.net_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && item.inv_net_amount !== null"><span ng-bind-html="item.inv_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td><td><span ng-bind-html="item.tax_amount | sntCurrency:this"></span><div class=converted-currency ng-if="isMultiCurrencyEnabled && item.inv_tax_amount !== null"><span ng-bind-html="item.inv_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></div></td></tr><tr><td class=text-align-left><strong>{{printData.translation.total}}</strong></td><td><strong><span ng-bind-html="printData.extended_tax_breakdown.total_gross_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && printData.extended_tax_breakdown.inv_total_gross_amount !== null"><strong><span ng-bind-html="printData.extended_tax_breakdown.inv_total_gross_amount | sntCurrency:this:invoiceCurrencySymbol"></span></strong></div></td><td><strong><span ng-bind-html="printData.extended_tax_breakdown.total_net_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && printData.extended_tax_breakdown.inv_total_net_amount !== null"><strong><span ng-bind-html="printData.extended_tax_breakdown.inv_total_net_amount | sntCurrency:this:invoiceCurrencySymbol"></span></strong></div></td><td><strong><span ng-bind-html="printData.extended_tax_breakdown.total_tax_amount | sntCurrency:this"></span></strong><div class=converted-currency ng-if="isMultiCurrencyEnabled && printData.extended_tax_breakdown.inv_total_tax_amount !== null"><strong><span ng-bind-html="printData.extended_tax_breakdown.inv_total_tax_amount | sntCurrency:this:invoiceCurrencySymbol"></span></strong></div></td></tr></tbody></table><div class=info-container><div class=info-left ng-show="!printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice && !isEmpty(printData.efsta_fiskal_signature_data) && printData.efsta_fiskal_signature_data.qr_code !== \'\' && printData.efsta_fiskal_signature_data.qr_code !== null"><div><strong>{{printData.translation.tse_transaction_id}}:</strong>{{printData.efsta_fiskal_signature_data.t_id}}<br><strong>{{printData.translation.tse_transaction_start}}:</strong>{{printData.efsta_fiskal_signature_data.start_date | date:dateFormat}}<br><strong>{{printData.translation.tse_transaction_end}}:</strong>{{printData.efsta_fiskal_signature_data.end_date | date:dateFormat}}<br><strong>{{printData.translation.tse_serial_number}}:</strong>{{printData.efsta_fiskal_signature_data.serial_number}}<br><strong>{{printData.translation.tse_sign_counter}}:</strong>{{printData.efsta_fiskal_signature_data.sign_counter}}<br><strong>{{printData.translation.tse_signature}}:</strong>{{printData.efsta_fiskal_signature_data.signature}}<br></div></div><div class=info-right><div ng-show="printData.invoice_qr_code_location === \'FOOTER\' && !printData.is_informational_invoice && !printData.is_proforma_invoice && !printData.is_deposit_invoice"><span class=type ng-if=printData.efsta_fiskal_signature_data.qr_code><br><img ng-src={{printData.efsta_fiskal_signature_data.qr_code}} alt="" class=qr-code></span> <span class=type ng-if="printData.is_internal_qr_code && printData.internal_qr_code"><br><img ng-src={{printData.internal_qr_code}} alt="" class=qr-code></span></div></div><div class=info-bottom></div></div><div class="invoice-footer text-center" ng-bind-html=trustAsHtml(printData.ar_billing_text)></div><div class="invoice-footer text-center" ng-if=printData.ar_invoice_footer><p>{{printData.ar_invoice_footer}}</p></div></div>'),t.put("/assets/partials/companyCard/arTransactions/rvArInvoiceAdjustPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post id=ar-edit-charge-options name=ar-edit-charge class="modal-content form edit-charge ar-charge"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button><fieldset id=edit-charge name=edit-charge class=edit-charge><span class="h2 message">Adjust charge code</span> <span class=text ng-show=!selectedTransaction.is_group_by_ref>{{adjustData.charge_desc}}<strong><span ng-bind-html="adjustData.amount | sntCurrency:this"></span></strong></span><div id=choose-charge class="entry full-width" ng-show=selectedTransaction.is_group_by_ref><label for=new-amount>Charge:</label><div class=select><select class=placeholder ng-model=selectCharge><option value="" class=placeholder>Select a Charge</option><option ng-repeat="group in adjustData.charge_details" value={{group.financial_transaction_id}}>{{group.charge_desc}}(<span ng-bind-html="group.amount | sntCurrency:this"></span>)</option></select></div></div><div id=edit-amount class="entry full-width"><label for=new-amount>New Amount (<span class=currency>{{currencySymbol}}</span>)</label> <input name=new-amount id=new-amount placeholder="Enter value" value=adjustData.amount type=text ng-disabled=selectedTransaction.is_adjustment ng-model=adjustData.amount ng-blur=enteredAmount()></div><div class="entry full-width reference" ng-hide=selectedInvoice.is_manual_balance><label for=reference>Reference</label> <input name=reference id=reference placeholder="Enter Reference" value=adjustData.reference_text type=text ng-model=adjustData.reference_text></div><div class="entry full-width" ng-hide=selectedInvoice.is_manual_balance><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\': show_reference_on_guest_invoice}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': show_reference_on_guest_invoice}"></span> <input ng-model=show_reference_on_guest_invoice id=add-in-guest-card value=1 type=checkbox> {{\'SHOW_REFERENCE_ON_GUEST_INVOICE\' | translate}}</label></div><div class=actions><button type=button class="button green" ng-click=clickedAdjust()>Adjust</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></fieldset></form></div>'),t.put("/assets/partials/companyCard/arTransactions/rvArMoveInvoiceToArPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content ar-move-invoice" ng-class="{\'confirm\': moveInvoiceData.isConfirmInvoiceMoveScreen }"><button ng-click=closeDialog() class="modal-close dark-title" id=modal-close type=button><span class="icons icon-close"></span></button><div class=modal-header><div class=modal-header-left><figure class=guest-image><img ng-src={{moveInvoiceHeaderData.image}} alt=""></figure><div class=data><h2 ng-if="moveInvoiceHeaderData.associatedType !== \'PostingAccount\'">{{moveInvoiceHeaderData.firstName}} {{moveInvoiceHeaderData.lastName}}</h2><h2 ng-if="moveInvoiceHeaderData.associatedType === \'PostingAccount\'">{{moveInvoiceHeaderData.accountName}}</h2><div class=information><span ng-if="moveInvoiceHeaderData.invoiceNumber && moveInvoiceHeaderData.associatedType !== \'PostingAccount\'" class=invoice>{{ \'INVOICE#\' | translate }}<span class=value>{{moveInvoiceHeaderData.invoiceNumber}}</span></span> <span ng-if="moveInvoiceHeaderData.invoiceNumber && moveInvoiceHeaderData.associatedType === \'PostingAccount\'" class=invoice>{{ \'ACCOUNT#\' | translate }}<span class=value>{{moveInvoiceHeaderData.invoiceNumber}}</span></span> <span ng-if=moveInvoiceHeaderData.confirmationNumber class=confirmation>{{ \'CONF#\' | translate }}<span class=value>{{moveInvoiceHeaderData.confirmationNumber}}</span></span></div></div></div><div class=modal-header-right><div class=guest-dates><div class="guest-date arrival" ng-if=moveInvoiceHeaderData.arrivalDate><span class="guest-status small-icon check-in" translate="">CHECKIN</span><time datetime="{Check In datetime | exp. 2017-08-31T12:00:00}"><span class=date>{{moveInvoiceHeaderData.arrivalDate | date:dateFormat }}</span> <span class=time>{{moveInvoiceHeaderData.arrivalTime}}</span></time></div><div class="guest-date departure" ng-if=moveInvoiceHeaderData.departureDate><span class="guest-status small-icon check-out" translate="">CHECKOUT</span><time datetime="{Check Out datetime | exp. 2017-08-31T12:00:00}"><span class=date>{{moveInvoiceHeaderData.departureDate | date:dateFormat }}</span> <span class=time>{{moveInvoiceHeaderData.departureTime}}</span></time></div></div><div class=stay-cost><span ng-bind-html="moveInvoiceHeaderData.amount | sntCurrency:this"></span></div></div></div><div class=modal-body><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=search-form ng-hide=moveInvoiceData.isConfirmInvoiceMoveScreen><div class="entry search"><button ng-click=clearSearchQuery() ng-show="moveInvoiceData.query.length > 0" class=clear-query ng-class="{\'visible\': moveInvoiceData.query.length > 0 }"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <button type=submit name=submit class="icons icon-search" translate="">SEARCH</button> <input ng-change=changedSearchQuery() ng-model=moveInvoiceData.query class=query placeholder="{{ \'SEARCH_TXT_AR_ACCOUNT\' | translate }}" type=search autocomplete=off></div></div><section ng-hide=moveInvoiceData.isConfirmInvoiceMoveScreen class="ar-card-results scrollable" ng-class="{\'no-results\': !moveInvoiceData.searchResult.accounts.length > 0, \'with-pagination\': showPagination() }" role=complementary ng-iscroll=arMoveInvoiceListScroll ng-isroll-delay=500><div class=wrapper><ul class=search-results><li class=no-content ng-hide="moveInvoiceData.searchResult.accounts.length > 0"><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1 translate="">MOVE_TO_ANOTHER_AR_ACCOUNT</strong> <span class=h2>{{ \'SEARCH_BY\' | translate }}<strong>{{\'NAME\' | translate }}</strong>, <strong>{{\'NUMBER\' | translate }}</strong>, <strong>{{ \'DISPLAY_NAME\' | translate }}</strong>, <strong>{{ \'ADDRESS\' | translate }}</strong> {{ \'OR\' | translate }}<strong>{{ \'CITY\' | translate }}</strong></span></div></li><li ng-click=clickedOnCard(account) class="card all-cards" ng-if="moveInvoiceData.searchResult.accounts.length > 0" ng-repeat="account in moveInvoiceData.searchResult.accounts"><div class=faux-anchor><div class="guest-image icons" ng-class="{\'icon-company\': account.type === \'COMPANY\', \'icon-travel-agent\': account.type === \'TRAVELAGENT\' }"></div><div class=data><h2 ng-bind-html="getHighlightedHTML(account.account_name, moveInvoiceData.query)"></h2><div class=information><span class=number>{{account.ar_number}}</span> <span ng-class="{\'icons\': account.location}" class=icon-location>{{account.location}}</span> <span ng-if="account.type === \'COMPANY\'" ng-class="{\'icons\': account.account_number}" class=icon-guest-company>{{account.account_number}}</span> <span ng-if="account.type === \'TRAVELAGENT\'" ng-class="{\'icons\': account.account_number}" class=icon-guest-travelagent>{{account.account_number}}</span> <span ng-class="{\'icons\': account.ageing_date}" class=icon-time>{{account.ageing_date}}</span></div></div></div></li></ul></div></section><rv-pagination ng-show=showPagination() page-options=accountListPagination page-data=moveInvoiceData.searchResult.total_result></rv-pagination><div class=confirm-move ng-show=moveInvoiceData.isConfirmInvoiceMoveScreen><strong class="h2 message" translate="">CONFIRM_INVOICE_MOVE</strong><div class="confirm-card confirm-from"><span class=type translate="">FROM</span><div class=ar-card-results><ul class=search-results><li class="card all-cards"><div class="faux-anchor disabled"><div class="guest-image icons" ng-class="{\'icon-company\': moveInvoiceData.fromAccount.type === \'COMPANY\', \'icon-travel-agent\': moveInvoiceData.fromAccount.type === \'TRAVELAGENT\' }"></div><div class=data><h2>{{moveInvoiceData.fromAccount.accountName}}</h2><div class=information><span class=number>{{moveInvoiceData.fromAccount.accountName}}</span> <span ng-class="{\'icons\': moveInvoiceData.fromAccount.location}" class=icon-location>{{moveInvoiceData.fromAccount.location}}</span> <span ng-if="moveInvoiceData.fromAccount.type === \'COMPANY\'" ng-class="{\'icons\': moveInvoiceData.fromAccount.accountNumber}" class=icon-guest-company>{{moveInvoiceData.fromAccount.accountNumber}}</span> <span ng-if="moveInvoiceData.fromAccount.type === \'TRAVELAGENT\'" ng-class="{\'icons\': moveInvoiceData.fromAccount.accountNumber}" class=icon-guest-travelagent>{{moveInvoiceData.fromAccount.accountNumber}}</span> <span ng-class="{\'icons\': moveInvoiceData.fromAccount.ageingDate}" class=icon-time>{{moveInvoiceData.fromAccount.ageingDate}}</span></div></div></div></li></ul></div></div><div class="confirm-card confirm-to"><span class=type translate="">TO</span><div class=ar-card-results><ul class=search-results><li class="card all-cards"><div class="faux-anchor with-button"><div class="guest-image icons" ng-class="{\'icon-company\': moveInvoiceData.toAccount.type === \'COMPANY\', \'icon-travel-agent\': moveInvoiceData.toAccount.type === \'TRAVELAGENT\' }"></div><div class=data><h2>{{moveInvoiceData.toAccount.accountName}}</h2><div class=information><span class=number>{{moveInvoiceData.toAccount.accountName}}</span> <span ng-class="{\'icons\': moveInvoiceData.toAccount.location}" class=icon-location>{{moveInvoiceData.toAccount.location}}</span> <span ng-if="moveInvoiceData.toAccount.type === \'COMPANY\'" ng-class="{\'icons\': moveInvoiceData.toAccount.accountNumber}" class=icon-guest-company>{{moveInvoiceData.toAccount.accountNumber}}</span> <span ng-if="moveInvoiceData.toAccount.type === \'TRAVELAGENT\'" ng-class="{\'icons\': moveInvoiceData.toAccount.accountNumber}" class=icon-guest-travelagent>{{moveInvoiceData.toAccount.accountNumber}}</span> <span ng-class="{\'icons\': moveInvoiceData.toAccount.ageingDate}" class=icon-time>{{moveInvoiceData.toAccount.ageingDate}}</span></div></div><button ng-click=changeButtonClick() type=button class="button blue" translate="">CHANGE</button></div></li></ul></div></div><div class=actions><button ng-click=closeDialog() type=button class="button blank" translate="">CANCEL</button> <button ng-click=moveInvoiceButtonClick() type=button class="button green" translate="">MOVE_INVOICE</button></div></div></div></div></div>'),
t.put("/assets/partials/companyCard/arTransactions/rvArStatementIsSummaryPrintTemplate.html",'<div class=invoice-body style="margin-top: 1cm;"><table class=invoice-details style="text-transform: none;margin: 4pt 0;page-break-after: auto;width: 100%;table-layout: auto;border-collapse: collapse;border-spacing: 0;clear: both;"><thead><tr style="page-break-inside: avoid;page-break-after: auto;"><th><strong>{{printData.translation.departure_date}}</strong></th><th><strong>Reservation Name</strong></th><th><strong>Invoice/Folio No./AR No.</strong></th><th class=align-right><strong>{{printData.translation.debits}}</strong></th><th class=align-right><strong>{{printData.translation.credits}}</strong></th><th class=align-right><strong>{{printData.translation.amount_due}}</strong></th></tr></thead><tbody><tr ng-if="printData.sorted_details.length > 0" class=person ng-repeat="statement in printData.sorted_details"><td>{{statement.departure_date}}</td><td>{{statement.name}}</td><td ng-if="statement.type === \'manual\'">{{statement.invoice_number}}</td><td ng-if="shouldPrintArInvoiceNumber(printData, statement) && statement.type !== \'manual\'">{{statement.ar_invoice_number}}</td><td ng-if="shouldPrintFolioNumber(printData, statement) && statement.type !== \'manual\'">{{statement.folio_number}}</td><td ng-if="shouldPrintInvoiceNumber(printData, statement) && statement.type !== \'manual\'">{{statement.invoice_number}}</td><td class=align-right><span ng-bind-html="statement.debit | sntCurrency:this"></span></td><td class=align-right ng-if="statement.credit !== \'\' && statement.credit !== nil && statement.credit !== null"><span ng-bind-html="statement.credit | sntCurrency:this"></span></td><td class=align-right ng-if="statement.credit === \'\' || statement.credit === nil || statement.credit === null">-</td><td class=align-right><span ng-bind-html="statement.amount_due | sntCurrency:this"></span></td></tr></tbody><tfoot><tr><td colspan=5><strong>{{printData.translation.total_amount}}</strong></td><td><strong><span ng-bind-html="printData.total_amount | sntCurrency:this"></span></strong></td></tr><tr><td colspan=5><strong>{{printData.translation.total_account_amount}}</strong></td><td><strong><span ng-bind-html="printData.total_account_amount | sntCurrency:this"></span></strong></td></tr><tr><td colspan=5><strong>{{printData.translation.total_account_amount_due}}</strong></td><td><strong><span ng-bind-html="printData.total_amount_due | sntCurrency:this"></span></strong></td></tr></tfoot></table></div>'),t.put("/assets/partials/companyCard/arTransactions/rvArStatementPopup.html",'<div role=dialog id=modal class=modal-show ng-click=clearErrorMessage() ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form format-bill"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <strong class="h2 message">Statement</strong><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry full-width"><label for=languages>Guest Language</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" ng-model=filterData.locale><option style=display:none value=""></option><option value={{item.code}} ng-repeat="item in languageData.languages" ng-selected="item.code === filterData.locale">{{item.language}}</option></select></div></div><div class="entry margin"><label for=ar-statement-layout>Layout</label><div class=switch-button ng-class="{\'on\': filterData.isSummary }"><input id=ar-statement-layout type=checkbox ng-model=filterData.isSummary value={{filterData.isSummary}}> <label class=data-off><span class=value>Summary</span> <span class=switch-icon>Details</span></label> <label class=data-on><span class=switch-icon>Summary</span> <span class=value>Details</span></label></div><div class=entry ng-show=showIncludePayments()><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\': filterData.includePayments }"></span> <input type=checkbox ng-model=filterData.includePayments value={{filterData.includePayments}}> Include Payments</label></div></div><div class="entry full-width"><label for=company-email>Email</label> <input type=text name=email placeholder="Enter an Email" ng-model=filterData.statementEmailAddress></div><div class=actions><button type=button class="button with-icon open-modal" ng-class="{ \'blue\': filterData.statementEmailAddress !== \'\' , \'grey overlay\': filterData.statementEmailAddress === \'\'}" ng-click=emailArStatement()><span class="icons icon-email"></span> Email</button> <button type=button class="button with-icon blue modal-close" ng-click=pritArStatement()><span class="icons icon-print"></span> Print</button> <button type=button class="button blank modal-close inline" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/companyCard/arTransactions/rvArStatementPrintTemplate.html",'<div class="invoice ar-statement"><div class="invoice-logo envelope"><img ng-src={{printData.hotel_logo}} alt=""><h1>{{printData.hotel_name}}</h1><span ng-bind-html=printData.hotel_address></span> <span class=type>{{printData.translation.statement}}</span></div><div class=statement-header><div class=guest-info><strong>{{printData.card_details.name}}</strong><br><span ng-bind-html=printData.card_details.address></span></div><div class=statement-info><p class=statement-meta><strong>{{printData.translation.statement_date}}</strong>{{printData.statement_date}}</p><p class=statement-meta ng-if="printData.account_type === \'COMPANY\'"><strong>{{printData.translation.corp_id}}</strong>{{printData.corporate_id}}</p><p class=statement-meta ng-if="printData.account_type === \'TRAVELAGENT\'"><strong>{{printData.translation.iata_number}}</strong>{{printData.iata_no}}</p><p class=statement-meta><strong>{{printData.translation.ar_number}}</strong>{{printData.ar_number}}</p><p class=statement-meta><strong>{{printData.translation.payment_due_dates}}</strong>{{printData.payment_due_days}}</p></div></div><div class="invoice-header text-center" ng-if=printData.custom_text_header ng-bind-html=trustAsHtml(printData.custom_text_header)></div><div class=invoice-body ng-if=!printData.is_summary><table class=invoice-details><thead style=display:table-row-group;><tr><th></th><th class=charge-date><strong>{{printData.translation.date_of_charge}}</strong></th><th class=charge-code><strong>{{printData.translation.charge_code}}</strong></th><th class=charge-description><strong>{{printData.translation.charge_description}}</strong></th><th class="align-right charge-amount"><strong>{{printData.translation.debits}}</strong></th><th class="align-right charge-amount"><strong>{{printData.translation.credits}}</strong></th><th class="align-right charge-amount-title"><strong>{{printData.translation.amount_due}}</strong></th></tr></thead><tbody><tr ng-if="printData.payment_details.length > 0" class=payment ng-repeat="statement in printData.payment_details"><td class=person-info><strong class=name>{{statement.name}}</strong></td><td class=charge-date>{{statement.date | date:dateFormat }}</td><td class=charge-code>{{statement.charge_code}}</td><td class=charge-description>{{statement.charge_description}}</td><td class="charge-amount align-right"></td><td class="charge-amount align-right"><span ng-bind-html="statement.credit | sntCurrency:this"></span></td><td class="amount-due align-right"></td></tr><tr ng-if="printData.sorted_details.length > 0" class=person ng-repeat="statement in printData.sorted_details"><td class=person-info><strong class=name>{{statement.name}}</strong><br><span class=person-meta ng-if="statement.type === \'reservation\'"><strong>{{printData.translation.reservation_no}}</strong> {{statement.reservation_no}}</span> <span class=person-meta ng-if="statement.type === \'posting_account\'"><strong>{{printData.translation.account_no}}</strong> {{statement.account_no}}</span> <span class=person-meta ng-if="statement.arrival_date && statement.type !== \'manual\'"><strong>{{printData.translation.arrival_date}}</strong> {{statement.arrival_date | date:dateFormat }}</span> <span class=person-meta ng-if=statement.departure_date><strong>{{printData.translation.departure_date}}</strong> {{statement.departure_date | date:dateFormat }}</span> <span class=person-meta ng-if="shouldPrintArInvoiceNumber(printData, statement) && statement.type !== \'manual\'"><strong><span ng-if=printData.ar_invoice_number_label>{{printData.ar_invoice_number_label}}</span> <span ng-if=!printData.ar_invoice_number_label>{{printData.translation.ar_invoice_number}}</span></strong> {{statement.ar_invoice_number}}</span> <span class=person-meta ng-if="shouldPrintFolioNumber(printData, statement) && statement.type !== \'manual\'"><strong><span ng-if=printData.folio_number_label>{{printData.folio_number_label}}:</span><span ng-if=!printData.folio_number_label>{{printData.translation.folio_number}}:</span></strong> {{statement.folio_number}}</span> <span class=person-meta ng-if="shouldPrintInvoiceNumber(printData, statement)"><strong><span ng-if=printData.invoice_number_label>{{printData.invoice_number_label}}</span> <span ng-if=!printData.invoice_number_label>{{printData.translation.invoice_number}}</span></strong> {{statement.invoice_number}}</span></td><td class=charges-table-container colspan=5><table class=charges-table><tr ng-repeat="item in statement.charge_details"><td class=charge-date>{{item.date | date :dateFormat }}</td><td class=charge-code>{{item.charge_code}}</td><td class=charge-description><span>{{item.charge_description}}</span> <span class=reference>{{item.reference_number}}</span> <span class=reference>{{item.reference_text}}</span></td><td ng-if=!item.is_credit class="charge-amount align-right"><span ng-bind-html="item.amount | sntCurrency:this"></span></td><td class="charge-amount align-right" ng-if=!item.is_credit></td><td class="charge-amount align-right" ng-if=item.is_credit></td><td ng-if=item.is_credit class="charge-amount align-right"><span ng-bind-html="item.amount | sntCurrency:this"></span></td></tr><tr ng-repeat="item in statement.allocated_payment_details"><td class=charge-date>{{item.date | date :dateFormat }}</td><td class=charge-code>{{item.charge_code}}</td><td class=charge-description><span>{{item.charge_description}}</span> <span class=reference>{{item.reference_number}}</span> <span class=reference>{{item.reference_text}}</span></td><td class="charge-amount align-right"></td><td class="charge-amount align-right"><span ng-bind-html="item.credit | sntCurrency:this"></span></td></tr></table></td><td class="amount-due align-right"><span ng-bind-html="statement.amount_due | sntCurrency:this"></span></td></tr></tbody><tfoot><tr><td colspan=6><strong>{{printData.translation.total_amount}}</strong></td><td><strong><span ng-bind-html="printData.total_amount | sntCurrency:this"></span></strong></td></tr><tr><td colspan=6><strong>{{printData.translation.total_account_amount}}</strong></td><td><strong><span ng-bind-html="printData.total_account_amount | sntCurrency:this"></span></strong></td></tr><tr><td colspan=6><strong>{{printData.translation.total_account_amount_due}}</strong></td><td><strong><span ng-bind-html="printData.total_amount_due | sntCurrency:this"></span></strong></td></tr><tr ng-if=!printData.has_enabled_extended_tax_breakdown ng-repeat="tax in printData.tax_details"><td colspan=6>{{tax.description}}</td><td><span ng-bind-html="tax.tax_amount | sntCurrency:this"></span></td></tr></tfoot></table><table class="invoice-details tax-breakdown" ng-if=printData.has_enabled_extended_tax_breakdown><thead><tr><th class=tax-description><strong>{{printData.translation.tax_description}}</strong></th><th><strong>{{printData.translation.gross}}</strong></th><th><strong>{{printData.translation.net}}</strong></th><th><strong>{{printData.translation.tax}}</strong></th></tr></thead><tbody><tr ng-repeat="item in printData.extended_tax_breakdown.details"><td ng-if="item.description === \'Tax Exempt\'">{{ printData.translation.tax_exempt }}</td><td ng-if="item.description !== \'Tax Exempt\'">{{ item.description }}</td><td><span ng-bind-html="item.gross_amount | sntCurrency:this"></span></td><td><span ng-bind-html="item.net_amount | sntCurrency:this"></span></td><td><span ng-bind-html="item.tax_amount | sntCurrency:this"></span></td></tr></tbody><tfoot><tr><td>{{printData.translation.total}}</td><td><span ng-bind-html="printData.extended_tax_breakdown.total_gross_amount | sntCurrency:this"></span></td><td><span ng-bind-html="printData.extended_tax_breakdown.total_net_amount | sntCurrency:this"></span></td><td><span ng-bind-html="printData.extended_tax_breakdown.total_tax_amount | sntCurrency:this"></span></td></tr></tfoot></table></div><div class=invoice-body ng-if=printData.is_summary ng-include="\'/assets/partials/companyCard/arTransactions/rvArStatementIsSummaryPrintTemplate.html\'"></div><div class=currency ng-if="printData.from_date && printData.to_date"><p>{{printData.from_date | date:dateFormat}} - {{printData.to_date | date:dateFormat}}</p></div><div class="invoice-header text-center" ng-if=printData.custom_text_footer ng-bind-html=trustAsHtml(printData.custom_text_footer)></div></div>'),t.put("/assets/partials/companyCard/arTransactions/rvArTransactionPostCharge.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post id=ar-post-charge-options name=ar-post-charge class="modal-content form edit-charge ar-charge ar-post-charge"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button><fieldset class=edit-charge><span class="h2 message">{{\'POST_CHARGE\' | translate}}</span> <span class=text>Invoice #{{selectedItemToPostCharge.invoice_number}}</span><div id=new-charge class="entry full-width"><label for=new-charge>{{\'NEW_CHARGE\' | translate}}</label><input ar-transaction-post-charge-auto-complete="" auto-options=autocompleteOptions name=new-charge-input id=new-charge-input data-card-type="" type=text class="icons icon-search" placeholder="Search by Charge Code or Name" value="" autocomplete=off ng-model=queryValue ul-class=find-charges></div><div id=charge-total class="entry full-width charge-total" ng-show=showCalculationArea><label>{{\'CHARGE_AMOUNT\' | translate}} (<span class=currency>{{currencySymbol}}</span>)</label> <input name=charge-amount class=amount type=text ng-model=selectedItem.unit_price value={{selectedItem.unit_price}} ng-change=changedQuantity() ng-blur=enteredAmount()> <span class=delimeter>x</span> <input name=charge-quantity ng-model=quantity class=quantity type=text value=1 ng-change=changedQuantity()> <span class=total>{{\'TOTAL\' | translate}}: <strong>{{totalAmount}}</strong></span></div><div class="entry full-width reference"><label for=reference>{{\'REFERENCE\' | translate}}</label> <input name=reference id=reference ng-model=reference placeholder="Enter Reference" value="" type=text></div><div class="entry full-width"><label class="checkbox inline" for=add-in-guest-card ng-class="{\'checked\': show_reference_on_guest_invoice}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': show_reference_on_guest_invoice}"></span> <input ng-model=show_reference_on_guest_invoice id=add-in-guest-card value=1 type=checkbox> {{\'SHOW_REFERENCE_ON_GUEST_INVOICE\' | translate}}</label></div><div class=actions><button type=button class="button green" ng-click=postCharge()>{{\'POST\' | translate}}</button> <button type=button class="button blank" ng-click=closeDialog()>{{\'CANCEL\' | translate}}</button></div></fieldset></form></div>'),t.put("/assets/partials/companyCard/arTransactions/rvArTransactionsPayCredits.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-click=clearErrorMessage() ng-cloak=""><form ng-show=!showSixPayLoader method=post action=pay-bill id=pay-bill name=pay-bill class="modal-content form pay-bill" ng-class="{\'select-card\':showCCPage}"><button id=modal-close type=button class=modal-close ng-click=handleCloseDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><strong class="h2 message">{{\'SUBMIT_PAYMENT\' | translate}}</strong><div class=payment-form><snt-payment hotel-config=hotelPaymentConfig workstation-id={{workstation_id}} account-id={{arDataObj.accountId}} bill-id=arDataObj.company_or_ta_bill_id payment-types=renderData.paymentTypes selected-payment-type=saveData.paymentType bill-number=billNumber ar-transaction-id=passData.payment.transaction_id amount=renderData.defaultPaymentAmount payment-currency-amount=renderData.defaultPaymentCurrencyAmount action-type={{actionType}} allocate-payment-after-posting=allocatePaymentAfterPosting has-permission=hasPermissionToMakePayment() selected-c-c=passData.payment.card_details reference-text=passData.payment.reference_text payment-currency-list=paymentCurrencyList form-template-url=/assets/partials/payment/rvARPaymentPartial.html></snt-payment></div></form></div>'),t.put("/assets/partials/companyCard/arTransactions/rvCompanyCardArTransactionsWithLeftTabs.html",'<div class=billing-sidebar><ul class=totals><li ng-class="{\'active\': arFlags.currentSelectedArTab === \'balance\' || arFlags.currentSelectedArTab === \'on-hold\' }" ng-click="switchArTransactionTab(\'balance\')">Open Bills <strong ng-class="{\'red\': arDataObj.unpaidAmount > 0, \'green\': arDataObj.unpaidAmount <= 0 }"><span ng-bind-html="arDataObj.unpaidAmount | sntCurrency:this"></span></strong></li><li ng-class="{\'active\': arFlags.currentSelectedArTab === \'paid-bills\'}" ng-click="switchArTransactionTab(\'paid-bills\')">Paid Bills <strong><span ng-bind-html="arDataObj.paidAmount | sntCurrency:this"></span></strong></li><li ng-class="{\'active\': arFlags.currentSelectedArTab === \'unallocated\'}" ng-click="switchArTransactionTab(\'unallocated\')">Credit <strong ng-class="{\'red\': arDataObj.unallocatedCredit < 0, \'green\': arDataObj.unallocatedCredit >= 0 }"><span ng-bind-html="arDataObj.unallocatedCredit | sntCurrency:this"></span></strong></li><li ng-class="{\'active\': arFlags.currentSelectedArTab === \'allocated\'}" ng-click="switchArTransactionTab(\'allocated\')">Allocated <strong><span ng-bind-html="arDataObj.allocatedCredit | sntCurrency:this"></span></strong></li></ul><button type=button class="button green" ng-click=addPayment()>Add Payment</button> <button type=button class="button blue" ng-click=getAllocatedPayments()>Refund</button> <button type=button class="button white purple-text" ng-if="arFlags.currentSelectedArTab === \'balance\'" ng-click=clickedMoveZeroInvoicesAsPaid()>Move Zero Bills to Paid</button></div><div class="billing-content scrollable" ng-controller=RvArBalanceController ng-class="{\'hidden\': (arFlags.currentSelectedArTab !== \'balance\' || arFlags.isAddBalanceScreenVisible)}" ng-show="arDataObj.balanceList.length === 0"><div class="no-content no-print"><div class=info><span class="icon-no-content icon-ok"></span>No Transactions <span class=h2>Outstanding Guest Bills paid</span><a class="add-new-button no-print" ng-click=showAddBalanceScreen()>Add Manual Balance</a></div></div></div><div class="billing-content scrollable" ng-show="arDataObj.balanceList.length > 0" ng-controller=RvArBalanceController ng-class="{\'hidden\': (arFlags.currentSelectedArTab !== \'balance\' || arFlags.isAddBalanceScreenVisible)}" id=balance-list-div ng-iscroll=balance-list><div class=wrapper ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArTransactionBalanceList.html\'"></div><div class="billing-footer error" ng-show=arFlags.insufficientAmount>Insufficient Funds. Please <button type=button class="button green" ng-click=addPayment()>Add Payment</button> first.</div><div class="billing-footer no-print" ng-show="shouldShowFooter() && !arFlags.insufficientAmount"><button type=button class="select-payment payment-data" ng-show=!arFlags.isPaymentSelected ng-click=popupPaymentForAllocation()>Please Select Payment!</button><div class="payment-data has-arrow toggle active" ng-show=!!arFlags.isPaymentSelected ng-click=popupPaymentForAllocation() ng-class="{\'no-cc\': !allocatedPayment.card_details}"><h2 class=type>{{allocatedPayment.payment_type}}</h2><div class=card-data ng-if=allocatedPayment.card_details><figure class=card-logo><img ng-src=/ui/pms-ui/images/{{allocatedPayment.card_details.card_code.toLowerCase()}}.png alt=""></figure><span class=number ng-if=!!allocatedPayment.card_details>Ending With<span class=value>{{::allocatedPayment.card_details.last_digits}}</span></span> <span class=date ng-if=!!allocatedPayment.card_details>Expires<span class=value>{{::allocatedPayment.card_details.expire_date}}</span></span></div></div><ul class=balance><li>Available <strong class=red><span ng-bind-html="arDataObj.availableAmount | sntCurrency:this"></span></strong></li><li>Allocated <strong class=green ng-if=!arDataObj.selectAllOpenBills><span ng-bind-html="arDataObj.totalAllocatedAmount | sntCurrency:this"></span></strong> <strong class=green ng-if=arDataObj.selectAllOpenBills><span ng-bind-html="arDataObj.unpaidPayableAmount | sntCurrency:this"></span></strong></li></ul><ul class=actions><li><button type=button class="button blank" ng-click=clickCancelFromFooter()>Cancel</button></li><li><button type=button class=button ng-disabled="arDataObj.selectedInvoices.length === 0" ng-class="{\'red\': arDataObj.selectedInvoices.length > 0, \'grey\': arDataObj.selectedInvoices.length === 0, \'hidden\': arDataObj.selectAllOpenBills}" ng-click=holdSelectedInvoices()>Hold Selected</button></li><li><button type=button ng-disabled="!arFlags.isPaymentSelected || (!arDataObj.selectAllOpenBills && (arDataObj.selectedInvoices.length === 0 || arDataObj.availableAmount < arDataObj.totalAllocatedAmount))" class=button ng-class="{\'green\': arFlags.isPaymentSelected && ( arDataObj.selectAllOpenBills || (arDataObj.selectedInvoices.length > 0 && arDataObj.availableAmount >= arDataObj.totalAllocatedAmount)), \'grey\': !arFlags.isPaymentSelected || (!arDataObj.selectAllOpenBills && (arDataObj.selectedInvoices.length === 0 || arDataObj.availableAmount < arDataObj.totalAllocatedAmount))}" ng-click=paySelectedInvoices()>Pay Selected</button></li><li class=break ng-show=arFlags.shouldShowPayAllButton><button type=button class="button blue" ng-disabled="arDataObj.availableAmount < arDataObj.totalOfAllInvoicesInBalanceTab" ng-class="{\'blue\': arDataObj.availableAmount >= arDataObj.totalOfAllInvoicesInBalanceTab, \'grey\': arDataObj.availableAmount < arDataObj.totalOfAllInvoicesInBalanceTab, \'hidden\': arDataObj.selectAllOpenBills}" ng-click=clickedPayAllButton()>Pay All</button></li></ul></div><rv-pagination ng-show=!shouldShowFooter() page-options=balancePagination page-data=arDataObj.balanceTotalCount></rv-pagination></div><div class="billing-content scrollable" ng-controller=RvArOnHoldController ng-class="{\'hidden\': (arFlags.currentSelectedArTab !== \'on-hold\')}" ng-show="arDataObj.onHoldList.length === 0"><div class="no-content no-print"><div class=info><span class="icon-no-content icon-ok"></span>No On Hold Transactions</div></div></div><div class="billing-content scrollable" ng-show="arDataObj.onHoldList.length > 0" ng-controller=RvArOnHoldController ng-class="{\'hidden\': (arFlags.currentSelectedArTab !== \'on-hold\')}" id=balance-list-div ng-iscroll=onhold-list><div class=wrapper ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArTransactionOnHoldList.html\'"></div><div class="billing-footer no-print" ng-show=shouldShowOnHoldFooter()><ul class=actions><li><button type=button class="button blank" ng-click=clickCancelFromOnHoldFooter()>Cancel</button></li><li><button type=button class=button ng-disabled="arDataObj.selectedOnHoldInvoices.length === 0" ng-class="{\'blue\': arDataObj.selectedOnHoldInvoices.length > 0, \'grey\': arDataObj.selectedOnHoldInvoices.length === 0}" ng-click=releaseSelectedInvoices()>Release Selected</button></li></ul></div><rv-pagination ng-show=!shouldShowOnHoldFooter() page-options=onHoldPagination page-data=arDataObj.onHoldTotalCount></rv-pagination></div><div class="billing-content scrollable" ng-controller=RvArAddBalanceController ng-iscroll=arAddBalanceScroller ng-iscroll-delay=100 ng-class="{\'hidden\': (arFlags.currentSelectedArTab !== \'balance\' || !arFlags.isAddBalanceScreenVisible)}"><div class=wrapper ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArAddBalance.html\'"></div><div class=billing-footer ng-class="{\'hidden\': (arFlags.currentSelectedArTab !== \'balance\' || !arFlags.isAddBalanceScreenVisible)}"><ul class=actions><li><button type=button class="button blank" ng-click=clickedCancelAddBalance()>Cancel</button></li><li><button type=button class="button green" ng-click=clickedSaveAddBalance()>Save</button></li></ul></div></div><div class="billing-content scrollable" ng-controller=RvArPaidController ng-class="{\'hidden\': arFlags.currentSelectedArTab !== \'paid-bills\'}" ng-iscroll=paid-list><div class=wrapper ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArPaid.html\'"></div><rv-pagination page-options=paidPagination page-data=arDataObj.paidTotalCount></rv-pagination></div><div class="billing-content scrollable" ng-controller=RvArUnallocatedController ng-class="{\'hidden\': arFlags.currentSelectedArTab !== \'unallocated\'}" ng-iscroll=unallocated-list-scroller><div class=wrapper ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArUnallocated.html\'"></div><rv-pagination page-options=unallocatePagination page-data=arDataObj.unallocatedTotalCount></rv-pagination></div><div class="billing-content scrollable" ng-controller=RvArAllocatedController ng-class="{\'hidden\': arFlags.currentSelectedArTab !== \'allocated\'}" ng-iscroll=allocated-list-scroller><div class=wrapper ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArAllocated.html\'"></div><rv-pagination page-options=allocatePagination page-data=arDataObj.allocatedTotalCount></rv-pagination></div>'),t.put("/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArAddBalance.html",'<div class=manual-balance><table><thead><tr><th class=name translate="">NAME</th><th class=invoice-no translate="">INVOICE_NO</th><th class=date translate="">AGING_DATE</th><th class=amount translate="">AMOUNT</th><th class=action></th></tr></thead><tbody><tr ng-repeat="item in manualBalanceObj.manualBalanceList"><td class=name><div class=entry><input type=text ng-model=item.name></div></td><td class=invoice-no><div class=entry><input type=text ng-model=item.invoiceNo></div></td><td class=date><div class="entry has-datepicker"><button class=clear-query ng-class="{\'visible\': escapeNull(item.departureDate) !=\'\'}"><span class="icons icon-clear-search" ng-click=clearDateSelection($index) translate="">CLEAR_QUERY</span></button> <input type=text class="datepicker hasDatepicker" value="{{ item.departureDate | date : dateFormat }}" ng-click=popupArDateCalendar($index) readonly=""></div></td><td class=amount><span class=currency>{{currencySymbol}}</span><div class=entry><input type=text ng-model=item.amount></div></td><td class=action><button class="button icon-only" ng-class="{\'grey overlay\': balanceObjIsEmpty($index) && $last }"><span class="icons icon-add-60" ng-if=$last ng-click=addBalanceRow($index)></span> <span class="icons icon-remove-40" ng-if=!$last ng-click=removeBalanceRow($index)></span></button><button></button></td></tr></tbody><tfoot><tr><td colspan=4>{{ \'TOTAL\' | translate }} <strong><span ng-bind-html="calculateTotalBalance() | sntCurrency:this"></span></strong></td><td></td></tr></tfoot></table></div>'),t.put("/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArAllocated.html",'<ul class=search-results><li class="reservation transaction payment" ng-repeat="allocatedCreditTransaction in arDataObj.allocatedList track by $index"><div class="faux-anchor toggle has-arrow" ng-class="{\'active\': allocatedCreditTransaction.active }" ng-click="clickedAllocatedListItem( $index )"><div class=data><h2>{{allocatedCreditTransaction.payment_type}}</h2><div class=payment-data><figure class=card-logo ng-show=allocatedCreditTransaction.is_cc_payment><img ng-src=/ui/pms-ui/images/{{allocatedCreditTransaction.card_details.card_code.toLowerCase()}}.png alt=""></figure><span class=number ng-show=allocatedCreditTransaction.is_cc_payment>{{allocatedCreditTransaction.card_details.last_digits}}</span><span class=date ng-show=allocatedCreditTransaction.is_cc_payment>Date <span class=value>{{allocatedCreditTransaction.card_details.expire_date | date:dateFormat}}</span></span><span class=reference ng-show=allocatedCreditTransaction.reference_text>Reference <span class=value>{{allocatedCreditTransaction.reference_text}}</span></span></div></div><div class=payment-date><span class="icons small-icon icon-time time-black"></span><time datetime={{allocatedCreditTransaction.transaction_date}}><span class=date>{{allocatedCreditTransaction.transaction_date | date:dateFormat}}</span> <span class=time>{{allocatedCreditTransaction.transaction_time}}</span></time></div><div class="amount green" ng-class="{\'partially-paid\': allocatedCreditTransaction.is_partially_paid}"><span ng-bind-html="allocatedCreditTransaction.amount | sntCurrency:this"></span></div></div><ul class=search-results ng-show=allocatedCreditTransaction.active><li class="reservation transaction" ng-repeat="item in allocatedCreditTransaction.transactions"><div class=faux-anchor><div class=data ng-if="item.associated_type === \'PostingAccount\'"><h2>{{item.account_name}}</h2><span class=invoice>Invoice #<span class=value>{{item.invoice_number}}</span></span> <span class=invoice>Account #<span class=value>{{item.account_number}}</span></span></div><div class=data ng-if="item.associated_type !== \'PostingAccount\'"><h2>{{item.guest_last_name}} {{item.guest_first_name}}</h2><span class=invoice>Invoice #<span class=value>{{item.invoice_number}}</span></span> <span ng-hide=item.is_manual_balance class=confirmation>Conf #<span class=value>{{item.reservation_confirm_no}}</span></span></div><div class=reservation-time ng-if="item.reservation_arrival_date !== item.reservation_dep_date"><div class=check-icons><span class="guest-status check-in" ng-if=!item.is_manual_balance>arrival</span> <span class="guest-status check-out" ng-hide="item.associated_type === \'PostingAccount\'">arrival</span></div><div class=check-times><time class=guest-time ng-if=!item.is_manual_balance><span>{{item.reservation_arrival_date | date : dateFormat}}</span> <span class=hours>{{item.reservation_arrival_time}}</span></time><time class=guest-time><span>{{item.reservation_dep_date | date : dateFormat}}</span> <span class=hours>{{item.reservation_dep_time}}</span></time></div></div><div class="reservation-time daily" ng-if="item.reservation_arrival_date === item.reservation_dep_date"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">arrival</span></div><div class=check-times><div class=guest-hours><time class=guest-time>{{item.reservation_arrival_time}}</time>-<time class=guest-time>{{item.reservation_dep_time}}</time></div><span class=date>{{item.reservation_arrival_date | date : dateFormat}}</span></div></div><div class="reservation-type red" ng-if=item.is_day_use>D</div><div class=reservation-type ng-if="!item.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class="amount paid">{{currencySymbol}} {{item.amount | number:2 }}</div><button ng-show=arFlags.hasAllocateUnallocatePermission type=button class="button white with-icon" ng-click=clickedUnallocateButton(item)><span class="icons icon-remove-40"></span></button></div></li></ul></li><li><div>&nbsp;</div></li></ul>'),
t.put("/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArPaid.html",'<ul class=search-results><li class="reservation transaction reservation-transaction" ng-repeat="paidInvoice in arDataObj.paidList"><div class="faux-anchor has-arrow toggle" ng-click="clickedPaidListItem( $index )" ng-class="{\'active\': paidInvoice.active }"><div class=data ng-if="paidInvoice.associated_type === \'Reservation\'"><h2><span>{{paidInvoice.guest_last_name}}</span>, <span>{{paidInvoice.guest_first_name}}</span></h2><span class=invoice ng-if="arDataObj.isPrintArInvoiceNumberEnabled && paidInvoice.ar_invoice_number!==null">{{arDataObj.arInvoiceLabel}} #<span class=value>{{paidInvoice.ar_invoice_number}}</span></span> <span class=invoice>Invoice #<span class=value>{{paidInvoice.invoice_number}}</span></span> <span class=confirmation ng-if="paidInvoice.external_reference_number !== null">Ext #<span class=value>{{paidInvoice.external_reference_number}}</span></span> <span class=confirmation ng-if="paidInvoice.external_reference_number === null">Conf #<span class=value>{{paidInvoice.reservation_confirm_no}}</span></span></div><div class=data ng-if=paidInvoice.is_manual_balance><h2>{{paidInvoice.guest_first_name}}</h2></div><div class=data ng-if="paidInvoice.associated_type === \'PostingAccount\'"><h2><span>{{paidInvoice.account_name}}</span></h2><span class=invoice ng-if="arDataObj.isPrintArInvoiceNumberEnabled && paidInvoice.ar_invoice_number!==null">{{arDataObj.arInvoiceLabel}} #<span class=value>{{paidInvoice.ar_invoice_number}}</span></span> <span class=invoice>Account #<span class=value>{{paidInvoice.account_number}}</span></span></div><div class=reservation-time ng-if="paidInvoice.reservation_arrival_date !== paidInvoice.reservation_dep_date"><div class=check-icons><span class="guest-status check-in" ng-if="!paidInvoice.is_manual_balance && paidInvoice.associated_type !== \'PostingAccount\'">arrival</span> <span class="guest-status check-out" ng-hide="paidInvoice.associated_type === \'PostingAccount\'">arrival</span></div><div class=check-times><time class=guest-time ng-if="!paidInvoice.is_manual_balance && paidInvoice.associated_type !== \'PostingAccount\'"><span>{{paidInvoice.reservation_arrival_date | date : dateFormat}}</span> <span class=hours>{{paidInvoice.reservation_arrival_time}}</span></time><time class=guest-time><span>{{paidInvoice.reservation_dep_date | date : dateFormat}}</span> <span class=hours>{{paidInvoice.reservation_dep_time}}</span></time></div></div><div class="reservation-time daily" ng-if="paidInvoice.reservation_arrival_date === paidInvoice.reservation_dep_date"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">arrival</span></div><div class=check-times><div class=guest-hours><time class=guest-time>{{paidInvoice.reservation_arrival_time}}</time>-<time class=guest-time>{{paidInvoice.reservation_dep_time}}</time></div><span class=date>{{paidInvoice.reservation_arrival_date | date : dateFormat}}</span></div></div><div class="reservation-type red" ng-if=paidInvoice.is_day_use>D</div><div class=reservation-type ng-if="!paidInvoice.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class=status ng-show=paidInvoice.is_locked><span class="icons icon-room-lock"></span></div><div class="amount paid"><span ng-bind-html="paidInvoice.amount | sntCurrency:this"></span></div></div><div class=grid-items ng-show=paidInvoice.active><table><thead><tr><th class=date scope=col>Date</th><th scope=col>Charge Code</th><th class=description scope=col>Description</th><th class=fees scope=col>Fees</th><th class=credits scope=col>Credits</th></tr></thead><tbody><tr ng-repeat="debit in paidInvoice.debits" ng-class="{\'odd\': $odd, \'even\': $even}"><td>{{ debit.date | date : dateFormat}}</td><td><span ng-if="isStandAlone && !debit.is_group_by_ref">{{ debit.charge_code }}</span></td><td class=description ng-class="{\'toggle\': isStandAlone && debit.is_group_by_ref, \'active\': debit.isExpanded}" ng-click=expandGroupedCharge(debit)>{{ debit.description }}<span ng-if="isStandAlone && debit.is_group_by_ref" class="icons icon-double-arrow"></span><ul class=charge-items ng-if="isStandAlone && debit.is_group_by_ref" ng-class="{\'hidden\': !debit.isExpanded}"><li ng-repeat="object in debit.light_speed_data"><span>{{object.description}}</span></li></ul></td><td class=fees><span ng-if=debit.fees ng-bind-html="debit.fees | sntCurrency:this"></span><ul class=charge-items ng-if="isStandAlone && debit.is_group_by_ref" ng-class="{\'hidden\': !debit.isExpanded}"><li ng-repeat="object in debit.light_speed_data"><span class=cost><span ng-bind-html="object.amount | sntCurrency:this"></span></span></li></ul></td><td class=credits><span ng-if=debit.credits ng-bind-html="debit.credits | sntCurrency:this"></span></td></tr><tr ng-repeat="payment in paidInvoice.payments" ng-class="{\'odd\': $odd, \'even\': $even}"><td>{{ payment.transaction_date | date : dateFormat}}</td><td>{{ payment.charge_code}}</td><td class=description><div class=payment-data ng-if=payment.is_cc_payment><figure class=card-logo><img ng-src=/ui/pms-ui/images/{{payment.card_details.card_code.toLowerCase()}}.png alt=""></figure><span class=number>{{payment.card_details.last_digits}}</span> <span class=date><span class=value>{{payment.card_details.expire_date | date : dateFormat}}</span></span> <span class=reference>{{payment.reference_text}}</span></div><div class=payment-data ng-if=!payment.is_cc_payment><span class=type>{{payment.payment_type}}</span> <span class=reference>{{payment.reference_text}}</span></div></td><td class=fees></td><td class=credits><span ng-bind-html="payment.amount | sntCurrency:this"></span></td><td class=action><button class="button blank with-icon only-icon open-modal" ng-disabled="arDataObj.is_locked || paidInvoice.is_locked" ng-show=arFlags.hasAllocateUnallocatePermission ng-click=clickedUnallocateButton(payment)><span class="icons icon-remove-40"></span></button></td></tr></tbody></table><div class=actions><button type=button ng-show="arFlags.viewFromOutside && !paidInvoice.is_manual_balance" class="button brand-colors" ng-click=goToReservationDetails($index)>StayCard</button> <button type=button class="button purple hidden">Move Invoice</button> <button type=button class="button blue" ng-click="showFormatBillPopup($index, \'paid\')">Print Invoice</button> <button type=button class="button white green-text hidden">Post Charge</button> <button type=button class="button white purple-text hidden">Edit Charges</button></div></div><div id=invoiceDiv ng-if=printBillCardActive ng-include="\'/assets/partials/companyCard/arTransactions/rvArInvoice.html\'"></div></li><li ng-if=!printBillCardActive><div>&nbsp;</div></li></ul>'),t.put("/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArTransactionBalanceList.html",'<ul class=search-results><li class="select-bills-checkbox no-print" ng-show="arFlags.isPayableTab && arFlags.showSelectAllOpenBills"><div class=select-bills><label class="checkbox inline" ng-class="{\'checked\': arDataObj.selectAllOpenBills }"><span class="icon-form icon-checkbox" ng-class="{\'checked\': arDataObj.selectAllOpenBills }"></span> <input type=checkbox ng-class="{\'checked\': arDataObj.selectAllOpenBills}" ng-model=arDataObj.selectAllOpenBills ng-change=clickedSelectAllBills()></label> Select all {{arDataObj.total_count}} Bills</div></li><li class="reservation transaction with-checkbox reservation-transaction" ng-class="{\'selected\': balance.isSelected, \'overlay\': arDataObj.selectAllOpenBills }" ng-repeat="balance in arDataObj.balanceList track by $index" ng-click="clickedOnParentList( $event, $index )"><label class="checkbox inline" ng-class="{\'checked\': balance.isSelected }"><span ng-hide="balance.amount < 0" class="icon-form icon-checkbox" ng-class="{\'checked\': balance.isSelected }"></span> <input value=4 type=checkbox ng-class="{\'checked\': balance.isSelected }"></label><div class="faux-anchor has-arrow toggle" ng-class="{ \'active\': balance.active}"><div class=data ng-if="balance.associated_type === \'Reservation\'"><h2 ng-if="balance.guest_first_name!==null && balance.guest_last_name!==null">{{balance.guest_last_name}}, {{balance.guest_first_name}}</h2><h2 ng-if="balance.guest_first_name!==\'\' && balance.guest_last_name===\'\'">{{balance.guest_first_name}}</h2><h2 ng-if="balance.guest_first_name===\'\' && balance.guest_last_name!==\'\'">{{balance.guest_last_name}}</h2><span class=invoice ng-if="arDataObj.isPrintArInvoiceNumberEnabled && balance.ar_invoice_number!==null">{{arDataObj.arInvoiceLabel}} #<span class=value>{{balance.ar_invoice_number}}</span></span> <span class=invoice>Invoice #<span class=value>{{balance.invoice_number}}</span></span> <span class=confirmation ng-if="balance.external_reference_number!==null">Ext #<span class=value>{{balance.external_reference_number}}</span></span> <span class=confirmation ng-if="balance.external_reference_number===null">Conf #<span class=value>{{balance.reservation_confirm_no}}</span></span></div><div class=data ng-if=balance.is_manual_balance><h2>{{balance.guest_first_name}}</h2></div><div class=data ng-if="balance.associated_type === \'PostingAccount\'"><h2>{{balance.account_name}}</h2><span class=invoice ng-if="arDataObj.isPrintArInvoiceNumberEnabled && balance.ar_invoice_number!==null">{{arDataObj.arInvoiceLabel}} #<span class=value>{{balance.ar_invoice_number}}</span></span> <span class=invoice>Account #<span class=value>{{balance.account_number}}</span></span></div><div class=reservation-time ng-if="balance.reservation_arrival_date !== balance.reservation_dep_date"><div class=check-icons><span class="guest-status check-in" ng-if="!balance.is_manual_balance && balance.associated_type !== \'PostingAccount\'">arrival</span> <span class="guest-status check-out" ng-hide="balance.associated_type === \'PostingAccount\'">arrival</span></div><div class=check-times><time class=guest-time ng-if="!balance.is_manual_balance && balance.associated_type !== \'PostingAccount\'"><span>{{balance.reservation_arrival_date | date : dateFormat}}</span> <span class=hours>{{balance.reservation_arrival_time}}</span></time><time class=guest-time><span>{{balance.reservation_dep_date | date : dateFormat}}</span> <span class=hours>{{balance.reservation_dep_time}}</span></time></div></div><div class="reservation-time daily" ng-if="balance.reservation_arrival_date === balance.reservation_dep_date"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">arrival</span></div><div class=check-times><div class=guest-hours><time class=guest-time>{{balance.reservation_arrival_time}}</time>-<time class=guest-time>{{balance.reservation_dep_time}}</time></div><span class=date>{{balance.reservation_arrival_date | date : dateFormat}}</span></div></div><div class="reservation-type red" ng-if=balance.is_day_use>D</div><div class=reservation-type ng-if="!balance.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class="balance balance-now">Invoiced Amount <strong class=red><span ng-bind-html="balance.balanceNow | sntCurrency:this"></span></strong></div><div class="balance balance-after">Remaining Balance <strong class=green><span ng-bind-html="balance.balanceAfter | sntCurrency:this"></span></strong></div><div class="amount unpaid" ng-class="{\'partially-paid\':balance.is_partially_paid}"><span ng-if=balance.is_partially_paid class="icons icon-wallet-green"></span> <span ng-bind-html="balance.amount | sntCurrency:this"></span></div><div class="amount input"><span class=currency>{{currencySymbol}}</span> <input class=text-box type=text value={{balance.amount}} ng-model=balance.amount ng-change=changeBalanceAmount($index) ng-blur=addDecimal($index)></div></div><div class=grid-items ng-show=balance.active><table><thead><tr><th class=date scope=col>Date</th><th scope=col>Charge Code</th><th class=description scope=col>Description</th><th class=fees scope=col>Fees</th><th class=credits scope=col>Credits</th></tr></thead><tbody><tr ng-repeat="debit in balance.debits" ng-class="{\'odd\': $odd, \'even\': $even}"><td>{{ debit.date | date : dateFormat}}</td><td><span ng-if="isStandAlone && !debit.is_group_by_ref">{{ debit.charge_code }}</span></td><td class=description ng-class="{\'toggle\':isStandAlone && debit.is_group_by_ref, \'active\': debit.isExpanded}" ng-click=expandGroupedCharge(debit)><div class=payment-data><span class=type>{{ debit.description }}</span> <span class=reference>{{ debit.reference_text }}</span></div><span class="icons icon-double-arrow" ng-if="isStandAlone && debit.is_group_by_ref"></span><ul class="charge-items light-speed-data" ng-if="isStandAlone && debit.is_group_by_ref" ng-class="{\'hidden\': !debit.isExpanded}"><li ng-repeat="object in debit.light_speed_data"><span>{{object.description}}</span></li></ul></td><td class=fees><span ng-if=debit.fees ng-bind-html="debit.fees | sntCurrency:this"></span><ul class="charge-items light-speed-data" ng-if="isStandAlone && debit.is_group_by_ref" ng-class="{\'hidden\': !debit.isExpanded}"><li ng-repeat="object in debit.light_speed_data"><span class=cost><span ng-bind-html="object.amount | sntCurrency:this"></span></span></li></ul></td><td class=credits><span ng-if=debit.credits ng-bind-html="debit.credits | sntCurrency:this"></span></td><td class=action><button class="button blank with-icon only-icon open-modal button-edit" ng-show="(!balance.is_partially_paid && !balance.is_manual_balance && debit.credits === null) && (!roverObj.noModifyInvoice)" ng-click="clickedEditIconToAdjustInvoice($parent.$index, $index)"><span class="icons icon-edit-40"></span></button></td></tr><tr ng-repeat="payment in balance.payments" ng-class="{\'odd\': $odd, \'even\': $even}"><td>{{ payment.transaction_date | date : dateFormat}}</td><td>{{ payment.charge_code}}</td><td class=description><div class=payment-data ng-if=payment.is_cc_payment><figure class=card-logo><img ng-src=/ui/pms-ui/images/{{payment.card_details.card_code.toLowerCase()}}.png alt=""></figure><span class=number>{{payment.card_details.last_digits}}</span> <span class=date><span class=value>{{payment.card_details.expire_date | date : dateFormat}}</span></span> <span class=reference>{{payment.reference_text}}</span></div><div class=payment-data ng-if=!payment.is_cc_payment><span class=type>{{payment.payment_type}}</span> <span class=reference>{{payment.reference_text}}</span></div></td><td class=fees></td><td class=credits><span ng-bind-html="payment.amount | sntCurrency:this"></span></td><td class=action><button class="button blank with-icon only-icon open-modal" ng-show=arFlags.hasAllocateUnallocatePermission ng-click=clickedUnallocateButton(payment)><span class="icons icon-remove-40"></span></button></td></tr></tbody></table><div class=actions><button type=button ng-show="balance.amount < 0 && !balance.is_manual_balance" class="button red" ng-click=moveToCreditButtonClicked(balance)>MOVE TO CREDIT</button> <button type=button ng-show="arFlags.viewFromOutside && !balance.is_manual_balance" class="button brand-colors" ng-click=goToReservationDetails($index)>StayCard</button> <button type=button ng-click=moveInvoiceButtonClick(balance) ng-show=!balance.is_partially_paid class="button purple">Move Invoice</button> <button type=button class="button blue" ng-click="showFormatBillPopup($index, \'payable\')">Print Invoice</button> <button type=button class="button green white-text" ng-click=clickedPostCharge($index) ng-show="!balance.is_manual_balance && !roverObj.noModifyInvoice">Post Charge</button> <button type=button class="button white purple-text hidden">Edit Charges</button></div></div></li><li id=add-balance><button class=add-new-button ng-show=!roverObj.noModifyInvoice ng-click=showAddBalanceScreen()>Add Manual Balance</button></li><li ng-if=!printBillCardActive><button>&nbsp;</button></li></ul>'),t.put("/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArTransactionOnHoldList.html",'<ul class=search-results><li class="reservation transaction with-checkbox reservation-transaction" ng-class="{\'selected\': balance.isonHoldSelected }" ng-repeat="balance in arDataObj.onHoldList track by $index" ng-click="clickedOnParentList( $event, $index )"><label class="checkbox inline" ng-class="{\'checked\': balance.isonHoldSelected }"><span ng-hide="balance.onHoldAmount < 0" class="icon-form icon-checkbox" ng-class="{\'checked\': balance.isonHoldSelected }"></span> <input value=4 type=checkbox ng-class="{\'checked\': balance.isonHoldSelected }"></label><div class="faux-anchor has-arrow toggle" ng-class="{ \'active\': balance.active}"><div class=data ng-if="balance.associated_type === \'Reservation\'"><h2 ng-if="balance.guest_first_name!==null && balance.guest_last_name!==null">{{balance.guest_last_name}}, {{balance.guest_first_name}}</h2><h2 ng-if="balance.guest_first_name!==\'\' && balance.guest_last_name===\'\'">{{balance.guest_first_name}}</h2><h2 ng-if="balance.guest_first_name===\'\' && balance.guest_last_name!==\'\'">{{balance.guest_last_name}}</h2><span class=invoice ng-if="arDataObj.isPrintArInvoiceNumberEnabled && balance.ar_invoice_number!==null">{{arDataObj.arInvoiceLabel}} #<span class=value>{{balance.ar_invoice_number}}</span></span> <span class=invoice>Invoice #<span class=value>{{balance.invoice_number}}</span></span> <span class=confirmation ng-if="balance.external_reference_number!==null">Ext #<span class=value>{{balance.external_reference_number}}</span></span> <span class=confirmation ng-if="balance.external_reference_number===null">Conf #<span class=value>{{balance.reservation_confirm_no}}</span></span></div><div class=data ng-if=balance.is_manual_balance><h2>{{balance.guest_first_name}}</h2></div><div class=data ng-if="balance.associated_type === \'PostingAccount\'"><h2>{{balance.account_name}}</h2><span class=invoice ng-if="arDataObj.isPrintArInvoiceNumberEnabled && balance.ar_invoice_number!==null">{{arDataObj.arInvoiceLabel}} #<span class=value>{{balance.ar_invoice_number}}</span></span> <span class=invoice>Account #<span class=value>{{balance.account_number}}</span></span></div><div class=reservation-time ng-if="balance.reservation_arrival_date !== balance.reservation_dep_date"><div class=check-icons><span class="guest-status check-in" ng-if="!balance.is_manual_balance && balance.associated_type !== \'PostingAccount\'">arrival</span> <span class="guest-status check-out" ng-hide="balance.associated_type === \'PostingAccount\'">arrival</span></div><div class=check-times><time class=guest-time ng-if="!balance.is_manual_balance && balance.associated_type !== \'PostingAccount\'"><span>{{balance.reservation_arrival_date | date : dateFormat}}</span> <span class=hours>{{balance.reservation_arrival_time}}</span></time><time class=guest-time><span>{{balance.reservation_dep_date | date : dateFormat}}</span> <span class=hours>{{balance.reservation_dep_time}}</span></time></div></div><div class="reservation-time daily" ng-if="balance.reservation_arrival_date === balance.reservation_dep_date"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">arrival</span></div><div class=check-times><div class=guest-hours><time class=guest-time>{{balance.reservation_arrival_time}}</time>-<time class=guest-time>{{balance.reservation_dep_time}}</time></div><span class=date>{{balance.reservation_arrival_date | date : dateFormat}}</span></div></div><div class="reservation-type red" ng-if=balance.is_day_use>D</div><div class=reservation-type ng-if="!balance.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class="amount unpaid" ng-class="{\'partially-paid\':balance.is_partially_paid}"><span ng-if=balance.is_partially_paid class="icons icon-wallet-green"></span> <span ng-bind-html="balance.onHoldAmount | sntCurrency:this"></span></div></div><div class=grid-items ng-show=balance.active><table><thead><tr><th class=date scope=col>Date</th><th scope=col>Charge Code</th><th class=description scope=col>Description</th><th class=fees scope=col>Fees</th><th class=credits scope=col>Credits</th></tr></thead><tbody><tr ng-repeat="debit in balance.debits" ng-class="{\'odd\': $odd, \'even\': $even}"><td>{{ debit.date | date : dateFormat}}</td><td><span ng-if="isStandAlone && !debit.is_group_by_ref">{{ debit.charge_code }}</span></td><td class=description ng-class="{\'toggle\':isStandAlone && debit.is_group_by_ref, \'active\': debit.isExpanded}" ng-click=expandGroupedCharge(debit)><div class=payment-data><span class=type>{{ debit.description }}</span> <span class=reference>{{ debit.reference_text }}</span></div><span class="icons icon-double-arrow" ng-if="isStandAlone && debit.is_group_by_ref"></span><ul class="charge-items light-speed-data" ng-if="isStandAlone && debit.is_group_by_ref" ng-class="{\'hidden\': !debit.isExpanded}"><li ng-repeat="object in debit.light_speed_data"><span>{{object.description}}</span></li></ul></td><td class=fees><span ng-if=debit.fees ng-bind-html="debit.fees | sntCurrency:this"></span><ul class="charge-items light-speed-data" ng-if="isStandAlone && debit.is_group_by_ref" ng-class="{\'hidden\': !debit.isExpanded}"><li ng-repeat="object in debit.light_speed_data"><span class=cost><span ng-bind-html="object.amount | sntCurrency:this"></span></span></li></ul></td><td class=credits><span ng-if=debit.credits ng-bind-html="debit.credits | sntCurrency:this"></span></td><td class=action><button class="button blank with-icon only-icon open-modal button-edit" ng-show="(!balance.is_partially_paid && !balance.is_manual_balance && debit.credits === null) && (!roverObj.noModifyInvoice)" ng-click="clickedEditIconToAdjustInvoice($parent.$index, $index)"><span class="icons icon-edit-40"></span></button></td></tr><tr ng-repeat="payment in balance.payments" ng-class="{\'odd\': $odd, \'even\': $even}"><td>{{ payment.transaction_date | date : dateFormat}}</td><td>{{ payment.charge_code}}</td><td class=description><div class=payment-data ng-if=payment.is_cc_payment><figure class=card-logo><img ng-src=/assets/images/{{payment.card_details.card_code.toLowerCase()}}.png alt=""></figure><span class=number>{{payment.card_details.last_digits}}</span> <span class=date><span class=value>{{payment.card_details.expire_date | date : dateFormat}}</span></span> <span class=reference>{{payment.reference_text}}</span></div><div class=payment-data ng-if=!payment.is_cc_payment><span class=type>{{payment.payment_type}}</span> <span class=reference>{{payment.reference_text}}</span></div></td><td class=fees></td><td class=credits><span ng-bind-html="payment.amount | sntCurrency:this"></span></td><td class=action><button class="button blank with-icon only-icon open-modal" ng-show=arFlags.hasAllocateUnallocatePermission ng-click=clickedUnallocateButton(payment)><span class="icons icon-remove-40"></span></button></td></tr></tbody></table><div class=actions><button type=button ng-show="balance.onHoldAmount < 0 && !balance.is_manual_balance" class="button red" ng-click=moveToCreditButtonClicked(balance)>MOVE TO CREDIT</button> <button type=button ng-show="arFlags.viewFromOutside && !balance.is_manual_balance" class="button brand-colors" ng-click=goToReservationDetails($index)>StayCard</button> <button type=button ng-click=moveInvoiceButtonClick(balance) ng-show=!balance.is_partially_paid class="button purple">Move Invoice</button> <button type=button class="button blue" ng-click="showFormatBillPopup($index, \'onhold\')">Print Invoice</button> <button type=button class="button green white-text" ng-click=clickedPostCharge($index) ng-show="!balance.is_manual_balance && !roverObj.noModifyInvoice">Post Charge</button> <button type=button class="button white purple-text hidden">Edit Charges</button></div></div></li><li ng-if=!printBillCardActive><button>&nbsp;</button></li></ul>'),t.put("/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentArUnallocated.html",'<ul class=search-results><li class="reservation transaction payment unallocated" ng-repeat="unallocatedCreditTransaction in arDataObj.unallocatedList track by $index"><div class=faux-anchor ng-class="{\'active\': unallocatedCreditTransaction.active , \'toggle has-arrow\': unallocatedCreditTransaction.is_partially_paid}" ng-click="clickedUnallocatedListItem( $index )"><div class=data><h2>{{unallocatedCreditTransaction.payment_type}}</h2><div class=payment-data><figure class=card-logo ng-show=unallocatedCreditTransaction.is_cc_payment><img ng-src=/ui/pms-ui/images/{{unallocatedCreditTransaction.card_details.card_code.toLowerCase()}}.png alt=""></figure><span class=number ng-show=unallocatedCreditTransaction.is_cc_payment>{{unallocatedCreditTransaction.card_details.last_digits}}</span><span class=date ng-show=unallocatedCreditTransaction.is_cc_payment>Date <span class=value>{{unallocatedCreditTransaction.card_details.expire_date | date:dateFormat}}</span></span><span class=reference ng-show=unallocatedCreditTransaction.reference_text>Reference <span class=value>{{unallocatedCreditTransaction.reference_text}}</span></span></div></div><div class=payment-date><span class="icons small-icon icon-time time-black"></span><time datetime=""><span class=date>{{unallocatedCreditTransaction.transaction_date | date:dateFormat}}</span> <span class=time>{{unallocatedCreditTransaction.transaction_time}}</span></time></div><div class="amount green" ng-class="{\'partially-paid\': unallocatedCreditTransaction.is_partially_paid}"><span class="icons icon-wallet-green" ng-show=unallocatedCreditTransaction.is_partially_paid></span> <span ng-bind-html="unallocatedCreditTransaction.amount | sntCurrency:this"></span></div><button ng-show=arFlags.hasAllocateUnallocatePermission type=button class="button green" ng-click="clickedAllocateButton($event, $index)">Allocate</button></div><ul class=search-results ng-show=unallocatedCreditTransaction.active><li class="reservation transaction" ng-repeat="item in unallocatedCreditTransaction.transactions"><div class=faux-anchor><div class=data ng-if="item.associated_type === \'PostingAccount\'"><h2>{{item.account_name}}</h2><span class=invoice>Invoice #<span class=value>{{item.invoice_number}}</span></span> <span class=invoice>Account #<span class=value>{{item.account_number}}</span></span></div><div class=data ng-if="item.associated_type !== \'PostingAccount\'"><h2>{{item.guest_last_name}}, {{item.guest_first_name}}</h2><span class=invoice>Invoice #<span class=value>{{item.invoice_number}}</span></span> <span ng-hide=item.is_manual_balance class=confirmation>Conf #<span class=value>{{item.reservation_confirm_no}}</span></span></div><div class=reservation-time ng-if="item.reservation_arrival_date !== item.reservation_dep_date"><div class=check-icons><span class="guest-status check-in" ng-if=!item.is_manual_balance>arrival</span> <span class="guest-status check-out" ng-hide="item.associated_type === \'PostingAccount\'">arrival</span></div><div class=check-times><time class=guest-time ng-if=!item.is_manual_balance><span>{{item.reservation_arrival_date | date : dateFormat}}</span> <span class=hours>{{item.reservation_arrival_time}}</span></time><time class=guest-time><span>{{item.reservation_dep_date | date : dateFormat}}</span> <span class=hours>{{item.reservation_dep_time}}</span></time></div></div><div class="reservation-time daily" ng-if="item.reservation_arrival_date === item.reservation_dep_date"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">arrival</span></div><div class=check-times><div class=guest-hours><time class=guest-time>{{item.reservation_arrival_time}}</time>-<time class=guest-time>{{item.reservation_dep_time}}</time></div><span class=date>{{item.reservation_arrival_date | date : dateFormat}}</span></div></div><div class="reservation-type red" ng-if=item.is_day_use>D</div><div class=reservation-type ng-if="!item.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class="amount paid">{{currencySymbol}} {{item.amount | number:2 }}</div><button ng-show=arFlags.hasAllocateUnallocatePermission type=button class="button white with-icon" ng-click=clickedUnallocate(item)><span class="icons icon-remove-40"></span></button></div></li></ul></li><li><div>&nbsp;</div></li></ul>'),t.put("/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentCardArPaymentPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post action="" class="modal-content form ar-transaction payment-allocation"><button class=modal-close id=modal-close type=button ng-click=closePopup()><span class="icons icon-close invert"></span></button><strong class="h2 message" ng-if="type === \'ALLOCATE\'">Select payment for allocation</strong> <strong class="h2 message" ng-if="type === \'REFUND\'">Select payment for Refund</strong> <span class=text>Please select one of the unallocated payments to proceed.</span><div class="payments scrollable" id=payment-allocation ng-iscroll=payment-allocation><div class=wrapper><ul class=search-results><li class="reservation transaction payment unallocated" ng-hide=payment.is_partially_paid ng-repeat="payment in payments"><div class=faux-anchor><div class=data><h2>{{::payment.payment_type}}</h2><div class=payment-data><figure class=card-logo ng-if=!!payment.card_details><img ng-src=/ui/pms-ui/images/{{payment.card_details.card_code.toLowerCase()}}.png alt=""></figure><span class=number ng-if=!!payment.card_details>{{::payment.card_details.last_digits}}</span> <span class=date ng-if=!!payment.card_details>Date <span class=value>{{::payment.card_details.expire_date}}</span></span> <span class=reference>Reference <span class=value>{{::payment.reference_text}}</span></span></div></div><div class=payment-date><span class="icons small-icon icon-time time-black"></span><time datetime="2017-08-15 12:08 AM"><span class=date>{{::payment.transaction_date | date : dateFormat}}</span> <span class=time>{{::payment.transaction_time}}</span></time></div><div class="amount green" ng-if="type === \'ALLOCATE\'"><span ng-bind-html="::payment.available_amount | sntCurrency:this"></span></div><div class="amount green" ng-if="type === \'REFUND\'"><span ng-bind-html="::payment.amount | sntCurrency:this"></span></div><button ng-show="arFlags.hasAllocateUnallocatePermission && type === \'ALLOCATE\'" type=button class="button green" ng-click=updateAllocatedPayment(payment)>Allocate</button><button ng-show="type === \'REFUND\'" type=button class="button blue" ng-click=clickedRefundButton(payment)>Refund</button></div></li></ul></div></div></form></div>'),t.put("/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentCardArTransactionsMain.html",'<form method=post id=cc-ar-transactions name=cc-ar-transactions class="form card-tab inner-header transactions" ng-class="{\'overlay\': !hasPermissionToCreateArAccount()}"><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div class=tab-header><div class=ar-balance><span class=ar-label>AR Balance</span> <strong class=ar-amount ng-class="{\'red\': arDataObj.arBalance > 0, \'green\': arDataObj.arBalance <= 0 }"><span ng-bind-html="arDataObj.arBalance | sntCurrency:this"></span></strong></div><div class="search-form has-dates has-switch"><div class="entry switch" ng-if=showToggleFilter><div class=switch-button ng-class="{ \'on\' : arFlags.isPayableTab}"><input id=ar-on-hold-switch value="" type=checkbox checked="" ng-model=arFlags.isPayableTab ng-change=switchArTransactionOpenBillTab()> <label class=data-off><span class=value>Payable</span> <span class=switch-icon>On Hold</span></label> <label class=data-on><span class=switch-icon>Payable</span> <span class=value>On Hold</span></label></div></div><div class="entry search"><button class=clear-query ng-click=clearResults() ng-class="{\'visible\': filterData.query!=\'\'}"><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input name=ar-transaction-query id=arTransactionQuery class=query placeholder="Search by Name, Room No. or Confirmation No. or AR Invoice No." type=search autocomplete=off ng-keyup=queryEntered() ng-model=filterData.query></div><div class="entry sort" ng-if=showSortFilter><div class="select with-label"><label>Sorting ASC</label><select ng-model=filterData.sortField ng-change=changedSortBy()><option ng-repeat="item in filterData.sortOptions" value={{item.value}}>{{item.name}}</option></select></div></div><div class="entry dates"><div class="entry-data has-datepicker"><label for=ar-transaction-date-from>From</label> <button ng-click=clearFromDate() class=clear-query ng-class="{\'visible\': escapeNull(filterData.fromDate) !=\'\'}"><span class="icons icon-clear-search">Clear query</span></button> <input id=ar-transaction-date-from type=text class=datepicker value="{{ filterData.fromDate | date : dateFormat }}" ng-click=clickedFromDate() readonly=""></div><div class="entry-data has-datepicker"><label for=ar-transaction-date-to>To</label> <button ng-click=clearToDate() class=clear-query ng-class="{\'visible\': escapeNull(filterData.toDate) !=\'\'}"><span class="icons icon-clear-search">Clear query</span></button> <input id=ar-transaction-date-to type=text class=datepicker value="{{ filterData.toDate | date : dateFormat }}" ng-click=clickedToDate() readonly=""></div></div></div><div class=actions ng-hide="!arFlags.isPayableTab && showToggleFilter"><button type=button class="button orange with-icon" ng-click=clickedArStatementButton()><span class="icons icon-invoice"></span> Statement</button></div></div><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class=tab-details><div include-replace="" ng-include="\'/assets/partials/companyCard/arTransactions/rvCompanyCardArTransactionsWithLeftTabs.html\'"></div><div include-replace="" ng-include="\'/assets/partials/companyCard/arTransactions/rvArStatementPrintTemplate.html\'"></div><div class=invoice include-replace="" ng-if=printBillCardActive ng-include="\'/assets/partials/companyCard/arTransactions/rvArInvoice.html\'"></div></div></form>'),
t.put("/assets/partials/companyCard/arTransactions/rvCompanyTravelAgentUnallocatePopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post class="modal-content form ar-transaction payment-unallocation"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <strong class="h2 message">Unallocate payment</strong> <span class=text>This will unallocate the payment from this invoice.</span><div class=amount><strong><span ng-bind-html="selectedUnAllocatedItem.amount | sntCurrency:this"></span></strong> Allocated {{selectedUnAllocatedItem.allocation_date | date : dateFormat}} {{selectedUnAllocatedItem.allocation_time}}</div><div class=information><span>From Bill</span><ul class=search-results><li class="reservation transaction"><div class=faux-anchor><div class=data><h2>{{selectedUnAllocatedItem.from_bill.invoice_name}}</h2><span class=invoice>Invoice #<span class=value>{{selectedUnAllocatedItem.from_bill.invoice_number}}</span></span> <span class=confirmation>Ext #<span class=value>{{selectedUnAllocatedItem.from_bill.external_reference_number}}</span></span></div><div class="guest-date arrival"><span class="guest-status small-icon check-in">check-in</span><time datetime={arrival-datetime}><span class=date>{{selectedUnAllocatedItem.from_bill.arrival_date | date : dateFormat}}</span> <span class=time>{{selectedUnAllocatedItem.from_bill.arrival_time}}</span></time></div><div class="guest-date departure"><span class="guest-status small-icon check-out">check-out</span><time datetime={departure-datetime}><span class=date>{{selectedUnAllocatedItem.from_bill.dep_date | date : dateFormat}}</span> <span class=time>{{selectedUnAllocatedItem.from_bill.dep_time}}</span></time></div><div class="balance balance-after">Balance Remaining <strong class=red><span ng-bind-html="selectedUnAllocatedItem.from_bill.balance_after | sntCurrency:this"></span></strong></div></div></li></ul></div><div class=information><span>To payment</span><ul class=search-results><li class="reservation transaction payment"><div class=faux-anchor><div class=data><h2>{{selectedUnAllocatedItem.to_payment.payment_type}}</h2><div class=payment-data><figure class=card-logo><img ng-src=/ui/pms-ui/images/{{selectedUnAllocatedItem.to_payment.card_details.card_code.toLowerCase()}}.png alt=""></figure><span class=number>{{selectedUnAllocatedItem.to_payment.card_details.last_digits}}</span><span class=date>Date <span class=value>{{selectedUnAllocatedItem.to_payment.card_details.expire_date}}</span></span><span class=reference>Reference <span class=value>{{selectedUnAllocatedItem.to_payment.reference_text}}</span></span></div></div><div class=payment-date><span class="icons small-icon icon-time time-black"></span><time datetime={payment-datetime}><span class=date>{{selectedUnAllocatedItem.to_payment.transaction_date | date : dateFormat}}</span> <span class=time>{{selectedUnAllocatedItem.to_payment.transaction_time}}</span></time></div><div class="balance balance-after">Credit After <strong class=green><span ng-bind-html="selectedUnAllocatedItem.to_payment.credit_after | sntCurrency:this"></span></strong></div></div></li></ul></div><div class=actions><button class="button blank" ng-click=closeDialog()>Cancel</button> <button class="button red" ng-click=unAllocate()>Unallocate</button></div></form></div>'),t.put("/assets/partials/dashboard/analyticsPopups/analyticsDetailsView.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" style="width: 90%;"><div class=modal-content style="max-height: 800px; overflow-y: scroll; margin-top: 80px; overflow-y: scroll;"><button ng-if=\'checkoutStatus !== "success"\' type=button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <button ng-if=\'checkoutStatus === "success"\' type=button id=modal-close class=modal-close ng-click=okButtonClicked()><span class="icons icon-close invert"></span></button><div class="h3 message">{{popupMessage}}</div><ul id=dashboard-search-results class=search-results ng-if="detailsType !== \'ROOM\'"><li class=find-reservation ng-repeat="row in detailedList" ngrepeatend="" ngrepeatstarted="" ng-class="{\'show-balance\': isBulkCheckoutSelected && isDueoutShowing}"><a ng-class=getReservationClass(row.reservation_status) ng-click="goToReservationDetails($event,row.id, row.confirmation)"><figure class=guest-image ng-class="{\'accompany\': row.images.length >1}" ng-show="row.images.length!=0"><img ng-repeat="image in row.images" ng-src={{image.guest_image}}><span class=stay-count ng-if="row.stay_count > 0 && isStandAlone">{{::row.stay_count}}</span> <span class=vip ng-show="row.vip==1">VIP</span></figure><div class=data style="height: 80px;"><div class=guest-info><span class=guest-company ng-if="escapeNull(row.company)!=\'\'" ng-bind-html=escapeNull(row.company)|highlight:textInQueryBox:false></span> <span class=guest-travelagent ng-if="escapeNull(row.travel_agent)!=\'\'" ng-bind-html=escapeNull(row.travel_agent)|highlight:textInQueryBox:false></span> <span class=group ng-if="escapeNull(row.group)!=\'\'" ng-bind-html=escapeNull(row.group)|highlight:textInQueryBox:false></span> <span class=allotment ng-if="escapeNull(row.allotment)!=\'\'" ng-bind-html=escapeNull(row.allotment)|highlight:textInQueryBox:false></span></div><h2 ng-class="{\'cancelled\' : row.reservation_status == \'CANCELED\' || row.reservation_status == \'NO SHOW\'}">SAMPLE NAME</h2><h2 class=pending ng-if="escapeNull(row.lastname) == \'\' && escapeNull(row.firstname) == \'\'" translate="">PENDING</h2><div class=guest-meta><span class=confirmation><span class=confirmation-text>{{ row.confirmation_number}}</span> <span ng-bind-html="getConfirmationNo(row) | highlight:textInQueryBox:false" ng-if="textInQueryBox.length >= 5"></span> <span ng-bind-html=getConfirmationNo(row) ng-if="textInQueryBox.length < 5"></span></span> <span class="icons icon-location" ng-if="escapeNullStr(row.location) !== \'\'">{{escapeNullStr(row.location)}}</span> <span class="icons icon-location no-location" ng-if="escapeNullStr(row.location) === \'\'">N/A</span></div></div><div class=reservation-time ng-class="{\'daily\': row.arrival_date === row.departure_date}"><div class=check-icons><span class="guest-status check-in">arrival</span> <span class="guest-status check-out">departure</span></div><div class=check-times><time class=guest-time ng-if="row.arrival_date !== row.departure_date"><span>{{row.arrival_date| date : dateFormat}}</span> <span class=hours>{{getTimeConverted(row.arrival_time)}}</span></time><time class=guest-time ng-if="row.arrival_date !== row.departure_date"><span>{{row.departure_date| date : dateFormat}}</span> <span class=hours>{{getTimeConverted(row.late_checkout_time || row.departure_time)}}</span></time><div class=guest-hours ng-if="row.arrival_date === row.departure_date"><time class=guest-time>{{getTimeConverted(row.arrival_time)}}</time>-<time class=guest-time>{{getTimeConverted(row.late_checkout_time || row.departure_time)}}</time></div><span class=date ng-if="row.arrival_date === row.departure_date">{{row.arrival_date| date : dateFormat}}</span></div></div><div class=reservation-info><div class="reservation-type red" ng-if=row.is_day_use>D</div><div class=reservation-type ng-if="!row.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><div class=reservation-status><span class="guest-status check-in">{{getGuestStatusMapped(row.reservation_status, row.is_opted_late_checkout,row.is_pre_checkin, row.arrival_date)}}</span></div><div class=room-info><div class=room-number-info><strong class="room-number {{getMappedClassWithResStatusAndRoomStatus(row.reservation_status, row.roomstatus, row.fostatus, row.room_ready_status, row.checkin_inspected_only, row.room_service_status, row.room)}}">{{row.departure_room_number}}</strong> <span class="icons icon-suite-orange" ng-if=row.is_suite_room></span> <span class=room-status ng-if=showStatus(row) ng-class="{\'green\':!row.is_room_due_out}">{{row.departure_room_number}}</span></div><span class=room-type>{{row.departure_room_type}}</span> <span class="icons icon-queued-red" ng-if="isReservationQueued(row.is_reservation_queued, row.is_queue_rooms_on, row.reservation_status)">Queued <span class=time pretty-time-ago=row.is_queued_till></span></span></div></div><div class=reservation-balance ng-if=isBulkCheckoutSelected><span class=currency>{{currencySymbol}}</span> {{row.balance | number : 2}}</div></a></li></ul><ul class=search-results ng-hide="uiTotalCount == 0" ng-if="detailsType === \'ROOM\'"><li class=room ng-repeat="room in detailedList track by $index" emit-when="{event: \'ALL_RENDERED\', condition: $last}"><a ng-click=roomListItemClicked(room)><div class=room-info ng-class="{ \'on-hold\': room.is_on_hold }"><h2 class="{{ room.roomStatusClass }}"><span>{{ ::room.room_number }}</span> <span class="icons icon-suite" ng-show=room.is_suite>Suite Room</span></h2><span class=room-type>{{::room.room_type}}</span> <span class="room-status {{ room.roomStatusClass }}">{{room.status}}</span></div><div class=reservation-status><div class="current {{ ::room.leaveStatusClass }}"><span class="guest-status {{ ::room.leaveStatusClass }}">{{ ::room.room_reservation_status }}</span><span>{{ ::room.timeOrOut }}</span></div><div class="next {{ ::room.enterStatusClass }}"><span class="guest-status {{ ::room.enterStatusClass }}">{{ ::room.room_reservation_status }}</span><span>{{ ::room.timeOrIn }}</span></div></div><span class={{::room.assigned_staff.class}}>{{::room.assigned_staff.name}}</span><div class=last-column><span ng-if="::isStandAlone && room.ooOsTitle"><span class=service-status ng-if="::!isHourlyRateOn || hotelDiaryConfig.mode !== \'FULL\'">{{::room.ooOsTitle}} until <strong>{{::room.service_status.end_date}}</strong></span> <span class=service-status ng-if="::isHourlyRateOn || hotelDiaryConfig.mode === \'FULL\'">{{::room.ooOsTitle}} until <strong>{{::room.service_status.end_date}} {{::room.service_status.end_time}}</strong></span></span><div class=print-date ng-show="room.is_occupied && room.arrival_date && room.departure_date"><div class=arrival-date><span class="guest-status check-in">check-in</span><time datetime={{room.arrival_date}}>{{formatDateForUI(room.arrival_date)}}</time></div><div class=departure-date><span class="guest-status check-out">check-out</span><time datetime={{room.departure_date}}>{{formatDateForUI(room.departure_date)}}</time></div></div></div><figure class=guest-image ng-if="!room.is_queued && room.is_occupied"><span ng-if=room.is_vip class=vip translate="">VIP</span> <span class=stay-count ng-if="room.guest_stay_count > 0 && isStandAlone">{{::room.guest_stay_count}}</span> <img ng-src={{::room.avatar_src}} alt=""></figure><div ng-if="!room.is_queued && !room.is_occupied" class=show-vacant>VACANT</div><div ng-if=::room.is_queued class="icons icon-queued has-time">Queued <span class=time pretty-time-ago=::room.is_queued_till></span></div><ul class=tasks ng-if="currentView === \'TASKS\'"><li ng-repeat="task in ::room.room_tasks track by $index" ng-class="{ \'completed\': task.is_completed }">{{::task.name}}</li></ul></a></li><li class="mobile-pagination on-bottom-pagination" ng-show="!filterOpen && (!disablePrevBtn || !disableNextBtn)"><p class=page-count>Showing <strong>{{ resultFrom }}-{{ resultUpto }}</strong> of <strong>{{ netTotalCount }}</strong> items</p><p class=pull-msg ng-show=!disableNextBtn>Pull up to load next page</p></li></ul></div></div>'),t.put("/assets/partials/financials/accountsReceivables/rvAccountsReceivables.html",'<span><form name=accounts-receivables-search-form id=accounts-receivables-search-form class="search-form has-options four-options" role=search><div class="entry search"><button ng-click=clearSearchQuery() class=clear-query ng-class="{\'visible\': filterData.searchQuery!=\'\'}"><span class="icons icon-clear-search" translate="">CLAER_QUERY</span></button> <button type=submit name=submit class="icons icon-search" translate="">SEARCH</button> <input name=accounts-receivables-query ng-model=filterData.searchQuery ng-change=changedSearchQuery() id=accounts-receivables-query class=query placeholder="Search by AR Account Name or Number, IATA Number, Corporate ID or City" type=search autocomplete=off></div><div class="entry options"><div class="input with-label"><label for=min-amount>{{\'MIN_AMOUNT\' | translate}}({{currencySymbol}})</label> <input ng-model=filterData.minAmount ng-change=changedMinAmount() type=text ng-model-options="{ debounce: 500 }"></div><div class="select with-label larger-select"><label for=sort-by translate="">SORT_BY</label><select ng-model=filterData.sortBy ng-change=changedSortBy() id=sort-by><option ng-repeat="item in filterData.sortList" value={{item.value}}>{{item.name}}</option></select></div><div class="select with-label"><label for=ageing-days translate="">AGING_DAYS</label><select ng-model=filterData.ageingDays ng-change=changedAgeingDays() id=ageing-days><option ng-repeat="item in filterData.ageingDaysList" value={{item.value}}>{{item.value}}</option></select></div><div class="select with-label"><label for=show-options translate="">SHOW</label><select ng-model=filterData.showOptions ng-change=changedShowOptions() id=show-options><option ng-repeat="item in filterData.showOptionsList" value={{item.value}}>{{item.name}}</option></select></div></div></form><div ng-show=isShowPagination() class=hide-on-mobile><rv-pagination page-options=arPaginationObj page-data=filterData.totalCount></rv-pagination></div><section class="content accounts-ar-content" role=main><div ng-hide=filterData.hideArHeader class=accounts-ar-header><ul class=accounts-ar-totals><li class=number><span translate="">OPEN_BILLS</span> <span class=amount>{{arOverviewData.open_guest_bill}}</span></li><li class=number><span translate="">OPEN_BALANCE</span> <span class="amount red"><span ng-bind-html="arOverviewData.open_balance | sntCurrency:this"></span></span></li><li class=number><span translate="">CREDIT</span> <span class="amount green"><span ng-bind-html="arOverviewData.total_credit | sntCurrency:this"></span></span></li><li class=number><span translate="">AR_BALANCE</span> <span class=amount ng-class="{\'red\': arOverviewData.ar_balance > 0, \'green\': arOverviewData.ar_balance <= 0}"><span ng-bind-html="arOverviewData.ar_balance | sntCurrency:this"></span></span></li></ul></div><div class="accounts-ar-list scrollable" ng-class="{\'no-pagination\': !isShowPagination(),\'no-accounts-ar-header\':filterData.hideArHeader}" ng-iscroll=arOverViewScroll><div class=wrapper><ul class=search-results><li class=account-ar ng-repeat="account in arOverviewData.accounts" ui-sref="rover.companycarddetails({id:account.id, type: account.type,origin:\'AR_OVERVIEW\'})"><a><div class="account-image icons" ng-if="escapeNull(account.company_logo) == \'\'" ng-class="{\'icon-travel-agent\': account.type === \'TRAVELAGENT\',\'icon-company\': account.type === \'COMPANY\'}"></div><figure class=guest-image ng-if="escapeNull(account.company_logo) !=\'\'"><img ng-src={{account.company_logo}} alt=""></figure><div class=data><h2>{{account.account_name}}</h2><strong class=confirmation>{{account.ar_number}}</strong> <span class="icons icon-location" ng-hide="escapeNullStr(account.location)==\'\'">{{escapeNullStr(account.location)}}</span> <span ng-if="(account.type === \'COMPANY\')" ng-hide="escapeNullStr(account.account_number)==\'\'" class="icons icon-guest-company">{{account.account_number}}</span> <span ng-if="(account.type === \'TRAVELAGENT\')" ng-hide="escapeNullStr(account.account_number)==\'\'" class="icons icon-guest-travelagent">{{account.account_number}}</span> <span ng-hide="escapeNullStr(account.ageing_date)==\' \'" class="icons icon-time confirmation">{{account.ageing_date}}</span></div><div class=info-holder><div class="info number"><strong>{{account.ageing_days}}</strong> <span translate="">AGING_DAYS</span></div><div class="info number"><strong>{{account.open_bill}}</strong> <span translate="">OPEN_BILLS</span></div><div class="info value"><strong ng-class="{\'green\': account.credit >= 0, \'red\': account.credit < 0 }"><span ng-bind-html="account.credit | sntCurrency:this"></span></strong> <span translate="">CREDIT</span></div><div class="info value"><strong ng-class="{\'red\': account.current_balance >= 0, \'green\': account.current_balance < 0 }"><span ng-bind-html="account.current_balance | sntCurrency:this"></span></strong> <span translate="">OPEN_BALANCE</span></div></div></a></li></ul></div></div></section></span>'),t.put("/assets/partials/financials/autocharge/rvAutoCharge.html",'<form id=automatic-payments-search-form class="search-form has-dates has-option automatic-payments" role=search><div class="entry date has-datepicker"><label for=automatic-payments-date>Process Date</label> <input name=automatic-payments-date id=automatic-payments-date class=datepicker readonly="" type=text ui-date=dueDateOptions value={{due_date}} listen-this=filters.due_date></div><div class="entry status" ng-show="selectedTab == \'DEPOSIT_TAB\'"><div class=select><label for=automatic-payments-status>Status</label><select id=automatic-payments-status ng-model=filters.status ng-change=fetchAutoCharge()><option value=ALL>All Deposit Reservations</option><option value=APPROVED>Approved Transactions</option><option value=DECLINED>Declined Transactions</option></select></div></div><div class="entry process" ng-show="isDeclinedAutoChargesPresent && ( isPartiallySelected || isAllSelected )"><button class="button green" ng-click=processSelectedAutoCharges()>Process Selected</button></div><button id=print-automatic-payments type=button ng-click=clickedPrint() ng-show="totalCount !== 0" class="button blue with-icon only-icon print"><span class="icons icon-print"></span> Print</button><ul class=filters><li ng-hide="filters.status == \'DECLINED\'" ng-class="{\'active\': selectedTab == \'DEPOSIT_TAB\'}" ng-click="selectHeaderTab(\'DEPOSIT_TAB\')"><strong>Deposits</strong> <span ng-bind-html="totalDeposite | sntCurrency:this"></span></li><li ng-hide="filters.status == \'DECLINED\'" ng-class="{\'active\': selectedTab == \'EOD_TAB\'}" ng-click="selectHeaderTab(\'EOD_TAB\')"><strong>EOD Check Out</strong></li></ul></form><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination><section id=automatic-payments class="content automatic-payments-content" role=main><ul class=grid-header ng-show="!isAutoChargeProcessing && totalCount !== 0" ng-class="{\'with-checkbox\' : filters.status !== \'APPROVED\' && selectedTab == \'DEPOSIT_TAB\'}"><li class=cell-checkbox ng-show="filters.status !== \'APPROVED\' && selectedTab == \'DEPOSIT_TAB\'"><label class=checkbox ng-show=isDeclinedAutoChargesPresent><span class="icon-form icon-checkbox" ng-class="{\'semi-checked\' :isPartiallySelected, \'checked\': isAllSelected }"></span> <input id=select-all type=checkbox ng-model=isAllSelected ng-change="handleAutoChargeSelection(\'ALL\')"></label></li><li class=cell-reservation>Reservation</li><li class=cell-date>{{selectedTab == \'DEPOSIT_TAB\' ? \'Arrival Date\' : \'Departure Date\'}}</li><li class=cell-card>Card Details</li><li class=cell-cost>{{selectedTab == \'DEPOSIT_TAB\' ? \'Stay Cost\' : \'Bill No\'}}</li><li class=cell-deposit>{{selectedTab == \'DEPOSIT_TAB\' ? \'Deposit Paid\' : \'Balance\'}}</li></ul><div id=automatic-payments-content class="grid-content scrollable with-pagination" ng-iscroll=chargeScroller ng-class="{\'with-checkboxes\' : filters.status !== \'APPROVED\' && selectedTab == \'DEPOSIT_TAB\'}" ng-show="!isAutoChargeProcessing && totalCount !== 0"><div class=wrapper><ul class=search-results><li class="reservation autopayment-item" ng-repeat="autoCharge in autoCharges track by $index" ng-class="{\'with-checkbox\' : filters.status !== \'APPROVED\' && selectedTab == \'DEPOSIT_TAB\'}"><div class=cell-checkbox ng-show="filters.status !== \'APPROVED\' && selectedTab == \'DEPOSIT_TAB\'"><label class=checkbox ng-show="autoCharge.is_declined && autoCharge.can_retry_processing"><span class="icon-form icon-checkbox" ng-class="{\'checked\' : autoCharge.isSelected}"></span> <input id={{autoCharge.reservation_id}} type=checkbox ng-model=autoCharge.isSelected ng-change=handleAutoChargeSelection()></label></div><a ui-sref="rover.reservation.staycard.reservationcard.reservationdetails({ id: autoCharge.reservation_id, confirmationId: autoCharge.confirmation_no})"><div class=cell-reservation><figure class=guest-image><img src={{autoCharge.guest_avatar}} alt=""></figure><h2>{{autoCharge.name}}</h2><div class=info><span class=label>Conf.</span> <span class=value>{{autoCharge.confirmation_no}}</span></div></div><div class=cell-date><span class="guest-status check-in"></span> <span class=date>{{selectedTab == \'DEPOSIT_TAB\' ? autoCharge.arrival_date : autoCharge.departure_date}}</span></div><div class=cell-card><figure class=card-logo><img ng-src=/ui/pms-ui/images/{{autoCharge.card_details.code}}.png alt=""></figure><div class=info><span class=label>No.</span> <span class=value>{{autoCharge.card_details.ending_with}}</span></div><div class=info><span class=label>Code</span> <span class=value>{{autoCharge.card_details.auth_code}}</span></div></div><div class=cell-cost ng-show="selectedTab == \'DEPOSIT_TAB\'"><span ng-bind-html="autoCharge.stay_cost | sntCurrency:this"></span></div><div class=cell-cost ng-show="selectedTab == \'EOD_TAB\'">{{autoCharge.bill_number}}</div><div class=cell-deposit ng-class="{\'color-green\' : !autoCharge.is_declined, \'color-red\' : autoCharge.is_declined}" ng-show="selectedTab == \'DEPOSIT_TAB\'"><span ng-bind-html="autoCharge.deposit_paid | sntCurrency:this"></span><div class=deposit-due ng-show=autoCharge.is_declined ng-bind-html="autoCharge.deposit_due | sntCurrency:this"></div></div><div class=cell-deposit ng-class="{\'color-green\' : !autoCharge.bill_balance, \'color-red\' : autoCharge.bill_balance}" ng-show="selectedTab == \'EOD_TAB\'"><span ng-bind-html="autoCharge.bill_balance | sntCurrency:this"></span></div></a></li></ul></div></div><div class=no-content ng-show=isAutoChargeProcessing><div class=info><span class="icon-no-content icon-alert"></span> <strong class="h1 alert">Deposit Auto-Charge is being processed.</strong> <span class=h2>Please check back at a later time.</span></div></div><div class=no-content ng-show="!isAutoChargeProcessing && totalCount == 0"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>Nothing found</strong> <span class=h2 ng-show="filters.status == \'ALL\'">There are no transactions.</span> <span class=h2 ng-show="filters.status == \'APPROVED\'">There are no approved transactions.</span> <span class=h2 ng-show="filters.status == \'DECLINED\'">There are no declined transactions.</span></div></div></section>'),t.put("/assets/partials/financials/budgets/rvAddBudgetModal.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form overbooking budgets new-overbooking showing-markets"><fieldset class=budget-markets><h3 data-translate=APPLY_TO_TYPE data-translate-values="{ isMarketView: isMarketView() }"></h3><div class=scrollable ng-iscroll=modal-vertical-scroll><div class=wrapper><div ng-repeat="item in leftColumnData" class=row><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\' : item.selected}"></span> <input type=checkbox ng-model=item.selected> {{item.name}}</label></div></div></div></fieldset><fieldset class=budgets-configuration><strong class="h2 message" translate="">ADD_BUDGET</strong> <em class="text warning" data-translate=BUDGET_WARNING_MSG data-translate-values="{ isMarketView: isMarketView(), isYearlyView: isYearlyView }"></em><ul ng-if=showNights class=filters><li ng-class="{\'active\': isRoomRevenueSelected}" ng-click=switchBudgetType(true) translate="">ROOM_REVENUE</li><li ng-class="{\'active\': !isRoomRevenueSelected}" ng-click=switchBudgetType(false) translate="">ROOM_NIGHTS</li></ul><div ng-if=isYearlyView class="entry full-width break"><label translate="">APPLY_TO</label><div class=budget-months><label ng-repeat="month in monthOptions" for=month.monthIndex class=checkbox ng-class="{\'checked\' : month.selected, \'disabled\': isPastMonth(month.monthIndex)}"><span class="icon-form icon-checkbox" ng-class="{\'checked\' : month.selected}"></span> <input type=checkbox ng-model=month.selected> <span>{{month.monthName | limitTo: 3}}</span> <span>{{budgetOption.selectedYear}}</span></label></div></div><div ng-if=!isYearlyView><div class="entry margin has-datepicker" ng-click="clickedOnDatePicker(\'startDate\')"><label for=start-date translate="">BUDGET_FROM</label> <input placeholder="Select Date" class="hasDatepicker datepicker" readonly=yes type=text ng-model=selectedMonth.start_date></div><div class="entry has-datepicker" ng-click="clickedOnDatePicker(\'endDate\')"><label for=end-date translate="">BUDGET_TO</label> <input placeholder="Select Date" class="hasDatepicker datepicker" readonly=yes type=text ng-model=selectedMonth.end_date></div><div class="entry full-width break"><label>Every</label><div class=limit-days><label ng-repeat="day in weekDays" class=checkbox ng-class="{\'checked\': day.selected, \'disabled\': isPastWeekday(day)}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': day.selected}"></span> <input type=checkbox ng-model=day.selected> {{day.dayName | limitTo: 3}}</label></div></div></div><div class="entry full-width entry-limit"><div class=budget-input ng-class="{\'hidden\': !isRoomRevenueSelected}"><label class=switch-label for=limit-value data-translate=ROOM_REVENUE_WITH_CURRENCY data-translate-values="{ currencySymbol: currencySymbol }"></label> <input type=number id=limit-value ng-model=roomBudget.revenue></div><div class="budget-input small" ng-class="{\'hidden\': isRoomRevenueSelected}"><label class=switch-label for=limit-value translate="">ROOM_NIGHTS</label> <input type=number id=limit-value ng-model=roomBudget.nights></div></div><div class=actions><button type=button class="button green" ng-class="{\'overlay\': disableSaveButtons()}" data-translate=SAVE_BUDGET data-translate-values="{ isRoomRevenueSelected: isRoomRevenueSelected }" ng-click=saveBudgetAndCloseModal()></button> <button type=button class="button blue" ng-class="{\'overlay\': disableSaveButtons()}" ng-click=saveBudgetAndReset() translate="">SAVE_AND_ADD</button> <button type=button class="button blank" ng-click=closeModal() translate="">BUDGET_CANCEL</button></div></fieldset></div></div>'),t.put("/assets/partials/financials/budgets/rvBudgets.html",'<div ng-include="\'/assets/partials/financials/budgets/rvBudgetsHeader.html\'" class="overbooking-header budgets-header"></div><section class="overbooking-content budgets-content" ng-class="{\'showing-nights\': showNights}"><div ng-include="\'/assets/partials/financials/budgets/rvBudgetsLabels.html\'" class=overbooking-rooms></div><div ng-include="\'/assets/partials/financials/budgets/rvBudgetsContent.html\'" class=overbooking-limits></div></section>'),t.put("/assets/partials/financials/budgets/rvBudgetsContent.html",'<div class="overbooking-timeline scrollable" ng-iscroll=budget-header-horizontal><div class=wrapper><div class=row><div ng-if=isYearlyView ng-repeat="month in gridContentData[0].months" class="cell day" ng-class="{\'history\': month.isPastMonth}" ng-click=onSelectMonth(month.monthIndex)><span>{{budgetOption.selectedYear}}</span> <strong>{{month.monthName}}</strong></div><div ng-if=!isYearlyView ng-repeat="dayItem in gridContentData[0].dates" class="cell day" ng-class="{\'history\': dayItem.isPastDate, \'weekend\': dayItem.isWeekEnd}"><span>{{getDayName(dayItem.date)}}</span> <strong>{{monthName(dayItem.date.getMonth()) | limitTo: 3}} {{dayItem.date.getDate()}}</strong></div></div></div></div><div class="overbooking-grid scrollable" ng-iscroll=budget-content-dual><div class=wrapper><div ng-if=isYearlyView ng-repeat="data in monthGridData" class=row><div class=cell ng-repeat="month in ::data.months track by month.monthIndex" ng-class="{\'history\': month.isPastMonth}" ng-click=openUpdateModal(month)><span class=nights>{{month.isBudgetCreated ? month.budgetData.totalNights : \'\'}}</span> <span class=budget><span class=currency>{{month.isBudgetCreated ? currencySymbol: \'\'}}</span> <span>{{month.isBudgetCreated ? month.budgetData.totalRevenue : \'\'}}</span></span></div></div><div ng-if=!isYearlyView ng-repeat="data in dayGridData" class=row><div class=cell ng-repeat="dateItem in ::data.dates track by dateItem.date" ng-class="{\'history\': dateItem.isPastDate, \'weekend\': dateItem.isWeekEnd}" ng-click=openUpdateModal(dateItem)><span class=nights>{{dateItem.isBudgetCreated ? dateItem.budget.room_nights : \'\'}}</span> <span class=budget><span class=currency>{{dateItem.isBudgetCreated ? currencySymbol : \'\'}}</span> <span>{{dateItem.isBudgetCreated ? dateItem.budget.revenue : \'\'}}</span></span></div></div></div></div>'),t.put("/assets/partials/financials/budgets/rvBudgetsHeader.html",'<div class="entry type-filters"><ul class=filters><li class=active translate="">BUDGETS</li><li translate="">FORECAST</li></ul></div><div class=entry><div class="select with-label"><label for=budgeting-for translate="">BUDGETING_FOR</label><select id=budgeting-for ng-model=budgetOption.value ng-change=onChangeBudgetOption()><option value=market_segments translate="">FN_MARKETS</option><option value=charge_codes selected="" translate="">FN_CHARGE_CODES</option></select></div></div><div class=entry><label class=checkbox ng-class="{\'checked\': showNights}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': showNights}"></span> <input type=checkbox ng-click=onChangeShowNights()> <span translate="">SHOW_NIGHTS</span></label></div><div class=actions><button type=button class="button blue with-icon only-icon hidden"><span class="icons icon-print"></span></button> <button type=button class="button green" ng-class="{\'overlay\': shouldDisableAddBudgetButton()}" ng-click=openAddBudgetModal() translate="">ADD_BUDGET</button></div>'),t.put("/assets/partials/financials/budgets/rvBudgetsLabels.html",'<div class=overbooking-timeline><div ng-if=isYearlyView class=entry><div class="select with-label"><label for=show-revenue translate="">SHOW_REVENUE_FOR</label><select id=show-revenue ng-options="year as year for year in yearOptions" ng-model=budgetOption.selectedYear ng-change=onChangeYear()></select></div></div><a ng-if=!isYearlyView class=back-button ng-click=backToYearlyView() data-translate=BACK_TO_YEAR data-translate-values="{ selectedYear: budgetOption.selectedYear }"></a></div><div class="overbooking-grid scrollable" ng-iscroll=left-vertical-scroll><div class=wrapper><div ng-repeat="item in leftDataList" class=row>{{item.name}}</div></div></div>'),t.put("/assets/partials/financials/budgets/rvUpdateBudgetModal.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form overbooking budgets"><strong ng-if=isYearlyView class="h2 message">{{selectedCellData.monthName}} {{budgetOption.selectedYear}}</strong> <strong ng-if=!isYearlyView class="h2 message">{{getDayName(selectedCellData.date)}}, {{selectedCellData.date.getDate()}} {{monthName(selectedCellData.date.getMonth())}}</strong> <em class=text>{{selectedCellData.itemName}}</em><ul ng-if=showNights class=filters><li ng-class="{\'active\': isRoomRevenueSelected}" ng-click=switchBudgetType(true) translate="">ROOM_REVENUE</li><li ng-class="{\'active\': !isRoomRevenueSelected}" ng-click=switchBudgetType(false) translate="">ROOM_NIGHTS</li></ul><div class="entry full-width entry-limit"><div class=budget-input ng-class="{\'hidden\': !isRoomRevenueSelected}"><label class=switch-label for=limit-value data-translate=ROOM_REVENUE_WITH_CURRENCY data-translate-values="{ currencySymbol: currencySymbol }"></label> <input type=number id=limit-value ng-model=roomBudget.updateRevenue></div><div class="budget-input small" ng-class="{\'hidden\': isRoomRevenueSelected}"><label class=switch-label for=limit-value translate="">ROOM_NIGHTS</label> <input type=number id=limit-value ng-model=roomBudget.updateNights></div></div><div class=actions><button type=button class="button green" ng-class="{\'overlay\': disableUpdateButtons()}" data-translate=SAVE_BUDGET data-translate-values="{ isRoomRevenueSelected: isRoomRevenueSelected }" ng-click=updateBudget()></button> <button type=button class="button blank" ng-click=closeModal() translate="">CANCEL</button></div></div></div>'),
t.put("/assets/partials/financials/ccTransactions/rvAuthorization.html",'<div ng-controller=RVccAuthorizationController id=cc-transactions-content class="journal-content scrollable" ng-iscroll=authorization-scroll><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="journal-grid cc-transactions print-details"><div class=grid-group><a class="transaction-title green toggle" ng-click=clickedApprovedTab() ng-class="{\'active\':data.authData.approved.active, \'has-arrow\': hasAnyElements(data.authData.approved) }"><strong class=name translate="">APPROVED</strong></a><div id=authorization-approved class=grid-charge ng-repeat="item in data.authData.approved" ng-if="data.authData.approved.active && item.description"><a ng-click=clickedApprovedTransactionItem(item) class="transaction-title toggle" ng-class="{\'active\':item.active, \'has-arrow\': item.cc_transactions.length > 0}"><strong class=name>{{item.description}}</strong> <span class=value ng-bind-html="item.total_amount | sntCurrency:this"></span></a><table class=grid-items ng-show=item.active><thead><tr><th scope=col>{{\'DATE\' | translate}} &amp; {{\'TIME\' | translate}}</th><th scope=col translate="">CARD_NUMBER</th><th scope=col translate="">USER</th><th scope=col translate="">ROOM_NO</th><th scope=col translate="">RESERVATION_NO</th><th scope=col translate="">GUEST_NAME</th><th scope=col translate="">AUTH_CODE</th><th scope=col translate="">AMOUNT</th></tr></thead><tbody><tr ng-repeat="transaction in item.cc_transactions"><td>{{transaction.date|date:dateFormat}} {{transaction.time}}</td><td>{{transaction.card_no}}</td><td>{{transaction.user}}</td><td>{{transaction.room_no}}</td><td><a ng-click="gotoStayCard(transaction.reservation_id, transaction.reservation_no)" class="button white brand-text has-arrow next-view with-arrow">{{transaction.reservation_no}}</a></td><td>{{transaction.guest_name}}</td><td>{{transaction.auth_code}}</td><td><span ng-bind-html="transaction.amount | sntCurrency:this"></span></td></tr></tbody></table></div><a ng-click=clickedDeclinedTab() class="transaction-title red toggle" ng-class="{\'active\':data.authData.declined.active, \'has-arrow\': hasAnyElements(data.authData.declined)}"><strong class=name translate="">DECLINED</strong></a><div id=authorization-declined class=grid-charge ng-repeat="item in data.authData.declined" ng-if="data.authData.declined.active && item.description"><a ng-click=clickedDeclinedTransactionItem(item) class="transaction-title toggle" ng-class="{\'active\':item.active, \'has-arrow\': item.cc_transactions.length > 0}"><strong class=name>{{item.description}}</strong> <span class=value ng-bind-html="item.total_amount | sntCurrency:this"></span></a><table ng-show=item.active class=grid-items><thead><tr><th scope=col>{{\'DATE\' | translate}} &amp; {{\'TIME\' | translate}}</th><th scope=col translate="">CARD_NUMBER</th><th scope=col translate="">USER</th><th scope=col translate="">ROOM_NO</th><th scope=col translate="">RESERVATION_NO</th><th scope=col translate="">GUEST_NAME</th><th scope=col translate="">AUTH_CODE</th><th scope=col translate="">AMOUNT</th></tr></thead><tbody><tr ng-repeat="transaction in item.cc_transactions"><td>{{transaction.date|date:dateFormat}} {{transaction.time}}</td><td>{{transaction.card_no}}</td><td>{{transaction.user}}</td><td>{{transaction.room_no}}</td><td><a ng-click="gotoStayCard(transaction.reservation_id, transaction.reservation_no)" class="button white brand-text has-arrow next-view with-arrow">{{transaction.reservation_no}}</a></td><td>{{transaction.guest_name}}</td><td>{{transaction.auth_code}}</td><td><span ng-bind-html="transaction.amount | sntCurrency:this"></span></td></tr></tbody></table></div><a ng-click=clickedReversalsTab() class="transaction-title grey toggle" ng-class="{\'active\':data.authData.reversals.active, \'has-arrow\': hasAnyElements(data.authData.reversals)}"><strong class=name translate="">REVERSE_AUTHORIZATIONS</strong></a><div id=authorization-reverse class=grid-charge ng-repeat="item in data.authData.reversals" ng-if="data.authData.reversals.active && item.description"><a ng-click=clickedReversalTransactionItem(item) class="transaction-title toggle" ng-class="{\'active\':item.active, \'has-arrow\': item.cc_transactions.length > 0 }"><strong class=name>{{item.description}}</strong> <span class=value ng-bind-html="item.total_amount | sntCurrency:this"></span></a><table ng-show=item.active class=grid-items><thead><tr><th scope=col>{{\'DATE\' | translate}} &amp; {{\'TIME\' | translate}}</th><th scope=col translate="">CARD_NUMBER</th><th scope=col translate="">USER</th><th scope=col translate="">ROOM_NO</th><th scope=col translate="">RESERVATION_NO</th><th scope=col translate="">GUEST_NAME</th><th scope=col translate="">AUTH_CODE</th><th scope=col translate="">AMOUNT</th></tr></thead><tbody><tr ng-repeat="transaction in item.cc_transactions"><td>{{transaction.date|date:dateFormat}} {{transaction.time}}</td><td>{{transaction.card_no}}</td><td>{{transaction.user}}</td><td>{{transaction.room_no}}</td><td><a ng-click="gotoStayCard(transaction.reservation_id, transaction.reservation_no)" class="button white brand-text has-arrow next-view with-arrow">{{transaction.reservation_no}}</a></td><td>{{transaction.guest_name}}</td><td>{{transaction.auth_code}}</td><td><span ng-bind-html="transaction.amount | sntCurrency:this"></span></td></tr></tbody></table></div></div></div></div></div>'),t.put("/assets/partials/financials/ccTransactions/rvCcPrintBox.html",'<div class=holder><div class=actions><button ng-click=printButtonClick() id=print-revenue type=button class="button blue" translate="">PRINT</button></div></div>'),t.put("/assets/partials/financials/ccTransactions/rvCcTransactions.html",'<section ng-controller=RVccTransactionsController id=cc-transactions class=content role=main><form method=post action="" id=cc-transactions-header class="journal-header cc-transactions"><div ng-click=clickedTransactionDate() ng-show="data.activeTab == 0" class="entry date"><label for=cc-transactions-date translate="">DATE</label><div class=entry-data><input ng-model=data.transactionDate id=cc-transactions-date type=text class=datepicker value={{data.transactionDate}} readonly=""> <strong class=day>{{data.transactionDate | date:\'d\'}}</strong> <span class=month>{{data.transactionDate | date:\'MMMM\'}}</span> <span class=year>{{data.transactionDate | date:\'y\'}}</span></div></div><div ng-show="data.activeTab == 0 && data.paymentData.show_settle_button" class="entry action"><button ng-click=clickedSubmitBatch() type=button class="button green" ng-class="{\'grey\': !hasPermissionToSubmitCCBatch()}" ng-disabled=!hasPermissionToSubmitCCBatch() translate="">SUBMIT_BATCH</button></div><ul class=display><li ng-class="{ \'active\': data.activeTab == 0 }"><span ng-click=activatedTab(0) class="icons icon-navbar icon-payments" translate="">PAYMENTS</span> <span ng-bind-html="data.paymentData.total_amount | sntCurrency:this"></span></li><li ng-class="{ \'active\': data.activeTab == 1 }"><span ng-click=activatedTab(1) class="icons icon-navbar icon-authorizations" translate="">AUTHORIZATIONS</span> <span ng-bind-html="data.authData.total_amount | sntCurrency:this"></span></li></ul></form><form ng-controller=RVCcPrintTransactionsController ng-class="{ \'open\': data.isDrawerOpened }" ui-jq=resizable resize="" ui-options=resizableOptions style="height: {{data.printBoxHeight}}px;" ng-click=clickedDrawer($event) id=journal-print-options class=journal-print role=complementary><div ng-include="\'/assets/partials/financials/ccTransactions/rvCcPrintBox.html\'"></div></form><div ng-click=clickedOnTransactionContents();><div ng-show="data.activeTab == 0" ng-include="\'/assets/partials/financials/ccTransactions/rvPayments.html\'"></div><div ng-show="data.activeTab == 1" ng-include="\'/assets/partials/financials/ccTransactions/rvAuthorization.html\'"></div></div></section>'),t.put("/assets/partials/financials/ccTransactions/rvPayments.html",'<div ng-controller=RVccPaymentsController id=cc-transactions-content class="journal-content scrollable" ng-iscroll=payment_content><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="journal-grid cc-transactions print-details"><div class=grid-group><a ng-click=clickedApprovedTab() class="transaction-title green toggle" ng-class="{\'active\':data.paymentData.approved.active, \'has-arrow\': hasAnyElements(data.paymentData.approved)}"><strong class=name translate="">APPROVED</strong></a><div ng-if="data.paymentData.approved.active && item.description" class=grid-charge ng-repeat="item in data.paymentData.approved"><a ng-click=clickedApprovedTransactionItem(item) class="transaction-title toggle" ng-class="{\'active\':item.active, \'has-arrow\': item.cc_transactions.length > 0 }"><strong class=name>{{item.description}}</strong> <span class=value ng-bind-html=item.total_amount|sntCurrency:this></span></a><table ng-show=item.active class=grid-items><thead><tr><th scope=col>{{\'DATE\' | translate}} &amp; {{\'TIME\' | translate}}</th><th scope=col translate="">CARD_NUMBER</th><th scope=col translate="">USER</th><th scope=col translate="">ROOM_NO</th><th scope=col translate="">RESERVATION_NO</th><th scope=col translate="">GUEST_NAME</th><th scope=col translate="">AUTH_CODE</th><th scope=col translate="">AMOUNT</th><th ng-show=manualCCEnabled scope=col translate="">BANK_COMMISSION</th></tr></thead><tbody><tr ng-repeat="transaction in item.cc_transactions"><td>{{transaction.date|date:dateFormat}} {{transaction.time}}</td><td>{{transaction.card_no}}</td><td>{{transaction.user}}</td><td>{{transaction.room_no}}</td><td><a ng-click="gotoStayCard(transaction.reservation_id, transaction.reservation_no)" class="button white brand-text has-arrow next-view with-arrow">{{transaction.reservation_no}}</a></td><td>{{transaction.guest_name}}</td><td>{{transaction.auth_code}}</td><td><span ng-bind-html=transaction.amount|sntCurrency:this></span></td><td ng-show=manualCCEnabled><span ng-bind-html=transaction.bank_commission|sntCurrency:this></span></td></tr></tbody></table></div><a ng-click=clickedDeclinedTab() class="transaction-title red toggle" ng-class="{\'active\':data.paymentData.declined.active, \'has-arrow\': hasAnyElements(data.paymentData.declined) }"><strong class=name translate="">DECLINED</strong></a><div ng-if="data.paymentData.declined.active && item.description" class=grid-charge ng-repeat="item in data.paymentData.declined"><a ng-click=clickedDeclinedTransactionItem(item) class="transaction-title toggle" ng-class="{\'active\':item.active, \'has-arrow\': item.cc_transactions.length > 0 }"><strong class=name>{{item.description}}</strong> <span class=value ng-bind-html=item.total_amount|sntCurrency:this></span></a><table ng-show=item.active class=grid-items><thead><tr><th scope=col>{{\'DATE\' | translate}} &amp; {{\'TIME\' | translate}}</th><th scope=col translate="">CARD_NUMBER</th><th scope=col translate="">USER</th><th scope=col translate="">ROOM_NO</th><th scope=col translate="">RESERVATION_NO</th><th scope=col translate="">GUEST_NAME</th><th scope=col translate="">AUTH_CODE</th><th scope=col translate="">AMOUNT</th></tr></thead><tbody><tr ng-repeat="transaction in item.cc_transactions"><td>{{transaction.date|date:dateFormat}} {{transaction.time}}</td><td>{{transaction.card_no}}</td><td>{{transaction.user}}</td><td>{{transaction.room_no}}</td><td><a ng-click="gotoStayCard(transaction.reservation_id, transaction.reservation_no)" class="button white brand-text has-arrow next-view with-arrow">{{transaction.reservation_no}}</a></td><td>{{transaction.guest_name}}</td><td>{{transaction.auth_code}}</td><td><span ng-bind-html=transaction.amount|sntCurrency:this></span></td></tr></tbody></table></div></div></div></div></div>'),t.put("/assets/partials/financials/commissions/rvCommisionsHoldPopup.html",'<div role=dialog id=modal class=modal-show><div class="modal-content form commissions"><button class=modal-close id=modal-close type=button><span class="icons icon-close invert" ng-click=closeThisDialog()></span></button> <span class="h2 message">Hold</span><span class=text>Put commission records on hold</span><div class=notice><strong class=amount><span class=currency>{{ ::currencySymbol }}</span>{{ ::commissionsData.selectedBillsAmount | number: precisonTwo}}</strong> <span class=bills>{{ ::noOfBillsSelected }} Bills</span></div><div class=actions><button type=button class="button red" ng-click="popupBtnAction(\'hold\')">Put Records on Hold</button> <button type=button id=cancel class="button blank" ng-click=closeThisDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/financials/commissions/rvCommisionsReleasePopup.html",'<div role=dialog id=modal class=modal-show><div class="modal-content form commissions"><button class=modal-close id=modal-close type=button ng-click=closeThisDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">Release</span> <span class=text>Set commission records as eligible for payment</span><div class=notice><strong class=amount><span class=currency>{{ ::currencySymbol }}</span>{{ ::commissionsData.selectedBillsAmount | number: precisonTwo}}</strong> <span class=bills>{{ ::noOfBillsSelected }} Bills</span></div><div class=actions><button type=button class="button blue" ng-click="popupBtnAction(\'release\')">Release Records</button> <button type=button id=cancel class="button blank" ng-click=closeThisDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/financials/commissions/rvCommisionsSetAsPaidPopup.html",'<div role=dialog id=modal class=modal-show><div class="modal-content form commissions"><button class=modal-close id=modal-close type=button><span class="icons icon-close invert" ng-click=closeThisDialog()></span></button> <span class="h2 message">Pay</span> <span class=text>Set commission records to paid</span><div class=notice><strong class=amount><span class=currency>{{ ::currencySymbol }}</span>{{ ::commissionsData.selectedBillsAmount | number: precisonTwo}}</strong> <span class=bills>{{ ::noOfBillsSelected }} Bills</span></div><div class=actions><button type=button class="button green" ng-click="popupBtnAction(\'pay\')">Set Records to Paid</button> <button type=button id=cancel class="button blank" ng-click=closeThisDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/financials/commissions/rvCommissionsExport.html",'<div role=dialog id=modal class=modal-show><div class="modal-content form commissions" ng-class="{\'exporting\': exportInProgess, \'success\': exportSuccess, \'error\': exportFailed}"><button class=modal-close id=modal-close type=button ng-click=closeThisDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message">Export</span><span class=text ng-hide="exportInProgess || exportFailed || exportSuccess" translate="">EXPORT_AND_PAY_COMMISSIONS</span><span class=text ng-show="exportInProgess && filterData.selectedExportType ===\'standard\'" translate="">EXPORT_IN_PROGRESS_MSG</span> <span class=text ng-show="exportInProgess && filterData.selectedExportType !==\'standard\'" translate="">EXPORT_IN_PROGRESS_CUSTOM_MSG</span><span class=text ng-show=exportFailed translate="">Export of commission records failed.</span><span class=text ng-show=exportSuccess translate="">EXPORT_SUCCESS</span><div class=notice><strong class=amount><span class=currency>{{ ::currencySymbol }}</span>{{::commissionsData.amount_totals.unpaid | number: precisonTwo}}</strong> <span class=bills>{{ filterData.billStatus.value === \'ON_HOLD\' ? commissionsData.bill_count_totals.on_hold : commissionsData.bill_count_totals.open }} Bills</span></div><div class="entry full-width" ng-hide="exportInProgess || exportFailed || exportSuccess"><label translate="">EXPORT_TYPE</label><div class=options><label class=radio ng-class="{\'checked\':filterData.selectedExportType === \'standard\'}"><span class="icon-form icon-radio" ng-class="{checked:filterData.selectedExportType ===\'standard\'}"></span> <input type=radio value=standard ng-model=filterData.selectedExportType> {{ \'STD_CSV_EXPORT\' | translate}}</label> <label class=radio ng-class="{\'checked\':filterData.selectedExportType === \'onyx\'}" ng-if="filterData.exportType === \'onyx\'"><span class="icon-form icon-radio" ng-class="{checked:filterData.selectedExportType ===\'onyx\'}"></span> <input type=radio value=onyx ng-model=filterData.selectedExportType> {{ \'ONYX_EXPORT\' | translate}}</label> <label class=radio ng-class="{\'checked\':filterData.selectedExportType === \'tacs\'}" ng-if="filterData.exportType === \'tacs\'"><span class="icon-form icon-radio" ng-class="{checked:filterData.selectedExportType ===\'tacs\'}"></span> <input type=radio value=tacs ng-model=filterData.selectedExportType> {{ \'TACS_EXPORT\' | translate}}</label></div></div><div class="entry full-width" ng-hide="exportInProgess || exportFailed || exportSuccess"><label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': filterData.email_report}"></span> <input name=email_reposrt ng-model=filterData.email_report type=checkbox> {{ \'EMAIL_PAYMENT_REPORT_SWITCH\' | translate }}</label></div><div class="entry full-width" ng-hide="exportInProgess || exportFailed || exportSuccess"><label>{{ \'ADD_RECIPIENT\' | translate }} <strong>*</strong></label> <input ng-model=filterData.receipientEmail></div><div class=actions><button type=button class=button ng-disabled=!isValidEmail() ng-class="{\'grey\': !isValidEmail() ,\'green\':isValidEmail()}" ng-click=exportCommisions() ng-hide="exportInProgess || exportFailed || exportSuccess" translate="">EXPORT</button> <button type=button id=cancel class="button blank" ng-click=closeThisDialog() translate="">CANCEL</button></div></div></div>'),t.put("/assets/partials/financials/commissions/rvCommissionsSummary.html",'<form method=get action="" class="search-form has-dates commissions" role=search><div class="entry search"><button type=button class=clear-query ng-class="{\'visible\' : filterData.searchQuery.length >0 }" ng-click=clearSearchQuery()><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <button class="icons icon-search" translate="">SEARCH</button> <input name=commisions-query class=query placeholder="Search by Agent Name, IATA Number or City" type=search autocomplete=off ng-model=filterData.searchQuery ng-change=fetchAgentsData()></div><div class="entry dates"><div class="entry-data has-datepicker"><label for=commisions-date-from>From</label> <button type=button class=clear-query ng-class="{\'visible\': fromDate.length > 0}" ng-click=clearFromDate()><span class="icons icon-clear-search">Clear query</span></button><input name=commisions-date-to id=commisions-date-from class=datepicker readonly="" type=text rv-clear-text-box="" listen-this=fromDate ui-date=fromDateOptions value={{fromDate}}></div><div class="entry-data has-datepicker"><label for=commisions-date-to>To</label> <button type=button class=clear-query ng-class="{\'visible\': toDate.length > 0}" ng-click=clearToDate()><span class="icons icon-clear-search">Clear query</span></button><input name=commisions-date-to id=commisions-date-to class=datepicker readonly="" type=text ui-date=toDateOptions value={{toDate}} rv-clear-text-box="" listen-this=toDate></div></div><div class="entry actions"><button type=button class="button white with-icon only-icon" click-touch=openSideFilters() ng-class="{\'active\': sideFilterData.openSideFilter}"><span class=count ng-hide="returnNumberOfFilterApplied() === 0">{{ returnNumberOfFilterApplied()}}</span> <span class="icons icon-filter" ng-class="{\'active\': sideFilterData.openSideFilter}"></span></button> <button type=button class="button blue with-icon only-icon" click-touch=printButtonClick()><span class="icons icon-print"></span></button></div></form><rv-pagination ng-show=showPagination page-options=paginationData page-data=commissionsData.total_count></rv-pagination><section class="content commissions-content" role=main ng-hide=initialLoading><div class=commissions-filters ng-class="{\'visible\': sideFilterData.openSideFilter}"><div class=filters-header><h2 translate="">FILTERS</h2><p translate="">SELECT_FILTERS_AND_APPLY</p></div><div class="filters-list scrollable"><div class=wrapper><div class=entry><label for=min-amount>{{\'MIN_AMOUNT\' | translate}}({{ ::currencySymbol }})</label> <input type=text ng-model=sideFilterData.minAmount id=min-amount></div><div class=entry><label for=sort-by translate="">SORT_BY</label><div class=select><select ng-init="sideFilterData.sort_by = filterData.sortOptions[0]" ng-model=sideFilterData.sort_by id=sort-by ng-options="option.name for option in filterData.sortOptions"></select></div></div><div class=entry><label for=sort-by>{{\'INCLUDE\' | translate}}</label> <label class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': sideFilterData.non_commissionable}"></span><input type=checkbox ng-model=sideFilterData.non_commissionable ng-class="{\'checked\': sideFilterData.non_commissionable}"> {{ \'NON_COMMISSIONABLE_BILLS\' | translate }}</label></div></div></div><div class=actions><button type=button class="button green" click-touch=applyFilter() translate="">APPLY</button></div></div><div class=commissions-header ng-class="{ \'searching\' : (areAllAgentsSelected() || areAgentsPartialySelected() || areAnyReservationsPartialySelected()) }" ng-controller=RVCommisionsHeaderCtrl><ul class=filters ng-hide="areAllAgentsSelected() || areAgentsPartialySelected() || areAnyReservationsPartialySelected()"><li ng-class="{ \'active\' : filterData.filterTab === \'PAYABLE\' }" ng-click="setFilterTab(\'PAYABLE\')">{{ \'COMMISSIONS_PAYABLE\' | translate}} <strong>{{commissionsData.bill_count_totals.open}}</strong></li><li ng-class="{ \'active\' : filterData.filterTab === \'ON_HOLD\' }" ng-click="setFilterTab(\'ON_HOLD\')">{{ \'ON_HOLD\' | translate}} <strong>{{commissionsData.bill_count_totals.on_hold}}</strong></li><li ng-class="{ \'active\' : filterData.filterTab === \'PAID\' }" ng-click="setFilterTab(\'PAID\')">{{ \'COMMISSION_PAID\' | translate}} <strong>{{commissionsData.bill_count_totals.paid}}</strong></li></ul><ul class=commissions-info ng-hide="areAllAgentsSelected() || areAgentsPartialySelected() || areAnyReservationsPartialySelected()"><li ng-show="filterData.filterTab === \'PAID\'"><span translate="">AMOUNT_PAID</span> <span class=amount ng-bind-html="commissionsData.selectedBillsAmount | sntCurrency:this"></span></li><li ng-show="filterData.filterTab === \'PAYABLE\'"><span translate="">ELIGIBLE_FOR_PAYMENT</span> <span class=amount ng-bind-html="commissionsData.selectedBillsAmount | sntCurrency:this"></span></li><li class=actions ng-show="filterData.filterTab === \'PAYABLE\' && !areAgentsPartialySelected()"><button type=button class="button purple with-icon" ng-click=showExportPopup()><span class="icons icon-save"></span>{{ \'EXPORT\' | translate}}</button></li><li ng-show="filterData.filterTab === \'ON_HOLD\'"><span translate="">AMOUNT_ON_HOLD</span> <span class=amount ng-bind-html="commissionsData.selectedBillsAmount | sntCurrency:this"></span></li></ul><ul class="commissions-selected commissions-info" ng-show="(areAllAgentsSelected() || areAgentsPartialySelected() || areAnyReservationsPartialySelected()) && filterData.filterTab === \'PAYABLE\'"><li><span translate="">BILLS_SELECTED</span> <span class=amount>{{ noOfBillsSelected }}</span></li><li><span translate="">ELIGIBLE_FOR_PAYMENT</span> <span class=amount ng-bind-html="commissionsData.selectedBillsAmount | sntCurrency:this"></span></li><li class=actions><button type=button class="button red with-icon" ng-click="openPopupWithTemplate(\'rvCommisionsHoldPopup\')"><span class="icons icon-hold"></span>{{ \'HOLD\' | translate}}</button> <button type=button class="button purple with-icon" ng-hide=areAgentsPartialySelected() ng-click=showExportPopup()><span class="icons icon-save"></span>{{ \'EXPORT\' | translate}}</button> <button type=button class="button green with-icon" ng-click="openPopupWithTemplate(\'rvCommisionsSetAsPaidPopup\')"><span class="icons icon-wallet"></span>{{ \'SET_TO_PAID\' | translate}}</button><button type=button class="button white" ng-click=resetSelections()>{{ \'CLEAR_SELECTION\' | translate}}</button></li></ul><ul class="commissions-selected commissions-info" ng-show="(areAllAgentsSelected() || areAgentsPartialySelected() || areAnyReservationsPartialySelected()) && filterData.filterTab === \'ON_HOLD\'"><li><span translate="">BILLS_SELECTED</span> <span class=amount>{{ noOfBillsSelected }}</span></li><li><span translate="">AMOUNT_ON_HOLD</span> <span class=amount ng-bind-html="commissionsData.selectedBillsAmount | sntCurrency:this"></span></li><li class=actions><button type=button class="button blue with-icon" ng-click="openPopupWithTemplate(\'rvCommisionsReleasePopup\')"><span class="icons icon-release"></span>Release</button><button type=button class="button white" ng-click=resetSelections() translate="">CLEAR_SELECTION</button></li></ul><ul class="commissions-info totals" style=display:block ng-hide="(areAllAgentsSelected() || areAgentsPartialySelected() || areAnyReservationsPartialySelected()) || filterData.filterTab === \'PAID\'"><li><span translate="">OPEN_BILLS</span> <span class=amount>{{ commissionsData.bill_count_totals.open +commissionsData.bill_count_totals.on_hold }}</span></li><li><span translate="">TOTAL_OWING</span> <span class="amount red" ng-bind-html="commissionsData.amount_totals.owing | sntCurrency:this"></span></li></ul></div><div class="commissions-list no-print"><ul class=commissions-list-header ng-show=commissionsData.accounts.length><li class=expand><span class="icons icon-double-arrow black expand-arrow"></span></li><li class=check ng-show="filterData.filterTab === \'PAID\'"></li><li class=check ng-hide="filterData.filterTab === \'PAID\'"><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\': areAllAgentsSelected(), \'semi-checked\': areAgentsPartialySelected()}"></span><input type=checkbox ng-model=allCommisionsSelected ng-change=allCommisionsSelectionChanged()></label></li><li class=agent-info translate="">TRAVEL_AGENT_INFO</li><li ng-show="filterData.filterTab === \'PAYABLE\'" translate="">COMMISSIONS_PAYABLE_BILLS</li><li ng-show="filterData.filterTab === \'ON_HOLD\'" translate="">COMMISSION_BILLS_ON_HOLD</li><li ng-show="filterData.filterTab === \'PAID\'" translate="">COMMISSIONS_PAID_BILLS</li><li translate="">COMMISSION</li><li ng-hide="filterData.filterTab === \'PAID\'" translate="">COMMISSION_OWING</li><li ng-show="filterData.filterTab === \'PAID\'" translate="">COMMISSION_PAID</li></ul><div class="commissions-list-content scrollable" ng-class="{\'no-results\': commissionsData.accounts.length === 0}" ng-iscroll=commissionOverViewScroll><div class=wrapper><ul class=search-results><li class=no-content ng-show="commissionsData.accounts.length === 0"><div class=info><span class="icon-no-content icon-ok"></span> <strong class=h1 translate="">NO_COMMISSIONS</strong> <span class=h2 translate="">{{filterData.noCommissionsMsg}}</span></div></li><li class=commision-item ng-repeat="account in commissionsData.accounts"><div class=faux-anchor ng-class="{\'expanded\' : account.isExpanded}"><div class="expand toggle" ng-click=expandCommision(account)><span class="icons icon-double-arrow black expand-arrow" ng-class="{\'active\' : account.isExpanded}"></span></div><div class=check ng-hide="filterData.filterTab === \'PAID\'"><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\': account.isSelected, \'semi-checked\': account.isSemiSelected}"></span><input type=checkbox ng-model=account.isSelected ng-change=commisionSelectionChanged(account)></label></div><a class=has-arrow ng-click=navigateToTA(account)><span class="account-image icons icon-travel-agent"></span><div class=data><h2>{{ ::account.name }}</h2><div class=meta-data><span class="icons icon-guest-travelagent">{{ ::account.iata_number }}</span> <span class="icons icon-location">{{ ::account.location }}</span></div><span class="icons icon-hold red" ng-show="filterData.filterTab === \'PAYABLE\' && account.has_any_on_hold_bills"></span></div><ul class=info><li>{{ ::account.number_of_bills }}</li><li ng-show="account.commission_info.rate.type == \'amount\'" ng-bind-html="::account.commission_info.rate.value | sntCurrency:this"></li><li ng-hide="account.commission_info.rate.type == \'amount\'">{{ ::account.commission_info.rate.value}}%</li><li ng-class="{\'red\': account.commission_amount > 0 && filterData.filterTab !== \'PAID\'}" ng-bind-html="::account.commission_amount | sntCurrency:this"></li></ul></a><div class=commission-details ng-show=account.isExpanded><table style="margin-bottom: 60px;"><thead ng-hide="account.reservationsData.reservations.length == 0"><tr><th ng-hide="filterData.filterTab === \'PAID\'"></th><th class=name translate="">GUEST</th><th class=amount translate="">COMMISSION_CONF_NO</th><th class=amount translate="">COMMISSION_REVENUE</th><th class=amount translate="">COMMISSIONABLE_REVENUE</th><th class=amount translate="">COMMISSION</th><th class=owing ng-hide="filterData.filterTab === \'PAID\'" translate="">COMMISSION_OWING</th><th class=owing ng-show="filterData.filterTab === \'PAID\'" translate="">COMMISSION_PAID</th></tr></thead><tbody><tr ng-show="account.reservationsData.reservations.length == 0"><td colspan=6><p style=text-align:center;>Nothing to display</p></td></tr><tr ng-class="{\'odd\': $index % 2 != 0, \'even\': $index % 2 == 0}" ng-repeat="reservation in account.reservationsData.reservations"><td ng-hide="filterData.filterTab === \'PAID\'"><label class="checkbox inline"><span class="icon-form icon-checkbox" ng-class="{\'checked\': reservation.isSelected}"></span><input type=checkbox ng-model=reservation.isSelected ng-change="reservationSelectionChanged(account, reservation)"></label></td><td class=name>{{ ::reservation.guest.last_name }}, {{ reservation.guest.first_name}}</td><td class=amount>{{ reservation.confirm_no}}</td><td class=amount ng-bind-html="reservation.revenue | sntCurrency:this"></td><td class=amount ng-bind-html="reservation.commissionable_revenue | sntCurrency:this"></td><td class=amount>{{ reservation.commission_rate}}</td><td class=owing ng-class="{\'red\': reservation.commission_amount > 0 && filterData.filterTab !== \'PAID\'}" ng-bind-html="reservation.commission_amount | sntCurrency:this"></td></tr></tbody></table><rv-pagination ng-show=account.showResPagination page-options=account.paginationData page-data=account.reservationsData.total_count></rv-pagination></div></div></li></ul></div></div></div><div id=commissions-print class=commissions-print ng-include="\'/assets/partials/financials/commissions/rvCommissionsSummaryPrint.html\'"></div></section>'),t.put("/assets/partials/financials/commissions/rvCommissionsSummaryPrint.html",'<div id=report-content ng-iscroll=report-details-scroll class="report-content grid scrollable with-pagination only-print"><div class=wrapper><div ng-repeat="travel_agents in printData.results" class=travel-agent ng-class="{\'last\' : printData.results.length-1 == $index }"><h2 class=padding-top-ta>{{travel_agents.travel_agent_name}}, IATA: {{travel_agents.IATA_number}}</h2><table class="commission-reports payment-report"><thead><tr><th class=room rowspan=2>Reservation</th><th class=guest rowspan=2>Guest</th><th class=amount rowspan=2>Rate Amount</th><th class=comission colspan=3>Commission</th></tr><tr class=bottom-row><th class="amount break">Revenue</th><th>%/<span class=currency><span class=currency>{{currencySymbol}}</span></span></th><th class=amount>Net Amt</th></tr></thead><tbody><tr ng-repeat-start="reservation in travel_agents.reservation_details.reservations" ng-if="travel_agents.reservation_details.reservations.length > 0"><td class=confirm-no rowspan={{reservation.rate_details.length}}><strong class=title>{{reservation.confirm_no}}</strong></td><td class=name rowspan={{reservation.rate_details.length}}><strong class=title><a href=#>{{reservation.last_name}}, {{reservation.first_name}}</a></strong> <span class=data>{{reservation.confirm_no}}, Nights: {{reservation.nights}}</span><div class=guest-date><div class=date><span class="guest-status check-in">check-in</span><time datetime=""><span>{{reservation.arrival_date | date:dateFormat}}</span> <span>{{reservation.arrival_time}}</span></time></div><div class=date><span class="guest-status check-out">check-out</span><time datetime="{datetime | exp.: 2017-02-01T12:00:00}"><span>{{reservation.dep_date | date:dateFormat}}</span> <span>{{reservation.departure_time}}</span></time></div></div></td><td><span ng-bind-html="reservation.rate_details[0].rate_amount | sntCurrency:this"></span></td><td rowspan={{reservation.rate_details.length}}><span ng-bind-html="reservation.commission_revenue | sntCurrency:this"></span></td><td rowspan={{reservation.rate_details.length}}><span ng-bind-html="reservation.commission_amount | sntCurrency:this"></span></td><td rowspan={{reservation.rate_details.length}}><span ng-bind-html="reservation.net_amount | sntCurrency:this"></span></td></tr><tr class=rate-row ng-repeat="rate_details in reservation.rate_details" ng-if="$index > 0" ng-repeat-end=""><td><span ng-bind-html="rate_details.rate_amount | sntCurrency:this"></span></td></tr><tr ng-if="travel_agents.reservation_details.reservations.length == 0"><td colspan=7 style="text-align: center;"><div class=info><strong>No reservations found</strong></div></td></tr></tbody><tfoot><tr class=pagination><td colspan=7><rv-pagination page-options=travel_agents.insidePaginationData page-data=travel_agents.reservation_details.total_reservations></rv-pagination></td></tr><tr class=totals><td colspan=2></td><td>Subtotals</td><td><span ng-bind-html="travel_agents.sub_total.revenue | sntCurrency:this"></span></td><td></td><td><span ng-bind-html="travel_agents.sub_total.net_amount | sntCurrency:this"></span></td></tr></tfoot></table></div></div></div>'),
t.put("/assets/partials/financials/currencyExchange/rvCurrencyExchange.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak="" ng-click=clearErrorMessage();><div class="modal-content form exchange-rate"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class=title><span class="h2 message">Currency Exchange Rates</span> <span class=text>View & Update Rates for selected Date Range</span></div><div class=filters><input id=start-date class=datepicker readonly="" type=text ng-model=start_date ui-date=startDateOptions value="{{start_date | date: dateFormat }}"> <input id=end-date ng-model=end_date class=datepicker readonly="" type=text ui-date=endDateOptions value="{{end_date | date: dateFormat}}"><div class=select><select class=select-currency id=currency ng-change=changeCurrency() ng-model=selected_rate_currency ng-options="currency.id as currency.symbol for currency in exchangeCurrencyList"></select></div></div><div id=exchange-grid class=scrollable ng-iscroll=CURRENCY_SCROLLER><div class=wrapper><table class=rate-grid><thead><tr><th class=date>Date</th><th class=input><strong>Rate for <span class=currency>{{currencySymbol}}</span>1.00</strong></th><th class=copy>Copy</th></tr></thead><tbody><tr ng-repeat="exchangeRate in exchangeRates"><td><strong>{{exchangeRate.day}}, {{exchangeRate.date | date: dateFormat}}</strong></td><td><span class=currency>{{selected_rate_currency_symbol}}</span> <input type=text ng-model=exchangeRate.conversion_rate ng-disabled={{exchangeRate.isDisabled}}></td><td><span class="admin-icons icon-mover-right" ng-hide=exchangeRate.isDisabled ng-click=copyToNext($index)>Copy</span></td></tr></tbody></table></div></div><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button> <button type=button class="button green" ng-click=saveExchangeRate()>Save changes</button></div></div></div>'),t.put("/assets/partials/financials/invoiceSearch/rvInvoiceSearch.html",'<form method=get class="search-form invoice-search" role=search><div class="entry invoice-search-type"><div class="select with-label"><label for=invoice-search-type>Show</label><select class="styled pickadate_select pickadate_select_year" ng-options="filter.id as filter.name for filter in filterOptions" ng-model=invoiceSearchData.filter_id ng-change=searchInvoice()></select></div></div><div class="entry invoice-qr-code" ng-show="(shouldShowReservationReceipts() || shouldShowAccountReceipts()) && paymentDataArray.length > 0"><button type=button class="button green" ng-click=reTriggerPaymentReceipt()>Create QR Code for Selected</button><button type=button class="button blank" ng-click=clickedCancelOfRetrigger()>Cancel</button></div><div class="entry search" ng-show="!((shouldShowReservationReceipts() || shouldShowAccountReceipts()) && paymentDataArray.length > 0)"><button class=clear-query ng-class="{\'visible\': invoiceSearchFlags.isQueryEntered}" ng-click=clearQuery()><span class="icons icon-clear-search">Clear query</span></button><button class="icons icon-search">Search</button> <input name=commisions-query class=query placeholder={{searchPlaceHolder}} type=search ng-model=invoiceSearchData.query rv-delay-textbox="" delay=1000 function-to-fire=searchInvoice></div><div class="entry dates" ng-show=false><div class="entry-data has-datepicker"><label for=invoices-date-from>From</label> <button id=invoices-date-from-clear class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input id=routing-range-from ui-date=invoiceSearchDateFromOptions class=range-datepicker ng-model=invoiceSearchData.from_date ng-change=searchInvoice() readonly=""></div><div class="entry-data has-datepicker"><label for=invoices-date-to>To</label> <button id=invoices-date-to-clear class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input id=routing-range-to ui-date=invoiceSearchDateToOptions class=range-datepicker ng-model=invoiceSearchData.to_date ng-change=searchInvoice() readonly=""></div></div><div class="entry options" ng-show="!((shouldShowReservationReceipts() || shouldShowAccountReceipts()) && paymentDataArray.length > 0)"><label class=checkbox ng-show="shouldShowReservationInvoices() || shouldShowAccountInvoices()"><span class="icon-form icon-checkbox" ng-class="{\'checked\': invoiceSearchData.no_folio_number_only}"></span> <input type=checkbox ng-model=invoiceSearchData.no_folio_number_only ng-click=searchInvoice()> No Folio Number</label> <label class=checkbox ng-show="shouldShowReservationReceipts() || shouldShowAccountReceipts()"><span class="icon-form icon-checkbox" ng-class="{\'checked\': invoiceSearchData.no_qr_code_only}"></span> <input type=checkbox ng-model=invoiceSearchData.no_qr_code_only ng-click=searchInvoice()> No QR code</label></div></form><span ng-if="shouldShowReservationInvoices() || shouldShowAccountInvoices()"><div ng-include="\'/assets/partials/financials/invoiceSearch/rvInvoiceSearchInvoices.html\'"></div></span> <span ng-if="shouldShowReservationReceipts() || shouldShowAccountReceipts()"><div ng-include="\'/assets/partials/financials/invoiceSearch/rvInvoiceSearchReceipts.html\'"></div></span> <span ng-if=shouldShowARInvoices()><div ng-include="\'/assets/partials/financials/invoiceSearch/rvInvoiceSearchARInvoices.html\'"></div></span><div class=invoice ng-if="invoiceSearchFlags.isClickedReservation && !printReceiptActive"><div ng-include="\'/assets/partials/bill/rvPrintBillCard.html\'"></div></div><div class=invoice ng-if="!invoiceSearchFlags.isClickedReservation && !printReceiptActive"><div ng-include="\'/assets/partials/accounts/transactions/rvAccountInvoice.html\'"></div></div><div class=invoice ng-if=printReceiptActive><div ng-include="\'/assets/partials/bill/rvPrintReceipt.html\'"></div></div>'),t.put("/assets/partials/financials/invoiceSearch/rvInvoiceSearchARInvoices.html",'<rv-pagination ng-show="totalResultCount > invoiceSearchPagination.perPage" page-options=invoiceSearchPagination page-data=totalResultCount></rv-pagination><section id=find-invoices class=content role=main ng-hide=invoiceSearchFlags.showFindInvoice><ul class=invoice-list-header><li class=guest-details>Details</li><li class=number>AR Invoice No.</li><li class=balance>Balance</li></ul><div class="invoice-list-content scrollable" ng-iscroll=invoice-list><div class=wrapper><ul class=search-results><li class=invoice-item ng-repeat="invoiceReservationData in invoiceSearchData.reservationsList.results"><div class="bill has-arrow next-view"><figure class=guest-image ng-show="invoiceReservationData.associated_item.type === \'RESERVATION\'"><img src={{::invoiceReservationData.associated_item.image_url}} alt=""></figure><div class=group-info ng-show="invoiceReservationData.associated_item.type === \'POSTING_ACCOUNT\'">A</div><div class=data><h2 ng-bind-html=escapeNull(invoiceReservationData.associated_item.name)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.name}}</h2><span class=confirmation><span class=confirmation-text ng-show="invoiceReservationData.associated_item.type === \'RESERVATION\'">CONF. NO. <span ng-bind-html=escapeNull(invoiceReservationData.associated_item.number)|highlight:invoiceSearchData.query:false class=confirmation-text>{{::invoiceReservationData.associated_item.number}}</span></span> <span class=confirmation-text ng-show="invoiceReservationData.associated_item.type === \'POSTING_ACCOUNT\'">ACCOUNT. NO. <span ng-bind-html=escapeNull(invoiceReservationData.associated_item.number)|highlight:invoiceSearchData.query:false class=confirmation-text>{{::invoiceReservationData.associated_item.number}}</span></span></span><span class="icons icon-guest-travelagent" ng-bind-html=escapeNull(invoiceReservationData.associated_item.travel_agent_card)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.travel_agent_card}}</span><span class="icons icon-guest-company" ng-bind-html=escapeNull(invoiceReservationData.associated_item.company_card)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.company_card}}</span><div class="reservation-type red" ng-if="invoiceReservationData.associated_item.type === \'RESERVATION\' && invoiceReservationData.associated_item.is_day_use && hotelDiaryConfig.dayUseEnabled">D</div><div class=reservation-type ng-if="invoiceReservationData.associated_item.type === \'RESERVATION\' && !invoiceReservationData.associated_item.is_day_use && hotelDiaryConfig.dayUseEnabled && hotelDiaryConfig.mode === \'FULL\'">N</div></div><div class=invoice-info ng-click="clickedItem($index, 0)"><div class=number ng-bind-html=escapeNull(invoiceReservationData.bills[0].ar_invoice_number)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.bills[0].ar_invoice_number}}</div><div class=balance ng-class="{\'text-red\': invoiceReservationData.bills[0].balance === 0}"><span ng-bind-html="::invoiceReservationData.bills[0].balance | sntCurrency:this"></span></div></div><button type=button class="button with-icon only-icon" ng-class="getInvoiceButtonClass($index, 0)" ng-click="showFormatBillPopup($index, 0)"><span class="icons icon-invoice"></span></button></div><div class=bill ng-repeat="bill in invoiceReservationData.bills" ng-show=!$first><figure class="guest-image accompany" ng-show="bill.routing_details.type ===\'GUEST\'"><img src={{::bill.routing_details.image_url}} alt="" ng-show=bill.routing_details.is_primary> <img src={{::bill.routing_details.image_url}} alt="" ng-show=!bill.routing_details.is_primary></figure><div class="guest-image icons icon-company" ng-show="bill.routing_details.type ===\'COMPANY\'"></div><div class="guest-image icons icon-travel-agent" ng-show="bill.routing_details.type ===\'TRAVELAGENT\'"></div><div class=data><h2 ng-bind-html=escapeNull(bill.routing_details.name)|highlight:invoiceSearchData.query:false>{{::bill.routing_details.name}}</h2><span class="icons icon-guest-company" ng-show="bill.routing_details.type === \'COMPANY\'" ng-bind-html=escapeNull(bill.routing_details.address)|highlight:invoiceSearchData.query:false>{{::bill.routing_details.address}}</span> <span class="icons icon-guest-travelagent" ng-show="bill.routing_details.type === \'TRAVELAGENT\'" ng-bind-html=escapeNull(bill.routing_details.address)|highlight:invoiceSearchData.query:false>{{::bill.routing_details.address}}</span><div class="reservation-type red" ng-if="invoiceReservationData.associated_item.type === \'RESERVATION\' && invoiceReservationData.associated_item.is_day_use && hotelDiaryConfig.dayUseEnabled">D</div><div class=reservation-type ng-if="invoiceReservationData.associated_item.type === \'RESERVATION\' && !invoiceReservationData.associated_item.is_day_use && hotelDiaryConfig.dayUseEnabled && hotelDiaryConfig.mode === \'FULL\'">N</div></div><div class=invoice-info><div class=number ng-bind-html=escapeNull(bill.ar_invoice_number)|highlight:invoiceSearchData.query:false>{{::bill.ar_invoice_number}}</div><div class=balance ng-class="{\'text-red\': bill.balance === 0}"><span ng-bind-html="::bill.balance | sntCurrency:this"></span></div></div><button type=button class="button with-icon only-icon blue" ng-click="showFormatBillPopup($parent.$index, $index)" ng-class="getInvoiceButtonClass($parent.$index, $index)"><span class="icons icon-invoice"></span></button></div></li></ul></div></div></section><div id=search-cards-no-results class=no-content ng-show=invoiceSearchFlags.showFindInvoice><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>Find AR Invoice</strong> <span class=h2>Search by <strong>AR Invoice No.</strong></span></div></div>'),t.put("/assets/partials/financials/invoiceSearch/rvInvoiceSearchInvoices.html",'<rv-pagination ng-show="totalResultCount > invoiceSearchPagination.perPage" page-options=invoiceSearchPagination page-data=totalResultCount></rv-pagination><section id=find-invoices class=content role=main ng-hide=invoiceSearchFlags.showFindInvoice><ul class=invoice-list-header ng-class="{\'guest-deposit-invoices\': shouldShowReservationInvoices() && isDepositInvoiceEnabled}"><li class=guest-details>Details</li><li class=number>Invoice No.</li><li class=number>Folio No.</li><li ng-if="shouldShowReservationInvoices() && isDepositInvoiceEnabled" class=number>Deposit No.</li><li class=balance>Balance</li></ul><div class="invoice-list-content scrollable" ng-iscroll=invoice-list><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><ul class=search-results><li class=invoice-item ng-class="{\'guest-deposit-item\': shouldShowReservationInvoices() && isDepositInvoiceEnabled}" ng-repeat="invoiceReservationData in invoiceSearchData.reservationsList.results"><div class="bill has-arrow next-view"><figure ng-class="{\'guest-image\': true,\'blacklisted\': invoiceReservationData.associated_item.is_flagged}" ng-show="invoiceReservationData.associated_item.type === \'RESERVATION\'"><img src={{::invoiceReservationData.associated_item.image_url}} alt=""></figure><div class=group-info ng-show="invoiceReservationData.associated_item.type === \'POSTING_ACCOUNT\'">A</div><div class=data><h2 ng-bind-html=escapeNull(invoiceReservationData.associated_item.name)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.name}}</h2><span class=confirmation><span class=confirmation-text ng-show="invoiceReservationData.associated_item.type === \'RESERVATION\'">CONF. NO. <span ng-bind-html=escapeNull(invoiceReservationData.associated_item.number)|highlight:invoiceSearchData.query:false class=confirmation-text>{{::invoiceReservationData.associated_item.number}}</span></span> <span class=confirmation-text ng-show="invoiceReservationData.associated_item.type === \'POSTING_ACCOUNT\'">ACCOUNT. NO. <span ng-bind-html=escapeNull(invoiceReservationData.associated_item.number)|highlight:invoiceSearchData.query:false class=confirmation-text>{{::invoiceReservationData.associated_item.number}}</span></span></span><span class="icons icon-guest-travelagent" ng-bind-html=escapeNull(invoiceReservationData.associated_item.travel_agent_card)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.travel_agent_card}}</span><span class="icons icon-guest-company" ng-bind-html=escapeNull(invoiceReservationData.associated_item.company_card)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.company_card}}</span><div class="reservation-type red" ng-if="invoiceReservationData.associated_item.type === \'RESERVATION\' && invoiceReservationData.associated_item.is_day_use && hotelDiaryConfig.dayUseEnabled">D</div><div class=reservation-type ng-if="invoiceReservationData.associated_item.type === \'RESERVATION\' && !invoiceReservationData.associated_item.is_day_use && hotelDiaryConfig.dayUseEnabled && hotelDiaryConfig.mode === \'FULL\'">N</div></div><div class=invoice-info ng-click="clickedItem($index, 0)"><div class=number ng-bind-html=escapeNull(invoiceReservationData.bills[0].invoice_no)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.bills[0].invoice_no}}</div><div class=number ng-bind-html=escapeNull(invoiceReservationData.bills[0].folio_number)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.bills[0].folio_number}}</div><div class=number ng-if="shouldShowReservationInvoices() && isDepositInvoiceEnabled" ng-bind-html=escapeNull(invoiceReservationData.bills[0].deposit_folio_number)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.bills[0].deposit_folio_number}}</div><div class=balance ng-class="{\'text-red\': invoiceReservationData.bills[0].balance === 0}"><span ng-bind-html="::invoiceReservationData.bills[0].balance | sntCurrency:this"></span></div></div><button type=button class="button with-icon only-icon" ng-class="getInvoiceButtonClass($index, 0)" ng-click="showFormatBillPopup($index, 0)"><span class="icons icon-invoice"></span></button></div><div class=bill ng-repeat="bill in invoiceReservationData.bills" ng-show=!$first><figure class="guest-image accompany" ng-show="bill.routing_details.type ===\'GUEST\'"><img src={{::bill.routing_details.image_url}} alt="" ng-show=bill.routing_details.is_primary> <img src={{::bill.routing_details.image_url}} alt="" ng-show=!bill.routing_details.is_primary></figure><div class="guest-image icons icon-company" ng-show="bill.routing_details.type ===\'COMPANY\'"></div><div class="guest-image icons icon-travel-agent" ng-show="bill.routing_details.type ===\'TRAVELAGENT\'"></div><div class=data><h2 ng-bind-html=escapeNull(bill.routing_details.name)|highlight:invoiceSearchData.query:false>{{::bill.routing_details.name}}</h2><span class="icons icon-guest-company" ng-show="bill.routing_details.type === \'COMPANY\'" ng-bind-html=escapeNull(bill.routing_details.address)|highlight:invoiceSearchData.query:false>{{::bill.routing_details.address}}</span> <span class="icons icon-guest-travelagent" ng-show="bill.routing_details.type === \'TRAVELAGENT\'" ng-bind-html=escapeNull(bill.routing_details.address)|highlight:invoiceSearchData.query:false>{{::bill.routing_details.address}}</span><div class="reservation-type red" ng-if="invoiceReservationData.associated_item.type === \'RESERVATION\' && invoiceReservationData.associated_item.is_day_use && hotelDiaryConfig.dayUseEnabled">D</div><div class=reservation-type ng-if="invoiceReservationData.associated_item.type === \'RESERVATION\' && !invoiceReservationData.associated_item.is_day_use && hotelDiaryConfig.dayUseEnabled && hotelDiaryConfig.mode === \'FULL\'">N</div></div><div class=invoice-info><div class=number ng-bind-html=escapeNull(bill.invoice_no)|highlight:invoiceSearchData.query:false>{{::bill.invoice_no}}</div><div class=number ng-bind-html=escapeNull(bill.folio_number)|highlight:invoiceSearchData.query:false>{{::bill.folio_number}}</div><div class=number ng-if="shouldShowReservationInvoices() && isDepositInvoiceEnabled" ng-bind-html=escapeNull(bill.deposit_folio_number)|highlight:invoiceSearchData.query:false>{{::bill.deposit_folio_number}}</div><div class=balance ng-class="{\'text-red\': bill.balance === 0}"><span ng-bind-html="::bill.balance | sntCurrency:this"></span></div></div><button type=button class="button with-icon only-icon blue" ng-click="showFormatBillPopup($parent.$index, $index)" ng-class="getInvoiceButtonClass($parent.$index, $index)"><span class="icons icon-invoice"></span></button></div></li></ul></div></div></section><div id=search-cards-no-results class=no-content ng-show=invoiceSearchFlags.showFindInvoice><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>Find Invoice</strong> <span class=h2>Search by <strong>Invoice</strong><strong ng-if="shouldShowReservationInvoices() && isDepositInvoiceEnabled">, Deposit Invoice</strong> or <strong>Folio No</strong>, <strong ng-if=shouldShowReservationInvoices()>Guest name</strong> <strong ng-if=shouldShowAccountInvoices()>Account name</strong> or <strong>Balance Amount</strong></span></div></div>'),t.put("/assets/partials/financials/invoiceSearch/rvInvoiceSearchReceipts.html",'<rv-pagination ng-show="totalResultCount > invoiceSearchPagination.perPage" page-options=invoiceSearchPagination page-data=totalResultCount></rv-pagination><section id=find-invoices class=content role=main ng-hide=invoiceSearchFlags.showFindInvoice><ul class="invoice-list-header receipts-list-header"><li class=expand><span class="icons icon-double-arrow black expand-arrow"></span></li><li class=check><label class="checkbox inline"></label></li><li class=guest-details>Details</li><li class=number>Invoice No.</li><li class=balance>Balance</li></ul><div class="invoice-list-content scrollable" ng-iscroll=invoice-list><div class=wrapper><ul class=search-results><li class="invoice-item receipt-item" ng-repeat="invoiceReservationData in invoiceSearchData.reservationsList.results"><div class="bill has-arrow next-view"><div class="expand toggle" ng-click="expandBill($index, 0)"><span class="icons icon-double-arrow black expand-arrow" ng-class="{\'active\': invoiceReservationData.bills[0].isOpened}"></span></div><div class=check ng-show=false><label class="checkbox inline" for=receipt-details-{id}><span class="icon-form icon-checkbox"></span> <input id=receipt-details-{id} value={id} type=checkbox></label></div><figure class=guest-image ng-show="invoiceReservationData.associated_item.type === \'RESERVATION\'" ng-class="{\'blacklisted\': invoiceReservationData.associated_item.is_flagged}"><img src={{::invoiceReservationData.associated_item.image_url}} alt=""></figure><div class=group-info ng-show="invoiceReservationData.associated_item.type === \'POSTING_ACCOUNT\'">A</div><div class=data><h2 ng-bind-html=escapeNull(invoiceReservationData.associated_item.name)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.name}}</h2><span class=confirmation><span class=confirmation-text ng-show="invoiceReservationData.associated_item.type === \'RESERVATION\'">CONF. NO. <span ng-bind-html=escapeNull(invoiceReservationData.associated_item.number)|highlight:invoiceSearchData.query:false class=confirmation-text>{{::invoiceReservationData.associated_item.number}}</span></span> <span class=confirmation-text ng-show="invoiceReservationData.associated_item.type === \'POSTING_ACCOUNT\'">ACCOUNT. NO. <span ng-bind-html=escapeNull(invoiceReservationData.associated_item.number)|highlight:invoiceSearchData.query:false class=confirmation-text>{{::invoiceReservationData.associated_item.number}}</span></span></span><span class="icons icon-guest-company" ng-bind-html=escapeNull(invoiceReservationData.associated_item.company_card)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.company_card}}</span><span class="icons icon-guest-travelagent" ng-bind-html=escapeNull(invoiceReservationData.associated_item.travel_agent_card)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.travel_agent_card}}</span></div><div class=invoice-info><div class=number>{{::invoiceReservationData.bills[0].invoice_no}}</div><div class=balance><span ng-bind-html="::invoiceReservationData.bills[0].balance | sntCurrency:this"></span></div></div></div><div class=bill ng-repeat-start="bill in invoiceReservationData.bills" ng-show=!$first><div class="expand toggle" ng-click="expandBill($parent.$index, $index)"><span class="icons icon-double-arrow black expand-arrow" ng-class="{\'active\': bill.isOpened}"></span></div><div class=check ng-show=false><label class="checkbox inline" for=receipt-details-{id}><span class="icon-form icon-checkbox"></span> <input value="" type=checkbox></label></div><div class=data><h2 ng-bind-html=escapeNull(invoiceReservationData.associated_item.name)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.name}}</h2><span class=confirmation><span class=confirmation-text ng-show="invoiceReservationData.associated_item.type === \'RESERVATION\'">CONF. NO. <span ng-bind-html=escapeNull(invoiceReservationData.associated_item.number)|highlight:invoiceSearchData.query:false class=confirmation-text>{{::invoiceReservationData.associated_item.number}}</span></span> <span class=confirmation-text ng-show="invoiceReservationData.associated_item.type === \'POSTING_ACCOUNT\'">ACCOUNT. NO. <span ng-bind-html=escapeNull(invoiceReservationData.associated_item.number)|highlight:invoiceSearchData.query:false class=confirmation-text>{{::invoiceReservationData.associated_item.number}}</span></span></span><span class="icons icon-guest-company" ng-bind-html=escapeNull(invoiceReservationData.associated_item.company_card)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.company_card}}</span><span class="icons icon-guest-travelagent" ng-bind-html=escapeNull(invoiceReservationData.associated_item.travel_agent_card)|highlight:invoiceSearchData.query:false>{{::invoiceReservationData.associated_item.travel_agent_card}}</span></div><div class=invoice-info><div class=number>{{bill.invoice_no}}</div><div class=balance><span ng-bind-html="::bill.balance | sntCurrency:this"></span></div></div></div><div ng-repeat-end="" class=bill-receipt-details ng-show=bill.isOpened><table><thead><tr><th class=receipt-check></th><th class=date>Date</th><th class=charge-code>Charge Code</th><th class=description>Description</th><th class=amount>Receipt No.</th><th class=amount>Credit</th></tr></thead><tbody><tr class="{ \'odd\' || \'even\' }" ng-repeat="transactions in bill.transactions" ng-show=transactions.is_visible_in_invoice_search><td class=receipt-check><label class="checkbox inline" ng-class="{\'checked\': transactions.isChecked}" ng-if=transactions.should_retrigger ng-click="clickedTransactionCheckbox(transactions.id, bill.billIndex, $index, invoiceReservationData.itemIndex)"><span class="icon-form icon-checkbox" ng-class="{\'checked\': transactions.isChecked}"></span> <input value={{transactions.id}} type=checkbox></label></td><td class=date>{{transactions.date}}</td><td class=charge-code>{{transactions.charge_code}}</td><td class=description><div class=payment-data><figure class=card-logo ng-if="transactions.card_number !== \'\' && transactions.card_number !== null"><img src={card-logo} alt=""></figure><span class=number>{{transactions.card_number}}</span> <span class=date><span class=value>{{transactions.description}}</span></span><span class=reference></span></div></td><td class="amount receipt-number">{{transactions.receipt_no}}</td><td class="amount credits"><span ng-bind-html="transactions.credits | sntCurrency:this"></span> <button type=button class="button with-icon only-icon blue open-modal" ng-click="clickedReceiptIcon(invoiceReservationData.associated_item.type, transactions.id, transactions.bill_id)"><span class="icons icon-invoice"></span></button></td></tr></tbody></table></div></li></ul></div></div></section><div id=search-cards-no-results class=no-content ng-show=invoiceSearchFlags.showFindInvoice><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>Find Receipt</strong> <span class=h2>Search by <strong>Receipt/Invoice or Folio No</strong>, <strong ng-if=shouldShowReservationReceipts()>Guest name</strong> <strong ng-if=shouldShowAccountReceipts()>Account name</strong>or <strong>Balance Amount</strong></span></div></div>'),t.put("/assets/partials/financials/invoiceSearch/rvRetriggerSuccessMessagePopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message"><span class=green ng-if=isSuccess ng-repeat="msg in retriggerMessage">{{msg | translate}}</span> <span class=red ng-if=!isSuccess ng-repeat="msg in retriggerMessage">{{msg | translate}}</span></span><div class=actions><button type=button class="button red" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/financials/journal/rvBalance.html",'<span ng-controller=RVJournalBalanceController ng-click=clickedOnPayment($event)><div id=journal-content class="journal-content balance" ng-if=balanceData.data_available><div class="journal-summary balance-summary first"><h3>Deposit Ledger</h3><ul><li>Closing Balance <span ng-show="balanceData.deposit_closing_balance !== null" ng-bind-html="balanceData.deposit_closing_balance | sntCurrency:this"></span></li><li>EOD Report Balance <span class=next-view ng-show="balanceData.deposit_report_balance !== null" ng-bind-html="balanceData.deposit_report_balance | sntCurrency:this"></span></li><li>Balance Check <i class="icons icon-action icon-completed" ng-if="balanceData.deposit_balance_difference === 0"></i><span class=color-red ng-if="balanceData.deposit_balance_difference !== 0" ng-bind-html="balanceData.deposit_balance_difference | sntCurrency:this"></span></li></ul></div><div class="journal-summary balance-summary"><h3>Guest Ledger</h3><ul><li><span ng-show="balanceData.guest_closing_balance !== null" ng-bind-html="balanceData.guest_closing_balance | sntCurrency:this"></span></li><li><span class=next-view ng-show="balanceData.guest_report_balance !== null" ng-bind-html="balanceData.guest_report_balance | sntCurrency:this"></span></li><li><i class="icons icon-action icon-completed" ng-if="balanceData.guest_balance_difference === 0"></i><span class=color-red ng-if="balanceData.guest_balance_difference !== 0" ng-bind-html="balanceData.guest_balance_difference | sntCurrency:this"></span></li></ul></div><div class="journal-summary balance-summary hidden"><h3>A/R Ledger</h3><ul><li><span ng-bind-html="balanceData.ar_closing_balance | sntCurrency:this"></span></li><li><span class=next-view ng-bind-html="balanceData.ar_report_balance | sntCurrency:this"></span></li><li><i class="icons icon-action icon-completed"></i></li></ul></div><div class="journal-summary balance-summary totals"><h3>Reservations with Open Balance</h3><ul><li><button type=button class="button white has-arrow next-view" ng-click="clickedNavigationToSearch(\'OPEN_BILL_CHECKOUT\')"><i class="guest-status departed"></i> <span class=label>Checked out</span><ng-bind-html ng-bind-html="balanceData.checkout_with_balance | sntCurrency:this"></ng-bind-html></button></li><li ng-if=false><button type=button class="button white has-arrow next-view" ng-click="clickedNavigationToSearch(\'NOSHOW\')"><i class="guest-status no-show"></i> <span class=label>No Show</span> <span ng-bind-html="balanceData.no_show_with_balance | sntCurrency:this"></span></button></li><li ng-if=false><button type=button class="button white has-arrow next-view" ng-click="clickedNavigationToSearch(\'CANCELED\')"><i class="guest-status cancel"></i> <span class=label>Cancellations</span> <span ng-bind-html="balanceData.cancellation_with_balance | sntCurrency:this"></span></button></li></ul></div></div><div id=journal-content class="journal-content no-content" ng-if=!balanceData.data_available><div class=info><span class="icon-no-content icon-rates"></span> <strong class=h1>No Data Available</strong> <span class=h2>Please select another date</span></div></div></span>'),t.put("/assets/partials/financials/journal/rvCashier.html",'<div id=journal-content class=journal-content ng-controller=RVJournalCashierController ng-click=clearErrorMessage() ng-cloak=""><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=cashier-history class="journal-history scrollable" ng-iscroll=cashier_history><div class=wrapper><h2 ng-show="detailsList.length>0" translate="">HISTORY</h2><h2 ng-hide="detailsList.length>0 || isLoading" translate="">NO_HISTORY</h2><ul class=shift-history><li ng-repeat="history in detailsList" ng-class="{\'active\':selectedHistory ===$index}" ng-click=historyClicked($index)><strong class="status closed" ng-show="history.status ===\'CLOSED\'">{{\'CLOSED\' | translate}} <span>by {{history.user}}</span></strong> <strong class="status opened" ng-hide="history.status ===\'CLOSED\'">{{\'OPENED\' | translate}} <span ng-bind=history.user></span></strong><time datetime="{datetime timestamp}"><span class=time ng-bind=history.time></span> <span class=date>{{history.date | date:\'dd MMMM yyyy\'}}</span></time></li></ul><div style=height:20%;></div></div></div><div id=cashier-shift class="journal-shift scrollable" ng-iscroll=cashier_shift><div class=wrapper><table class=shift-details ng-show="detailsList.length>0"><caption class=closed ng-hide="details.status ===\'OPEN\'"><strong>{{data.selectedCashier}} |</strong> {{details.status}} by {{details.user}} | {{details.time}}, {{details.date | date:\'dd MMMM yyyy\'}}</caption><caption class=opened ng-show="details.status ===\'OPEN\'"><strong>{{data.selectedCashier}} |</strong> Opened by {{details.user}} | {{details.time}}, {{details.date | date:\'dd MMMM yyyy\'}}</caption><tbody><tr><th scope=row translate="">OPENING_BALANCE_CASH_MSG</th><td class=value><span ng-bind-html="details.opening_balance_cash | sntCurrency:this"></span></td></tr><tr><th scope=row translate="">OPENING_BALANCE_CHECK_MSG</th><td class=value><span ng-bind-html="details.opening_balance_check | sntCurrency:this"></span></td></tr><tr><th scope=row translate="">TOTAL_CASH_RECEIVED_MSG</th><td class=value><span ng-bind-html="details.total_cash_received | sntCurrency:this"></span></td></tr><tr><th scope=row translate="">TOTAL_IN_CHECKS_RECEIVED_MSG</th><td class=value><span ng-bind-html="details.total_check_received | sntCurrency:this"></span></td></tr><tr><td class=entry colspan=2 ng-show="details.status ===\'OPEN\'"><span translate="">CASH_SUBMITTED</span> <input name=cash-submited id=cash-submited type=text ng-model=details.cash_submitted ng-change=changedCash()></td><th scope=row translate="" ng-hide="details.status ===\'OPEN\'">CASH_SUBMITTED</th><td class=value ng-hide="details.status ===\'OPEN\'"><span ng-bind-html="details.cash_submitted | sntCurrency:this"></span></td></tr><tr><td class=entry colspan=2 ng-show="details.status ===\'OPEN\'"><span translate="">CHECKS_SUBMITTED</span> <input name=checks-submited id=checks-submited type=text ng-model=details.check_submitted ng-change=changedCheck()></td><th scope=row translate="" ng-hide="details.status ===\'OPEN\'">CHECKS_SUBMITTED</th><td class=value ng-hide="details.status ===\'OPEN\'"><span ng-bind-html="details.check_submitted | sntCurrency:this"></span></td></tr><tr><th scope=row translate="">TOTAL_CLOSING_BALANCE_CASH_MSG</th><td class=value><span ng-bind-html="totalClosingBalanceInCash | sntCurrency:this"></span></td></tr><tr><th scope=row translate="">TOTAL_CLOSING_BALANCE_CHECK_MSG</th><td class=value><span ng-bind-html="totalClosingBalanceInCheck | sntCurrency:this"></span></td></tr></tbody></table><button type=button class="button green" translate="" ng-hide="details.status ===\'CLOSED\' || detailsList.length == 0 || isLoading" ng-click=closeShift()>CLOSE_SHIFT</button> <button type=button class="button green" translate="" ng-hide="details.status ===\'OPEN\' || detailsList.length === 0 || isLoading ||isDateBeforeBusinnesDate(details.date) || data.filterData.cashierStatus !== \'CLOSED\' ||!isLastCashierPeriod()" ng-click=reOpen()>RE_OPEN</button><div style=height:20%;></div></div></div></div>'),
t.put("/assets/partials/financials/journal/rvJournal.html",'<section id=journal class=content role=main><form method=post action="" id=journal-header name=journal-header class=journal-header><div class="entry date" ng-show="data.activeTab === \'SUMMARY\'"><label for=journal-from-date translate="">BAL_AS_OF_EOD</label><div class=entry-data ng-click=clickedSummaryDate()><input name=revenue-date id=revenue-date type=text class="datepicker hasDatepicker" readonly=""> <strong id=revenue-date-day class=day>{{data.summaryDate | date:\'d\'}}</strong> <span id=revenue-date-month class=month>{{data.summaryDate | date:\'MMMM\'}}</span> <span id=revenue-date-year class=year>{{data.summaryDate | date:\'y\'}}</span></div></div><div class="entry date" ng-show="data.activeTab === \'BALANCE\'"><label for=journal-from-date translate="">Date</label><div class=entry-data ng-click=clickedBalanceDate()><input name=revenue-date id=revenue-date type=text class="datepicker hasDatepicker" readonly=""> <strong id=revenue-date-day class=day>{{data.balanceDate | date:\'d\'}}</strong> <span id=revenue-date-month class=month>{{data.balanceDate | date:\'MMMM\'}}</span> <span id=revenue-date-year class=year>{{data.balanceDate | date:\'y\'}}</span></div></div><div class="entry filter" ng-show="data.activeTab === \'REVENUE\' || data.activeTab === \'PAYMENTS\'"><label for=revenue-departments translate="">EMPLOYEE / DEPARTMENT / HOUSE</label><div class=faux-select ng-class="{\'active\':data.isActiveRevenueFilter}" data-select=revenue-filters ng-click=clickedRevenueFilter();>{{data.filterTitle}}</div></div><div id=revenue-filters class=faux-select-options ng-show=data.isActiveRevenueFilter><button id=select-filters type=button ng-click=clickedSelectButton() ng-class="{ \'green\': data.filterData.isSelectButtonActive, \'grey\': !data.filterData.isSelectButtonActive }" class=button translate="">SELECT</button><div class=header><label class="radio inline" ng-click=selectAllDepartment()><span class="icon-form icon-radio" ng-class="{\'checked\':data.filterData.checkedAllDepartments}"></span> <input name=revenue-departments id=revenue-departments value=all-departments type=radio checked=""> {{\'ALL_DEPARTMENTS\' | translate}}</label> <label class="radio inline" ng-click=selectAllEmployees()><span class="icon-form icon-radio" ng-class="{\'checked\':data.filterData.checkedAllEmployees}"></span> <input name=employees value=all-employees type=radio checked=""> {{\'EMPLOYEES\' | translate}}</label></div><div id=faux-revenue-departments class="holder scrollable" ng-iscroll=department-content ng-iscroll-delay=1000 style=height:75%;><div class=wrapper><label class="checkbox inline" ng-click=clickedDepartment($index) ng-repeat="department in data.filterData.departments"><span class="icon-form icon-checkbox" ng-class="{\'checked\':department.checked}"></span> <input name=revenue-departments value={{department.id}} type=checkbox> {{department.name}}</label></div></div><div id=faux-revenue-employees class="holder scrollable" ng-iscroll=employee-content ng-iscroll-delay=1000 style=height:75%;><div class=wrapper ng-model=data.filterData.selectedEmployee><label class="checkbox inline" ng-click=clickedEmployees($index) ng-repeat="employee in data.filterData.employees"><span class="icon-form icon-checkbox" ng-class="{\'checked\':employee.checked}"></span> <input name=revenue-employees value={{employee.id}} type=checkbox> {{employee.name}}</label></div></div></div><div class="entry filter" ng-show="data.activeTab === \'CASHIER\'"><label for=select-cashier translate="">CASHIER</label><div class=select><select id=select-cashier ng-model=data.filterData.selectedCashier ng-change=cashierFilterChanged()><option value="" disabled="">Select cashier</option><optgroup label=Active><option ng-if=cashier.is_active ng-repeat="cashier in data.filterData.cashiers" ng-selected="data.filterData.selectedCashier === cashier.id" value={{cashier.id}}>{{cashier.name}}</option></optgroup><optgroup label=Inactive ng-if=data.isInactiveCashier><option ng-if="!cashier.is_active&& data.isInactiveCashier" ng-repeat="cashier in data.filterData.cashiers" ng-selected="data.filterData.selectedCashier === cashier.id" value={{cashier.id}}>{{cashier.name}}</option></optgroup></select></div></div><div class="entry date" ng-click=clickedFromDate() ng-show="data.activeTab === \'REVENUE\' || data.activeTab === \'PAYMENTS\'"><label for=revenue-from-date translate="">DATE_FROM</label><div class=entry-data><input name=revenue-from-date id=revenue-from-date type=text class=datepicker value="{{data.fromDate | date:dateFormat }}" readonly=""> <strong id=revenue-from-date-day class=day>{{data.fromDate | date:\'d\'}}</strong> <span id=revenue-from-date-month class=month>{{data.fromDate | date:\'MMMM\'}}</span> <span id=revenue-from-date-year class=year>{{data.fromDate | date:\'y\'}}</span></div></div><div class="entry date" ng-click=clickedToDate() ng-show="data.activeTab === \'REVENUE\' || data.activeTab === \'PAYMENTS\'"><label for=revenue-to-date translate="">DATE_TO</label><div class=entry-data><input name=revenue-to-date id=revenue-to-date type=text class=datepicker value="{{data.toDate | date:dateFormat}}" readonly=""> <strong id=revenue-to-date-day class=day>{{data.toDate | date:\'d\'}}</strong> <span id=revenue-to-date-month class=month>{{data.toDate | date:\'MMMM\'}}</span> <span id=revenue-to-date-year class=year>{{data.toDate | date:\'y\'}}</span></div></div><div class="entry date" ng-click=clickedCashierDate() ng-show="data.activeTab === \'CASHIER\'"><label id=revenue-date-label for=revenue-date translate="">DATE</label><div class=entry-data><input name=revenue-date id=revenue-date type=text class=datepicker readonly=""> <strong id=revenue-date-day class=day>{{data.cashierDate | date:\'d\'}}</strong> <span id=revenue-date-month class=month>{{data.cashierDate | date:\'MMMM\'}}</span> <span id=revenue-date-year class=year>{{data.cashierDate | date:\'y\'}}</span></div></div><ul id=journal-options class=display><li ng-if=data.isShowSummaryTab ng-class="{\'active\':data.activeTab === \'SUMMARY\'}" ng-click="activatedTab(\'SUMMARY\')"><span class="icons icon-navbar icon-summary" translate="">SUMMARY</span></li><li id=show-revenue ng-class="{\'active\':data.activeTab === \'REVENUE\'}" ng-click="activatedTab(\'REVENUE\')"><span class="icons icon-navbar icon-revenue" translate="">REVENUE</span><span ng-bind-html="data.revenueData.total_revenue | sntCurrency:this"></span></li><li id=show-payments ng-class="{\'active\':data.activeTab === \'PAYMENTS\'}" ng-click="activatedTab(\'PAYMENTS\')"><span class="icons icon-navbar icon-payments" translate="">PAYMENTS</span><span ng-bind-html="data.paymentData.total_payment | sntCurrency:this"></span></li><li ng-class="{\'active\':data.activeTab === \'BALANCE\'}" ng-show=featureToggles.journal_balance_tab ng-click="activatedTab(\'BALANCE\')"><span class="icons icon-navbar icon-balance">Balance</span> <span class=value>End of Day</span></li><li id=show-cashier ng-class="{\'active\':data.activeTab === \'CASHIER\'}" ng-click="activatedTab(\'CASHIER\')"><span class="icons icon-navbar icon-cashier" translate="">CASHIER</span>{{data.filterData.cashierStatus}}</li></ul></form><form ng-if="data.activeTab !== \'SUMMARY\'" ng-controller=RVJournalPrintController id=journal-print-options class=journal-print role=complementary ng-class="{ \'open\': data.isDrawerOpened }" ui-jq=resizable resize="" ui-options=resizableOptions style="height: {{data.printBoxHeight}}px;" ng-click=clickedDrawer($event)><div ng-include="\'/assets/partials/financials/journal/rvPrintBox.html\'"></div></form><form ng-if="data.activeTab === \'SUMMARY\'" ng-controller=RVJournalPrintController id=journal-print-options class=journal-print ng-class="{ \'open\': data.isDrawerOpened }"><div ng-include="\'/assets/partials/financials/journal/rvPrintBox.html\'"></div></form><span ng-if=data.isShowSummaryTab ng-show="data.activeTab === \'SUMMARY\'" ng-include="\'/assets/partials/financials/journal/rvSummary.html\'" ng-class="{\'no-print\' : isDetailsSelected && isPrintClicked}"></span><span ng-if="data.activeTab === \'SUMMARY\' && isDetailsSelected && isPrintClicked" ng-include="\'/assets/partials/financials/journal/rvSummaryDetails.html\'"></span><span ng-if="data.activeTab === \'REVENUE\'" ng-include="\'/assets/partials/financials/journal/rvRevenue.html\'"></span><span ng-if="data.activeTab === \'PAYMENTS\'" ng-include="\'/assets/partials/financials/journal/rvPayments.html\'"></span> <span ng-if="data.activeTab === \'BALANCE\'" ng-include="\'/assets/partials/financials/journal/rvBalance.html\'"></span><span ng-if="data.activeTab === \'CASHIER\'" ng-include="\'/assets/partials/financials/journal/rvCashier.html\'"></span></section>'),t.put("/assets/partials/financials/journal/rvJournalCalendarPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ui-date=dateOptions ng-model=date ui-date-format=yy-mm-dd class="ngmodal-uidate-wrap ui-datepicker datepicker-position-absolute"></div></div>'),t.put("/assets/partials/financials/journal/rvPayments.html",'<span ng-controller=RVJournalPaymentController ng-click=clickedOnPayment($event)><ul class=journal-groups><li ng-click="clickedPaymentGroup(\'\')" ng-class="{\'active\':data.activePaymentTab === \'\'}"><span class="icons icon-navbar only-icon icon-total"></span>{{\'TOTAL\' | translate}}</li><li ng-click="clickedPaymentGroup(\'PRE_STAY\')" ng-class="{\'active\':data.activePaymentTab === \'PRE_STAY\'}"><span class="icons icon-navbar only-icon icon-prestay" ng-click="prestay=true"></span>{{\'PRE_STAY\' | translate}}</li><li ng-click="clickedPaymentGroup(\'IN_HOUSE\')" ng-class="{\'active\':data.activePaymentTab === \'IN_HOUSE\'}"><span class="icons icon-navbar only-icon icon-inhouse"></span>{{\'IN_HOUSE\' | translate}}</li><li ng-click="clickedPaymentGroup(\'POST_STAY\')" ng-class="{\'active\':data.activePaymentTab === \'POST_STAY\'}"><span class="icons icon-navbar only-icon icon-poststay"></span>{{\'POST_STAY\' | translate}}</li></ul><ul class=journal-header-print><li ng-if="data.activePaymentTab === \'PRE_STAY\'">Pre-Stay Payments <span ng-bind-html="data.paymentData.total_payment | sntCurrency:this"></span></li><li ng-if="data.activePaymentTab === \'IN_HOUSE\'">In-house Payments <span ng-bind-html="data.paymentData.total_payment | sntCurrency:this"></span></li><li ng-if="data.activePaymentTab === \'POST_STAY\'">Post-Stay Payments <span ng-bind-html="data.paymentData.total_payment | sntCurrency:this"></span></li><li ng-if="data.activePaymentTab === \'\'">Total Payments <span ng-bind-html="data.paymentData.total_payment | sntCurrency:this"></span></li></ul><div id=journal-content class="journal-content payments scrollable" ng-iscroll=payment_content><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=journal-grid class=journal-grid ng-class="{\'print-details\': !data.isPaymentToggleSummaryActive}"><ul class="grid-header payment"><li class=name translate="">PAYMENT_TYPE</li><li class=code translate="">CHARGE_CODE</li><li class=number translate="">NUMBER</li><li class=value translate="">AMOUNT</li></ul><div ng-repeat="(index1 ,level1) in data.paymentData.payment_types" class=grid-group><a ng-click=clickedFirstLevel(index1) ng-class="{\'active\':level1.active, \'has-arrow\':checkHasArrowFirstLevel(index1)}" class="payment-title toggle"><strong class=name>{{escapeNullData(level1.payment_type)}}</strong> <span class=code>{{escapeNullData(level1.charge_code)}}</span> <span class=number>{{escapeNullData(level1.number)}}</span> <span class=value ng-bind-html="level1.amount | sntCurrency:this"></span></a><div ng-if="level1.payment_type == \'Credit Card\'" ng-repeat="(index2 ,level2) in level1.credit_cards" ng-show=level1.active class=grid-charge><a ng-click="clickedSecondLevel(index1 ,index2)" ng-class="{\'active\':level2.active, \'has-arrow\':checkHasArrowSecondLevel(index1,index2)}" class="payment-title toggle"><span class=code>{{escapeNullData(level2.charge_code)}}</span> <strong class=name>{{escapeNullData(level2.credit_card)}}</strong> <span class=value ng-bind-html="level2.amount | sntCurrency:this"></span></a><table class=grid-items ng-show=level2.active><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="(index3 ,level3) in level2.transactions"><td>{{level3.room}}<br>{{level3.account_no}}</td><td><strong class=cell-row>{{level3.name}}<br>{{level3.account_name}}</strong> <em class="cell-row grey-text">{{level3.accompany_guest_name}}</em> <span class=cell-row>{{level3.reservation_number}}</span></td><td>{{level3.invoice_or_folio}}</td><td><span class=cell-row>{{level3.date}}</span> <span class="cell-row grey-text">{{level3.time}}</span></td><td><span class=cell-row ng-bind-html=level3.details></span><span class=converted-currency ng-if=level3.converted_currency><span ng-bind-html="level3.credit_converted_amount | sntCurrency:this:level3.converted_currency"></span></span> <span class="converted-currency smaller" ng-if=level3.conversion_rate><span class=currency>{{level3.conversion_rate}}</span></span></td><td class=align-right ng-show="item.credit !== \'\' && item.credit !== null"><span ng-bind-html="level3.credit | sntCurrency:this"></span></td></tr><tr class=pagination><td colspan=6 ng-if=level2.creditCardPagination><rv-pagination page-options=level2.creditCardPagination page-data=level2.total_count></rv-pagination></td></tr></tbody></table></div><div ng-if="level1.payment_type !== \'Credit Card\'"><table ng-show=level1.active class=grid-items><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="(index2 ,level2) in level1.transactions"><td>{{level2.room}}<br>{{level2.account_no}}</td><td><strong class=cell-row>{{level2.name}}<br>{{level2.account_name}}</strong> <em class="cell-row grey-text">{{level2.accompany_guest_name}}</em> <span class=cell-row>{{level2.reservation_number}}</span></td><td>{{level2.invoice_or_folio}}</td><td><span class=cell-row>{{level2.date}}</span> <span class="cell-row grey-text">{{level2.time}}</span></td><td><span class=cell-row ng-bind-html=level2.details></span><span class=converted-currency ng-if=level2.converted_currency><span ng-bind-html="level2.credit_converted_amount | sntCurrency:this:level2.converted_currency"></span></span> <span class="converted-currency smaller" ng-if=level2.conversion_rate><span class=currency>{{level2.conversion_rate}}</span></span></td><td class=align-right ng-show="item.credit !== \'\' && item.credit !== null"><span ng-bind-html="level2.credit | sntCurrency:this"></span></td></tr><tr class=pagination><td colspan=6 ng-if=level1.paymentTypesPagination><rv-pagination page-options=level1.paymentTypesPagination page-data=level1.total_count></rv-pagination></td></tr></tbody></table></div></div><div class=grid-footer><p class=payment><span translate="">TOTAL</span> <span ng-bind-html="data.paymentData.total_payment | sntCurrency:this"></span></p></div></div></div></div><ul class=journal-footer-print><li>From <span>{{ data.fromDate | date : dateFormat }}</span> to <span>{{ data.toDate | date : dateFormat }}</span><br>Departments(s) <span>{{data.selectedDepartmentName.join(\', \')}}</span><br>Employee(s) <span>{{data.selectedEmployeesName.join(\', \')}}</span><br>Payment Type(s) <span>{{data.uiSelectedPaymentType}}</span></li><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span><br>Time printed: {{data.printDate}} {{data.printTime}}</li></ul></span>'),t.put("/assets/partials/financials/journal/rvPrintBox.html",'<div class=holder ng-show="data.activeTab === \'SUMMARY\'"><div class="entry search" ng-include="\'/assets/partials/financials/journal/rvPrintBoxFilter.html\'"></div><div class=entry ng-include="\'/assets/partials/financials/journal/rvPrintBoxToggle.html\'"></div><div class="entry actions"><button id=print-journal type=button class="button blue with-icon only-icon" ng-click=printSummary()><span class="icons icon-print"></span></button></div></div><div ng-show="data.activeTab === \'REVENUE\'" class=holder><div class="entry search" ng-include="\'/assets/partials/financials/journal/rvPrintBoxFilter.html\'"></div><div class=entry><label for=revenue-charge-group translate="">CHARGE_GROUPS</label><div class=select><select ng-model=data.selectedChargeGroup ng-change=chargeGroupChanged() name=revenue-charge-group id=revenue-charge-group ng-class="{\'placeholder\': data.selectedChargeGroup == \'\' }"><option value="" selected="" translate="">ALL_CHARGE_GROUPS</option><option ng-repeat="item in data.activeChargeGroups" value={{item.id}}>{{item.name}}</option></select></div></div><div class=entry><label for=revenue-charge-code translate="">CHARGE_CODE_NAME</label><div class=select><select ng-model=data.selectedChargeCode ng-change=chargeCodeChanged() name=revenue-charge-code id=revenue-charge-code ng-class="{\'placeholder\': data.selectedChargeCode == \'\'}"><option value="" selected="" translate="">ALL_CHARGE_CODE</option><option ng-repeat="item in data.activeChargeCodes" value={{item.id}}>{{item.name}}</option></select></div></div><div class=entry ng-include="\'/assets/partials/financials/journal/rvPrintBoxToggle.html\'"></div><div class="entry actions"><button ng-click=printRevenue() id=print-revenue type=button class="button blue with-icon only-icon" translate=""><span class="icons icon-print"></span></button></div></div><div ng-show="data.activeTab === \'PAYMENTS\'" class=holder><div class="entry search" ng-include="\'/assets/partials/financials/journal/rvPrintBoxFilter.html\'"></div><div class=entry><label for=payments-payment-type>{{\'PAYMENT_TYPE\' | translate}} / {{\'CHARGE_CODE\' | translate}}</label><div class=select><select ng-model=data.selectedPaymentType ng-change=paymentTypeChanged() name=payments-payment-type id=payments-payment-type ng-class="{\'placeholder\': data.selectedPaymentType == \'\'}"><option value="" translate="">ALL</option><option ng-repeat="item in data.activePaymentTypes" value={{item.charge_code_id}}>{{item.payment_type}}</option></select></div></div><div class=entry ng-include="\'/assets/partials/financials/journal/rvPrintBoxToggle.html\'"></div><div class="entry actions"><button ng-click=printPayment() id=print-payments type=button class="button blue with-icon only-icon" translate=""><span class="icons icon-print"></span></button></div></div><div ng-show="data.activeTab === \'CASHIER\'" class=holder><div class=entry><label for=cashier-report translate="">REPORT</label><div class=select><select name=cashier-report id=cashier-report ng-model=data.reportType ng-change=cashierFilterChanged()><option value="" translate="">SELECT_REPORT_TYPE</option><option value=cashier selected="" translate="">CASHIER_SUMMERY</option></select></div></div><div class="entry actions"><button ng-click=printCashier() id=print-cashier type=button class="button blue with-icon only-icon" translate=""><span class="icons icon-print"></span></button></div><div class="entry inactive-cashiers"><label class="checkbox inline" ng-click=toggleInactiveCashier()><span class="icon-form icon-checkbox" ng-class="{\'checked\': data.isInactiveCashier}"></span> <input name=inactive-cashiers id=inactive-cashiers value=data.isInactiveCashier type=checkbox> Inactive Cashiers</label></div></div>'),t.put("/assets/partials/financials/journal/rvPrintBoxFilter.html",'<div class=select><label for=journal-search-for>Search For</label><select id=journal-search-for ng-options="filter.id as filter.name for filter in data.searchFilterOptions" ng-model=data.filterId ng-change=searchJournal()></select></div><button id=journal-clear-query class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input id=journal-query ng-model=data.query class=query placeholder="Search By {{data.filterName}}" type=search autocomplete=off rv-delay-textbox="" delay=1000 function-to-fire=searchJournal>'),t.put("/assets/partials/financials/journal/rvPrintBoxToggle.html",'<div class=switch-button ng-show="data.activeTab === \'SUMMARY\'" ng-class="{\'on\': !data.isExpandedViewSummary}" ng-click="clickedJournalToggle(false, true)"><input name=journal-print-toggle id=journal-print-toggle value="" type=checkbox> <label class=data-off><span class=value>Collapsed</span> <span class=switch-icon>Expanded</span></label> <label class=data-on><span class=switch-icon>Collapsed</span> <span class=value>Expanded</span></label></div><div class=switch-button ng-show="data.activeTab === \'REVENUE\'" ng-class="{\'on\': !data.isExpandedViewRevenue}" ng-click=clickedJournalToggle()><input name=journal-print-toggle id=journal-print-toggle value="" type=checkbox> <label class=data-off><span class=value>Collapsed</span> <span class=switch-icon>Expanded</span></label> <label class=data-on><span class=switch-icon>Collapsed</span> <span class=value>Expanded</span></label></div><div class=switch-button ng-show="data.activeTab === \'PAYMENTS\'" ng-class="{\'on\': !data.isExpandedViewPayment}" ng-click=clickedJournalToggle()><input name=journal-print-toggle id=journal-print-toggle value="" type=checkbox> <label class=data-off><span class=value>Collapsed</span> <span class=switch-icon>Expanded</span></label> <label class=data-on><span class=switch-icon>Collapsed</span> <span class=value>Expanded</span></label></div>'),t.put("/assets/partials/financials/journal/rvRevenue.html",'<ul class=journal-header-print><li>Revenue <span ng-bind-html="data.revenueData.total_revenue | sntCurrency:this"></span></li></ul><span ng-controller=RVJournalRevenueController ng-click=clickedOnRevenue($event)><ul class=journal-groups><li ng-click="clickedRevenueGroup(\'\')" ng-class="{\'active\':data.activeRevenueTab === \'\'}"><span class="icons icon-navbar only-icon icon-total"></span>{{\'TOTAL\' | translate}}</li><li ng-click="clickedRevenueGroup(\'PRE_STAY\')" ng-class="{\'active\':data.activeRevenueTab === \'PRE_STAY\'}"><span class="icons icon-navbar only-icon icon-prestay" ng-click="prestay=true"></span>{{\'PRE_STAY\' | translate}}</li><li ng-click="clickedRevenueGroup(\'IN_HOUSE\')" ng-class="{\'active\':data.activeRevenueTab === \'IN_HOUSE\'}"><span class="icons icon-navbar only-icon icon-inhouse"></span>{{\'IN_HOUSE\' | translate}}</li><li ng-click="clickedRevenueGroup(\'POST_STAY\')" ng-class="{\'active\':data.activeRevenueTab === \'POST_STAY\'}"><span class="icons icon-navbar only-icon icon-poststay"></span>{{\'POST_STAY\' | translate}}</li></ul><div id=journal-content class="journal-content scrollable revenue" ng-iscroll=revenue_content><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=journal-grid class=journal-grid ng-class="{\'print-details\': !data.isRevenueToggleSummaryActive}"><ul class="grid-header revenue"><li class=name translate="">CHARGE_GROUPS</li><li class=number translate="">NUMBER</li><li class=value translate="">AMOUNT</li></ul><div class=grid-group ng-repeat="(index1 ,level1) in data.revenueData.charge_groups"><a ng-click=clickedFirstLevel(index1) ng-class="{\'active\':level1.active, \'has-arrow\':checkHasArrowFirstLevel(index1)}" class="revenue-title toggle"><strong class=name>{{level1.name}}</strong> <span class=number>{{escapeNullData(level1.number)}}</span> <span class=value ng-bind-html="level1.total | sntCurrency:this"></span></a><div ng-show=level1.active ng-repeat="(index2 ,level2) in level1.charge_codes" class=grid-charge><a ng-click="clickedSecondLevel(index1 ,index2)" ng-class="{\'active\':level2.active , \'has-arrow\':checkHasArrowSecondLevel(index1, index2)}" class="revenue-title toggle"><span class="code short-text">{{level2.code}}</span> <strong class=name>{{level2.name}}</strong> <span class=value ng-bind-html="level2.total | sntCurrency:this"></span></a><table ng-show=level2.active class=grid-items><thead ng-show="level2.transactions.length > 0"><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=align-right>Debit</th></tr></thead><tbody><tr ng-repeat="(index3 ,level3) in level2.transactions"><td>{{level3.room}}<br>{{level3.account_no}}</td><td><strong class=cell-row>{{level3.name}}<br>{{level3.account_name}}</strong> <em class="cell-row grey-text">{{level3.accompany_guest_name}}</em> <span class=cell-row>{{level3.reservation_number}}</span></td><td>{{level3.invoice_or_folio}}</td><td><span class=cell-row>{{level3.date}}</span> <span class="cell-row grey-text">{{level3.time}}</span></td><td><span class=cell-row ng-bind-html=level3.details></span><span class=converted-currency ng-if=level3.converted_currency><span ng-bind-html="level3.debit_converted_amount | sntCurrency:this:level3.converted_currency"></span></span> <span class="converted-currency smaller" ng-if=level3.conversion_rate><span class=currency>{{level3.conversion_rate}}</span></span></td><td class=align-right ng-show="item.debit !== \'\' && item.debit !== null"><span ng-bind-html="level3.debit | sntCurrency:this"></span></td></tr><tr class=pagination><td colspan=6 ng-if=level2.chargeCodePagination><rv-pagination page-options=level2.chargeCodePagination page-data=level2.total_count></rv-pagination></td></tr></tbody></table></div></div><div class=grid-footer><p class=payment><span translate="">TOTAL</span> <span ng-bind-html="data.revenueData.total_revenue | sntCurrency:this"></span></p></div></div></div></div><ul class=journal-footer-print><li>From <span>{{ data.fromDate | date : dateFormat }}</span> to <span>{{ data.toDate | date : dateFormat }}</span><br>Departments(s) <span>{{data.selectedDepartmentName.join(\', \')}}</span><br>Employee(s) <span>{{data.selectedEmployeesName.join(\', \')}}</span><br>Charge Group(s) <span>{{ data.uiSelectedChargeGroup }}</span></li><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span><br>Time printed: {{data.printDate}} {{data.printTime}}</li></ul></span>'),t.put("/assets/partials/financials/journal/rvSummary.html",'<ul class="journal-header-print summary"><li><span>Summary</span> {{\'BAL_AS_OF_EOD\' | translate}} <span>{{ data.summaryDate | date : \'MMMM d, y\'}}</span></li></ul><div ng-controller=RVJournalSummaryController id=journal-content class="journal-content summary scrollable" ng-iscroll=summary_content ng-iscroll-delay=500><div class=wrapper><div class="journal-summary first"><h3 ng-if="(data.summaryData.deposit_debits !== 0 || data.summaryData.deposit_credits !== 0)" class="has-arrow toggle" ng-class="{\'active\': data.summaryData.deposit_balance.active }" ng-click="toggleJournalSummaryItem(\'DEPOSIT_BALANCE\')" translate="">DEPOSIT_BAL</h3><h3 ng-if="(data.summaryData.deposit_debits === 0 && data.summaryData.deposit_credits === 0)" translate="">DEPOSIT_BAL</h3><ul><li>{{\'OPENING\' | translate}}<span ng-bind-html="data.summaryData.deposit_opening_balance | sntCurrency:this"></span></li><li>{{\'DEBIT\' | translate}}<span ng-bind-html="data.summaryData.deposit_debits | sntCurrency:this"></span></li><li>{{\'CREDIT\' | translate}}<span ng-bind-html="data.summaryData.deposit_credits | sntCurrency:this"></span></li><li>{{\'CLOSING\' | translate}}<span ng-bind-html="data.summaryData.deposit_closing_balance | sntCurrency:this"></span></li></ul></div><div class="journal-grid print-details" ng-show=data.summaryData.deposit_balance.active><table class=grid-items><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=cell-charges>Charge</th><th class=align-right>Debit</th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="item in data.summaryData.deposit_balance.transactions"><td>{{item.room}}</td><td><strong class=cell-row>{{item.name}}</strong> <span class=cell-row>{{item.reservation_number}}</span><em class="cell-row grey-text">{{item.accompany_guest_name}}</em></td><td>{{item.invoice_or_folio}}</td><td><span class=cell-row>{{item.date}}</span> <span class="cell-row grey-text">{{item.time}}</span></td><td><span class=cell-row ng-bind-html=item.details></span><span class=converted-currency ng-if=item.converted_currency><span ng-if=item.debit_converted_amount ng-bind-html="item.debit_converted_amount | sntCurrency:this:item.converted_currency"></span> <span ng-if=item.credit_converted_amount ng-bind-html="item.credit_converted_amount | sntCurrency:this:item.converted_currency"></span></span> <span class="converted-currency smaller" ng-if=item.conversion_rate><span class=currency>{{item.conversion_rate}}</span></span></td><td><strong class=cell-row>{{item.charge_code}}</strong> <span class="cell-row grey-text">{{item.charge_desc}}</span></td><td class=align-right ng-if="item.debit !== \'\' && item.debit !== null"><span ng-bind-html="item.debit | sntCurrency:this"></span></td><td class=align-right ng-if="item.debit === \'\' || item.debit === null">&nbsp;</td><td class=align-right ng-if="item.credit !== \'\' && item.credit !== null"><span ng-bind-html="item.credit | sntCurrency:this"></span></td><td class=align-right ng-if="item.credit === \'\' || item.credit === null">&nbsp;</td></tr><tr class=pagination><td colspan=8><rv-pagination page-options=depositPagination page-data=data.summaryData.deposit_balance></rv-pagination></td></tr></tbody></table></div><div class=journal-summary><h3 ng-if="(data.summaryData.guest_debits !== 0 || data.summaryData.guest_credits !== 0)" class="has-arrow toggle" ng-class="{\'active\': data.summaryData.guest_balance.active }" ng-click="toggleJournalSummaryItem(\'GUEST_BALANCE\')" translate="">GUEST_BAL</h3><h3 ng-if="(data.summaryData.guest_debits === 0 && data.summaryData.guest_credits === 0)" translate="">GUEST_BAL</h3><ul><li><span ng-bind-html="data.summaryData.guest_opening_balance | sntCurrency:this"></span></li><li><span ng-bind-html="data.summaryData.guest_debits | sntCurrency:this"></span></li><li><span ng-bind-html="data.summaryData.guest_credits | sntCurrency:this"></span></li><li><span ng-bind-html="data.summaryData.guest_closing_balance | sntCurrency:this"></span></li></ul></div><div class="journal-grid print-details" ng-show=data.summaryData.guest_balance.active><table class=grid-items><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=cell-charges>Charge</th><th class=align-right>Debit</th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="item in data.summaryData.guest_balance.transactions"><td>{{item.room}}</td><td><strong class=cell-row>{{item.name}}</strong> <span class=cell-row>{{item.reservation_number}}</span><em class="cell-row grey-text">{{item.accompany_guest_name}}</em></td><td>{{item.invoice_or_folio}}</td><td><span class=cell-row>{{item.date}}</span> <span class="cell-row grey-text">{{item.time}}</span></td><td><span class=cell-row ng-bind-html=item.details></span><span class=converted-currency ng-if=item.converted_currency><span ng-if=item.debit_converted_amount ng-bind-html="item.debit_converted_amount | sntCurrency:this:item.converted_currency"></span> <span ng-if=item.credit_converted_amount ng-bind-html="item.credit_converted_amount | sntCurrency:this:item.converted_currency"></span></span> <span class="converted-currency smaller" ng-if=item.conversion_rate><span class=currency>{{item.conversion_rate}}</span></span></td><td><strong class=cell-row>{{item.charge_code}}</strong> <span class="cell-row grey-text">{{item.charge_desc}}</span></td><td class=align-right ng-if="item.debit !== \'\' && item.debit !== null"><span ng-bind-html="item.debit | sntCurrency:this"></span></td><td class=align-right ng-if="item.debit === \'\' || item.debit === null">&nbsp;</td><td class=align-right ng-if="item.credit !== \'\' && item.credit !== null"><span ng-bind-html="item.credit | sntCurrency:this"></span></td><td class=align-right ng-if="item.credit === \'\' || item.credit === null">&nbsp;</td></tr><tr class=pagination><td colspan=8><rv-pagination page-options=guestPagination page-data=data.summaryData.guest_balance></rv-pagination></td></tr></tbody></table></div><div class=journal-summary><h3 ng-if="(data.summaryData.ar_debits !== 0 || data.summaryData.ar_credits !== 0)" class="has-arrow toggle" ng-class="{\'active\': data.summaryData.ar_balance.active }" ng-click="toggleJournalSummaryItem(\'AR_BALANCE\')" translate="">AR_BALANCE</h3><h3 ng-if="(data.summaryData.ar_debits === 0 && data.summaryData.ar_credits === 0)" translate="">AR_BALANCE</h3><ul><li><span ng-bind-html="data.summaryData.ar_opening_balance | sntCurrency:this"></span></li><li><span ng-bind-html="data.summaryData.ar_debits | sntCurrency:this"></span></li><li><span ng-bind-html="data.summaryData.ar_credits | sntCurrency:this"></span></li><li><span ng-bind-html="data.summaryData.ar_closing_balance | sntCurrency:this"></span></li></ul></div><div class="journal-grid print-details" ng-show=data.summaryData.ar_balance.active><table class=grid-items><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=cell-charges>Charge</th><th class=align-right>Debit</th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="item in data.summaryData.ar_balance.transactions"><td>{{item.room}}</td><td><strong class=cell-row>{{item.name}}</strong> <span class=cell-row>{{item.reservation_number}}</span><em class="cell-row grey-text">{{item.accompany_guest_name}}</em></td><td>{{item.invoice_or_folio}}</td><td><span class=cell-row>{{item.date}}</span> <span class="cell-row grey-text">{{item.time}}</span></td><td><span class=cell-row ng-bind-html=item.details></span></td><td><strong class=cell-row>{{item.charge_code}}</strong> <span class="cell-row grey-text">{{item.charge_desc}}</span></td><td class=align-right ng-if="item.debit !== \'\' && item.debit !== null" ng-bind-html="item.debit | sntCurrency:this"></td><td class=align-right ng-if="item.debit === \'\' || item.debit === null">&nbsp;</td><td class=align-right ng-if="item.credit !== \'\' && item.credit !== null" ng-bind-html="item.credit | sntCurrency:this"></td><td class=align-right ng-if="item.credit === \'\' || item.credit === null">&nbsp;</td></tr><tr class=pagination><td colspan=8><rv-pagination page-options=arPagination page-data=data.summaryData.ar_balance></rv-pagination></td></tr></tbody></table></div><div class="journal-summary totals"><h3 translate="">TOTALS</h3><ul><li><span ng-bind-html="(data.summaryData.deposit_opening_balance+data.summaryData.guest_opening_balance+data.summaryData.ar_opening_balance) | sntCurrency:this"></span></li><li><span ng-bind-html="(data.summaryData.deposit_debits+data.summaryData.guest_debits+data.summaryData.ar_debits) | sntCurrency:this"></span></li><li><span ng-bind-html="(data.summaryData.deposit_credits+data.summaryData.guest_credits+data.summaryData.ar_credits) | sntCurrency:this"></span></li><li><span ng-bind-html="(data.summaryData.deposit_closing_balance+data.summaryData.guest_closing_balance+data.summaryData.ar_closing_balance) | sntCurrency:this"></span></li></ul></div></div></div><ul class="journal-footer-print summary"><li>Date <span>{{ data.summaryDate | date : \'MMMM d, y\'}}</span></li><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span><br>Time printed: {{data.printDate}} {{data.printTime}}</li></ul>'),
t.put("/assets/partials/financials/journal/rvSummaryDetails.html",'<ul class="journal-header-print summary"><li><span>Summary</span> {{\'BAL_AS_OF_EOD\' | translate}} <span>{{ data.summaryDate | date : \'MMMM d, y\'}}</span></li></ul><div ng-controller=RVJournalSummaryDetailsController id=journal-content ng-iscroll=summary_content class="journal-content summary scrollable"><div class=wrapper><div class="journal-summary first"><h3 ng-if="(details.summaryData.deposit_debits !== 0 || details.summaryData.deposit_credits !== 0)" class="has-arrow toggle" ng-class="{\'active\': details.summaryData.deposit_balance.active }" ng-click="toggleJournalSummaryItem(\'DEPOSIT_BALANCE\')" translate="">DEPOSIT_BAL</h3><h3 ng-if="(details.summaryData.deposit_debits === 0 && details.summaryData.deposit_credits === 0)" translate="">DEPOSIT_BAL</h3><ul><li>{{\'OPENING\' | translate}}<span ng-bind-html="details.summaryData.deposit_opening_balance | sntCurrency:this"></span></li><li>{{\'DEBIT\' | translate}}<span ng-bind-html="details.summaryData.deposit_debits | sntCurrency:this"></span></li><li>{{\'CREDIT\' | translate}}<span ng-bind-html="details.summaryData.deposit_credits | sntCurrency:this"></span></li><li>{{\'CLOSING\' | translate}}<span ng-bind-html="details.summaryData.deposit_closing_balance | sntCurrency:this"></span></li></ul></div><div class="journal-grid print-details" ng-show=details.summaryData.deposit_balance.active><table class=grid-items><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=cell-charges>Charge</th><th class=align-right>Debit</th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="item in details.summaryData.deposit_balance.transactions"><td>{{item.room}}</td><td><strong class=cell-row>{{item.name}}</strong> <span class=cell-row>{{item.reservation_number}}</span><em class="cell-row grey-text">{{item.accompany_guest_name}}</em></td><td>{{item.invoice_or_folio}}</td><td><span class=cell-row>{{item.date}}</span> <span class="cell-row grey-text">{{item.time}}</span></td><td><span class=cell-row ng-bind-html=item.details></span></td><td><strong class=cell-row>{{item.charge_code}}</strong> <span class="cell-row grey-text">{{item.charge_desc}}</span></td><td class=align-right><span ng-show="item.debit !== \'\' && item.debit !== null" ng-bind-html="item.debit | sntCurrency:this"></span></td><td class=align-right><span ng-show="item.credit !== \'\' && item.credit !== null" ng-bind-html="item.credit | sntCurrency:this"></span></td></tr></tbody></table></div><div class=journal-summary><h3 ng-if="(details.summaryData.guest_debits !== 0 || details.summaryData.guest_debits !== 0)" class="has-arrow toggle" ng-class="{\'active\': details.summaryData.guest_balance.active }" ng-click="toggleJournalSummaryItem(\'GUEST_BALANCE\')" translate="">GUEST_BAL</h3><h3 ng-if="(details.summaryData.guest_debits === 0 && details.summaryData.guest_debits === 0)" translate="">GUEST_BAL</h3><ul><li><span ng-bind-html="details.summaryData.guest_opening_balance | sntCurrency:this"></span></li><li><span ng-bind-html="details.summaryData.guest_debits | sntCurrency:this"></span></li><li><span ng-bind-html="details.summaryData.guest_credits | sntCurrency:this"></span></li><li><span ng-bind-html="details.summaryData.guest_closing_balance | sntCurrency:this"></span></li></ul></div><div class="journal-grid print-details" ng-show=details.summaryData.guest_balance.active><table class=grid-items><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=cell-charges>Charge</th><th class=align-right>Debit</th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="item in details.summaryData.guest_balance.transactions"><td>{{item.room}}</td><td><strong class=cell-row>{{item.name}}</strong> <span class=cell-row>{{item.reservation_number}}</span><em class="cell-row grey-text">{{item.accompany_guest_name}}</em></td><td>{{item.invoice_or_folio}}</td><td><span class=cell-row>{{item.date}}</span> <span class="cell-row grey-text">{{item.time}}</span></td><td><span class=cell-row ng-bind-html=item.details></span></td><td><strong class=cell-row>{{item.charge_code}}</strong> <span class="cell-row grey-text">{{item.charge_desc}}</span></td><td class=align-right><span ng-show="item.debit !== \'\' && item.debit !== null" ng-bind-html="item.debit | sntCurrency:this"></span></td><td class=align-right><span ng-show="item.credit !== \'\' && item.credit !== null" ng-bind-html="item.credit | sntCurrency:this"></span></td></tr></tbody></table></div><div class=journal-summary><h3 ng-if="(details.summaryData.ar_debits !== 0 || details.summaryData.ar_credits !== 0)" class="has-arrow toggle" ng-class="{\'active\': details.summaryData.ar_balance.active }" ng-click="toggleJournalSummaryItem(\'AR_BALANCE\')" translate="">AR_BALANCE</h3><h3 ng-if="(details.summaryData.ar_debits === 0 && details.summaryData.ar_credits === 0)" translate="">AR_BALANCE</h3><ul><li><span ng-bind-html="details.summaryData.ar_opening_balance | sntCurrency:this"></span></li><li><span ng-bind-html="details.summaryData.ar_debits | sntCurrency:this"></span></li><li><span ng-bind-html="details.summaryData.ar_credits | sntCurrency:this"></span></li><li><span ng-bind-html="details.summaryData.ar_closing_balance | sntCurrency:this"></span></li></ul></div><div class="journal-grid print-details" ng-show=details.summaryData.ar_balance.active><table class=grid-items><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=cell-charges>Charge</th><th class=align-right>Debit</th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="item in details.summaryData.ar_balance.transactions"><td>{{item.room}}</td><td><strong class=cell-row>{{item.name}}</strong> <span class=cell-row>{{item.reservation_number}}</span><em class="cell-row grey-text">{{item.accompany_guest_name}}</em></td><td>{{item.invoice_or_folio}}</td><td><span class=cell-row>{{item.date}}</span> <span class="cell-row grey-text">{{item.time}}</span></td><td><span class=cell-row ng-bind-html=item.details></span></td><td><strong class=cell-row>{{item.charge_code}}</strong> <span class="cell-row grey-text">{{item.charge_desc}}</span></td><td class=align-right><span ng-show="item.debit !== \'\' && item.debit !== null" ng-bind-html="item.debit | sntCurrency:this"></span></td><td class=align-right><span ng-show="item.credit !== \'\' && item.credit !== null" ng-bind-html="item.credit | sntCurrency:this"></span></td></tr></tbody></table></div><div class="journal-summary totals"><h3 translate="">TOTALS</h3><ul><li><span ng-bind-html="details.summaryData.deposit_opening_balance+details.summaryData.guest_opening_balance+details.summaryData.ar_opening_balance | sntCurrency:this"></span></li><li><span ng-bind-html="details.summaryData.deposit_debits+details.summaryData.guest_debits+details.summaryData.ar_debits | sntCurrency:this"></span></li><li><span ng-bind-html="details.summaryData.deposit_credits+details.summaryData.guest_credits+details.summaryData.ar_credits | sntCurrency:this"></span></li><li><span ng-bind-html="details.summaryData.deposit_closing_balance+details.summaryData.guest_closing_balance+details.summaryData.ar_closing_balance | sntCurrency:this"></span></li></ul></div></div></div><ul class="journal-footer-print summary"><li>Date <span>{{ data.summaryDate | date : \'MMMM d, y\'}}</span></li><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span><br>Time printed: {{data.printDate}} {{data.printTime}}</li></ul>'),t.put("/assets/partials/groups/accounts/rvAccountConfigurationActivityTab.html","<div ng-controller=rvAccountActivityCtrl><div ng-include=\"'/assets/partials/activityLog/rvActivityLogTemplate.html'\"></div></div>"),t.put("/assets/partials/groups/accounts/rvGroupConfigurationAccountTab.html",'<form id=group-transactions name=group-transactions class="form card-tab scrollable"><div class=wrapper>Account</div></form>'),t.put("/assets/partials/groups/activity/rvGroupConfigurationActivityTab.html","<div ng-controller=rvGroupActivityCtrl><div ng-include=\"'/assets/partials/activityLog/rvActivityLogTemplate.html'\"></div></div>"),t.put("/assets/partials/groups/notesAndFiles/rvGroupConfigurationNotesAndFiles.html","<rv-file-cloud-storage card-type=group card-id={{groupConfigData.summary.group_id}} show-files=\"isCloudStorageEnabledForCardType('group')\" card-name={{groupConfigData.summary.group_name}}></rv-file-cloud-storage>"),t.put("/assets/partials/groups/roomBlock/rvGroupAddRoomAndRatesPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action={action} id=group-room-and-rates name=group-room-and-rates class="modal-content group-rooms"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">ROOM_TYPES_AND_RATES</span><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=group-rooms-grid class="rooms-grid scrollable" ng-iscroll=room_type_scroller ng-iscroll-delay=500><div class=wrapper><div class=row ng-repeat="row in selectedRoomTypeAndRates track by $index"><div class=entry-data><div class=room-type><label for=room-type-1-select class=row-count>{{$index+1}}</label><div class=select><select id=room-type-1-select ng-model=row.room_type_id ng-change=changeBestAvailableRate(row) iscroll-stop-propagation="" ng-class="{\'placeholder\': isEmpty(row.room_type_id)}" ng-disabled=shouldDisableRateEdit(row)><option value="" translate="" ng-selected=isEmpty(row.room_type_id)>SELECT_ROOM_TYPE</option><option ng-hide="hideRoomType(row.room_type_id, roomType)" ng-repeat="roomType in roomTypes" value={{roomType.room_type_id}} ng-selected="roomType.room_type_id==row.room_type_id">{{roomType.room_type_name}}</option></select></div></div><div class=entry><label for=room-type-1-bar translate="" ng-hide="$index>0">BAR_SINGLE</label> <input id=room-type-1-bar ng-model=row.best_available_rate_amount type=text readonly=""></div><div class=entry><label for=room-type-1-single translate="" ng-hide="$index>0">SINGLE_OCCUPANCY</label> <input id=room-type-1-single ng-model=row.single_rate ng-if="groupConfigData.summary.rate == -1" type=text ng-disabled=shouldDisableRateEdit(row)> <input id=room-type-1-single value={{parseCurrency(row.single_rate)}} ng-if="groupConfigData.summary.rate != -1" type=text readonly=""></div><div class=entry><label for=room-type-1-double translate="" ng-hide="$index>0">DOUBLE_OCCUPANCY</label> <input id=room-type-1-double ng-model=row.double_rate ng-if="groupConfigData.summary.rate == -1" type=text ng-disabled=shouldDisableRateEdit(row)> <input id=room-type-1-double value={{parseCurrency(row.double_rate)}} ng-if="groupConfigData.summary.rate != -1" type=text readonly=""></div><div class=entry><label for=room-type-1-plus translate="" ng-hide="$index>0">ONE_MORE_ADULT</label> <input id=room-type-1-plus ng-model=row.extra_adult_rate ng-if="groupConfigData.summary.rate == -1" type=text ng-disabled=shouldDisableRateEdit(row)> <input id=room-type-1-plus value={{parseCurrency(row.extra_adult_rate)}} ng-if="groupConfigData.summary.rate != -1" type=text readonly=""></div></div><span class="remove-type icons icon-remove-60" ng-class="{\'hidden\': !shouldShowDeleteButton()}" ng-click=deleteRoomTypeAndRatesRow($index)>-</span><span class="add-type icons icon-add-60" ng-class="{\'hidden\': !shouldShowAddNewButton(row)}" ng-click=addNewRoomTypeAndRatesRow()>+</span></div></div></div><div class=actions><button type=button class="button blank" ng-click=clickedOnCancelButton()>Cancel</button> <button type=button class="button green" ng-class="{\'overlay\': groupConfigData.summary.is_cancelled}" ng-disabled=groupConfigData.summary.is_cancelled ng-click=checkIfGroupCustomRateChanged();>Update</button></div></form></div>'),t.put("/assets/partials/groups/roomBlock/rvGroupConfigurationRoomBlockTab.html",'<form id=group-room-block name=group-room-block class="form card-tab inner-header rooms" ng-controller=rvGroupRoomBlockCtrl><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div id=group-room-block-header class="tab-header with-filters"><div class="entry date-range"><div class=has-datepicker><label for=room-block-start translate="">START_DATE</label> <input tabindex=-1 id=room-block-start class=range-datepicker placeholder="{{\'SELECT_START_DATE\'|translate}}" readonly="" ui-date=startDateOptions rv-set-textbox-value="" listen-this=groupConfigData.summary.block_from|date:dateFormat ng-disabled=shouldDisableStartDate()></div><div class=has-datepicker><label for=room-block-end translate="">END_DATE</label> <input tabindex=-1 id=room-block-end class=range-datepicker placeholder="{{\'SELECT_END_DATE\'|translate}}" readonly="" ui-date=endDateOptions rv-set-textbox-value="" listen-this=groupConfigData.summary.block_to|date:dateFormat ng-disabled=shouldDisableEndDate()></div></div><div class=actions ng-hide=!!groupConfigData.summary.is_cancelled ng-class="{\'move-group\' : !shouldDisableCreateBlockButton()}"><button type=button class=button tabindex=-1 ng-disabled=shouldDisableCreateBlockButton() ng-hide=shouldHideCreateBlockButton() ng-click=clickedOnCreateButton() ng-class="{\'grey\' : shouldDisableCreateBlockButton(), \'green\': !shouldDisableCreateBlockButton()}" translate="">CREATE_BLOCK</button><button type=button class="button blue" tabindex=-1 ng-show=changeDatesActions.shouldShowMoveButton() ng-click=clickedOnMoveButton()>Move Group</button><button type=button class="button blank" tabindex=-1 ng-click=clickedOnCancelMoveButton() ng-show=changeDatesActions.isInCompleteMoveMode()>Cancel</button> <button type=button class="button green" tabindex=-1 ng-click=clickedOnSaveMoveButton() ng-show=changeDatesActions.isInCompleteMoveMode()>Save</button></div><div class="entry date" ng-show=shouldShowRoomBlockActions()><label for=allotment-start-view translate="">GO_TO_DATE</label> <input id=allotment-start-date class=datepicker ui-date=timeLineStartDateOptions rv-set-textbox-value="" listen-this="timeLineStartDate | date:dateFormat" readonly=""></div><div class=entry ng-class="{\'hidden\': shouldHideRoomsAndPickUpArea()}"><label for=group-total-rooms translate="">TOTAL_ROOMS</label> <input tabindex=-1 id=group-total-rooms ng-model=totalBlockedCount ng-readonly=shouldChangeTotalRoomsToReadOnly()></div><div class=entry ng-class="{\'hidden\': shouldHideRoomsAndPickUpArea()}"><label for=group-total-rooms translate="">TOTAL_PICK_UP</label> <input tabindex=-1 id=group-total-rooms ng-model=totalPickups ng-readonly=shouldChangeTotalPickUpToReadOnly()></div><div class="entry status" ng-class="{\'hidden\': shouldHideHoldStatus()}"><label for=group-hold-status translate="">HOLD_STATUS</label><div class="select disabled"><select id=group-hold-status disabled=""><option ng-repeat="holdstatus in holdStatusList" value={{holdstatus.id}} ng-hide="holdstatus.name == \'Cancel\' && holdstatus.is_system && selectedHoldStatus!=holdstatus.id" ng-selected="selectedHoldStatus === holdstatus.id">{{holdstatus.name}}</option></select></div></div></div><div id=group-room-block-content class=tab-details><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><button type=button class=next-dates ng-class="{ \'hidden\': !shouldShowLoadNextSetButton() }" ng-click=fetchNextSetOfRoomBlockData() ng-if=isRoomViewActive>{{\'GROUP_NEXT_SET\' | translate}} <span class="has-arrow next-view"></span></button> <button type=button class=next-dates ng-class="{ \'hidden\': !shouldShowLoadNextSetButton() }" ng-click=fetchNextSetOfRoomTypesRateData() ng-if=!isRoomViewActive>{{\'GROUP_NEXT_SET\' | translate}} <span class="has-arrow next-view"></span></button><div class=room-block-actions ng-class="{\'room-block-actions-rates\': !isRoomViewActive}" ng-show=shouldShowRoomsRates()><button type=button class="button green" ng-click=clickedOnSaveButton() ng-class="{\'hidden\': !shouldShowSaveButton()}" ng-if=isRoomViewActive translate="">Save Changes</button><button type=button class="button blank" ng-click=clickedOnDiscardButton() ng-class="{\'hidden\': !shouldShowDiscardButton()}" ng-if=isRoomViewActive translate="">Cancel Changes</button> <button type=button class="button green" ng-click=checkIfGroupCustomRateChanged(); ng-class="{\'hidden\': !hasRateChanged}" ng-if=!isRoomViewActive translate="">Save Changes</button><button type=button class="button blank" ng-click=clickedOnDiscardButtonInRatesView() ng-class="{\'hidden\': !hasRateChanged}" ng-if=!isRoomViewActive translate="">Cancel Changes</button><div class=switch-button ng-class="{\'on\': isRoomViewActive, \'hidden\': hasBookingDataChanged || hasRateChanged, \'overlay\': shouldDisableRoomRatesToggleBtn() }"><input id=group-block-type-switch value=1 type=checkbox ng-model=isRoomViewActive ng-click=toggleRoomRateBtn() ng-disabled=shouldDisableRoomRatesToggleBtn()> <label class=data-off><span class=value>Rooms</span> <span class=switch-icon>Rates</span></label> <label class=data-on><span class=switch-icon>Rooms</span> <span class=value>Rates</span></label></div><button type=button class=add-new-button ng-class="{\'hidden\': hasBookingDataChanged || hasRateChanged}" ng-click=clickedOnAddRoomsAndRatesButton()>+ Add New</button></div><div class=no-content ng-hide=shouldHideAddRoomsButton()><div class=info><a ng-click=clickedOnAddRoomsAndRatesButton() class=button ng-disabled=shouldDisableAddRoomsAndRate() ng-class="{ \'green\': !shouldDisableAddRoomsAndRate(), \'grey\': shouldDisableAddRoomsAndRate()}" translate="">ADD_ROOMS_AND_RATE</a></div></div><div class="room-block-sidebar scrollable" ng-show=shouldShowRoomsRates() ng-iscroll=room_block_scroller ng-class="{\'room-block-grid-rates\' : !isRoomViewActive}"><div class=wrapper><div ng-class="{\'open\' : roomtype_rate.isCollapsed}" class=row ng-repeat="roomtype_rate in groupConfigData.summary.selected_room_types_and_bookings" ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions ng-init="roomtype_rate.isCollapsed = true" ng-if=isRoomViewActive><p class="line line-toggle" ng-class="{\'active\' : roomtype_rate.isCollapsed}" ng-click="roomtype_rate.isCollapsed = !roomtype_rate.isCollapsed">{{roomtype_rate.room_type_name}}</p><ul ng-class="{\'hidden\' : !roomtype_rate.isCollapsed}"><li class=line translate="" ng-hide=shouldHideSingleEntryRow()>SINGLE</li><li class=line translate="" ng-hide=shouldHideDoubleEntryRow()>DOUBLE</li><li class="line small add" ng-if=shouldShowAddTrippleButton(roomtype_rate) ng-click=addTripleEntryRow(roomtype_rate) ng-class="{\'add\': !shouldDisableAddTripleButton(roomtype_rate)}" translate="">ADD_TRIPLE</li><li class=line ng-if=shouldShowTripleEntryRow(roomtype_rate) translate="">TRIPLE</li><li class=line ng-if=shouldShowQuadrupleEntryRow(roomtype_rate) translate="">QUADRUPLE</li><li class="line small" ng-if=shouldShowAddQuadrupleButton(roomtype_rate) ng-click=addQuadrupleEntryRow(roomtype_rate) ng-class="{\'add\': !shouldDisableAddQuadrupleButton(roomtype_rate)}" translate="">ADD_QUADRUPLE</li><li class="line small add" ng-if="!shouldShowAddTrippleButton(roomtype_rate) && !shouldShowAddQuadrupleButton(roomtype_rate)"></li></ul></div><div ng-class="{\'open\' : roomtype_rate.isCollapsed}" class="row end" ng-repeat="roomtype_rate in groupConfigData.summary.selected_room_types_and_daily_rates" ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions ng-init="roomtype_rate.isCollapsed = true" ng-if=!isRoomViewActive><p class="line line-toggle" ng-class="{\'active\' : roomtype_rate.isCollapsed}" ng-click="roomtype_rate.isCollapsed = !roomtype_rate.isCollapsed">{{roomtype_rate.room_type_name}} <span class=type ng-if=!isRoomViewActive>Bar (Single)</span></p><ul ng-class="{\'hidden\' : !roomtype_rate.isCollapsed}"><li class=line translate="" ng-hide=shouldHideSingleEntryRow()>SINGLE</li><li class=line translate="" ng-hide=shouldHideDoubleEntryRow()>DOUBLE</li><li class=line translate="">ONE_MORE_ADULT</li></ul></div></div></div><div class="room-block-timeline scrollable" ng-iscroll=room_rates_timeline_scroller ng-show=shouldShowRoomsRates() ng-class="{\'paginated\': shouldShowLoadNextSetButton(), \'room-block-timeline-rates\': !isRoomViewActive}"><ul style=width:{{getWidthForRoomBlockTimeLine()}}; class=wrapper><li ng-repeat="occupancy in groupConfigData.summary.selected_room_types_and_occupanies" ng-if=isRoomViewActive ng-class="{\'shoulder-date\': occupancy.is_shoulder_date,\'with-button\': shouldShowCopyButton(occupancy,$index)}"><div class=inner ng-class="{\'has-event-block\' : eventsCount[occupancy.date] > 0}" data-events={{eventsCount[occupancy.date]}} ng-click="showHouseEventsListPopup(eventsCount[occupancy.date], occupancy.date)"><span ng-if=!occupancy.is_shoulder_date>{{getDayOfWeek(occupancy.date, fulldayInWeek)}}</span> <span ng-if=occupancy.is_shoulder_date>{{getDayOfWeek(occupancy.date, fulldayInWeek)}} - {{\'SHOULDER\' | translate}}</span> <strong>{{formatDateForUI(occupancy.date, monthAndDate)}}</strong> <em>{{occupancy.occupancy}}% Occupancy</em></div><div class=column ng-if=isRoomViewActive><div class="line small"><em class=cell>Total</em> <em class=cell>Pick-up</em></div><div class=line><input type=number value={{occupancy.totalRoomsBlockedCountPerDay}} class=cell disabled=""> <input type=number value={{occupancy.totalRoomsPickedCountPerDay}} class=cell disabled=""></div></div></li><li ng-repeat="occupancy in groupConfigData.summary.selected_room_types_rate_view_occupancies" ng-if=!isRoomViewActive ng-class="{\'shoulder-date\': occupancy.is_shoulder_date,\'with-button\': shouldShowCopyRateButton(occupancy,$index)}"><div class=inner ng-class="{\'has-event-block\' : eventsCount[occupancy.date] > 0}" data-events={{eventsCount[occupancy.date]}} ng-click="showHouseEventsListPopup(eventsCount[occupancy.date], occupancy.date)"><span ng-if=!occupancy.is_shoulder_date>{{getDayOfWeek(occupancy.date, fulldayInWeek)}}</span> <span ng-if=occupancy.is_shoulder_date>{{getDayOfWeek(occupancy.date, fulldayInWeek)}} - {{\'SHOULDER\' | translate}}</span> <strong>{{formatDateForUI(occupancy.date, monthAndDate)}}</strong> <em>{{occupancy.occupancy}}% Occupancy</em></div></li></ul></div><div class="room-block-grid scrollable" ng-iscroll=room_rates_grid_scroller ng-show=shouldShowRoomsRates() ng-class="{\'paginated\': houldShowLoadNextSetButton(), \'room-block-grid-rates\': !isRoomViewActive}"><div class=wrapper style=width:{{getWidthForRoomBlockTimeLine()}};><div class=row ng-repeat="roomType in groupConfigData.summary.selected_room_types_and_bookings" emit-when="{event: \'ALL_RENDERED\', condition: $last}" ng-if=isRoomViewActive ngrepeatend=""><div class=column ng-repeat="dateData in roomType.dates" ng-class="{\'shoulder-date\': dateData.is_shoulder_date, \'with-button\': shouldShowCopyButton(dateData,$index)}"><div class="line small" ng-class="{\'hidden\' : !roomType.isCollapsed}"><em class=cell translate="">TOTAL</em> <em class=cell translate="">PICK_UP</em></div><div class=line><input tabindex=-1 type=text value={{getTotalBookedOfIndividualRoomType(dateData)}} class=cell disabled=""> <input tabindex=-1 type=text value={{getTotalPickedUpOfIndividualRoomType(dateData)}} class=cell disabled=""></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide=shouldHideSingleEntryRow()><input tabindex=-1 type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-disabled="shouldDisableSingleEntryBox(dateData, roomType) || dateData.is_shoulder_date" ng-model=dateData.single class=cell> <input tabindex=-1 type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.single_pickup class=cell disabled=""><button ng-if=shouldShowCopyButton(dateData,$index) tabindex=-1 ng-click="copySingleValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right" ng-class="{\'overlay\': shouldDisableBulkUpdateButton(dateData)}" ng-disabled=shouldDisableBulkUpdateButton(dateData)>Copy to all days</button></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide=shouldHideDoubleEntryRow()><input tabindex=-1 type=text rv-delay-textbox="" delay=100 ng-disabled="shouldDisableDoubleEntryBox(dateData, roomType) || dateData.is_shoulder_date" function-to-fire=bookingDataChanging ng-model=dateData.double class=cell> <input tabindex=-1 type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.double_pickup class=cell disabled=""><button ng-if=shouldShowCopyButton(dateData,$index) tabindex=-1 ng-click="copyDoubleValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right" ng-class="{\'overlay\': shouldDisableBulkUpdateButton(dateData)}" ng-disabled=shouldDisableBulkUpdateButton(dateData)>Copy to all days</button></div><div class=line ng-if=shouldShowTripleEntryRow(roomType) ng-class="{\'hidden\' : !roomType.isCollapsed}"><input tabindex=-1 type=text rv-delay-textbox="" delay=100 ng-disabled="shouldDisableTripleEntryBox(dateData, roomType) || dateData.is_shoulder_date" function-to-fire=bookingDataChanging ng-model=dateData.triple class=cell> <input tabindex=-1 type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.triple_pickup class=cell disabled=""><button ng-if=shouldShowCopyButton(dateData,$index) tabindex=-1 ng-click="copyTripleValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right" ng-class="{\'overlay\': shouldDisableBulkUpdateButton(dateData)}" ng-disabled=shouldDisableBulkUpdateButton(dateData)>Copy to all days</button></div><div class=line ng-if=shouldShowQuadrupleEntryRow(roomType) ng-class="{\'hidden\' : !roomType.isCollapsed}"><input tabindex=-1 type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-disabled="shouldDisableQuadrupleEntryBox(dateData, roomType) || dateData.is_shoulder_date" ng-model=dateData.quadruple class=cell> <input tabindex=-1 type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.quadruple_pickup class=cell disabled=""><button ng-if=shouldShowCopyButton(dateData,$index) tabindex=-1 ng-click="copyQuadrupleValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right" ng-class="{\'overlay\': shouldDisableBulkUpdateButton(dateData)}" ng-disabled=shouldDisableBulkUpdateButton(dateData)>Copy to all days</button></div><div class="line small cellspan" ng-class="{\'hidden\' : !roomType.isCollapsed}"><em class=cellspan>{{\'AVAILABILITY_GROUP\'|translate}} <span ng-class="{\'green\': (dateData.availability>0), \'red\': (dateData.availability==0) }">{{dateData.availability}}</span></em></div></div></div><div class=row ng-repeat="roomType in groupConfigData.summary.selected_room_types_and_daily_rates" emit-when="{event: \'RENDERING_COMPLETE\', condition: $last}" ngrepeatend="" ng-if=!isRoomViewActive><div class=column ng-repeat="dateData in roomType.dates" ng-class="{\'shoulder-date\': dateData.is_shoulder_date, \'with-button\': shouldShowCopyRateButton(dateData,$index)}"><div class="line small" ng-class="{\'hidden\' : !roomType.isCollapsed}"><em class=cell>Rate in {{currencySymbol}}</em></div><div class=line><input type=text ng-model=dateData.best_available_rate_amount class=cell disabled=""></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide=shouldHideSingleEntryRow()><button ng-if=shouldShowCopyRateButton(dateData,$index) tabindex=-1 ng-click="copySingleCellRateValueToOtherBlocks(dateData, roomType, \'single_amount\')" type=button class="admin-icons icon-mover-right" ng-class="{\'overlay\': shouldDisableBulkRateUpdateButton(dateData)}" ng-disabled=shouldDisableBulkRateUpdateButton(dateData)>Copy to all days</button> <input tabindex=-1 type=text rv-delay-textbox="" delay=100 function-to-fire=rateChanging ng-disabled="shouldDisableRateEntryBox(dateData, roomType)" ng-model=dateData.single_amount class=cell ng-readonly="groupConfigData.summary.rate != -1"></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide=shouldHideDoubleEntryRow()><button ng-if=shouldShowCopyRateButton(dateData,$index) tabindex=-1 ng-click="copySingleCellRateValueToOtherBlocks(dateData, roomType,\'double_amount\')" type=button class="admin-icons icon-mover-right" ng-class="{\'overlay\': shouldDisableBulkRateUpdateButton(dateData)}" ng-disabled=shouldDisableBulkRateUpdateButton(dateData)>Copy to all days</button> <input tabindex=-1 type=text rv-delay-textbox="" delay=100 ng-disabled="shouldDisableRateEntryBox(dateData, roomType)" function-to-fire=rateChanging ng-model=dateData.double_amount ng-readonly="groupConfigData.summary.rate != -1" class=cell></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}"><button ng-if=shouldShowCopyRateButton(dateData,$index) tabindex=-1 ng-click="copySingleCellRateValueToOtherBlocks(dateData, roomType, \'extra_adult_amount\')" type=button class="admin-icons icon-mover-right" ng-class="{\'overlay\': shouldDisableBulkRateUpdateButton(dateData)}" ng-disabled=shouldDisableBulkRateUpdateButton(dateData)>Copy to all days</button> <input tabindex=-1 type=text rv-delay-textbox="" delay=100 ng-disabled="shouldDisableRateEntryBox(dateData, roomType)" function-to-fire=rateChanging ng-model=dateData.extra_adult_amount ng-readonly="groupConfigData.summary.rate != -1" class=cell></div><div class="line small cellspan" ng-class="{\'hidden\' : !roomType.isCollapsed}"><em class=cellspan>{{\'AVAILABILITY_GROUP\'|translate}} <span ng-class="{\'green\': (dateData.availability>0), \'red\': (dateData.availability==0) }">{{dateData.availability}}</span></em></div></div></div></div></div></div></form>'),t.put("/assets/partials/groups/roomBlock/rvGroupConfirmMassUpdatePopup.html",'<div id=modal ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content form new-worksheet"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">SELECT_END_DATE</span> <span class=notice ng-if="overBookingMessage !=\'\'" translate="">{{overBookingMessage | translate}}</span><div class="entry full-width has-datepicker"><input id=end-date class=datepicker ui-date=massUpdateEndDateOptions ng-if=isRoomViewActive rv-set-textbox-value="" listen-this="massUpdateEndDate | date:dateFormat" readonly=""> <input id=end-date class=datepicker ui-date=massRateUpdateEndDateOptions ng-if=!isRoomViewActive rv-set-textbox-value="" listen-this="massRateUpdateEndDate | date:dateFormat" readonly=""></div><div class=actions><button type=button class=button ng-click="clickedOnMassUpdateSaveButton(ngDialogData, !!overBookingMessage)" ng-disabled=disableButtons ng-class="{ \'grey\': disableButtons, \'green\': !disableButtons }" ng-if=isRoomViewActive translate="">SAVE</button> <button type=button class=button ng-click=clickedOnMassRateUpdateButton(ngDialogData) ng-disabled=disableButtons ng-class="{ \'grey\': disableButtons, \'green\': !disableButtons }" ng-if=!isRoomViewActive translate="">SAVE</button> <button type=button class="button blank" ng-click=clickedOnCancelButton() translate="">CANCEL</button></div></div></div>'),t.put("/assets/partials/groups/roomBlock/rvGroupInhouseReservationsExistsPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class=modal-content><span class="h3 message" translate="">INHOUSE_RESERVATIONS_EXISTS_BUT_ARE_EXCLUDED_FROM_THIS_RATE_UPDATE</span> <button id=ok class="button green modal-close" ng-click=updateIfInHouseReservationExists(ngDialogData); ng-if=!isFromSummary>OK</button> <button id=ok class="button green modal-close" ng-click=updateRate(true) ng-if=isFromSummary>OK</button></div></div>'),
t.put("/assets/partials/groups/roomBlock/rvGroupNoPermissionOverBookingPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">Room Block exceeds Room Type or House Availability - No permission to overbook.</span> <button type=button class="button green modal-close" ng-click=closeDialog();>Ok</button></div></div>'),t.put("/assets/partials/groups/roomBlock/rvGroupRoomBlockPickedupReservationsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content alert wide"><button id=modal-close type=button class=modal-close ng-click=closeRateChangePromptPopup() ng-if=isFromSummary><span class="icons icon-close invert"></span></button> <button id=modal-close type=button class=modal-close ng-click=closeDialog() ng-if=!isFromSummary><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2" ng-if=!isFromSummary translate="">GROUP_CUSTOM_RATE_HAS_CHANGED</span> <span class="message h2" ng-if=isFromSummary translate="">RATE_HAS_CHANGED</span> <button type=button class="button green modal-close" ng-click=checkIfInhouseReservationsExists(ngDialogData); ng-if=!isFromSummary translate="">APPLY_TO_NEW_AND_EXISTING_RESERVATIONS</button> <button type=button class="button blue modal-close" ng-click=updateRateToNewReservations(ngDialogData); ng-if=!isFromSummary translate="">APPLY_TO_NEW_RESERVATIONS_ONLY</button> <button type=button class="button green modal-close" ng-click=updateRateToNewAndExistingReservations(); ng-if=isFromSummary translate="">APPLY_TO_NEW_AND_EXISTING_RESERVATIONS</button> <button type=button class="button blue modal-close" ng-click=updateRateToNewReservations(); ng-if=isFromSummary translate="">APPLY_TO_NEW_RESERVATIONS_ONLY</button></div></div>'),t.put("/assets/partials/groups/roomBlock/rvGroupWarnOverBookingPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">{{ngDialogData.message | translate}}</span> <button type=button class="button green modal-close" ng-click="closeDialog(); saveRoomBlock(true, true);">Ok</button></div></div>'),t.put("/assets/partials/groups/rooming/rvBatchPrintRegistrationCards.html",'<section ng-repeat="groupReservation in printRegCardData.group_reservations" ng-class="{\'no-print\' : !isPrintRegistrationCard || !groupReservation.print}"><table class=hotel-guest-info><tbody><tr><td class=hotel-info><img ng-src="{{ printRegCardData.hotel_logo }}" alt=""><p>{{ printRegCardData.hotel_name }}<br>{{ printRegCardData.street }}<br>{{ printRegCardData.city }}, {{ printRegCardData.state }} {{printRegCardData.zipcode}}<br><br>Ph: {{ printRegCardData.phone }}</p></td><td class=guest-info><table class=name-addr><tr><td><span>REGISTERED TO:</span> <strong>{{ groupReservation.guest_details.first_name }} {{ groupReservation.guest_details.last_name }}</strong> <strong><label ng-if="groupReservation.guest_details.street || groupReservation.guest_details.city">{{ groupReservation.guest_details.street }} {{ groupReservation.guest_details.city }},</label> <label>{{ groupReservation.guest_details.state }} {{ groupReservation.guest_details.postal_code }}</label></strong></td><td><span>BILL TO:</span> <strong>{{ groupReservation.bill_to.name }}</strong> <strong ng-if="groupReservation.bill_to.street1 || groupReservation.bill_to.street2">{{ groupReservation.bill_to.street1 }} {{ groupReservation.bill_to.street2 }}</strong> <strong><label ng-if=groupReservation.bill_to.city>{{ groupReservation.bill_to.city }},</label> <label ng-if=groupReservation.bill_to.state>{{ groupReservation.bill_to.state }}</label> <label>{{ groupReservation.bill_to.postal_code }}</label></strong></td></tr></table><table><tr><td><span>ARRIVAL DATE:</span> <strong>{{ groupReservation.arrival_date | date : dateFormat }}</strong></td><td><span>DEPARTURE DATE:</span> <strong>{{ groupReservation.dep_date | date : dateFormat }}</strong></td><td><span>CONFIRMATION:</span> <strong>{{ groupReservation.confirm_no }}</strong></td></tr><tr><td><span>ARRIVAL TIME:</span> <strong>{{ groupReservation.arrival_time }}</strong> <span>&nbsp;</span></td><td><span>DEPARTURE TIME:</span> <strong>{{ groupReservation.departure_time }}</strong> <span>&nbsp;</span></td><td><span>ROOM:</span> <strong>{{ groupReservation.room_number}}</strong> <span>&nbsp;</span></td></tr><tr><td><span>AMOUNT PAID:</span> <strong><span ng-bind-html="groupReservation.amount_paid | sntCurrency:this"></span></strong></td><td><span>PAYMENT:</span> <strong>{{ groupReservation.payment_type }}</strong></td><td><span>ACCOUNT:</span> <strong>{{ groupReservation.account }}</strong></td></tr></table><table class=rate-initial><tr><td ng-hide=printRegCardData.hide_rates><span>AVERAGE DAILY RATE:</span> <strong><span ng-bind-html="groupReservation.adr | sntCurrency:this"></span></strong></td><td><span>GUEST INITIALS:</span></td></tr></table></td></tr></tbody></table><table class=bill-details><thead><tr><th>DATE</th><th ng-hide=printRegCardData.hide_rates>RATE</th><th ng-hide=printRegCardData.hide_rates>TAXES</th><th>ADD-ON</th><th ng-hide=printRegCardData.hide_rates class=addon-price>ADD-ON PRICE</th></tr></thead><tbody><tr ng-repeat="each in groupReservation.daily_instances_info"><td>{{ each.date | date : dateFormat }}</td><td ng-hide=printRegCardData.hide_rates><span ng-bind-html="each.rate | sntCurrency:this"></span></td><td ng-hide=printRegCardData.hide_rates><span ng-bind-html="each.tax | sntCurrency:this"></span></td><td class=addons colspan=2><table><tr ng-repeat="item in each.addons"><td>{{ item.name }}</td><td ng-hide=printRegCardData.hide_rates ng-if="item.price == \'INCLUDED\'">{{ item.price }}</td><td ng-hide=printRegCardData.hide_rates ng-if="item.price != \'INCLUDED\'"><span ng-bind-html="item.price | sntCurrency:this"></span></td></tr></table></td></tr></tbody></table><table class=guest-data-enter ng-if=groupReservation.is_show_vehiche_info><tr><td>Guest DL/ID #</td><td class=details><table><tr><td>Vehicle Make</td><td>Lic. Plate #</td><td>Lic. Plate State/Prov.</td></tr></table></td></tr></table><table class="terms-signature page-break"><tr><td colspan=2 class=terms data-ng-bind-html=trustAsHtml(printRegCardData.terms_conditions)></td></tr><tr><td><span class=signature>Guest Signature</span></td></tr></table></section>'),t.put("/assets/partials/groups/rooming/rvGroupRoomingListTab.html",'<form id=group-rooming-list name=group-rooming-list class="form card-tab inner-header rooming-list" ng-controller=rvGroupRoomingListCtrl><div ng-include="\'/assets/partials/common/rvFullscreenHeader.html\'" class=fullscreen-header></div><div id=group-room-list-header class=tab-header ng-class="{\'no-print\' : isPrintRegistrationCard}"><div class="search-form has-dates" ng-class="{\'open\': isAddingMode && !groupConfigData.summary.is_cancelled}"><div class="entry filter"><button type=button class="button icons icon-add-60" ng-click=toggleDisplayingMode() ng-class="{\'icon-add-60\': !isAddingMode, \'icon-remove-60\': isAddingMode , \'hidden\' : !!groupConfigData.summary.is_cancelled}">{{\'GROUP_ADD_RESERVATIONS\'|translate}}</button></div><div class="entry number"><label for=rooming-no-of-rooms>{{\'GROUP_NO__OF_ROOMS\'|translate}}</label><div class=select><select ng-model=numberOfRooms convert-to-number=""><option ng-repeat="roomcount in possibleNumberOfRooms" value={{roomcount}}>{{roomcount}}</option></select></div></div><div class="entry type"><label for=rooming-room-type>{{\'GROUP_ROOM_TYPE\'|translate}}</label><div class=select><select id=rooming-room-type ng-model=selectedRoomType ng-change=changedSelectedRoomType() ng-options="item.room_type_id as item.room_type_name+\'(\'+item.availableRoomCount+\')\' for item in roomTypesAndData"></select></div></div><div class="entry occupancy"><label for=rooming-occupancy>{{\'GROUP_OCCUPANCY\'|translate}}</label><div class=select><select id=rooming-occupancy ng-model=selectedOccupancy><option value=1 ng-show="shouldShowThisOccupancyAgainstRoomType(\'single_occupancy\')">{{\'GROUP_SINGLE\'|translate}}</option><option value=2 ng-show="shouldShowThisOccupancyAgainstRoomType(\'double_occupancy\')">{{\'GROUP_DOUBLE\'|translate}}</option><option value=3 ng-show="shouldShowThisOccupancyAgainstRoomType(\'triple_occupancy\')">{{\'GROUP_TRIPLE\'|translate}}</option><option value=4 ng-show="shouldShowThisOccupancyAgainstRoomType(\'quadruple_occupancy\')">{{\'GROUP_QUADRUPLE\'|translate}}</option></select></div></div><div class="entry date-range"><div class=has-datepicker><label for=rooming-date-from translate="">FROM</label> <button class=clear-query ng-class="{\'visible\': !isEmpty(fromDate.toString())}" ng-click="clearDate(\'fromDate\')"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input id=rooming-date-from ng-model=fromDate type=text class="range-datepicker green" readonly="" rv-clear-text-box="" listen-this=fromDate ui-date=fromDateOptions value={{fromDate|date:dateFormat}}></div><div class=has-datepicker><label for=rooming-date-to translate="">TO</label> <button class=clear-query ng-class="{\'visible\': !isEmpty(toDate.toString())}" ng-click="clearDate(\'toDate\')"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input id=rooming-date-to ng-model=toDate type=text class="range-datepicker red" readonly="" ui-date=toDateOptions value={{toDate|date:dateFormat}} rv-clear-text-box="" listen-this=toDate></div></div><div class="entry action"><button type=button class="button green" ng-click=addReservations() translate="">ADD</button></div></div><ul class=totals><li><div class=data><span class=label>{{ translations[\'picked_up\'] || (\'GROUP_PICKED_UP\'|translate ) }}</span> <span class=value>{{totalPickUpCount}}</span></div></li><li ng-show=shouldShowCheckInCheckoutButton()><button type=button class=button ng-disabled=shouldDisableCheckinButton() ng-click=groupCheckin() ng-class="{\'grey\': shouldDisableCheckinButton(), \'green\': !shouldDisableCheckinButton()}">{{\'GROUP_CHECK_IN\'|translate}}</button> <button type=button class=button ng-disabled=shouldDisableCheckoutButton() ng-click=groupCheckout() ng-class="{\'grey\': shouldDisableCheckoutButton(), \'red\': !shouldDisableCheckoutButton()}">{{\'GROUP_CHECK_OUT\'|translate}}</button></li><li><button type=button class=button ng-show=shouldShowAutoRoomAssignmentButton() ng-click=autoAssignRooms() ng-class="{\'grey\': shouldDisableAutoRoomAssignButton(), \'brand-colors\': !shouldDisableAutoRoomAssignButton()}" ng-disabled=shouldDisableAutoRoomAssignButton()>{{\'GROUP_AUTO_ASSIGN_ROOMS\'|translate}}</button></li><li><button type=button ng-class="{\'grey\': shouldDisableAutoRoomAssignButton()}" ng-disabled=shouldDisableAutoRoomAssignButton() class="button purple" ng-click=updateGroupReservationsGuestData()>Edit Names</button></li><li><button type=button ng-click=openEmailPrintPopup() class="button with-icon only-icon blue"><span class="icons icon-invoice"></span></button> <button type=button class="button with-icon only-icon brand-colors" ng-click=selectSortTypeForPrinting(); ng-class="{\'grey\' : totalPickUpCount < 1,\'brand-colors\' : totalPickUpCount > 0}" ng-disabled="totalPickUpCount < 1"><span class="icons icon-print"></span></button></li></ul><div class="search-form search-bar"><div class="entry search"><button class=clear-query ng-class="{\'visible\': query.length}" ng-click=clearQuery()><span class="icons icon-clear-search">Clear query</span></button> <button type=submit name=submit class="icons icon-search">Search</button> <input class=query placeholder="Search by Name" type=search autocomplete=off ng-model=query ng-keyup=debounceFetchReservations()></div><div class="entry date-range"><div class=has-datepicker><label for=group-filter-arrival-form-id><span class=green translate="">ARRIVAL</span> {{\'ON\'|translate}}</label><button class=clear-query ng-class="{\'visible\': !isEmpty(arrival_date.toString())}" ng-click="clearDate(\'arrival_date\')"><span class="icons icon-clear-search">Clear query</span></button> <input id=group-filter-arrival-form-id type=text class=range-datepicker readonly="" rv-clear-text-box="" listen-this=arrival_date ui-date=arrivalDateOptions ng-model=arrival_date value={{arrival_date|date:dateFormat}} ng-change=filterReservation()></div><div class=has-datepicker><label for=group-filter-departure-form-id><span class=red translate="">DEPARTURE</span> {{\'ON\'|translate}}</label><button class=clear-query ng-class="{\'visible\': !isEmpty(dep_date.toString())}" ng-click="clearDate(\'dep_date\')"><span class="icons icon-clear-search">Clear query</span></button> <input id=group-filter-departure-form-id type=text class=range-datepicker readonly="" rv-clear-text-box="" listen-this=dep_date ui-date=departureDateOptions ng-model=dep_date value={{dep_date|date:dateFormat}} ng-change=filterReservation()></div></div><div class="entry has-checkboxes"><label class="checkbox inline" ng-class="{\'checked\': show_pending_only}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': show_pending_only}"></span><input type=checkbox value=pending-only ng-model=show_pending_only ng-change=filterReservation()> <span translate="">PENDING_ONLY</span></label><label class="checkbox inline" ng-class="{\'checked\': exclude_cancel}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': exclude_cancel}"></span><input type=checkbox value=exclude-cancelled ng-model=exclude_cancel ng-change=filterReservation()> <span translate="">EXCLUDE_CANCELLED</span></label></div></div></div><div id=group-room-list-content class=tab-details ng-class="{\'no-print\' : isPrintRegistrationCard}"><div ng-include="\'/assets/partials/common/notification_message.html\'" ng-hide=isAnyPopupOpen></div><div class=no-content ng-show=shouldShowNoReservations()><div class=info><span class="icon-no-content icon-reservation"></span> <strong class=h1>{{\'GROUP_NO_RESERVATIONS\'|translate}}</strong> <span class=h2>{{\'GROUP_ADD_RESERVATIONS_TO_ROOMING_LIST\'|translate}}</span></div></div><ul class=rooming-list-header ng-show=!shouldShowNoReservations()><li class=check><label class="checkbox inline" for=rooming-list-all ng-class="{\'disabled\' : !!groupConfigData.summary.is_cancelled}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': whetherAllReservationsSelected(), \'semi-checked\': whetherReservationsArePartiallySelected()}"></span><input id=rooming-list-all ng-disabled=!!groupConfigData.summary.is_cancelled type=checkbox ng-click=selectOrUnSelectAllReservation()></label></li><li class="room sort" ng-class="getSortClass(\'room_no\')" ng-click="sortBy(\'room_no\')">{{ translations[\'room\'] || (\'GROUP_ROOM\'|translate) }}</li><li class="name sort" ng-class="getSortClass(\'lastname\')" ng-click="sortBy(\'lastname\')">{{ translations[\'guest_name\'] || (\'GROUP_GUEST_NAME\'|translate) }}</li><li class="date sort" ng-class="getSortClass(\'arrival_date\')" ng-click="sortBy(\'arrival_date\')">{{ translations[\'arrival\'] || (\'GROUP_ARRIVAL\'|translate) }}</li><li class="date sort" ng-class="getSortClass(\'departure_date\')" ng-click="sortBy(\'departure_date\')">{{ translations[\'departure\'] || (\'GROUP_DEPARTURE\'|translate) }}</li><li class="type sort" ng-class="getSortClass(\'room_type_id\')" ng-click="sortBy(\'room_type_id\')">{{ translations[\'room_type\'] || (\'GROUP_ROOM_TYPE\'|translate) }}</li><li ng-hide="groupConfigData.summary.hide_rates && isPrintClicked" class="rate sort" ng-class="getSortClass(\'room_rate_amount\')" ng-click="sortBy(\'room_rate_amount\')">{{ translations[\'rate\'] || (\'GROUP_ROOM RATE\'|translate) }}</li><li ng-show="groupConfigData.summary.hide_rates && isPrintClicked" class="rate sort" ng-class="getSortClass(\'room_rate_amount\')" ng-click="sortBy(\'room_rate_amount\')">&nbsp;</li><li class="status sort" ng-class="getSortClass(\'reservation_status\')" ng-click="sortBy(\'reservation_status\')">{{ translations[\'status\'] || (\'GROUP_STATUS\'|translate) }}</li></ul><rv-pagination page-options=pageOptions page-data=totalResultCount></rv-pagination><div id=rooming-grid class="rooming-grid scrollable" ng-show=!shouldShowNoReservations() ng-class="{\'with-pagination\': shouldShowPagination(), \'no-pagination\': !shouldShowPagination()}" ng-iscroll=rooming_list ng-iscroll-delay=100><ul id=rooming-grid-list class="search-results wrapper"><li class="reservation rooming-list" ng-repeat="reservation in reservations" ngrepeatend="" ng-hide=shouldHideAccompanyGuests(reservation)><div class=check><label class="checkbox inline" for=guest-id ng-class="{\'disabled\' : !!groupConfigData.summary.is_cancelled}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': isReservationInSelectedReservation(reservation)}"></span><input id=guest-id value={Guest} type=checkbox ng-click=addOrRemoveFromSelectedReservation(reservation) ng-disabled=!!groupConfigData.summary.is_cancelled></label></div><a ng-click=clickedOnReservation(reservation)><figure class=guest-image ng-class="{\'accompany\': reservation.is_accompanying_guest,\'blacklisted\': !!reservation.is_flagged}"><img ng-repeat="image in reservation.guest_images track by $index" ng-src={{image}}> <span class=stay-count ng-if="reservation.stay_count > 0">{{reservation.stay_count}}</span> <span class=vip ng-if=reservation.is_vip>VIP</span></figure><div class=data><h2 ng-show="!isGuestBlank(reservation) && !reservation.is_accompanying_guest" style="text-transform: none"><span ng-bind-html=escapeNull(reservation.lastname)|highlight:query:false></span>, <span ng-bind-html=escapeNull(reservation.firstname)|highlight:query:false></span></h2><h2 ng-show="!isGuestBlank(reservation) && reservation.is_accompanying_guest" style="text-transform: none"><span ng-bind-html=escapeNull(reservation.accompanying_guest_last_name)|highlight:query:false></span>, <span ng-bind-html=escapeNull(reservation.accompanying_guest_first_name)|highlight:query:false></span></h2><h2 ng-show=isGuestBlank(reservation)><span class=highlight>{{ translations[\'pending\'] || (\'GROUP_PENDING\'|translate) }}</span></h2><span class=room ng-show=shouldShowAssignedRoom(reservation)>{{ translations[\'room\'] || (\'GROUP_ROOM\'|translate) }} <span ng-class=getRoomStatusClass(reservation) ng-bind-html=escapeNull(reservation.room_no)|highlight:query:false></span></span> <span class="room unassigned" ng-show=shouldShowUnAssigned(reservation)>{{ translations[\'unassigned\'] || (\'GROUP_UNASSIGNED\'|translate) }}</span> <span ng-show="shouldShowAssignedRoom(reservation) || shouldShowUnAssigned(reservation)">|</span> <span class=confirmation ng-bind-html=escapeNull(reservation.confirm_no)|highlight:query:false></span></div><div class=reservation-info ng-if="reservation.arrival_date !== reservation.departure_date"><div class=arrival-departure><span class="guest-status check-in">check-in</span><time>{{reservation.arrival_date|date:dateFormat}}</time></div><div class=departing><span class="guest-status check-out">check-out</span><time>{{reservation.departure_date|date:dateFormat}}</time></div></div><div class=reservation-info ng-if="reservation.arrival_date === reservation.departure_date"><div class=arrival-departure><span class="guest-status check-in">check-in</span><time>{{getTimeConverted(reservation.arrival_time)}}<span class=date>{{reservation.arrival_date|date:dateFormat}}</span></time></div><div class=departing><span class="guest-status check-out">check-out</span><time>{{getTimeConverted(reservation.departure_time)}}<span class=date>{{reservation.departure_date|date:dateFormat}}</span></time></div></div><div class=room-info><strong class=room-type ng-hide="emailPrintFilters.excludeRoomType && isPrintClicked">{{reservation.room_type_name}}</strong> <em class=room-occupancy>{{ translations[lowercase(occupancyTextMap[reservation.occupancy])] || occupancyTextMap[reservation.occupancy] }}</em></div><div class=rate ng-hide="groupConfigData.summary.hide_rates && isPrintClicked">{{reservation.room_rate_amount}}</div><div class=rate ng-show="groupConfigData.summary.hide_rates && isPrintClicked">&nbsp;</div><div class=reservation-status><div class="reservation-type red" ng-if=reservation.is_day_use>D</div><div class=reservation-type ng-if="!reservation.is_day_use && hotelDiaryConfig.mode === \'FULL\'">N</div><span class=guest-status ng-class=getReservationClass(reservation.reservation_status)>{{reservation.reservation_status}}</span></div></a></li></ul></div></div><div ng-if="isPrintRegistrationCard && !isRegistrationCardEnabledFor.austria && !isRegistrationCardEnabledFor.arabia" include-replace="" ng-include="\'/assets/partials/registrationCardBatchPrint/defaultRegistrationCardTemplate.html\'"></div><div ng-if="isPrintRegistrationCard && isRegistrationCardEnabledFor.austria" include-replace="" ng-include="\'/assets/partials/registrationCardBatchPrint/rvRegistrationCardAustriaTemplate.html\'"></div><div ng-if="isPrintRegistrationCard && isRegistrationCardEnabledFor.arabia" include-replace="" ng-include="\'/assets/partials/registrationCardBatchPrint/rvRegistrationCardArabicTemplate.html\'"></div></form>'),t.put("/assets/partials/groups/search/rvGroupSearch.html",'<form method=get action="" name=groups-search-form id=groups-search-form class="search-form has-dates has-options single-option has-dropdown" role=search ng-class="{\'faux-options-open\': groupStatusObj.isExpanded}"><div class="entry search"><button id=groups-clear-query class=clear-query type=button ng-click=clearSearchQuery() ng-class="{\'visible\': !isEmpty(query)}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <button type=button name=submit class="icons icon-search" translate="">SEARCH</button> <input name=groups-query id=groups-query class=query placeholder="Group Code, Group Name, Travel Agent or Company Name" type=search autocomplete=off ng-model=query rv-delay-textbox="" delay=1000 function-to-fire=searchQueryChanged></div><div class="entry options"><label for=guest-status-input data-target=#guest-status-options class=faux-select ng-click=clickedGroupStatus() ng-class="{\'active\': groupStatusObj.isExpanded}"><span class=label>Group Status</span> <strong>Show All</strong></label><div id=guest-status-options class=faux-select-options ng-show=groupStatusObj.isExpanded><label class="checkbox inline" ng-repeat="item in groupStatusObj.list" ng-click=clickedGroupStatusItem($index)><span class="icon-form icon-checkbox" ng-class="{\'checked\': item.active}"></span> <input type=checkbox> {{item.name}}</label></div></div><div class="entry dates"><div class="entry-data has-datepicker"><label for=groups-date-from translate="">FROM</label> <button id=groups-date-from-clear type=button class=clear-query ng-class="{\'visible\': !isEmpty(fromDate)}" ng-click=clearFromDate()><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input name=groups-date-from id=groups-date-from class=datepicker readonly="" type=text rv-clear-text-box="" listen-this=fromDate ui-date=fromDateOptions value={{fromDate}}></div><div class="entry-data has-datepicker"><label for=groups-date-to translate="">TO</label> <button id=groups-date-to-clear class=clear-query type=button ng-click=clearToDate() ng-class="{\'visible\': !isEmpty(toDate)}"><span class="icons icon-clear-search" translate="">CLEAR_QUERY</span></button> <input name=groups-date-to id=groups-date-to class=datepicker readonly="" type=text ui-date=toDateOptions value={{toDate}} rv-clear-text-box="" listen-this=toDate></div></div></form><rv-pagination page-options=pageOptions page-data=totalResultCount></rv-pagination><section id=find-group class="content scrollable" role=main ng-class="{\'no-pagination\': !shouldShowPagination(), \'no-results\': shouldShowNoResult()}" ng-iscroll=result_showing_area ng-iscroll-delay=1000><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><ul class=search-results><li class=no-content ng-show=isFirstTimeWithNoResult()><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1>Find Guests</strong> <span class=h2>Search by <strong>Group Code</strong>, <strong>Group Name</strong>, <strong>Travel Agent</strong> or <strong>Company Name.</strong></span></div></li><li class=no-content ng-show=shouldShowNoResult()><div class=info><span class="icon-no-content icon-groups"></span> <strong class=h1>No Matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Group Name</strong> or <strong>Code</strong>.<a ng-click=gotoAddNewGroup() ng-show=hasPermissionToAddNewGroup() class=inline-link>Or add a New Group</a>.</span></div></li><li class=group ng-show=!shouldShowNoResult() ng-repeat="group in groupList" ngrepeatend="" ngrepeatstarted=""><a ng-click=gotoEditGroupConfiguration(group.id)><div class=data><h2 ng-bind-html=escapeNull(group.group_name)|highlight:query:false></h2><span class=confirmation ng-bind-html=escapeNull(group.group_code)|highlight:query:false></span><span class="icons icon-guest-company" ng-hide=isEmpty(group.company)>{{group.company}}</span><span class="icons icon-guest-travelagent" ng-hide=isEmpty(group.travel_agent)>{{group.travel_agent}}</span></div><div class=arrival><span class=guest-status ng-class=getGuestClassForArrival(group)></span><time datetime=group.arrival_date>{{formatDateForUI(group.arrival_date)}}</time></div><div class=departure><span class=guest-status ng-class=getGuestClassForDeparture(group)></span><time datetime=group.departure_date>{{formatDateForUI(group.departure_date)}}</time></div><div class=blocked ng-class=getClassAgainstHoldStatus(group)><strong>{{group.total_booked === null? \'0\':group.total_booked}}</strong> <span>{{group.hold_status}}</span></div><div class=picked ng-class=getClassAgainstPickedStatus(group)><strong>{{group.total_picked_count === null? \'0\' :group.total_picked_count}}</strong> <span>Picked Up</span></div></a></li></ul></div></section>'),t.put("/assets/partials/groups/summary/groupAddonsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class=modal-content ng-class="{\'alert\': groupConfigData.selectedAddons.length === 0, \'room-enhancements\':groupConfigData.selectedAddons.length>0}"><span class="h2 message" ng-show="groupConfigData.selectedAddons.length > 0">{{groupConfigData.summary.group_name}} Enhancements</span> <span class="icons icon-popup-alert" ng-show="groupConfigData.selectedAddons.length === 0"></span><span class="h2 message" ng-show="groupConfigData.selectedAddons.length === 0">No Addons added!</span><div class=scrollable ng-iscroll=resultDetails ng-iscroll-delay=500><ul class="wrapper enhancements-added" ng-if="groupConfigData.selectedAddons.length>0"><li ng-repeat="addon in groupConfigData.selectedAddons" class=addons-list><span class=item>{{ addon.name }}</span><span><span class=count ng-hide="addon.post_type ===\'Nightly\'">({{addon.addon_count}})</span></span> <span class=base ng-hide=addon.is_inclusive>at {{currencySymbol}}{{addon.amount | number : 2}} / {{addon.amount_type.value}} <span ng-show="addon.post_type.description ===\'First Night\'">per stay</span> <span ng-show="addon.post_type.description ===\'Nightly\'">per night</span></span><span><span class=price ng-hide="addon.is_inclusive || addon.post_type ===\'Nightly\'"><span ng-bind-html="addon.amount * addon.addon_count | sntCurrency:this"></span></span> <span class=price ng-hide="addon.is_inclusive || addon.post_type !==\'Nightly\'"><span ng-bind-html="addon.amount * addon.addon_count | sntCurrency:this"></span></span></span> <span class=price ng-show=addon.is_inclusive>INCL</span> <button type=button ng-hide=addon.is_inclusive||isInStaycardScreen() class="icons icon-trash" ng-click=removeAddon(addon) translate="">REMOVE</button></li></ul></div><div class=actions><button type=button ng-hide=isInStaycardScreen() ng-click="closeDialog(); manageAddons()" class="button orange modal-hide" translate="">ADD_MORE_TO_THIS_GROUP</button> <button class="button blank" ng-click="closeDialog(); reloadPage();" translate="">CLOSE</button></div></div></div>'),t.put("/assets/partials/groups/summary/groupDemographicsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action="" class="modal-content form demographics" ng-cloak=""><button ng-click=closeDialog() ng-hide=groupSummaryData.promptMandatoryDemographics id=modal-close class=modal-close type=button><span class="icons icon-close invert"></span></button> <strong class="h2 message" ng-hide=groupSummaryData.promptMandatoryDemographics>Demographics</strong><strong class="h2 message" ng-show=groupSummaryData.promptMandatoryDemographics>Demographics Missing!</strong> <span class=text ng-show=groupSummaryData.promptMandatoryDemographics>Set mandatory demographics to continue</span><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry margin" ng-show=shouldShowReservationType><label for=reservation-type>Reservation type</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=reservation-type id=reservation-type ng-class="{\'placeholder\': !groupConfigData.summary.demographics.reservation_type_id}" ng-model=groupConfigData.summary.demographics.reservation_type_id><option value="" selected="" translate="">RESERVATION_TYPE_PLACEHOLDER</option><option ng-repeat="reservationType in groupSummaryData.demographics.reservationTypes" value={{reservationType.value}} ng-selected="reservationType.value == groupConfigData.summary.demographics.reservation_type_id">{{reservationType.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowMarket><label for=market>Market<strong ng-show="hotelSettings.force_market_code && groupSummaryData.promptMandatoryDemographics">*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=market id=market ng-class="{\'placeholder\': !groupConfigData.summary.demographics.market_segment_id}" ng-model=groupConfigData.summary.demographics.market_segment_id><option value="" selected="" translate="">MARKET_PLACEHOLDER</option><option ng-repeat="market in groupSummaryData.demographics.markets" value={{market.value}} ng-selected="market.value == groupConfigData.summary.demographics.market_segment_id">{{market.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowSource><label for=source>Source<strong ng-show="hotelSettings.force_source_code && groupSummaryData.promptMandatoryDemographics">*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=source id=source ng-class="{\'placeholder\': !groupConfigData.summary.demographics.source_id}" ng-model=groupConfigData.summary.demographics.source_id><option value="" selected="" translate="">SOURCE_PLACEHOLDER</option><option ng-repeat="source in groupSummaryData.demographics.sources" value={{source.value}} ng-selected="source.value == groupConfigData.summary.demographics.source_id">{{source.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowOriginOfBooking><label for=origin>Origin of Booking<strong ng-show="hotelSettings.force_origin_of_booking && groupSummaryData.promptMandatoryDemographics">*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=origin id=origin ng-class="{\'placeholder\': !groupConfigData.summary.demographics.booking_origin_id}" ng-model=groupConfigData.summary.demographics.booking_origin_id><option value="" selected="" translate="">ORIGIN_BOOKING_PLACEHOLDER</option><option ng-repeat="origin in groupSummaryData.demographics.origins" value={{origin.value}} ng-selected="origin.value == groupConfigData.summary.demographics.booking_origin_id">{{origin.name}}</option></select></div></div><div class="entry margin" ng-show=shouldShowSegments><label for=origin>Segment<strong ng-show="hotelSettings.force_segments && groupSummaryData.promptMandatoryDemographics">*</strong></label><div class=select><select convert-to-number="" iscroll-stop-propagation="" name=segment id=segment ng-class="{\'placeholder\': !groupConfigData.summary.demographics.segment_id}" ng-model=groupConfigData.summary.demographics.segment_id ng-disabled="!!groupConfigData.summary.demographics.segment_id && !!groupSummaryData.isComputedSegment"><option value="" selected="" translate="">SEGMENT_PLACEHOLDER</option><option ng-repeat="segment in groupSummaryData.demographics.segments" value={{segment.value}} ng-selected="segment.value == groupConfigData.summary.demographics.segment_id">{{segment.name}}</option></select></div></div><div class=actions><button type=button class="button blank" ng-hide=groupSummaryData.promptMandatoryDemographics ng-click=cancelDemographicChanges();closeDialog();>Cancel</button> <button type=button class=button ng-hide=groupSummaryData.promptMandatoryDemographics ng-disabled=!isDemographicsFormValid(false) ng-class="isDemographicsFormValid(false) ? \'green\' : \'grey\'" ,="" ng-click=saveDemographicsData();>Save</button> <button ng-show=groupSummaryData.promptMandatoryDemographics type=button class=button ng-disabled=!isDemographicsFormValid(true) ng-class="isDemographicsFormValid(true) ? \'green\' : \'grey\'" ng-click=saveNewGroup()>Save & Continue</button></div></form></div>'),
t.put("/assets/partials/groups/summary/groupSendConfirmationPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content form send-confirmation" ng-class="{\'extended\': groupConfirmationData.is_salutation_enabled}"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <strong class="h2 message">Send Confirmation</strong><div id=status class=notice ng-class="{\'success\':ngData.successMessage, \'error\':ngData.failureMessage }" ng-show="ngData.successMessage || ngData.failureMessage">{{ngData.successMessage}}{{ngData.failureMessage}}</div><fieldset class=content-left><div class="entry full-width"><label>Contact Email</label> <input type=text ng-model=groupConfirmationData.contact_email></div><div class="entry full-width" ng-if=groupConfirmationData.showLanguageField><label for=languages>Language</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" ng-model=groupConfirmationData.locale><option value={{item.code}} ng-if=item.is_show_on_guest_card ng-repeat="item in languageData.languages" ng-selected="item.code === groupConfirmationData.locale">{{item.language}}</option></select></div></div><div class="entry full-width"><label class=checkbox ng-class="{\'checked\': groupConfirmationData.is_include_rooming_list}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': groupConfirmationData.is_include_rooming_list}"></span><input type=checkbox ng-click="groupConfirmationData.is_include_rooming_list = !groupConfirmationData.is_include_rooming_list" ng-class="{\'checked\': groupConfirmationData.is_include_rooming_list}" value=""> Include rooming list</label></div><div class="entry full-width salutation"><label for=salutation>Salutation</label><div class=switch-button ng-class="{\'on\': groupConfirmationData.is_salutation_enabled}"><span class=switch-icon></span><input id=salutation type=checkbox ng-class="{\'checked\': groupConfirmationData.is_salutation_enabled}" ng-click="groupConfirmationData.is_salutation_enabled = !groupConfirmationData.is_salutation_enabled"></div></div></fieldset><fieldset class=content-right ng-show=groupConfirmationData.is_salutation_enabled><div class="entry full-width"><label>Personal salutation</label> <textarea placeholder="Insert a personal salutation" ng-model=groupConfirmationData.personal_salutation>\n\t\t\t</textarea></div></fieldset><div class=actions><button type=button class=button ng-click=sendGroupConfirmation() ng-disabled="groupConfirmationData.contact_email == \'\'" ng-class="{\'grey\':groupConfirmationData.contact_email == \'\', \'green\':groupConfirmationData.contact_email != \'\' }">Send</button><button type=button id=cancel class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/summary/rvGroupActions.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action="" id=staycard-actions class="modal-content form staycard-actions"><button id=modal-close type=button class="dark-title modal-close" ng-click="closeDialog(); cancelNewAction();"><span class="icons icon-close"></span></button><div class=modal-header><h1>Actions</h1><strong>{{groupConfigData.summary.group_name}}</strong><div class=dates><div class=date><span class="guest-status small-icon check-in">in</span> {{actions.arrivalDateString}}</div><div class=date><span class="guest-status small-icon check-out">out</span> {{actions.departureDateString}}</div></div><button type=button class="button green" ng-click=initNewAction()>New Action</button></div><div ng-include="\'/assets/partials/common/actions/actionsContentWrapper.html\'"></div><section class="actions-content no-content" role=main ng-show=showEmptyActions()><div class=info><span class="icon-no-content icon-actions"></span> <strong class=h1>No Actions</strong> <span class=h2>All is good for {{groupConfigData.summary.group_name}}</span></div></section></form></div>'),t.put("/assets/partials/groups/summary/rvGroupConfigurationAddons.html",'<section id=enhance-stay class="content reservations-inner stay-card-inner" ng-controller=rvGroupConfigurationAddonsCtrl><div id=enhance-stay-content class=reservations-content-wrapper><div id=addons-content class="reservation-content addons-content scrollable" ng-iscroll=enhanceGroupStays ng-iscroll-delay=1000><div class=wrapper><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=addon-items class=addons><ul class=addon-categories><li ng-class="{\'ui-state-active\': -1 === activeAddonCategoryId }"><a ng-click="selectAddonCategory(\'\', $event)" class="button white" translate="">BEST_SELLER</a></li><li ng-repeat="addonCategory in groupConfigData.addons.addonCategories" ng-class="{ \'ui-state-active\': addonCategory.id === activeAddonCategoryId }"><a ng-click="selectAddonCategory(addonCategory, $event)" class="button white">{{ addonCategory.name }}</a></li></ul><div class=addon-items><div class=options><button type=button ng-click=openAddonsPopup() class="button white"><span class=label translate="">ENHANCEMENTS</span> <span class=count>{{ groupConfigData.summary.addons_count }}</span></button></div><ul id=addon-best-sellers class=addon-tab><li ng-repeat="addon in addons"><div class=data><span class=categories><span ng-show=addon.isBestSeller class=current translate="">BEST_SELLER</span> <label ng-show=addon.isBestSeller>|</label> <span>{{ addon.category }}</span></span><h2>{{ addon.title }}</h2><em>{{ addon.description }}</em></div><div class=price><span class=value ng-bind-html="addon.price | sntCurrency:this"></span> <span class=amount-type>{{ addon.amountTypeDesc | uppercase}}</span> <span class=post-type>{{ addon.postTypeDesc | uppercase}}</span></div><div class=add-enhancement ng-init="addonQty=1"><button id=enhance-room-1-champagne type=button class="button green" ng-click="selectAddon(addon, addonQty)">Add</button><div class=select><label class=label for=room-1-champagne-quantity translate="">QUANTITY</label><select name=room-1-champagne-quantity ng-model=addonQty><option ng-repeat="i in [1, 3] | makeRange" value={{i}}>{{i}}</option></select></div></div></li></ul></div></div></div></div></div></section>'),t.put("/assets/partials/groups/summary/rvGroupConfigurationSummaryTab.html",'<form id=group-summary name=group-summary ng-click=clearErrorMessage() class="form card-tab scrollable" ng-controller=rvGroupConfigurationSummaryTab ng-iscroll=groupSummaryScroller ng-iscroll-delay=500 outside-click-handler=""><div class=wrapper><div class="holder left"><strong class=h3 translate="">GROUP_INFO</strong><div class="entry full-width"><label for=group-name>{{ \'NAME\' | translate}} <strong>*</strong></label> <input id=group-name ng-model=groupConfigData.summary.group_name ng-disabled=isInStaycardScreen() type=text></div><div class="entry margin"><label for=group-code translate="">GROUP_CODE</label> <input id=group-code ng-model=groupConfigData.summary.group_code type=text ng-disabled="groupConfigData.summary.linked_external_interface || isInStaycardScreen() || !isInAddMode()"></div><div class=entry><label for=group-firstname translate="">CONTACT_FIRST_NAME</label> <input id=group-firstname ng-model=groupConfigData.summary.first_name type=text ng-disabled=isInStaycardScreen()></div><div class="entry margin"><label for=group-lastname translate="">CONTACT_LAST_NAME</label> <input id=group-lastname ng-model=groupConfigData.summary.last_name type=text ng-disabled=isInStaycardScreen()></div><div class=entry><label for=group-phone translate="">CONTACT_PHONE</label> <input id=group-phone ng-model=groupConfigData.summary.contact_phone type=text ng-disabled=isInStaycardScreen()></div><div class="entry full-width"><label for=group-email translate="">CONTACT_EMAIL</label> <input id=group-email ng-model=groupConfigData.summary.contact_email type=text ng-disabled=isInStaycardScreen()></div><div class="entry break full-width" ng-if="roverObj.forceNationalityAtCheckin || roverObj.forceCountryAtCheckin"><div class="entry margin" ng-show=roverObj.forceNationalityAtCheckin><label for=group-nationality>{{\'NATIONALITY\' | translate}}</label><div class=select><select iscroll-stop-propagation="" ng-model=groupConfigData.summary.nationality><option value="">Select Nationality</option><option value={{country.code}} ng-repeat="country in countries" ng-selected="country.code == groupConfigData.summary.nationality">{{country.value}}</option></select></div></div><div class=entry ng-show=roverObj.forceCountryAtCheckin><label for=group-country>{{\'COUNTRY\' | translate}}</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" ng-model=groupConfigData.summary.country_id><option value="">Select Country</option><option value={{country.id}} ng-repeat="country in countries" ng-selected="country.id == groupConfigData.summary.country_id">{{country.value}}</option></select></div></div></div><div class="entry break full-width card-buttons" ng-hide=isInStaycardScreen()><a ng-click="openDemographicsPopup(false, true);" class=button ng-class="{\'grey\': isInAddMode(), \'white brand-text\': !isInAddMode()}" translate="">DEMOGRAPHICS</a> <a ng-click=openBillingInformation(); class="button blue" ng-if=groupConfigData.summary.posting_account_billing_info translate="">BILLING_INFORMATION</a> <a ng-click=openBillingInformation(); class=button ng-class="{\'grey\': isInAddMode(), \'blue\': !isInAddMode()}" ng-if=!groupConfigData.summary.posting_account_billing_info translate="">ADD_BILLING_INFO</a> <a ng-click=openSendConfirmationPopup() class="button white blue-text" ng-class="" translate="">SEND CONFIRMATION</a></div><div class="entry break full-width" ng-show=shouldShowGroupActionsButton()><button type=button class="button staycard-button {{getActionsButtonClass()}}" ng-click=openGroupActionsPopup()><span class=title>Actions</span> {{groupConfigData.summary.total_group_action_tasks_count}}</button></div></div><div class="holder right auto-height"><strong class=h3 translate="">ROOM_BLOCK_SUMMARY</strong><div class="entry full-width stay-dates shoulder-dates"><div class=entry-data><label for=group-block-from><span>({{\'SHOULDER\' | translate}})</span> {{\'FROM\' | translate}}</label><div class=select><select ng-disabled=shouldDisableShoulderFrom() ng-model=groupConfigData.summary.shoulder_from ng-change="onShoulderDateChange(\'from\')"><option value=0>0</option><option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option></select></div><input id=group-block-from class=datepicker type=text ui-date=fromDateOptions rv-set-textbox-value="" listen-this=groupConfigData.summary.block_from|date:dateFormat readonly="" ng-class="{\'not-selected\': !groupConfigData.summary.block_from}"></div><div class=entry-data><label for=group-block-to>{{\'TO\' | translate}} <span>({{\'SHOULDER\' | translate}})</span></label><input id=group-block-to class=datepicker type=text ui-date=toDateOptions rv-set-textbox-value="" listen-this=groupConfigData.summary.block_to|date:dateFormat readonly="" ng-class="{\'not-selected\': !groupConfigData.summary.block_to}"><div class=select><select ng-disabled=shouldDisableShoulderTo() ng-model=groupConfigData.summary.shoulder_to ng-change="onShoulderDateChange(\'to\')"><option value=0>0</option><option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option></select></div></div><div class=actions><button type=button class="button blue" ng-show=shouldShowMoveButton() ng-click=clickedOnMoveButton()>Move Group</button><button type=button class="button blank" ng-show=shouldShowMoveCancelButton() ng-click=clickedOnCancelMoveButton()>Cancel</button> <button type=button class="button green" ng-show=shouldShowMoveSaveButton() ng-click=clickedOnSaveMoveButton()>Save</button></div></div><div class="entry full-width with-button has-datepicker"><label for=group-release-date>{{\'ROOM_RELEASE_DATE\' | translate}} <strong>*</strong></label><input class=datepicker type=text ui-date=releaseDateOptions rv-set-textbox-value="" listen-this=groupConfigData.summary.release_date|date:dateFormat readonly="" ng-class="{\'not-selected\': !groupConfigData.summary.release_date}"> <button type=button ng-hide=isInStaycardScreen() ng-click=warnReleaseRooms(); class=button ng-class="{\'red\': !isInAddMode() ,\'grey\': isInAddMode() || !!groupConfigData.summary.is_cancelled}" translate="">RELEASE_NOW</button></div><div class="entry clear"><label for=group-payment-date>Payment Date</label> <input class=datepicker type=text ui-date=paymentDateOptions rv-set-textbox-value="" listen-this=groupConfigData.summary.payment_date|date:dateFormat readonly="" id=group-payment-date ng-class="{\'not-selected\': !groupConfigData.summary.release_date}"></div><div class="entry clear"><label for=group-hold-status>{{\'HOLD_STATUS\' | translate}} <strong>*</strong></label><div class=select><select convert-to-number="" id=group-hold-status ng-model=groupConfigData.summary.hold_status iscroll-stop-propagation="" ng-change=onHoldStatusChange(); ng-disabled=shouldDisableHoldStatusChange()><option value="" selected="" translate="" ng-if=!groupConfigData.summary.hold_status>SET_STATUS</option><option ng-repeat="holdstatus in groupConfigData.holdStatusList" value={{holdstatus.id}} ng-selected="holdstatus.id == groupConfigData.summary.hold_status" ng-hide="holdstatus.name == \'Cancel\' && holdstatus.is_system && !isCancellable()">{{holdstatus.name}}</option></select></div></div><div class="entry margin"><label for=group-revenue translate="">GROUP_APR</label> <input id=group-revenue value={{getRevenue()}} type=text readonly="" ng-disabled=isInStaycardScreen()></div><div class="entry margin small"><label for=group-rooms translate="">ROOMS</label> <input id=group-rooms ng-model=groupConfigData.summary.rooms_total type=text readonly="" ng-disabled=isInStaycardScreen()></div><div class="entry small"><label for=group-pickup translate="">PICK_UP</label> <input id=group-pickup ng-model=groupConfigData.summary.rooms_pickup type=text readonly="" ng-disabled=isInStaycardScreen()></div><div class="entry commission margin" ng-show="groupConfigData.summary.group_id && groupConfigData.summary.travel_agent.id"><label for=travel-agent-commission translate="">COMMISSION</label><div class=switch-button ng-class="{\'on\': groupConfigData.summary.commission_details.is_on}"><input id=travel-agent-commission ng-model=groupConfigData.summary.commission_details.is_on type=checkbox> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div><input ng-model=groupConfigData.summary.commission_details.value type=text ng-show=groupConfigData.summary.commission_details.is_on><div class=select ng-show=groupConfigData.summary.commission_details.is_on><select name=travel-agent-commission-type ng-model=groupConfigData.summary.commission_details.type><option value=percent>%</option><option value=amount>{{currencySymbol}}</option></select></div><div class=select ng-show="groupConfigData.summary.commission_details.is_on && groupConfigData.summary.commission_details.type === \'amount\'"><select ng-model=groupConfigData.summary.commission_details.commission_type><option value=NIGHT translate="">PER_STAY</option><option value=STAY translate="">PER_NIGHT</option></select></div></div><div class="entry full-width with-button"><label for=group-rate translate="">RATE</label><div class=select><select id=group-rate iscroll-stop-propagation="" ng-model=groupConfigData.summary.uniqId ng-change=onRateChange() ng-disabled=shouldDisableRateChange() snt-placeholder=SELECT_RATE ng-options="rate.uniqId as rate.name group by rate.groupName for rate in groupSummaryData.rateSelectDataObject" ng-class="{\'highlighted\': !groupConfigData.summary.uniqId}"></select></div><a ng-click="!groupConfigData.summary.is_cancelled ? (isInAddMode() ? manageAddons() : viewAddons()) : false" class="button with-icon" ng-class="{\'brand-colors\' : !isInAddMode() && !groupConfigData.summary.is_cancelled, \'grey\' : isInAddMode() || !!groupConfigData.summary.is_cancelled}"><span ng-show="groupConfigData.summary.addons_count > 0" class=count>{{groupConfigData.summary.addons_count}}</span> <span class="icons icon-addons"></span> Add-Ons</a></div><div class="entry full-width tax-exempt" ng-if=!isInAddMode()><label for=group-hide-rates translate="">HIDE_RATE</label><div class=switch-button ng-click=clickedShowRate() ng-class="{\'on\': groupConfigData.summary.hide_rates}"><input type=checkbox ng-model=groupConfigData.summary.hide_rates ng-checked=groupConfigData.summary.hide_rates> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div></div><div class="entry full-width tax-exempt" ng-if=shouldShowTaxExempt()><label for=group-tax-exempt>Tax Exempt</label><div class=switch-button ng-click=clickedTaxExemptToggle() ng-class="{\'on\': groupConfigData.summary.is_tax_exempt}"><input type=checkbox ng-model=groupConfigData.summary.is_tax_exempt ng-checked=groupConfigData.summary.is_tax_exempt> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div><div id=group-tax-exempt-type class=select ng-show=groupConfigData.summary.is_tax_exempt><select ng-model=groupConfigData.summary.tax_exempt_type_id ng-options="taxExempt.id as taxExempt.name for taxExempt in taxExemptTypes"></select></div><textarea rows=4 ng-show=groupConfigData.summary.is_tax_exempt ng-model=groupConfigData.summary.tax_exempt_ref_text placeholder="{{\'TAX_EXEMPT_REFERENCE\' | translate}}" maxlength=200></textarea></div><label for=group-hide-rates>BYPASS CC GUARANTEE</label><div class="entry full-width tax-exempt"><div class=switch-button ng-class="{\'on\': groupConfigData.summary.bypass_cc_guarantee}"><input type=checkbox ng-model=groupConfigData.summary.bypass_cc_guarantee ng-checked=groupConfigData.summary.bypass_cc_guarantee> <label class=data-off><span class=value>Off</span> <span class=switch-icon>On</span></label> <label class=data-on><span class="switch-icon grey">Off</span> <span class=value>On</span></label></div></div><strong class="h3 margin" ng-if="!isCloudStorageEnabledForCardType(\'group\')">Notes</strong><div class="entry full-width no-label with-notes" ng-if="!isCloudStorageEnabledForCardType(\'group\')"><textarea id=group-notes ng-disabled=isInStaycardScreen() ng-model=groupSummaryData.newNote placeholder="Write a note" rows=2></textarea><button type=button ng-disabled=isInStaycardScreen() class=button ng-class="{\'brand-colors\' : !isInAddMode() && !isInStaycardScreen() && groupSummaryData.newNote.trim()!==\'\' , \'grey\' : isInAddMode()||isInStaycardScreen()||groupSummaryData.newNote.trim()===\'\'}" ng-click=saveGroupNote() ng-show="groupSummaryData.editingNote===null">Post</button><button type=button ng-disabled="isInStaycardScreen()||groupSummaryData.newNote.trim()===\'\'" class=button ng-class="{\'brand-colors\' : !isInAddMode() && !isInStaycardScreen() , \'grey\' : isInAddMode()||isInStaycardScreen()||groupSummaryData.newNote.trim()===\'\'}" ng-click=updateActiveGroupNote() ng-show="groupSummaryData.editingNote!==null">Save</button> <button type=button ng-disabled=isInStaycardScreen() class="button blank" ng-click=cancelEditModeGroupNote() ng-show="groupSummaryData.editingNote!==null">Cancel</button></div><ul class=notes ng-disabled=isInStaycardScreen() ng-if="!isCloudStorageEnabledForCardType(\'group\')"><li ng-repeat="note in groupConfigData.summary.notes" ng-class="{\'editing\': (groupSummaryData.editingNote && note.note_id === groupSummaryData.editingNote.note_id)}" ng-click=clickedOnNote(note)><figure class=guest-image><img src={{note.user_image}} alt=""></figure><div class=note-title><h4>{{note.username}}</h4><time datetime={{note.posted_date}}><span class=time>{{note.posted_date}}</span> <span class=date>{{note.posted_time}}</span></time><button type=button class="icons icon-trash" ng-click="removeGroupNote($event, note.note_id)">Delete post</button></div><p ng-bind-html=note.description></p></li></ul></div></div></form>'),t.put("/assets/partials/groups/summary/rvGroupRateNotValidForShoulderDatesWarning.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">Rate Code not available for all dates including shoulder dates. Please update Rate Code.</span> <button type=button class="button green modal-close" ng-click=closeDialog();>Ok</button></div></div>'),t.put("/assets/partials/groups/summary/warnAddonOverBooked.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">Add-on {{addonNames}} has exceeded its inventory</span> <button type=button class="button green modal-close" ng-click=closeDialog();>Ok</button></div></div>'),t.put("/assets/partials/groups/summary/warnBillingInfoPresent.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">Billing Information exists for this group - please review routing dates.</span> <button type=button class="button green modal-close" ng-click="closeDialog(); reloadPage(groupConfigData.activeTab);">Ok</button></div></div>'),t.put("/assets/partials/groups/summary/warnCancelGroupPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form method=post action=cancel-group id=cancel-group name=cancel-group class="modal-content form cancel-reservation"><button class=modal-close id=modal-close type=button ng-click=abortCancelGroup();><span class="icons icon-close invert"></span></button> <span class="h2 message">Block will be cancelled.</span><span class=text ng-hide=!!groupConfigData.summary.rooms_pickup>Block inventory will be returned to hotel availability.</span><span class=text ng-show=!!groupConfigData.summary.rooms_pickup>{{groupConfigData.summary.rooms_pickup}} attached reservations will be cancelled and inventory returned to hotel availability.</span><div class="entry full-width"><label for=cancel-reason>Cancelation reason(<span>optional</span>)</label> <textarea id=cancel-reason name=cancel-reason ng-model=cancellationReason placeholder="Cancelling because ...." rows=2>\n        </textarea></div><div class=actions><button id=cancel-action type=button class="button green" ng-click=cancelGroup(cancellationReason)>Proceed</button> <button type=button class="button blank" ng-click=abortCancelGroup();>Close</button></div></form></div>'),t.put("/assets/partials/groups/summary/warnChangeRateNotPossible.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">No rate information for some of the room types with this rate.</span> <button type=button class="button green modal-close" ng-click="saveRoomBlock(); closeDialog();">Ok</button></div></div>'),t.put("/assets/partials/groups/summary/warnReleaseRoomsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog();><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Release all remaining rooms from block?</span> <button type=button class="button red modal-close" ng-click=releaseRooms();>Release rooms</button> <button type=button class="button blank modal-close" ng-click=closeDialog();>Cancel</button></div></div>'),t.put("/assets/partials/groups/transactions/rvGroupConfigurationTransactionsTab.html",'<form id=group-transactions name=group-transactions class="form card-tab inner-header bills">TransactionsTab</form>'),t.put("/assets/partials/housekeeping/popups/rvMultipleRoomSeviceStatusResultPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content alert room-status-not-completed"><button id=modal-close type=button class=modal-close ng-click=closeForcefullyUpdatePopup()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Request not completed for {{completedData.notSuccessFullyUpdated}} rooms</span><span class=text><span class="icon-before-text icon-ok-10">{{completedData.successFullyUpdated}} Rooms were placed {{completedData.serviceName}}</span></span><div class="rooms-not-completed scrollable" ng-iscroll=rooms-list-to-forcefully-update><ul class=wrapper><li class=room ng-class="{\'locked\': rooms.is_locked}" ng-repeat="rooms in completedData.assignedRoomsList"><span class=number ng-hide=rooms.is_locked>{{rooms.room_number}}</span> <span class=guest ng-hide="!rooms.is_locked && rooms.isMultipleReservation">{{rooms.GuestName}} <span class=reservation>{{rooms.reservationData}}</span></span> <span class=reservation ng-show="!rooms.is_locked && rooms.isMultipleReservation">{{rooms.reservationData}}</span> <label ng-hide=rooms.is_locked class="checkbox inline" for="Room Number" ng-class="{ checked : rooms.is_add_to_update}"><span class="icon-form icon-checkbox" ng-class="{ checked : rooms.is_add_to_update}"></span> <input type=checkbox ng-model=rooms.is_add_to_update></label> <span class=text ng-show=rooms.is_locked>Web booking in progress, can\'t place room {{completedData.serviceName}}</span></li></ul></div><div class=actions><button type=button class="button blank" ng-click=closeForcefullyUpdatePopup()>Close</button> <button type=button class="button blue" ng-click=forcefullyPutRoomToOOSorOOO()>Put Selected Rooms {{completedData.serviceName}}</button></div></div></div>'),t.put("/assets/partials/housekeeping/popups/rvRoomStatusChangeRestrictAlert.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div id=end-of-day class="modal-content form confirmation"><button class=modal-close type=button ng-click=closeDialog() id=modal-close><span class="icons icon-close invert"></span></button><div class=notice>You do not have permission to change the status to Inspected</div><div class=actions><button class="button green" ng-click=closeDialog()>Ok</button></div></div></div>'),t.put("/assets/partials/popups/billFormat/rvBillFormatPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak="" ng-click=clearErrorMessage();><div class="modal-content form format-bill types" ng-if=isInvoiceStepOneActive><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert hidden"></span> <strong class="h2 message">Choose Invoice Type</strong> <button type=button id=inform-invoice class="button blue" ng-click=clickedInformationalButton()>Information Invoice</button> <button type=button id=final-invoice class="button orange" ng-show=!is_from_ar ng-click=clickedFinalInvoiceButton()>Generate Invoice</button> <button type=button id=final-invoice class="button orange" ng-show=is_from_ar ng-click=clickedFinalInvoiceButton()>Final Invoice</button> <button type=button class="button blank modal-close inline" ng-click=closeDialog()>Close Window</button> <button type=button id=cancel class="button blank hidden inline">Cancel</button></div><div class="modal-content alert" ng-if=isInvoiceStepTwoActive><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span ng-show=!is_from_ar class="h2 message">Guest Invoice will be closed</span> <span ng-show=is_from_ar class="h2 message">Final Invoice will lock the AR Invoice</span> <button type=button class="button green" ng-click=clickedProceedButton()>Proceed</button><button type=button class="button blank" ng-click=clickedCancelButtonProceedScreen()>Cancel</button></div><div class="modal-content form format-bill" ng-if=isInvoiceStepThreeActive><button id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert" ng-click=closeDialog()></span></button> <strong class="h2 message">Format Bill</strong><div class="entry full-width" ng-hide=hideCompanyCardInvoiceToggle><label>Generate Invoice for</label><div class=switch-button ng-class="{\'on\': isCompanyCardInvoice, \'overlay\': disableToggleAccount }"><input type=checkbox ng-model=isCompanyCardInvoice ng-change=changeCompanyCardInvoiceToggle()> <label class=data-off><span class=value>Company</span> <span class=switch-icon>Travel Agent</span></label> <label class=data-on><span class=switch-icon>Company</span> <span class=value>Travel Agent</span></label></div></div><div class="entry full-width"><label for=account-email>Email</label> <input type=email id=account-email name=email placeholder="Enter an Email" ng-model=data.mailto_address></div><div class="entry full-width"><label for=languages>Language</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" ng-model=data.locale><option style=display:none value=""></option><option value={{item.code}} ng-repeat="item in languageData.languages" ng-selected="item.code === data.locale">{{item.language}}</option></select></div></div><div class="entry full-width"><label for=bill-layout>Bill Layout</label><div class=select><select id=bill-layout ng-model=data.default_bill_settings><option ng-repeat="item in data.bill_settings_options" value={{item.value}} ng-selected="item.value == data.default_bill_settings" ng-if="item.type !== \'BILLING_GROUP\'">{{item.name}}</option></select></div></div><div class="entry full-width" ng-if=!shouldGenerateFinalInvoice><label class="checkbox inline" ng-class="{checked: billFormat.isInformationalInvoice, disabled: billFormat.isInformationalInvoiceDisabled }"><span class="icon-form icon-checkbox" ng-class="{checked: billFormat.isInformationalInvoice, disabled: billFormat.isInformationalInvoiceDisabled}"></span> <input id=enable-split ng-disabled=billFormat.isInformationalInvoiceDisabled ng-model=billFormat.isInformationalInvoice type=checkbox> {{ \'INFORMATIONAL_INVOICE\' | translate }}</label></div><div class=actions><button type=button class="button with-icon" ng-click=emailBill() ng-class=getEmailButtonClass() ng-disabled=isEmailButtonDisabled()><span class="icons icon-email"></span> Email</button> <button type=button class="button with-icon" ng-class=getPrintButtonClass() ng-click=clickedPrintBill() ng-disabled=isPrintButtonDisabled()><span class="icons icon-print"></span> Print</button> <button type=button class="button blank inline" ng-click=closeDialog()>Cancel</button></div></div><div class="modal-content alert" ng-if=isInvoiceStepFourActive><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span ng-show=!is_from_ar class="h2 message">Guest Invoice will be closed</span> <span ng-show=is_from_ar class="h2 message">AR Invoice will be locked</span> <button type=button class="button green" ng-click=clickedContinueButtonPrintOrEmail()>Continue</button><button type=button class="button blank" ng-click=clickedProceedButton()>Cancel</button></div><div class="modal-content alert" ng-if=isInvoiceStepFiveActive><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-success"></span> <span ng-show=!is_from_ar class="h2 message">Guest Invoice is now closed</span> <span ng-show=is_from_ar class="h2 message">AR Invoice is now locked</span> <button type=button class="button blank" ng-click=closeDialog()>Close window</button></div></div>'),
t.put("/assets/partials/popups/billFormat/rvInvoicePendingInfoPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak="" ng-click=clearErrorMessage();><div class="modal-content alert"><button id=modal-close type=button class=modal-close><span class="icons icon-close invert" ng-click=closeDialog()></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">Invoice cannot be issued right now</span><div class=notice>Fiskilazation is still in progress, please try again in a minute</div><div class=actions><button type=button id=cancel class="button blank inline" ng-click=closeDialog()>Close window</button></div></div></div>'),t.put("/assets/partials/popups/billFormat/rvRegCardPopup.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak="" ng-click=clearErrorMessage();><div class="modal-content form format-bill"><button id=modal-close type=button><span class="icons icon-close invert" ng-click=closeDialog()></span></button> <strong class="h2 message">Registration Card</strong><div class="entry full-width"><label for=languages>Language</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" ng-model=regCardData.selectedLocale><option style=display:none value=""></option><option value={{item.code}} ng-repeat="item in languageData.languages" ng-selected="item.code === regCardData.selectedLocale">{{item.language}}</option></select></div></div><div class=actions><button type=button class="button with-icon blue" ng-click=printRegistrationCard()><span class="icons icon-print"></span> Print</button> <button type=button class="button with-icon blank inline" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/rateManager/restrictionsTemplate/rateCalendarTable.html","<table class=rate-calendar style=width:{{uiOptions.tableWidth}}px;><thead><tr class=cell><th ng-class=\"{{isWeekend(date)}} ? 'weekend_day' : ''\" ng-repeat=\"date in calendarData.dates track by $index\" style=width:{{uiOptions.columnWidth}}px;><div ng-if=!isHistoryDate(date) class=date-header ng-class=\"{{isWeekend(date)}} ? 'weekend_day' : ''\"><span class=week-day>{{date| date:'EEEE'}}</span> <span>{{date| date:'MMMM dd'}}</span></div><div ng-if=isHistoryDate(date) class=\"date-header isHistory-cell-content\"><span class=week-day>{{date| date:'EEEE'}}</span> <span>{{date| date:'MMMM dd'}}</span></div></th></tr></thead><tbody><tr ng-if=\"calendarData.data.length > 1\"><td ng-class=\"{{isWeekend(date)}} ? 'weekend_day' : ''\" ng-repeat=\"date in calendarData.dates track by $index\" class=cell><div class=cell-container ng-class=\"{{isHistoryDate(date)}} ? 'history_cell_container' : ''\"><div ng-if=!isHistoryDate(date) class=cell-content ng-click=\"showUpdatePriceAndRestrictionsDialog(date, '', '', (ratesRoomsToggle === 'ROOMS' ? 'ROOM_TYPE' : 'RATE_TYPE'), true)\"><div ng-include=\"'assets/partials/rateManager/restrictionsTemplate/restrictionsDivCalendarData.html'\"></div></div><div ng-if=isHistoryDate(date) class=\"cell-content isHistory-cell-content\"><div ng-include=\"'/assets/partials/rateManager/restrictionsTemplate/restrictionsDivCalendarData.html'\"></div></div></div></td></tr><tr ng-repeat=\"rate in calendarData.data track by rate.id\" ng-class=\"{'last': $last && loading === false}\" ng-show=\"calendarMode === 'RATE_VIEW'\"><td ng-class=\"{{isWeekend(date)}} ? 'weekend_day' : ''\" ng-repeat=\"date in calendarData.dates track by $index\" class=cell><div class=cell-container ng-class=\"{{isHistoryDate(date)}} ? 'history_cell_container' : ''\"><div ng-if=!isHistoryDate(date) class=cell-content ng-click=\"showUpdatePriceAndRestrictionsDialog(date, rate.id, rate.room_type_id, (ratesRoomsToggle === 'ROOMS' ? 'ROOM_TYPE' : 'RATE_TYPE'), false)\"><div ng-include=\"'assets/partials/rateManager/restrictionsTemplate/restrictionsDivRateData.html'\"></div></div><div ng-if=isHistoryDate(date) class=\"cell-content isHistory-cell-content\"><div ng-include=\"'/assets/partials/rateManager/restrictionsTemplate/restrictionsDivRateData.html'\"></div></div></div></td></tr></tbody></table>"),t.put("/assets/partials/rateManager/restrictionsTemplate/restrictionsDivCalendarData.html",'<div><div><span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, calendarData.all_rates[date]) == 3 && calendarData.all_rates[date].length <= 3 && toggleRestrictionIconView() == true" ng-repeat="restriction in calendarData.all_rates[date]| limitTo: 3 track by $index" class="restriction-icon right {{calendarData.restriction_types[restriction.type_id].background_class}} {{calendarData.restriction_types[restriction.type_id].icon}}">{{restriction.days}}</span> <span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, calendarData.all_rates[date]) == 3 && calendarData.all_rates[date].length > 3 && toggleRestrictionIconView() == true" ng-repeat="restriction in calendarData.all_rates[date]| limitTo: 3 track by $index" class="restriction-icon left-icons {{calendarData.restriction_types[restriction.type_id].background_class}} {{calendarData.restriction_types[restriction.type_id].icon}}">{{restriction.days}}</span> <span ng-show="calendarData.all_rates[date].length > 3 && currentFilterData.zoom_level_selected < 6 && toggleRestrictionIconView() == true" class="restriction-icon left-icons ellipsis">...</span><span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, calendarData.all_rates[date]) == 2 && toggleRestrictionIconView() == true" class="restriction-icon right bg-drk">R</span></div></div>'),t.put("/assets/partials/rateManager/restrictionsTemplate/restrictionsDivRateData.html",'<div><div><span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, rate[date]) == 3 && rate[date].length <= 3 && toggleRestrictionIconView() == true" ng-repeat="restriction in rate[date]| limitTo: 3 track by $index" class="restriction-icon right {{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}}">{{restriction.days}}</span> <span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, rate[date]) == 3 && rate[date].length > 3 && toggleRestrictionIconView() == true" ng-repeat="restriction in rate[date]| limitTo: 3 track by $index" class="restriction-icon left-icons {{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}}">{{restriction.days}}</span> <span ng-show="rate[date].length > 3 && currentFilterData.zoom_level_selected < 6 && toggleRestrictionIconView() == true" class="restriction-icon left-icons ellipsis">...</span> <span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, rate[date]) == 2 && toggleRestrictionIconView() == true" class="restriction-icon right bg-drk">R</span></div></div>'),t.put("/assets/partials/rateManager/restrictionsTemplate/roomCalendarDiv.html","<span class=\"left rate-single\" style=height:100%;width:100%;><span ng-if=\"!rate[date].isHourly && rate[date].single === null\" ng-class=\"{'hasOverride-label': rateDateHasOverride(rate, date,'_any_') != 'false', 'gray' : rateIsChild(rate)}\">{{rate[date].single}}<text ng-if=\"rateDateHasOverride(rate, date,'_any_') != 'false'\" class=hasOverride-label>*</text></span> <span ng-if=\"!rate[date].isHourly && rate[date].single !== null\" ng-class=\"{'hasOverride-label': rateDateHasOverride(rate, date,'_any_') != 'false', 'gray' : rateIsChild(rate)}\">{{rate[date].single| number : 2}}<text ng-if=\"rateDateHasOverride(rate, date,'_any_') != 'false'\" class=hasOverride-label>*</text></span> <span ng-if=\"!rate[date].isHourly && rate[date].nightly === null\" ng-class=\"{'hasOverride-label': rateDateHasOverride(rate, date,'nightly') != 'false', 'gray' : rateIsChild(rate)}\">{{rate[date].nightly}}<text ng-if=\"rateDateHasOverride(rate, date,'nightly') != 'false'\" class=hasOverride-label>*</text></span> <span ng-if=\"rate[date].isHourly && rate[date].nightly !== null\" ng-class=\"{'hasOverride-label': rateDateHasOverride(rate, date,'nightly') != 'false', 'gray' : rateIsChild(rate)}\">{{rate[date].nightly| number : 2}}<text ng-if=\"rateDateHasOverride(rate, date,'nightly') != 'false'\" class=hasOverride-label>*</text></span></span><div class=limit-width><span ng-show=\"isRestrictTo(currentFilterData.zoom_level_selected, rate[date].restrictions) == 3 && rate[date].restrictions.length <= 3\" ng-repeat=\"restriction in rate[date].restrictions| limitTo: 3 track by $index\" class=\"restriction-icon right {{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}}\">{{restriction.days}}</span> <span ng-show=\"isRestrictTo(currentFilterData.zoom_level_selected, rate[date].restrictions) == 3 && rate[date].restrictions.length > 3\" ng-repeat=\"restriction in rate[date].restrictions| limitTo: 3 track by $index\" class=\"restriction-icon left-icons {{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}}\">{{restriction.days}}</span> <span ng-show=\"rate[date].restrictions.length > 3 && currentFilterData.zoom_level_selected < 6\" class=\"restriction-icon left-icons ellipsis\">...</span><span ng-show=\"isRestrictTo(currentFilterData.zoom_level_selected, rate[date].restrictions) == 2\" class=\"restriction-icon right bg-drk\">R</span></div>"),t.put("/assets/partials/rateManager/restrictionsTemplate/roomCalendarRestrictions.html",'<div><span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, calendarData.rate_restrictions[date]) == 3 && calendarData.rate_restrictions[date].length <= 3 && toggleRestrictionIconView() == true" ng-repeat="restriction in calendarData.rate_restrictions[date]| limitTo: 3 track by $index" class="restriction-icon right {{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}}">{{restriction.days}}</span> <span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, calendarData.rate_restrictions[date]) == 3 && calendarData.rate_restrictions[date].length > 3 && toggleRestrictionIconView() == true" ng-repeat="restriction in calendarData.rate_restrictions[date]| limitTo: 3 track by $index" class="restriction-icon left-icons {{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}}">{{restriction.days}}</span> <span ng-show="calendarData.rate_restrictions[date].length > 3 && currentFilterData.zoom_level_selected < 6 && toggleRestrictionIconView() == true" class="restriction-icon left-icons ellipsis">...</span><span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, calendarData.rate_restrictions[date]) == 2 && toggleRestrictionIconView() == true" class="restriction-icon right bg-drk">R</span></div>'),t.put("/assets/partials/rateManager/restrictionsTemplate/roomCalendarRoomTypeExpanded.html",'<div><div class=restriction_holder><span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, rate[date].restrictions) == 3 && rate[date].restrictions.length <= 3 && toggleRestrictionIconView() == true" ng-repeat="restriction in rate[date].restrictions| limitTo: 3 track by $index" class="restriction-icon right {{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}}">{{restriction.days}}</span> <span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, rate[date].restrictions) == 3 && rate[date].restrictions.length > 3 && toggleRestrictionIconView() == true" ng-repeat="restriction in rate[date].restrictions| limitTo: 3 track by $index" class="restriction-icon left-icons {{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}}">{{restriction.days}}</span> <span ng-show="rate[date].restrictions.length > 3 && currentFilterData.zoom_level_selected < 6 && toggleRestrictionIconView() == true" class="restriction-icon left-icons ellipsis">...</span><span ng-show="isRestrictTo(currentFilterData.zoom_level_selected, rate[date].restrictions) == 2 && toggleRestrictionIconView() == true" class="restriction-icon right bg-drk">R</span></div><div class=room-type-price>Single <span ng-if="rate[date].single === null">{{rate[date].single}}</span> <span ng-if="rate[date].single !== null" ng-class="{\'hasOverride-label\': rateDateHasOverride(rate, date,\'single\') != \'false\', \'gray\' : calendarData.is_child == true}">{{rate[date].single| number : 2}}<text ng-if="rateDateHasOverride(rate, date,\'single\') != \'false\'" class=hasOverride-label>*</text></span></div><div class=room-type-price>Double <span ng-if="rate[date].double === null">{{rate[date].double}}</span> <span ng-if="rate[date].double !== null" ng-class="{\'hasOverride-label\': rateDateHasOverride(rate, date,\'double\') != \'false\', \'gray\' : calendarData.is_child == true}">{{rate[date].double| number : 2}}<text ng-if="rateDateHasOverride(rate, date,\'double\') != \'false\'" class=hasOverride-label>*</text></span></div><div class=room-type-price>Extra Adult <span ng-if="rate[date].extra_adult === null">{{rate[date].extra_adult}}</span> <span ng-if="rate[date].extra_adult !== null" ng-class="{\'hasOverride-label\': rateDateHasOverride(rate, date,\'extra adult\') != \'false\', \'gray\' : calendarData.is_child == true}">{{rate[date].extra_adult| number : 2}}<text ng-if="rateDateHasOverride(rate, date,\'extra adult\') != \'false\'" class=hasOverride-label>*</text></span></div><div class=room-type-price>Child <span ng-if="rate[date].child === null">{{rate[date].child}}</span> <span ng-if="rate[date].child !== null" ng-class="{\'hasOverride-label\': rateDateHasOverride(rate, date,\'child\') != \'false\', \'gray\' : calendarData.is_child == true}">{{rate[date].child| number : 2}}<text ng-if="rateDateHasOverride(rate, date,\'child\') != \'false\'" class=hasOverride-label>*</text></span></div></div>'),t.put("/assets/partials/rateManager_/dateRangeModal/rvDateRangeModal.html",'<div id=modal ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><form ng-cloak="" method=post action="" id=edit-charge-options name=edit-charge class="modal-content form date-range-update"><button id=modal-close class=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="message h2">Date Range Update</span><fieldset id=fromDatePicker class="holder left"><strong class=h3>From <span>{{fromDate| date:dateFormat}}</span></strong><div ui-date=fromDateOptions ng-model=fromDate></div></fieldset><fieldset id=toDatePicker class="holder right"><strong class=h3>To <span>{{toDate | date:dateFormat}}</span></strong><div ui-date=toDateOptions ng-model=toDate></div></fieldset><div class=actions><button type=button class="button blank" ng-click=closeDialog()>Cancel</button> <button class="button green" ng-click=updateClicked() type=button disabled=disabled ng-disabled=toggleUpdate() ng-class="{ grey : toggleUpdate() }">Set Range</button></div></form></div>'),t.put("/assets/partials/rateManager_/leftSideFilterSection/rvRateManagerFilterSection.html",'<div id=rateManagerLeftPanel ng-controller=rvRateManagerLeftSideFilterCtrl class=filter-options ng-click=hideCompanyCardSearchResults() ng-class="{\'slide_right\': isFilterVisible, \'slide_left\': !isFilterVisible}"><a class=leftMenuHandle ng-click=toggleFilterVisibility()></a><div class=filter-container><div class=fixed-container><h3>FILTER OPTIONS</h3><div class="scrolling-container scrollable" ng-iscroll=filter_details ng-iscroll-delay=50><div class=wrapper><div class="entry has-datepicker"><label for=rmDateRange>DATE RANGE</label> <input id=rmDateRange placeholder="Select Date Range" readonly="" maxlength=8 value={{selectedDateRange}} class=hasDatepicker> <button ng-click=showCalendar() type=button class=ui-datepicker-trigger>...</button></div><div class=entry ng-hide="(chosenTab !== \'RATES\')"><label>ORDER BY</label><div class=select><select iscroll-stop-propagation="" ng-model=orderBySelectedValue convert-to-number=""><option ng-selected="orderBy.id === orderBySelectedValue" ng-repeat="orderBy in orderByValues" class=placeholder value={{orderBy.id}}>{{orderByValueMappings[orderBy.value]}}</option></select></div></div><div class=entry><label for=show>Show</label><ul class=filters><li ng-click="switchTabAndCorrespondingActions(\'RATES\')" ng-class="{\'active\': chosenTab ===\'RATES\'}">Rates</li><li ng-click="switchTabAndCorrespondingActions(\'RATE_TYPES\')" ng-class="{\'active\': chosenTab ===\'RATE_TYPES\'}">Rate Types</li><li ng-click="switchTabAndCorrespondingActions(\'ROOM_TYPES\')" ng-class="{\'active\': chosenTab ===\'ROOM_TYPES\'}">Room Types</li></ul></div><div class=entry ng-class="{\'hidden\': chosenTab !== \'RATES\'}"><label for=rate>Filter Individual Rate(s)</label><div class=select-group><div class=select><select name=rate-type class=placeholder ng-change=rateTypeSelected() ng-model=selectedRateTypeID iscroll-stop-propagation=""><option class=placeholder value="">Filter by Rate Type</option><option ng-repeat="rateType in rateTypes" value={{rateType.id}}>{{rateType.name}}</option></select></div><div class=select><select id=rate class=placeholder iscroll-stop-propagation="" ng-model=selectedRateID ng-change=rateSelected()><option class=placeholder value="">Rates</option><option ng-show=shouldShowRate(rate) ng-repeat="rate in rates" value={{rate.id}}>{{rate.name}}</option></select></div></div></div><div class=entry ng-class="{\'hidden\': chosenTab !== \'RATE_TYPES\'}"><label for=rate-type>Filter Individual Rate Type(s)</label><div class=select><select id=rate-type name=rate-type ng-change=rateTypeSelectedFromRTT() ng-model=selectedRateTypeIDFromRTT iscroll-stop-propagation=""><option class=placeholder value="">Rate Type(s)</option><option ng-repeat="rateType in rateTypes" value={{rateType.id}}>{{rateType.name}}</option></select></div></div><div class=selected-data ng-class="{\'hidden\': chosenTab !== \'RATES\'}"><strong ng-show="selectedRates.length > 0">Rates Selected</strong><div id=selected-rate-list class=rates-box ng-repeat="rate in selectedRates"><span class=rate-data>{{rate.name}}</span> <span ng-click=deleteSelectedRate(rate.id) class="icons delete_small">&nbsp;</span><br clear=all></div><button ng-show="selectedRates.length > 2" ng-click=deleteAllSelectedRates() class="button blank deleteall">Clear Selection</button></div><div class=selected-data ng-class="{\'hidden\': chosenTab !== \'RATE_TYPES\'}"><strong ng-show="selectedRateTypesFromRTT.length > 0">Rate Types Selected</strong><div id=selected-rate-type-list class=rates-box ng-repeat="rateType in selectedRateTypesFromRTT"><span class=rate-data>{{rateType.name}}</span> <span ng-click=deleteSelectedRateTypeFromRTT(rateType.id) class="icons delete_small">&nbsp;</span><br clear=all></div><button ng-show="selectedRateTypesFromRTT.length > 2" ng-click=deleteAllSelectedRateTypesFromRTT() class="button blank deleteall">Clear Selection</button></div></div></div></div></div><div class="rate-manager-card hidden"><div class=rate-manager-card-search-results><ul>{LI Structure: ../_shared/autocomplete.html} ... repeat for each account</ul></div><span class=arrow-left></span></div><div class=action-filter><div class="actions float"><button class=button type=button ng-disabled=shouldDisableShowRateButton() ng-click=clickedOnShowRates() ng-class="{ \'grey\': shouldDisableShowRateButton(), \'green\': !shouldDisableShowRateButton() }">{{getButtonText()}}</button></div></div></div>'),t.put("/assets/partials/rateManager_/popup/rvRateManagerRateRestrictionPopup.html",'<div id=modal ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="rate-manager-modal modal-content" ng-click=clearErrorMessage()><div class=modal-container><div class=modal-header><div class=modal-header-left><h2>{{header}}</h2><em>{{headerBottomLeftLabel}}</em> <em class=rate-name>{{headerBottomRightLabel}}</em></div><div class=modal-header-right><div class=notice ng-class="{\'hidden\': headerNoticeOnRight.trim() === \'\'}">{{headerNoticeOnRight}}</div><div class="notice error" ng-show="errorMessage && errorMessage.length > 0">{{errorMessage[0]}}</div></div></div><div class=modal-body><div class=content-left><span rv-include-template=/assets/partials/rateManager_/popup/left/rvRateManagerPopupLeftRestrictionList.html></span></div><div class=content-middle><span ng-if="contentMiddleMode === \'ROOM_TYPE_PRICE_LISTING\'" rv-include-template=/assets/partials/rateManager_/popup/middle/roomType/rvRateManagerPopupMiddleRoomTypePriceListing.html></span> <span ng-if="contentMiddleMode === \'RATE_PRICE_LISTING\'" rv-include-template=/assets/partials/rateManager_/popup/middle/roomType/rvRateManagerPopupMiddleRatePriceListing.html></span> <span ng-if="contentMiddleMode === \'SINGLE_ROOM_TYPE_CHOOSE_RATE\'" rv-include-template=/assets/partials/rateManager_/popup/middle/roomType/rvRateManagerPopupMiddleSingleRoomTypeChooseRate.html></span> <span ng-if="contentMiddleMode === \'MULTIPLE_RATE_CHOOSE_RATE\'" rv-include-template=/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleAllRatesSelectRate.html></span> <span ng-if="contentMiddleMode === \'MULTIPLE_ROOM_TYPE_CHOOSE_RATE\'" rv-include-template=/assets/partials/rateManager_/popup/middle/roomType/rvRateManagerPopupMiddleMultipleRoomTypeChooseRate.html></span> <span ng-if="contentMiddleMode === \'RESTRICTION_EDITING\'" rv-include-template=/assets/partials/rateManager_/popup/middle/rvRateManagerPopupMiddleRestrictionEditing.html></span> <span ng-if="contentMiddleMode === \'SINGLE_RATE_ROOM_TYPE_CHILD_RATE\'" rv-include-template=/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateRoomTypeChildRate.html></span> <span ng-if="contentMiddleMode === \'SINGLE_RATE_SINGLE_ROOM_TYPE_HOURLY_AMOUNT_EDIT\'" rv-include-template=/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateSingleRoomTypeHourlyAmount.html></span> <span ng-if="contentMiddleMode === \'SINGLE_RATE_MULTIPLE_ROOM_TYPE_HOURLY_AMOUNT_EDIT\'" rv-include-template=/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateMultipleRoomTypeHourlyAmount.html></span> <span ng-if="contentMiddleMode === \'SINGLE_RATE_MULTIPLE_ROOM_TYPE_NIGHTLY_AMOUNT_EDIT\'" rv-include-template=/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateMultipleRoomTypeNightlyAmount.html></span> <span ng-if="contentMiddleMode === \'SINGLE_RATE_SINGLE_ROOM_TYPE_NIGHTLY_AMOUNT_EDIT\'" rv-include-template=/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateSingleRoomTypeNightlyAmount.html></span></div><div class=content-right><h3>Repeat on Dates</h3><label class=checkbox ng-show=shouldShowApplyPriceCheckbox() ng-class="{\'checked\': applyPriceToDates}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': applyPriceToDates}"></span><input name=apply-price-to-dates id=apply-price-to-dates ng-model=applyPriceToDates type=checkbox ng-disabled=isPastDate> Apply Price</label><label class=checkbox ng-class="{\'checked\': applyRestrictionsToDates}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': applyRestrictionsToDates}"></span><input name=apply-restriction-to-dates id=apply-restriction-to-dates ng-model=applyRestrictionsToDates type=checkbox ng-disabled=isPastDate> Apply Restrictions</label><h4>For every</h4><div class=list_week_days><label class=checkbox ng-class="{\'checked\': weekDay.selected}" ng-repeat="weekDay in weekDayRepeatSelection"><span class="icon-form icon-checkbox" ng-class="{\'checked\': weekDay.selected}"></span><input ng-model=weekDay.selected value=restrictions type=checkbox ng-disabled=isPastDate> {{weekDay.weekDay}}</label><button ng-click=clickedOnWeekDaySelectAllButton() ng-show=!showSelectNoneForWeekDaySelection() ng-disabled=isPastDate>Select All</button> <button ng-show=showSelectNoneForWeekDaySelection() ng-click=clickedOnWeekDaySelectNoneButton() ng-disabled=isPastDate>Select None</button></div><h4>Until</h4><div class=has-datepicker><input placeholder="Select Date Range" type=text class="range-datepicker green" readonly="" rv-clear-text-box="" listen-this=untilDate ui-date=datePickerOptions value={{untilDate|date:dateFormat}} ng-disabled=isPastDate></div></div></div><div class=footer><div class=actions><button class="button blank" type=button ng-click=closeDialog()>Cancel</button><button class="button purple" ng-show=shouldShowClearOverrideButton() ng-click=clickedOnClearOverrideButton() type=button>Clear Rate Overrides</button> <button class="button green" ng-click=clickedOnSetButton($event) type=button ng-disabled=isPastDate ng-class="{\'grey\' : isPastDate}">Set</button></div></div></div></div></div>'),t.put("/assets/partials/rateManager_/topBar/rvRateManagerTopBar.html",'<div class="topbar float" ng-class="{\'rate-view\': isRateView}" ng-show=showTopBar><ul class=info><li class=back ng-show=showBackButton ng-click=clickedOnBackButton()><a class=back-button>{{backButtonText}}</a></li><li class=dates><strong>Date Range</strong> <span>{{fromDate | date:dateFormat}} to {{toDate | date:dateFormat}}</span></li><li class=rates ng-show="chosenTab === \'RATE_TYPES\' && isRateTypeView"><strong>Rate Type</strong><span ng-show="selectedRateTypesFromRTT.length === 0">All Rate Types</span> <span ng-show="selectedRateTypesFromRTT.length === 1">1 Rate Type</span> <span ng-show="selectedRateTypesFromRTT.length > 1">{{selectedRateTypesFromRTT.length}} Rate Types</span></li><li class=rates ng-show="chosenTab === \'RATE_TYPES\' && isRateView"><strong>Rate Type</strong> <span>{{selectedRateTypeNames.join()}}</span></li><li class=rates ng-show="chosenTab === \'RATE_TYPES\' && isRoomTypeView"><strong>Rate</strong> <span>{{selectedRateNames.join()}}</span></li><li class=rates ng-show="chosenTab === \'RATES\' && isRateView && selectedCards.length === 0"><strong>Rate</strong><span ng-show="selectedRates.length === 0">All Rates</span> <span ng-show="selectedRates.length === 1">1 Rate</span> <span ng-show="selectedRates.length > 1">{{selectedRates.length}} Rates</span></li><li class=card ng-show="chosenTab === \'RATES\' && isRateView && selectedCards.length > 0"><strong>Name Card</strong><span>{{selectedCardNames.join()}}</span></li><li class=rates ng-show="chosenTab === \'RATES\' && isRoomTypeView"><strong>Rate</strong> <span>{{selectedRateNames.join()}}</span></li><li class=rates ng-show="chosenTab === \'ROOM_TYPES\'"><strong>Room Type</strong> <span>All Room Types</span></li><li class=card ng-show="selectedAccountName.length && isRoomTypeView"><strong ng-show="selectedAccountName[0] == null">{{selectedCardNames.join()}}</strong> <strong>{{selectedAccountName.join()}}</strong> <span>{{selectedAddress.join()}}</span></li><li class=show-availability-check ng-if=shouldShowRoomTypeAvailabilityCheckbox()><label class=checkbox ng-class="{\'checked\': showAvailability}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': showAvailability}"></span> <input type=checkbox ng-model=showAvailability ng-click=toggleAvailability()> Show Availability</label></li></ul><ul class=actions></ul><ul class=display-mode ng-if=false><li ng-class="{\'active\': viewingScreen === \'RM_Grid_View\'}"><span class="icons icon-navbar only-icon icon-grid" title="Show grid"></span></li><li ng-class="{\'active\': viewingScreen === \'RM_Graph_View\'}"><span class="icons icon-navbar only-icon icon-graph" title="Show graph"></span></li></ul></div>'),t.put("/assets/partials/reservation/alerts/availabilityCheckOverbookingAlert.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content availability-calendar"><button class=modal-close id=modal-close type=button ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <strong class="h2 message red" ng-show="ngDialogData.houseFull && ngDialogData.activeView === \'HOUSE\'">House Availability Conflict</strong> <strong class="h2 message green" ng-show="!ngDialogData.houseFull && ngDialogData.activeView === \'HOUSE\'">House Available</strong> <strong class="h2 message red" ng-show="!ngDialogData.isRoomAvailable && ngDialogData.activeView === \'ROOM\'">Room Type Availability Conflict</strong> <strong class="h2 message green" ng-show="ngDialogData.isRoomAvailable && ngDialogData.activeView === \'ROOM\'">Room Type Available</strong><overbooking-alert event-sources-left=stateVariables.eventSources.left event-sources-right=stateVariables.eventSources.right left-calendar-options=leftCalendarOptions right-calendar-options=rightCalendarOptions next-button-click-handler=nextButtonClickHandler() prev-button-click-handler=prevButtonClickHandler() disable-prev-button=disablePrevButton></overbooking-alert><ul class=calendar-legend><li><span class=check-in></span>Arrival</li><li><span class="check-in unavailable"></span>Arrival Unavailable</li><li><span class=check-out></span>Departure</li><li><span class=availabile></span>Available</li><li ng-show="ngDialogData.activeView === \'HOUSE\'"><span class=unavailable></span> No House Availability</li><li ng-show="ngDialogData.activeView === \'ROOM\'"><span class=unavailable></span> No Room Type Availability</li></ul><div class=actions><div class=switch-button><input id=house-type-toggle value=1 type=checkbox ng-click=toggleCalendarView()><section ng-class="{\'available\': (ngDialogData.activeView === \'ROOM\' && ngDialogData.isRoomAvailable) || (ngDialogData.activeView === \'HOUSE\' && !ngDialogData.houseFull)}"><label ng-class="{\'data-on\' : ngDialogData.activeView === \'ROOM\', \'data-off\' : ngDialogData.activeView === \'HOUSE\'}"><span class=value>Room Type</span> <span class=switch-icon>House</span></label> <label ng-class="{\'data-off\' : ngDialogData.activeView === \'ROOM\', \'data-on\' : ngDialogData.activeView === \'HOUSE\'}"><span class=switch-icon>Room Type</span> <span class=value>House</span></label></section></div><button type=button id=goto-calendar class="button blue modal-close" ng-click=viewRoomRatesCalendar()>Rooms &amp; Rates Calendar</button> <button type=button id=goto-romsandrates class="button green modal-close" ng-click="alertOverbooking(true, ngDialogData.arrivalDate, ngDialogData.departureDate)">Continue</button></div></div></div>'),t.put("/assets/partials/reservation/alerts/editDatesInStayCard.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post id=change-stay-dates name=change-stay-dates class="modal-content change-stay-dates" ng-cloak=""><button class=modal-close id=modal-close type=button ng-click=closeDialog();><span class="icons icon-close invert"></span></button><section ng-if="!ngDialogData.is_assigned_room_available && !!reservationData.reservation_card.room_number"><span class="notice error">Assigned Room not available for selected dates. Please re-assign room.</span><div class=actions><button type=button class="button blank" ng-click=closeDialog();>Close</button></div></section><section ng-if="!!ngDialogData.is_invalid_move && ngDialogData.is_assigned_room_available"><span class="notice error">To change both Arrival & Departure Date, please navigate to the Rooms & Rates screen.</span><div class=actions><button type=button class="button blue" ng-click=moveToRoomRates();>Rooms &amp; Rates</button> <button type=button class="button blank" ng-click=closeDialog();>Close</button></div></section><section ng-if="!ngDialogData.is_invalid_move && !showOverBookingAlert && ngDialogData.is_assigned_room_available"><section ng-if="ngDialogData.is_house_available && !!shouldAllowDateExtend && ngDialogData.is_assigned_room_available"><strong class="h2 message">Stay Dates change possible</strong><span class=notice ng-if="ngDialogData.is_stay_cost_changed && !ngDialogData.is_outside_group_stay_dates">Total Stay Cost will change, please review rate</span><div class="dates-update old"><span class=label>From</span><ul class=details><li class=arrival><span class="guest-status small-icon check-in">check-in</span> {{reservation.reservation_card.arrival_date |date:dateFormat}}</li><li class=departure><span class="guest-status small-icon check-out">check-out</span> {{reservation.reservation_card.departure_date |date:dateFormat}}</li></ul></div><div class=dates-update><span class=label>To</span><ul class=details><li class=arrival><span class="guest-status small-icon check-in">check-in</span> {{editStore.arrival |date:dateFormat}}</li><li class=departure><span class="guest-status small-icon check-out">check-out</span> {{editStore.departure |date:dateFormat}}</li></ul></div><div class=actions><button type=button class="button green" ng-click=clickedOnStayDateChangeConfirmButton();>Confirm</button> <button type=button class="button blank" ng-click=closeDialog();>Close</button></div></section><section ng-if="!ngDialogData.is_house_available && !isSuiteReservation"><span class="notice error">House not available for selected dates</span><div class=actions><button type=button class="button blue" ng-click=moveToRoomRates();>Rooms &amp; Rates</button> <button type=button class="button blank" ng-click=closeDialog();>Close</button></div></section><section ng-if="ngDialogData.is_house_available && !!showNotAvailableMessage && !isSuiteReservation"><span class="notice error">Rate / Room Type not available for selected dates</span><div class=actions><button type=button class="button blue" ng-click=moveToRoomRates();>Rooms &amp; Rates</button> <button type=button class="button blank" ng-click=closeDialog();>Close</button></div></section></section><section ng-if="!ngDialogData.is_invalid_move && showOverBookingAlert && ngDialogData.is_assigned_room_available && !isSuiteReservation"><span class="notice error">Room Type not available, you are about to overbook the Room Type</span><div class=actions><button type=button class="button blank" ng-click=toggleOverBookingAlert();>Ok</button></div></section><section ng-if="!ngDialogData.is_invalid_move && restrictSuiteOverbooking"><span class="notice error">Suite Room Type cannot be overbooked</span><div class=actions><button type=button class="button blank" ng-click=closeDialog();>Ok</button></div></section></form></div>'),
t.put("/assets/partials/reservation/alerts/notConfiguredOccupancy.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content modal-vertical-centered"><div class="centeralign alert-box">This occupancy is not configured. Please select another room.<br><br><a ng-click=resetRoomSelection(ngDialogData.roomIndex) class="button blank">OK</a></div></div></div>'),t.put("/assets/partials/reservation/alerts/notConfiguredOccupancyInStayCard.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form confirmation"><button ng-click=cancelOccupancyChange() id=modal-close type=button class=modal-close><span class="icons icon-close invert"></span></button> <strong class="h2 message">No rate information for additional guest</strong><div class=actions><button type=button ng-click=applyCurrentRate() class="button blue">Apply Current Rate</button> <button type=button ng-click=cancelOccupancyChange() class="button blank">Cancel</button></div></div></div>'),t.put("/assets/partials/reservation/alerts/occupancy.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">Maximum number of people for room type {{ngDialogData.roomType}} is {{ngDialogData.roomMax}}.</span> <button type=button class="button green modal-close" ng-click="closeDialog(); saveRoomBlock(true);">Ok</button></div></div>'),t.put("/assets/partials/reservation/alerts/overBookingAlert.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content new-content form warning"><div><span translate="">{{\'NO\' | translate}} <span ng-if=houseNotAvailableForBooking translate="">HOUSE</span><span ng-if=roomTypeNotAvailableForBooking translate="">RESV_ROOM</span> {{\'OVERBOOK_TEXT\' | translate}}</span></div><div class="actions float small-button"><button class="button green" ng-click="updateDataModel(); closeThisDialog();" translate="">YES</button> <button class="button white" ng-click=closeThisDialog() translate="">NO</button></div></div></div>'),t.put("/assets/partials/reservation/alerts/overBookingAlertStayExtension.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post id=change-stay-dates name=change-stay-dates class="modal-content change-stay-dates" ng-cloak=""><button class=modal-close id=modal-close type=button ng-click=closeDialog();><span class="icons icon-close invert"></span></button><section><span class="notice error">Room Type not available, you are about to overbook the Room Type</span><div class=actions><button type=button class="button blank" ng-click=proceedToOverBooking()>Ok</button></div></section></form></div>');t.put("/assets/partials/reservation/alerts/rateChangeAddonsAlert.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><span class="icons icon-popup-alert"></span> <span class="h2 message">Add-ons may be removed due to rate change. Please review stay enhancements.</span> <button type=button class="button blank modal-close" ng-click=onResetAddonsAcknowledged()>OK</button></div></div>');t.put("/assets/partials/reservation/alerts/reseravtionFromDiaryValidation.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">{{validationMsg}}</span> <button type=button class="button green modal-close" ng-click=closeDialog();>Ok</button></div></div>'),t.put("/assets/partials/reservation/alerts/rvBillingInfoConfirmPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content confirmation"><button type=button id=modal-close class=modal-close ng-click=noRoutingToReservation()><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message" translate="">BILLING_INFORMATION_FOUND</span> <span class=text ng-if="contractRoutingType == \'TRAVEL_AGENT\'"><span translate="">ON_SELECTED_CARD</span> <strong>{{reservationData.travelAgent.name}}</strong></span> <span class=text ng-if="contractRoutingType == \'COMPANY\'"><span translate="">ON_SELECTED_CARD</span> <strong>{{reservationData.company.name}}</strong></span><div class=actions><button type=button class="button green" ng-click=applyRoutingToReservation() translate="">APPLY_TO_RESERVATION<span ng-if="reservationData.isHourly && reservationData.reservations.length > 1">s</span></button> <button type=button class="button red" ng-click=noRoutingToReservation() translate="">DONT_APPLY</button></div></div></div>'),t.put("/assets/partials/reservation/alerts/rvBillingInfoConflictingPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content new-content form warning"><div><span translate="">CONFLICTING_BILLING_INFO_EXISTS_ON</span> <span ng-repeat="card in conflict_cards">{{card}} {{$last ? \'. \' : \', \'}}</span> <span translate="">PLEASE_UPDATE_MANUALLY</span></div><div class=actions><button type=button class="button green" ng-click=okClickedForConflictingRoutes(); translate="">OK</button></div></div></div>'),t.put("/assets/partials/reservation/alerts/rvEmailWarning.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><button ng-click=closeThisDialog() type=button id=modal-close class="modal-close red"><span class="icons icon-close"></span></button><div class="modal-content new-content form warning"><div>Please enter a valid email address</div></div></div>'),t.put("/assets/partials/reservation/alerts/rvNotMemberPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">Guest is not a member!</span> <button type=button class="button green modal-close" ng-click=closeDialog();>Ok</button></div></div>'),t.put("/assets/partials/reservation/alerts/rvReinstate.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content confirmation" ng-if="ngDialogData.isAvailable && ngDialogData.isRoomTypeInRate"><button id=modal-close type=button class=modal-close ng-click=closeDialog();><span class="icons icon-close invert"></span></button> <span class="h2 message">Reinstate reservation for {{$parent.$parent.$parent.data.guest_details.first_name}} {{$parent.$parent.$parent.data.guest_details.last_name}}?</span><div class=actions><button type=button class="button green" ng-click=reinstateReservation(false)>Reinstate</button> <button type=button class="button blank" ng-click=closeDialog();>Cancel</button></div></div><div class="modal-content alert" ng-if="!ngDialogData.isAvailable || !ngDialogData.isRoomTypeInRate"><button id=modal-close type=button class=modal-close ng-click=closeDialog();><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">No Availability to Reinstate Reservation</span> <button type=button class="button green" ng-click=reinstateNavigateRoomAndRates();>Find Rooms &amp; Rates</button> <button type=button ng-hide="ngDialogData.isSuite || !allowOverbook || !ngDialogData.isRoomTypeInRate" class="button blue" ng-click=reinstateReservation(true)>Confirm Overbooking</button></div></div>'),t.put("/assets/partials/reservation/alerts/rvReverseNotPossible.html",'<div id=modal role=dialog class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content alert"><button type=button id=modal-close class=modal-close ng-click=closeDialog();><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">{{ngDialogData.errormessage}}</span> <button type=button class="button blank" ng-click=closeDialog();>Close</button></div></div>'),t.put("/assets/partials/reservation/alerts/rvShowBillingInformationPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><form method=post id=show-billing-information name=change-stay-dates class="modal-content change-stay-dates" ng-cloak=""><button class=modal-close id=modal-close type=button ng-click=closeBillingInfoPopup();><span class="icons icon-close invert"></span></button><section><span class=notice>Billing instructions exists. Apply for new dates?</span><div class=actions><button type=button class="button blank" ng-click=updateBillingInformation()>Apply</button></div></section></form></div>'),t.put("/assets/partials/reservation/includes/rvAllCards.html",'<div id=guest-card class="guest-card cards" ng-class=cardCls() ng-controller=RVReservationAllCardsCtrl style="height: {{guestCardHeight}}px;" ui-jq=resizable ui-options=resizableOptions ng-click=guestCardClick($event);clickedOnGuestCard($event) resize=""><div class=cards-wrapper><header class=cards-header><section ng-include="\'/assets/partials/cards/header/guestCardHeader.html\'"></section><section ng-include="\'/assets/partials/cards/header/companyCardHeader.html\'"></section><section ng-include="\'/assets/partials/cards/header/travelAgentCardHeader.html\'"></section></header><div class=cards-content><section ng-include="\'/assets/partials/cards/guestCardContent.html\'"></section><section ng-include="\'/assets/partials/cards/companyCardContent.html\'"></section><section ng-include="\'/assets/partials/cards/travelAgentCardContent.html\'"></section></div></div></div>'),t.put("/assets/partials/reservation/includes/rvCancellationPrintTemplate.html",'<table align=center cellpadding=10 cellspacing=0 class=container-table id=cancellation-print-template><tbody><tr><td class=container-table-data><table cellpadding=0 cellspacing=0 class=first-inner-table><tbody><tr><td align=center class=first-inner-table-data><img ng-src="{{ printData.hotel_logo }}" class=first-inner-table-image></td></tr></tbody></table></td></tr><tr><td><table cellpadding=0 cellspacing=0 class=table-common><tbody><tr><td class=second-inner-table-title>{{printData.translation.cancellation_no}} : {{printData.confirmation_no}}</td><td class=second-inner-table-data>{{printData.date}}</td></tr></tbody></table></td></tr><tr><td><table cellpadding=0 cellspacing=0 class=table-common><tbody><tr><td class=third-table-data><table class=fourth-table><tbody><tr><td><p>{{printData.guest_details.guest_name_upcase}}<br><span ng-if=!printData.guest_details.city>{{printData.guest_details.street1}}</span> <span ng-if="printData.guest_details.city && printData.guest_details.street1">{{printData.guest_details.street1}},</span> {{printData.guest_details.city}}<br><span ng-if=!printData.guest_details.postal_code>{{printData.guest_details.state}}</span> <span ng-if="printData.guest_details.postal_code && printData.guest_details.state">{{printData.guest_details.state}},</span> {{printData.guest_details.postal_code}}<br></p></td></tr></tbody></table></td><td class=third-table-data-second><span>{{printData.salutation_text}}</span><br><span ng-bind-html=printData.cancellation_letter_body></span><br></td></tr></tbody></table></td></tr></tbody></table>'),t.put("/assets/partials/reservation/includes/rvConfirmationPrintTemplate.html",'<div id=confirmation-print-template><table align=center border=0 cellpadding=10 cellspacing=0 class"container-table"=""><tbody><tr><td class=container-table-data><table cellpadding=0 cellspacing=0 class=table-common><tbody><tr><td align=center class=first-inner-table-data><img ng-src="{{ printData.hotel_logo }}" class=first-inner-table-image></td></tr></tbody></table></td></tr><tr><td><table cellpadding=0 cellspacing=0 class=table-common><tbody><tr><td class=second-inner-table-title>CONFIRMATION #: {{ printData.confirmation_no }}</td><td class=second-inner-table-date>{{ printData.date }}</td></tr></tbody></table></td></tr><tr><td><table cellpadding=0 cellspacing=0 class="table-common third-inner-table"><tbody><tr cellpadding=10><td class=third-inner-table-data><b><span>{{ printData.guest_details.guest_name_upcase }}</span><br></b> <b ng-if="printData.guest_details.street1 !== \'\' || printData.guest_details.city !== \'\'"><span ng-if=!printData.guest_details.city>{{ printData.guest_details.street1 }}</span> <span ng-if="printData.guest_details.city && printData.guest_details.street1">{{ printData.guest_details.street1 }}</span> {{ printData.guest_details.city }}<br></b> <b ng-if="printData.guest_details.state !== \'\' || printData.guest_details.postal_code !== \'\'"><span ng-if=!printData.guest_details.postal_code>{{ printData.guest_details.state }}</span> <span ng-if="printData.guest_details.postal_code && printData.guest_details.state">{{ printData.guest_details.state }},</span> {{ printData.guest_details.postal_code }}<br></b></td><td align=right class"third-inner-table-data-second"=""><table class=fourth-inner-table><tr><td align=right class=data-label><span>Arrival Date :</span></td><td class=data>{{ printData.arrival_date }}</td></tr><tr><td align=right class=data-label><span>Departure Date :</span></td><td class=data>{{ printData.departure_date }}</td></tr><tr><td align=right class=data-label><span>Room Type :</span></td><td class=data>{{ printData.room_type }}</td></tr><tr><td align=right class=data-label><span></span> Add-ons :</td><td class=data>{{ printData.addons_list }}</td></tr><tr ng-hide=printData.hide_rates><td align=right class=data-label><span>Average Daily Rate :</span></td><td class=data><span>{{ printData.adr }}</span> <span>{{ printData.currency_value }}</span></td></tr></table></td></tr></tbody></table></td></tr><tr><td><table cellpadding=0 cellspacing=0 class=table-common><tbody><tr><td class=fifth-inner-table-data><p>{{ printData.hotel_details.hotel_name }}<br>{{ printData.hotel_details.street }}<br>{{ printData.hotel_details.city }}, {{ printData.hotel_details.state }}, {{ printData.hotel_details.zipcode }}</p><p>Ph: <span>{{ printData.hotel_details.phone }}</span></p>{{ printData.confirmation_template_text }}<p></p><p>Location and Directions:<br><a href=http://www.fultonsteamboatinn.com/directions class=location-direction>fultonsteamboatinn.com/directions/</a><br></p></td><td class=message-body><span>{{ printData.salutation_text }}</span><br><p>Thank you for choosing the Fulton Steamboat Inn for your accommodations in Lancaster County, PA! We look forward to providing you with the same service, style, and comfort that has made legendary riverboats famous.</p><p>The following amenities are available on-board the Fulton Steamboat Inn for all passengers: The Emporium Gift Shoppe, Duck and Koi Feeding Pond, Outdoor “Ship-Shape” Playground, heated indoor pool and whirlpool with adult swim 10p-12a daily, complimentary wi-fi internet access, adult fitness room, game room, and coin-operated laundry. Our entire facility is fully <span class=uppercase>ada&nbsp;</span> accessible.</p><p>Check in time is 3pm, and departure is prior to 11am. We are designated a fully non smoking facility. Any evidence of smoking in guest rooms, or any common areas, will result in a fee of up to $150.</p><p>If you find it necessary to cancel your reservation, please inform us 48 hours prior to your scheduled arrival. You must obtain a cancellation number(s), or a cancellation letter(s), when you terminate or alter your arrangements for each individual reservation in order to avoid a charge to your credit card as proof of your cancellation which you should retain. This number will clarify any disputes. One night\'s lodging, plus applicable tax (11%), will be charged to your credit card for any unclaimed reservations</p><p></p><p>Visit our website at FultonSteamBoatInn.com. We look forward to welcoming you aboard!</p><p>Sincerly,</p><p><span class=signature>Reservations</span></p><p></p><p></p><br></td></tr></tbody></table></td></tr></tbody></table></div>'),t.put("/assets/partials/reservation/includes/rvSettings.html",'<div id=reservations-settings class=sidebar-left role=complementary ng-controller=RVReservationSettingsCtrl ui-jq=resizable ui-options=resizableOptions ng-click=clickedOnReservationSettings($event) style="width: {{reservationSettingsWidth}}px;" ng-hide=hideSidebar><div class=scrollable ng-iscroll=reservation-settings ng-iscroll-delay=1000><div class=wrapper><div ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions><a class="settings-title toggle has-arrow active"><span class=title translate="">NIGHTS</span> <span class=value>{{reservationData.numNights}}</span></a><div id=sidebar-nights class=settings-content><label for=sidebar-check-in-date>{{\'ARRIVING_LABEL\'|translate}}<span translate="">{{getSimplifiedDayName(reservationData.arrivalDate)}}</span></label><div class="entry-data arriving" ng-class="{\'disabled-calendar\': reservationData.inHouse}"><input ng-if=!reservationData.inHouse ui-date=arrivalDateOptions id=sidebar-check-in-date name=check-in-date type=text class=datepicker ui-date-format="" ng-model=reservationData.arrivalDate readonly="" ng-change=arrivalDateChanged()> <strong class=day>{{reservationData.arrivalDate|date:dayInMonth}}</strong> <span class=month>{{reservationData.arrivalDate|date:fullMonth}}</span> <span class=year>{{reservationData.arrivalDate|date:fullYear}}</span></div><label for=sidebar-check-out-date>{{\'DEPARTING_LABEL\'|translate}} <span translate="">{{getSimplifiedDayName(reservationData.departureDate)}}</span></label><div class="entry-data departing" ng-class="{\'disabled-calendar\': reservationData.inHouse}"><input ng-if=!reservationData.inHouse ui-date=departureDateOptions name=check-out-date id=sidebar-check-out-date type=text class=datepicker ui-date-format="" ng-model=reservationData.departureDate readonly="" ng-change=departureDateChanged()> <strong class=day>{{reservationData.departureDate|date:dayInMonth}}</strong> <span class=month>{{reservationData.departureDate|date:fullMonth}}</span> <span class=year>{{reservationData.departureDate|date:fullYear}}</span></div></div></div><div ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions><a class="settings-title toggle has-arrow active"><span class=title translate="">ROOM_TYPES</span> <span class=value>{{reservationData.tabs.length}}</span></a><div id=sidebar-rooms class=settings-content><div class=entry ng-repeat="tab in reservationData.tabs"><label>{{\'ROOM_TYPE\'|translate}} {{$index+1}}<button type=button class="remove-room icons icon-remove-10" ng-if=!$first ng-click=removeTabFromSidebar($index)>Remove Room</button></label> <span ng-show=room.varyingOccupancy translate="">VAR_OCCUPANCY</span><div class="select adults"><label class=label translate="">ADULTS</label><select ng-disabled=tab.varyingOccupancy ng-change="onOccupancyChange(\'numAdults\', $index)" ng-model=tab.numAdults iscroll-stop-propagation=""><option ng-repeat="i in [0, otherData.maxAdults] | makeRange" value={{i}} ng-selected="i==tab.numAdults">{{i}}</option></select></div><div class="select children"><label class=label translate="">CHILDREN</label><select ng-change="onOccupancyChange(\'numChildren\', $index)" ng-disabled=tab.varyingOccupancy ng-model=tab.numChildren iscroll-stop-propagation=""><option ng-repeat="i in [0, otherData.maxChildren] | makeRange" value={{i}} ng-selected="i==tab.numChildren">{{i}}</option></select></div><div class="select infants"><label class=label translate="">INFANTS</label><select ng-change="onOccupancyChange(\'numInfants\', $index)" ng-disabled=tab.varyingOccupancy ng-model=tab.numInfants iscroll-stop-propagation=""><option ng-repeat="i in [0, otherData.maxInfants] | makeRange" value={{i}} ng-selected="i==tab.numInfants">{{i}}</option></select></div><div class="select rooms"><label class=label translate="">ROOMS</label><select ng-model=tab.roomCount iscroll-stop-propagation="" ng-change=onRoomCountChange($index) ng-disabled="isHourlyRateOn || !!reservationData.reservationId"><option ng-repeat="i in [1, otherData.maxRoomCount] | makeRange" value={{i}} ng-selected="i==tab.roomCount">{{i}}</option></select></div></div><button type=button class=add-new-button ng-hide=restrictMultipleBookings() ng-click=addTabFromSidebar()>+ Add room</button></div></div><div ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions ng-hide=true><a class="settings-title toggle has-arrow active"><span class=title translate="">CODES_LABEL</span> <span class=value>0</span></a><div id=sidebar-codes class=settings-content><div class=entry><label class="radio inline"><span class="icon-form icon-radio checked"></span> <input name=codes id=codes-none type=radio checked=""> {{\'NONE_LABEL\'|translate}}</label></div><div class=entry><label class="radio inline" for=codes-promo-value><span class="icon-form icon-radio"></span> <input name=codes id=codes-promo type=radio> {{\'PROMOTION_CODE_LABEL\'|translate}}</label> <input name=codes-promo-value id=codes-promo-value type=text value="" translate=""></div><div class=entry><label class="radio inline" for=codes-member-number-value><span class="icon-form icon-radio"></span> <input name=codes id=codes-member-number type=radio translate=""> {{\'MEMBER_NUMBER_LABEL\'|translate}}</label> <input name=codes-member-number-value id=codes-member-number-value type=text value=""></div><div class=entry><label class="radio inline" for=codes-aaa-value><span class="icon-form icon-radio"></span> <input name=codes id=codes-aaa type=radio translate=""> {{\'AAA_LABEL\'|translate}}</label> <input name=codes-aaa-value id=codes-aaa-value type=text value=""></div><div class=entry><label class="radio inline" for=codes-group-value><span class="icon-form icon-radio"></span> <input name=codes id=codes-group type=radio translate=""> {{\'GROUP_LABEL\'|translate}}</label> <input name=codes-group-value id=codes-group-value type=text value=""></div><div class=entry><label class="radio inline" for=codes-senior-value><span class="icon-form icon-radio"></span> <input name=codes id=codes-senior type=radio translate=""> {{\'AARP_LABEL\'|translate}}</label> <input name=codes-senior-value id=codes-senior-value type=text value=""></div><div class=entry><label class="radio inline" for=codes-gov-value><span class="icon-form icon-radio"></span> <input name=codes id=codes-gov type=radio translate=""> {{\'GOVERNMENT_LABEL\'|translate}}</label> <input name=codes-gov-value id=codes-gov-value type=text value=""></div><div class=entry><label class="radio inline" for=codes-offers-value><span class="icon-form icon-radio"></span> <input name=codes id=codes-offers type=radio translate=""> {{\'PROMOTIONS_OFFERS_LABEL\'|translate}}</label> <input name=codes-offers-value id=codes-offers-value type=text value=""></div></div></div></div></div></div>'),t.put("/assets/partials/reports/accountsReceivablesSummary/rvAccountsReceivablesSummaryRow.html",'<tr class=row-break ng-repeat="item in results"><td class=name><strong>{{item.account_name}}</strong></td><td>{{item.account_no}}</td><td>{{item.corporate_id_or_iata}}</td><td><span ng-if="item.commission.commission_type === \'amount\'"><span ng-bind-html="item.commission.commission_value | sntCurrency:this"></span></span><span ng-if="item.commission.commission_type === \'percent\'">%</span></td><td class="balance red"><span ng-bind-html="item.open_balance | sntCurrency:this"></span></td><td class="balance green"><span ng-bind-html="item.credit | sntCurrency:this"></span></td></tr>'),t.put("/assets/partials/reports/actionManager/reportRow.html","<tr class=row-break ng-repeat=\"item in results\"><td class=name><strong>{{item.department}}</strong></td><td>{{item.due_at_date}}<br>{{item.due_at_time}}</td><td>{{item.full_name}}<br>{{item.room_no}}</td><td>{{item.description}}</td><td><span class=status ng-class=\"{'unassigned': item.status === 'UNASSIGNED', 'completed': item.status === 'COMPLETED', 'assigned': item.status === 'ASSIGNED'}\">{{item.status}}</span></td></tr>"),t.put("/assets/partials/reports/addonForecastReport/rvAddonForecastReportByAddon.html",'<div ng-controller=RVAddonForecastReportByAddonCtrl><div ng-if=!hasResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div ng-if=hasResults id=report-content class="report-content grid scrollable" ng-iscroll=addon-forecast-report-scroll><div class=wrapper><ul class="grid-header dates"><li class=name>Date</li><li class=guests>Booked</li><li class=guests>Remaining</li><li class=guests>Guests</li><li class=revenue>Revenue</li></ul><div ng-repeat="(key1, item1) in modifiedResults" emit-when="{event: \'ALL_RENDERED\', condition: $last}"><a ng-if=item1.hasData href=#addon-{date} class="title-1 toggle" ng-class="{ \'has-arrow\': item1.addons.length }" ng-click=toggleSub(item1)><strong>{{ getAddonGrpName(key1) }}</strong> <span>{{ item1.guests }}</span> <span><span ng-bind-html="item1.revenue | sntCurrency:this"></span></span></a><div ng-if=item1.hasData ng-repeat="item2 in item1.addons" ng-init="item2Values = getKeyValues(item2)" class=grid-content ng-class="{ \'hidden\': !openAddon && !item1.hidden }"><a ng-if=item2Values.hasData href=#addon-{group}-{date} class="title-2 toggle" ng-class="{ \'has-arrow\': item2Values.dates.length }" ng-click=toggleSub(item2Values)><strong>{{ getAddonName(item2) }}</strong> <span>{{ item2Values.guests }}</span> <span><span ng-bind-html="item2Values.revenue | sntCurrency:this"></span></span></a><div ng-if=item2Values.hasData ng-repeat="item3 in item2Values.dates" ng-init="item3Values = getKeyValues(item3)" class=grid-content ng-class="{ \'hidden\': !openDate && !item2Values.hidden }"><ul class="grid-header addons"><li class=name>Add-On</li><li></li><li></li><li></li><li>Revenue</li></ul><a href=#addon-{addon-name}-{group}-{date} class="title-3 toggle" ng-class="{ \'has-arrow\': item3Values.reservations.length }" ng-click=toggleSub(item3Values)><strong class=name>{{ getKey(item3) | date : dateFormat }}</strong> <span>{{ item3Values.booked }}</span> <span>{{ item3Values.remaining }}</span> <span>{{ item3Values.guests }}</span> <span><span ng-bind-html="item3Values.revenue | sntCurrency:this"></span></span></a><table ng-if=item2Values.hasData class=grid-content ng-class="{ \'hidden\': !openResrv && !item3Values.hidden }"><thead><tr><th><span class=sort ng-class="{ \'sorting-asc\': true === item3Values.roomSortDir, \'sorting-desc\': false === item3Values.roomSortDir }" ng-click="sortRes(\'ROOM\', item3Values)" ng-if=!isBackgroundReportsEnabled>Room</span> <span ng-if=isBackgroundReportsEnabled>Room</span></th><th><span class=sort ng-class="{ \'sorting-asc\': true === item3Values.nameSortDir, \'sorting-desc\': false === item3Values.nameSortDir }" ng-click="sortRes(\'NAME\', item3Values)" ng-if=!isBackgroundReportsEnabled>Guest Name</span> <span ng-if=isBackgroundReportsEnabled>Guest Name</span></th><th><span>Reservation #</span></th><th><span>Guests</span></th><th><span>Accompanying</span></th><th><span>Price</span></th></tr></thead><tbody><tr ng-repeat="item4 in item3Values.reservations"><td class=room><strong ng-class="{ \'unassigned\': !item4.room }" class=title>{{ item4.room || \'N/A\' }}</strong></td><td class=name><span class="guest-status small-icon {{ getStatusClass(item4.status) }}">{{ item4.status }}</span> <strong class=title>{{ item4.guest_name }}</strong></td><td><span>{{ item4.confirm_no }}</span></td><td class=guests><span>{{ item4.guests_count.adults }} Adults</span>&#8226; <span>{{ item4.guests_count.children }} Children</span></td><td class=guests><span class=accompanying-guest ng-repeat="guest in item4.accompanying_guests | limitTo: item4.accompanying_guests.length - 1"><span>{{ guest }}</span>&#8226;</span> <span class=accompanying-guest><span>{{ item4.accompanying_guests[item4.accompanying_guests.length - 1] }}</span></span></td><td><span ng-bind-html="item4.price | sntCurrency:this"></span></td></tr><tr class=pagination ng-if="!item3Values.disablePrevBtn || !item3Values.disableNextBtn"><td colspan=5><div class=search-pagination><label class="button dark-grey next" ng-click="loadRes(\'next\', item3Values)" ng-class="{\'disabled\': item3Values.disableNextBtn}">Next</label> <label class="button dark-grey prev" ng-click="loadRes(\'prev\', item3Values)" ng-class="{\'disabled\': item3Values.disablePrevBtn}">Previous</label><p>Showing <strong>{{ item3Values.resultFrom }}-{{ item3Values.resultUpto }}</strong> of <strong id=total-count>{{ item3Values.netTotalCount }}</strong> items</p></div></td></tr></tbody></table></div></div></div><table><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot></table></div></div></div>'),t.put("/assets/partials/reports/addonForecastReport/rvAddonForecastReportByDate.html",'<div ng-controller=RVAddonForecastReportByDateCtrl><div ng-if=!hasResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div ng-if=hasResults id=report-content class="report-content grid scrollable" ng-iscroll=addon-forecast-report-scroll><div class=wrapper><ul class="grid-header dates"><li class=name>Date</li><li class=guests>Booked</li><li class=guests>Remaining</li><li class=guests>Guests</li><li class=revenue>Revenue</li></ul><div ng-repeat="(key1, item1) in modifiedResults"><a href=#addon-{date} class="title-1 toggle" ng-class="{ \'has-arrow\': item1.addon_groups.length }" ng-click=toggleSub(item1)><strong>{{ key1 | date : dateFormat }}</strong> <span>{{ item1.guests }}</span> <span><span ng-bind-html="item1.revenue | sntCurrency:this"></span></span></a><div ng-repeat="item2 in item1.addon_groups" ng-init="item2Values = getKeyValues(item2)" class=grid-content ng-class="{ \'hidden\': !openGroup && !item1.hidden }" emit-when="{event: \'ALL_RENDERED\', condition: $parent.$last && $last}"><a ng-if=item2Values.hasData href=#addon-{group}-{date} class="title-2 toggle" ng-class="{ \'has-arrow\': item2Values.addons.length }" ng-click=toggleSub(item2)><strong>{{ getAddonGrpName(item2) }}</strong> <span>{{ item2Values.guests }}</span> <span>{{ item2Values.revenue }}</span></a><div ng-if=item2Values.hasData id=addon-{group}-{date} class=grid-content ng-class="{ \'hidden\': !openAddon && !item2.hidden }"><ul class="grid-header addons"><li class=name>Add-On</li><li></li><li></li><li></li><li>Revenue</li></ul><div ng-repeat="item3 in item2Values.addons" ng-init="item3Values = getKeyValues(item3)"><a ng-if=item3Values.hasData href=#addon-{addon-name}-{group}-{date} class="title-3 toggle" ng-class="{ \'has-arrow\': item3Values.reservations.length }" ng-click=toggleSub(item3)><strong class=name>{{ getAddonName(item3) }}</strong> <span>{{ item3Values.booked }}</span> <span>{{ item3Values.remaining }}</span> <span>{{ item3Values.guests }}</span> <span><span ng-bind-html="item3Values.revenue | sntCurrency:this"></span></span></a><table ng-if=item3Values.hasData class=grid-content ng-class="{ \'hidden\': !openResrv && !item3.hidden }"><thead><tr><th><span class=sort ng-class="{ \'sorting-asc\': true === item3Values.roomSortDir, \'sorting-desc\': false === item3Values.roomSortDir }" ng-click="sortRes(\'ROOM\', item3Values)">Room</span></th><th><span class=sort ng-class="{ \'sorting-asc\': true === item3Values.nameSortDir, \'sorting-desc\': false === item3Values.nameSortDir }" ng-click="sortRes(\'NAME\', item3Values)">Guest Name</span></th><th><span>Reservation #</span></th><th><span>Guests</span></th><th><span>Accompanying</span></th><th><span>Price</span></th></tr></thead><tbody><tr ng-repeat="item4 in item3Values.reservations"><td class=room><strong ng-class="{ \'unassigned\': !item4.room }" class=title>{{ item4.room || \'N/A\' }}</strong></td><td class=name><span class="guest-status small-icon {{ getStatusClass(item4.status) }}">{{ item4.status }}</span> <strong class=title>{{ item4.guest_name }}</strong></td><td><span>{{ item4.confirm_no }}</span></td><td class=guests><span>{{ item4.guests_count.adults }} Adults</span>&#8226; <span>{{ item4.guests_count.children }} Children</span></td><td class=guests><span class=accompanying-guest ng-repeat="guest in item4.accompanying_guests | limitTo: item4.accompanying_guests.length - 1"><span>{{ guest }}</span>&#8226;</span> <span class=accompanying-guest><span>{{ item4.accompanying_guests[item4.accompanying_guests.length - 1] }}</span></span></td><td><span ng-bind-html="item4.price | sntCurrency:this"></span></td></tr><tr class=pagination ng-if="!item3Values.disablePrevBtn || !item3Values.disableNextBtn"><td colspan=5><div class=search-pagination><label class="button dark-grey next" ng-click="loadRes(\'next\', item3Values)" ng-class="{\'disabled\': item3Values.disableNextBtn}">Next</label> <label class="button dark-grey prev" ng-click="loadRes(\'prev\', item3Values)" ng-class="{\'disabled\': item3Values.disablePrevBtn}">Previous</label><p>Showing <strong>{{ item3Values.resultFrom }}-{{ item3Values.resultUpto }}</strong> of <strong id=total-count>{{ item3Values.netTotalCount }}</strong> items</p></div></td></tr></tbody></table></div></div></div></div><table><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot></table></div></div></div>'),
t.put("/assets/partials/reports/addonForecastReport/rvGrpByDatePrintPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content form report-options"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <strong class="h2 message">Print Details Level</strong><div class="entry radio-check full-width"><label class=radio><span class="icon-form icon-radio" ng-class="{ \'checked\' : printLevel.value == levelValues.date }"></span> <input type=radio name=print-option ng-model=printLevel.value ng-value=levelValues.date> Date</label> <label class=radio><span class="icon-form icon-radio" ng-class="{ \'checked\' : printLevel.value == levelValues.group }"></span> <input type=radio name=print-option ng-model=printLevel.value ng-value=levelValues.group> Add-On Group</label> <label class=radio><span class="icon-form icon-radio" ng-class="{ \'checked\' : printLevel.value == levelValues.addon }"></span> <input type=radio name=print-option ng-model=printLevel.value ng-value=levelValues.addon> Add-On</label> <label class=radio><span class="icon-form icon-radio" ng-class="{ \'checked\' : printLevel.value == levelValues.all }"></span> <input type=radio name=print-option ng-model=printLevel.value ng-value=levelValues.all> Everything</label></div><div class=actions><button type=button class="button blue" ng-click=continueWithPrint()>Print report</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/reports/addonForecastReport/rvGrpByGroupPrintPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content form report-options"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <strong class="h2 message">Print Details Level</strong><div class="entry radio-check full-width"><label class=radio><span class="icon-form icon-radio" ng-class="{ \'checked\' : printLevel.value == levelValues.group }"></span> <input type=radio name=vijay ng-model=printLevel.value ng-value=levelValues.group> Add-On Group</label> <label class=radio><span class="icon-form icon-radio" ng-class="{ \'checked\' : printLevel.value == levelValues.addon }"></span> <input type=radio name=vijay ng-model=printLevel.value ng-value=levelValues.addon> Add-On</label> <label class=radio><span class="icon-form icon-radio" ng-class="{ \'checked\' : printLevel.value == levelValues.date }"></span> <input type=radio name=vijay ng-model=printLevel.value ng-value=levelValues.date> Date</label> <label class=radio><span class="icon-form icon-radio" ng-class="{ \'checked\' : printLevel.value == levelValues.all }"></span> <input type=radio name=vijay ng-model=printLevel.value ng-value=levelValues.all> Everything</label></div><div class=actions><button type=button class="button blue" ng-click=continueWithPrint()>Print report</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/reports/aging/reportRow.html",'<tr class=row-break ng-repeat="item in results"><td class=name><strong>{{item.account_name}}</strong></td><td>{{item.ar_number}}</td><td ng-if=item.age_0to30><span ng-bind-html="item.age_0to30 | sntCurrency:this"></span></td><td ng-if=item.age_31to60><span ng-bind-html="item.age_31to60 | sntCurrency:this"></span></td><td ng-if=item.age_61to90><span ng-bind-html="item.age_61to90 | sntCurrency:this"></span></td><td ng-if=item.age_91to120><span ng-bind-html="item.age_91to120 | sntCurrency:this"></span></td><td ng-if=item.age_120plus><span ng-bind-html="item.age_120plus | sntCurrency:this"></span></td><td><span ng-bind-html="item.payment | sntCurrency:this"></span></td><td><span ng-bind-html="item.balance | sntCurrency:this"></span></td></tr>'),t.put("/assets/partials/reports/allowanceForecastReport/rvAllowanceForecastReportByAllowance.html",'<div ng-controller=RVAllowanceForecastReportByAllowanceCtrl><div ng-if=!hasResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=!hasResults ng-iscroll=report-details-scroll><div class=wrapper><span ng-repeat="(allowance, values) in sortedResults" ng-if=values.length><ul class=card-meta><li class=name>{{ allowance }}</li></ul><table class="balance-reports complimentary-report"><thead><tr><th ng-repeat="header in subHeaders track by $index"><span ng-class="{ \'inactive\': currentSort !== header, \'sort\': !!fieldSetup[header].sort, \'sorting-asc\': fieldSetup[header].sort === \'asc\', \'sorting-desc\': fieldSetup[header].sort === \'desc\' }" ng-click=toggleSort(header)>{{ header }}</span></th></tr></thead><tbody><tr ng-repeat="row in sortedResults[allowance]" class=row-break><td ng-repeat="header in subHeaders track by $index">{{ row[fieldSetup[header].mapping] }} <span style="color: darkgray" ng-if="header === \'Guest\'"><br>{{ row.guests_count.adults }} Adults, {{ row.guests_count.children }} Children</span></td></tr></tbody></table></span><ul class=card-meta style="page-break-before: always;"><li class=name>TOTALS<br><br></li></ul><span ng-repeat="(date, values) in sortedTotals"><ul class=card-meta style="margin-bottom: 10px;"><li class=name style="width: 100%">{{ date }}<div style="float: right">{{ totalsPerDay[date] }}</div></li></ul><table class="balance-reports complimentary-report"><tbody><tr ng-repeat="(name, count) in values track by $index" style="clear: both;"><td style="display: block; margin-bottom: 10px;"><div style="float: left; width: 70%;">{{ name }}</div><div style="float: right; width: 30%; text-align: right;">{{ count }}</div></td></tr></tbody></table></span></div></div></div>'),t.put("/assets/partials/reports/allowanceForecastReport/rvAllowanceForecastReportByDate.html",'<div ng-controller=RVAllowanceForecastReportByDateCtrl><div ng-if=!hasResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=!hasResults ng-iscroll=report-details-scroll><div class=wrapper><span ng-repeat="(date, values) in sortedResults"><ul class=card-meta><li class=name>{{ date }}</li></ul><table class="balance-reports complimentary-report"><thead><tr><th ng-repeat="header in subHeaders track by $index"><span ng-class="{ \'inactive\': currentSort !== header, \'sort\': !!fieldSetup[header].sort, \'sorting-asc\': fieldSetup[header].sort === \'asc\', \'sorting-desc\': fieldSetup[header].sort === \'desc\' }" ng-click=toggleSort(header)>{{ header }}</span></th></tr></thead><tbody><tr ng-repeat="row in sortedResults[date]" class=row-break><td ng-repeat="header in subHeaders track by $index">{{ row[fieldSetup[header].mapping] }} <span style="color: darkgray" ng-if="header === \'Guest\'"><br>{{ row.guests_count.adults }} Adults, {{ row.guests_count.children }} Children</span></td></tr></tbody></table></span><ul class=card-meta style="page-break-before: always;"><li class=name>TOTALS<br><br></li></ul><span ng-repeat="(date, values) in sortedTotals"><ul class=card-meta style="margin-bottom: 10px;"><li class=name style="width: 100%">{{ date }}<div style="float: right">{{ totalsPerDay[date] }}</div></li></ul><table class="balance-reports complimentary-report"><tbody><tr ng-repeat="(name, count) in values track by $index" style="clear: both;"><td style="display: block; margin-bottom: 10px;"><div style="float: left; width: 70%;">{{ name }}</div><div style="float: right; width: 30%; text-align: right;">{{ count }}</div></td></tr></tbody></table></span></div></div></div>'),t.put("/assets/partials/reports/backgroundReports/rvReportGenerationStatusPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content report-in-progress alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-success"></span> <strong class="h2 message">Report Requested</strong> <span class="text in-progress">You can access it in the Reports Inbox Section</span><div id=actions class=actions><button type=button class="button blue" ng-click=navigateToReportInbox()>Go to Inbox</button> <button type=button class="button blank" ng-click=closeDialog()>Close Window</button></div></div></div>'),t.put("/assets/partials/reports/backgroundReports/rvReportsInbox.html",'<form class="search-form reports enable-adding inbox"><button type=button class="button white with-icon only-icon refresh" ng-click=refreshReportInbox()><span class="icons icon-reset"></span> Refresh</button><div class="entry search"><button type=button class=clear-query ng-class="{\'visible\': reportInboxData.filter.searchTerm.length}" ng-click=clearQuery()><span class="icons icon-clear-search" ng-click=clearQuery()>Clear query</span></button> <button type=button name=submit class="icons icon-search">Search</button> <input id=reports-query class=query placeholder="Search by Report Name" type=search autocomplete=off ng-model=reportInboxData.filter.searchTerm ng-change=filterByQuery()></div><div class="entry report-requested"><div class="select with-label"><label for=report-requested>Report Requested</label><select id=report-requested ng-change=refreshReportInbox() ng-model=reportInboxData.filter.selectedDate><option ng-repeat="ddData in dateDropDown track by $index" value={{ddData.value}}>{{ddData.name}}</option></select></div></div><div class="entry new"><a class=add-new-button ng-click=createNewReport()>+ New Report</a></div></form><section id=reports class="content reports-wrapper" role=main ng-class="{\'with-notice\': errorMessage && errorMessage.length > 0}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div ng-hide=true id=reports-menu ng-include="\'/assets/partials/reports/shared/rvReportMainMenu.html\'"></div><div id=reports-dashboard class="" ng-class=viewColClassName ng-iscroll=FULL_REPORT_SCROLL ng-show=shouldShowReportList()><div class=wrapper><div class=cols-wrapper><div class="report-col main-col no-print" ng-class="{\'with-pagination\': shouldShowPagination()}"><div class=report-item-header><div class=data>Report Requested<div class=dates><div class=date>Date <span>(FROM)</span></div><div class=date>Date <span>(TO)</span></div></div></div><div class=actions>CSV/PRINT</div></div><div class="scrollable report-inbox" ng-iscroll=report-inbox-scroller><ul class=wrapper><li class="report-item inbox-item" ng-repeat="report in reportInboxData.generatedReports track by $index" ng-class="{\'disabled\': shouldDisableInboxItem(report), \'expanded\': report.isExpanded, \'export-item\': report.shouldShowExport && !report.shouldDisplayView }"><div class=expand ng-click=showReportDetails(report) ng-if=!shouldDisableInboxItem(report)><span class="icons icon-double-arrow black expand-arrow" ng-class="{\'active\': report.isExpanded}"></span></div><div class=expand ng-if=shouldDisableInboxItem(report)><span class="icons icon-double-arrow black expand-arrow" ng-class="{\'active\': report.isExpanded}"></span></div><span class="status {{getColorCodeForReportStatus(report)}}" ng-show=shouldDisableInboxItem(report)>{{ getRequestedReportStatus(report) }}</span><div class=report-item-wrapper ng-click=showGeneratedReportFromInbox(report)><span class="{{report.reportIconCls}} icon-20w"></span><div class=data><div class=info><h2 ng-bind-html=escapeNull(report.name)|highlight:reportInboxData.filter.searchTerm:false></h2><em>{{report.generated_date}}</em></div><div class=dates><div class=date><span>{{report.fromDate | date:dateFormat}}</span></div><div class=date><span>{{report.toDate | date:dateFormat}}</span></div></div></div><table class=filters-grid><tbody><tr ng-repeat="(key, value) in report.filterDetails"><th>{{key}}</th><td>{{value}}</td></tr></tbody></table></div><div class=report-actions ng-if=!shouldDisableInboxItem(report)><button type=button class="button green" ng-click=showGeneratedReportFromInbox(report) ng-show=report.shouldDisplayView>Show</button><button type=button class="button with-icon purple" ng-show=report.shouldShowExport ng-click=exportCSV(report)><span class="icons icon-save"></span> <span class=text>Export</span></button><span class="button with-icon" ng-show=!report.shouldShowExport><span class="icons icon-export-unavailable"></span></span><button type=button class="button with-icon blue" ng-click=printReportFromInbox(report) ng-if=report.shouldDisplayView><span class="icons icon-print"></span> <span class=text>Print</span></button><span class="button with-icon" ng-show=!report.shouldDisplayView><span class="icons icon-print-unavailable"></span></span> <button type=button class="button red" ng-hide=true>Delete</button></div></li></ul></div><rv-pagination page-options=pageOptions page-data=totalResultCount></rv-pagination></div></div></div></div><div class=no-content ng-show=!shouldShowReportList()><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>Reports unavailable</strong> <span class=h2>You have no report options configured</span></div></div></section><div class=only-print ng-include="\'/assets/partials/reports/rvReportsDetailedView.html\'" ng-controller=RVReportDetailsCtrl ng-if=viewStatus.showDetails></div>'),t.put("/assets/partials/reports/backgroundReports/rvScheduleReportsAndExports.html",'<form class="search-form reports" ng-class="{\'enable-adding\': reportViewStore.showingScheduledReports || reportViewStore.showingExportReports, \'enable-adding my-exports\': reportViewStore.showingCustomExports}"><div class="entry search"><button type=button class=clear-query ng-class="{\'visible\': query.length}" ng-click=clearQuery()><span class="icons icon-clear-search">Clear query</span></button> <button type=button name=submit class="icons icon-search">Search</button> <input id=reports-query class=query placeholder="Search by Report Name" type=search autocomplete=off ng-model=query ng-keyup=filterByQuery()></div><div class="entry new"><a class=add-new-button ng-show=reportViewStore.showingScheduledReports ng-click=createNewReportSchedule()>+ New Report Schedule</a><a class=add-new-button ng-show=reportViewStore.showingExportReports ng-click=createNewExportSchedule()>+ New Export Schedule</a> <a class=add-new-button ng-show=reportViewStore.showingCustomExports ng-click=createNewCustomExport()>+ New Export</a></div></form><section id=reports class=content role=main ng-class="{\'with-menu\': (reportViewStore.showingScheduledReports || reportViewStore.showingExportReports || reportViewStore.showingCustomExports), \'with-notice\': (!isToastEnabled && errorMessage && errorMessage.length > 0)}"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div id=reports-menu ng-include="\'/assets/partials/reports/shared/rvReportMainMenu.html\'" ng-if="reportViewStore.showingScheduledReports || reportViewStore.showingExportReports || reportViewStore.showingCustomExports"></div><div id=reports-dashboard class=scrollable ng-class=viewColClassName ng-iscroll=FULL_REPORT_SCROLL><div class=wrapper><div class=cols-wrapper ng-include="\'/assets/partials/reports/scheduleReport/rvScheduleReport.html\'" ng-controller=RVScheduleReportsCtrl ng-if="reportViewStore.showingScheduledReports || reportViewStore.showingScheduleAReport"></div><div class=cols-wrapper ng-include="\'/assets/partials/reports/scheduleReport/rvExportReport.html\'" ng-controller=RVExportReportsCtrl ng-if="reportViewStore.showingExportReports || reportViewStore.showingExportAReport"></div><div class=cols-wrapper ng-include="\'/assets/partials/reports/customExports/rvCustomExport.html\'" ng-controller=RVCustomExportCtrl ng-if="reportViewStore.showingCustomExports || reportViewStore.showingCustomNewExport"></div></div></div><div include-replace="" ng-include="\'/assets/partials/reports/customExports/rvCustomExportFooter.html\'"></div></section>'),t.put("/assets/partials/reports/backgroundReports/rvScheduledReportsAndExportsMenu.html",'<ul id=report-main-menu><li ng-class="{ \'active\': reportViewStore.showingScheduledReports || reportViewStore.showingScheduleAReport }" ng-click=reportMainMenuChange(reportViewActions.SHOW_SCHEDULED_REPORTS) ng-show=shouldShowScheduleReport()><i class="icon-report icon-schedule"></i> <span class="title has-arrow next-view">Scheduled Reports</span></li><li ng-class="{ \'active\': reportViewStore.showingExportReports || reportViewStore.showingExportAReport }" ng-click=reportMainMenuChange(reportViewActions.SHOW_EXPORT_REPORTS) ng-show=shouldShowExportReport()><i class="icon-report icon-schedule"></i> <span class="title has-arrow next-view">Scheduled Exports</span></li></ul>'),t.put("/assets/partials/reports/bookingSourceMarketReport/rvBookingSourceMarketReport.html",'<div ng-controller=rvMarketSourceReportCtrl><div ng-show=hasNoData class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div ng-hide=hasNoData id=report-content class="report-content with-graphs scrollable" ng-iscroll=report-details-scroll><div class=wrapper><div class=report-block ng-if=sources.length><ul class=graph-summary><li class=header><span class="sort title" ng-class="{\'sorting-asc\': reportStatus.sort.source.name && reportStatus.sort.source.ascending, \'sorting-desc\': reportStatus.sort.source.name && !reportStatus.sort.source.ascending}" ng-click=sort() ng-if=!isBackgroundReportsEnabled>Source</span> <span class=title ng-if=isBackgroundReportsEnabled>Source</span><span class="sort count" ng-class="{\'sorting-asc\': !reportStatus.sort.source.name && reportStatus.sort.source.ascending, \'sorting-desc\': !reportStatus.sort.source.name && !reportStatus.sort.source.ascending}" ng-click=sort(false,true) ng-if=!isBackgroundReportsEnabled>#</span> <span class=count ng-if=isBackgroundReportsEnabled>#</span></li><li ng-repeat="sourceName in sources" ng-class="{\'undefined\' : sourceName == \'Not Defined\'}"><span class=title>{{sourceName}}</span> <span class=count>{{results.source[sourceName]}}</span></li><li class=footer><span class=title>Total</span> <span class=count>{{sourcesValuesTotal}}</span></li><li class="totals for-print"><span class=pull-left>Booked Date Range <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.toDate | date:dateFormat }}</span><br>Arrival Date Range <span>{{ appliedFilter.arrivalFromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.arrivalToDate | date:dateFormat }}</span><label ng-if=appliedFilter.options.length><br>Options: <span>{{ appliedFilter.options.join(\', \') }}</span></label> <label><br>Sort By: <span ng-if=reportStatus.sort.source.name>Name</span><span ng-if=!reportStatus.sort.source.name>Count</span> Sort Direction: <span ng-if=reportStatus.sort.source.ascending>Ascending</span><span ng-if=!reportStatus.sort.source.ascending>Descending</span></label></span> <span class=pull-right style="text-align: right">Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User: <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></span></li></ul><div class=graph-chart><div class=chart><h2>Number of Bookings by Source</h2><ul><li ng-repeat="sourceName in sources"><span class=label ng-class="{\'undefined\' : sourceName == \'Not Defined\'}">{{sourceName}}</span><div class=fill-container><div class="fill blue" style="width: {{ getPercentage(results.source[sourceName], reportStatus.graph.sourceNumber.upperLimit, 100) }}"></div><span class=mark ng-repeat="i in getTimes(reportStatus.graph.sourceNumber.ticks) track by $index" style="width: {{ getPercentage(100, reportStatus.graph.sourceNumber.ticks, 1) }}"></span></div></li><li class=legend><span class=mark ng-repeat="i in getTimes(reportStatus.graph.sourceNumber.ticks) track by $index" style="width: {{ getPercentage(100, reportStatus.graph.sourceNumber.ticks, 1) }}" ng-hide=$last>{{$index * reportStatus.graph.sourceNumber.breakingPoint}}</span><span class="mark last" style="width: {{ getPercentage(100, reportStatus.graph.sourceNumber.ticks, 1) }}"><span class=left-num ng-if="reportStatus.graph.sourceNumber.ticks > 0">{{(reportStatus.graph.sourceNumber.ticks-1) * reportStatus.graph.sourceNumber.breakingPoint}}</span> <span class=right-num>{{(reportStatus.graph.sourceNumber.ticks) * reportStatus.graph.sourceNumber.breakingPoint}}</span></span></li></ul></div><div class=chart><h2>Percentage of Bookings by Source</h2><ul><li ng-repeat="sourceName in sources"><span class=label ng-class="{\'undefined\' : sourceName == \'Not Defined\'}">{{sourceName}}</span><div class=fill-container><div class="fill purple" style="width: {{ getPercentage(results.source[sourceName], sourcesValuesTotal, 100) }}"></div><span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span></div></li><li class=legend><span class="mark percentage">0</span> <span class="mark percentage">10</span> <span class="mark percentage">20</span> <span class="mark percentage">30</span> <span class="mark percentage">40</span> <span class="mark percentage">50</span> <span class="mark percentage">60</span> <span class="mark percentage">70</span> <span class="mark percentage">80</span> <span class="mark percentage last"><span class=left-num>90</span> <span class=right-num>100</span></span></li></ul></div><div class=totals><span class=pull-left>Booked Date Range <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.toDate | date:dateFormat }}</span><br>Arrival Date Range <span>{{ appliedFilter.arrivalFromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.arrivalToDate | date:dateFormat }}</span><label ng-if=appliedFilter.options.length><br>Options: <span>{{ appliedFilter.options.join(\', \') }}</span></label> <label><br>Sort By: <span ng-if=reportStatus.sort.source.name>Name</span><span ng-if=!reportStatus.sort.source.name>Count</span> Sort Direction: <span ng-if=reportStatus.sort.source.ascending>Ascending</span><span ng-if=!reportStatus.sort.source.ascending>Descending</span></label></span> <span class=pull-right style="text-align: right">Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User: <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></span></div></div></div><div class=report-block ng-if=markets.length><ul class=graph-summary><li class=header><span class="sort title" ng-class="{\'sorting-asc\': reportStatus.sort.market.name && reportStatus.sort.market.ascending, \'sorting-desc\': reportStatus.sort.market.name && !reportStatus.sort.market.ascending}" ng-click=sort(true) ng-if=!isBackgroundReportsEnabled>Market</span> <span class=title ng-if=isBackgroundReportsEnabled>Market</span><span class="sort count" ng-class="{\'sorting-asc\': !reportStatus.sort.market.name && reportStatus.sort.market.ascending, \'sorting-desc\': !reportStatus.sort.market.name && !reportStatus.sort.market.ascending}" ng-click=sort(true,true) ng-if=!isBackgroundReportsEnabled>#</span> <span class=count ng-if=isBackgroundReportsEnabled>#</span></li><li ng-repeat="marketName in markets" ng-class="{\'undefined\' : marketName == \'Not Defined\'}"><span class=title>{{marketName}}</span> <span class=count>{{results.market[marketName]}}</span></li><li class=footer><span class=title>Total</span> <span class=count>{{marketsValuesTotal}}</span></li><li class="totals for-print"><span class=pull-left>Booked Date Range <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.toDate | date:dateFormat }}</span><br>Arrival Date Range <span>{{ appliedFilter.arrivalFromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.arrivalToDate | date:dateFormat }}</span><label ng-if=appliedFilter.options.length><br>Options: <span>{{ appliedFilter.options.join(\', \') }}</span></label> <label><br>Sort By: <span ng-if=reportStatus.sort.market.name>Name</span><span ng-if=!reportStatus.sort.market.name>Count</span> Sort Direction: <span ng-if=reportStatus.sort.market.ascending>Ascending</span><span ng-if=!reportStatus.sort.market.ascending>Descending</span></label></span> <span class=pull-right style="text-align: right">Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User: <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></span></li></ul><div class=graph-chart><div class=chart><h2>Number of Bookings by Market</h2><ul><li ng-repeat="marketName in markets"><span class=label ng-class="{\'undefined\' : marketName == \'Not Defined\'}">{{marketName}}</span><div class=fill-container><div class="fill blue" style="width: {{ getPercentage(results.market[marketName], reportStatus.graph.marketNumber.upperLimit, 100) }}"></div><span class=mark ng-repeat="i in getTimes(reportStatus.graph.marketNumber.ticks) track by $index" style="width: {{ getPercentage(100, reportStatus.graph.marketNumber.ticks, 1) }}"></span></div></li><li class=legend><span class=mark ng-repeat="i in getTimes(reportStatus.graph.marketNumber.ticks) track by $index" style="width: {{ getPercentage(100, reportStatus.graph.marketNumber.ticks, 1) }}" ng-hide=$last>{{$index * reportStatus.graph.sourceNumber.breakingPoint}}</span><span class="mark last" style="width: {{ getPercentage(100, reportStatus.graph.marketNumber.ticks, 1) }}"><span class=left-num ng-if="reportStatus.graph.marketNumber.ticks > 0">{{(reportStatus.graph.marketNumber.ticks-1) * reportStatus.graph.marketNumber.breakingPoint}}</span> <span class=right-num>{{(reportStatus.graph.marketNumber.ticks) * reportStatus.graph.marketNumber.breakingPoint}}</span></span></li></ul></div><div class=chart><h2>Percentage of Bookings by Market</h2><ul><li ng-repeat="marketName in markets"><span class=label ng-class="{\'undefined\' : marketName == \'Not Defined\'}">{{marketName}}</span><div class=fill-container><div class="fill purple" style="width: {{ getPercentage(results.market[marketName], marketsValuesTotal, 100) }}"></div><span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span> <span class="mark percentage"></span></div></li><li class=legend><span class="mark percentage">0</span> <span class="mark percentage">10</span> <span class="mark percentage">20</span> <span class="mark percentage">30</span> <span class="mark percentage">40</span> <span class="mark percentage">50</span> <span class="mark percentage">60</span> <span class="mark percentage">70</span> <span class="mark percentage">80</span> <span class="mark percentage last"><span class=left-num>90</span> <span class=right-num>100</span></span></li></ul></div><div class=totals><span class=pull-left>Booked Date Range <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.toDate | date:dateFormat }}</span><br>Arrival Date Range <span>{{ appliedFilter.arrivalFromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.arrivalToDate | date:dateFormat }}</span><label ng-if=appliedFilter.options.length><br>Options: <span>{{ appliedFilter.options.join(\', \') }}</span></label> <label><br>Sort By: <span ng-if=reportStatus.sort.market.name>Name</span><span ng-if=!reportStatus.sort.market.name>Count</span> Sort Direction: <span ng-if=reportStatus.sort.market.ascending>Ascending</span><span ng-if=!reportStatus.sort.market.ascending>Descending</span></label></span> <span class=pull-right style="text-align: right">Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User: <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></span></div></div></div></div></div></div>'),t.put("/assets/partials/reports/businessOnBooks/rvBusinessOnBooksReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content statistics books" ng-hide=hasNoResults ng-controller=RVBusinessOnBooksController ng-class="{\'with-pagination\' : totalCount >paginationConfig.perPage}"><div class=statistics-headings><div class=scrollable ng-iscroll=left-pane-scroll><div class=wrapper><table><thead><tr><th class="main-heading action-row">DATE</th></tr></thead><tbody><tr ng-repeat="date in dates track by $index"><td>{{date | date : dateFormat}}</td></tr><tr class=totals ng-if=resultsTotalRow><td>Totals</td></tr></tbody></table></div></div></div><div class="statistics-content scrollable" ng-iscroll=right-pane-scroll><div class=wrapper><table class="statistics-reports business-books"><thead><tr><th class=rooms rowspan=2>Rms</th><th class=occupancy rowspan=2>Occ %</th><th class=avl rowspan=2>Avl. Rms</th><th class=rooms rowspan=2>OOO</th><th colspan=2>Total Rms</th><th colspan=4>Group Rooms</th><th colspan=4>Allotment Rooms</th><th colspan=3>Individual Rooms</th></tr><tr class=bottom-row><th>Rvn</th><th>ADR/day</th><th class=picked-up>Picked Up</th><th class=not-picked-up>Not Picked Up</th><th>Rvn</th><th>ADR</th><th class=picked-up>Picked Up</th><th class=not-picked-up>Not Picked Up</th><th>Rvn</th><th>ADR</th><th class=rooms>Count</th><th>Rvn</th><th>ADR</th></tr></thead><tbody><tr ng-repeat="roomDet in roomDetails track by $index"><td class=rooms>{{roomDet.rooms_data.rooms_count}}</td><td class=rooms>{{roomDet.rooms_data.occ_percentage | number:2}}</td><td class=rooms>{{roomDet.rooms_data.available_rooms}}</td><td class=rooms>{{roomDet.rooms_data.ooo_rooms_count}}</td><td><span ng-bind-html="roomDet.rooms_data.revenue | sntCurrency:this"></span></td><td><span ng-bind-html="roomDet.rooms_data.adr | sntCurrency:this"></span></td><td class=rooms>{{roomDet.groups_data.picked_up_count}}</td><td class=rooms>{{roomDet.groups_data.non_picked_up_count}}</td><td><span ng-bind-html="roomDet.groups_data.revenue | sntCurrency:this"></span></td><td><span ng-bind-html="roomDet.groups_data.adr | sntCurrency:this"></span></td><td class=rooms>{{roomDet.allotments_data.picked_up_count}}</td><td class=rooms>{{roomDet.allotments_data.non_picked_up_count}}</td><td><span ng-bind-html="roomDet.allotments_data.revenue | sntCurrency:this"></span></td><td><span ng-bind-html="roomDet.allotments_data.adr | sntCurrency:this"></span></td><td class=rooms>{{roomDet.individuals_data.rooms_count}}</td><td><span ng-bind-html="roomDet.individuals_data.revenue | sntCurrency:this"></span></td><td><span ng-bind-html="roomDet.individuals_data.adr | sntCurrency:this"></span></td></tr><tr class=totals ng-if=resultsTotalRow><td class=rooms>{{resultsTotalRow.total_rooms_count}}</td><td class=rooms>{{resultsTotalRow.total_rooms_occ_percentage | number:2}}</td><td class=rooms>{{resultsTotalRow.total_rooms_available_rooms}}</td><td class=rooms>{{resultsTotalRow.total_rooms_ooo_rooms_count}}</td><td><span ng-bind-html="resultsTotalRow.total_rooms_revenue | sntCurrency:this"></span></td><td><span ng-bind-html="resultsTotalRow.total_rooms_adr | sntCurrency:this"></span></td><td class=rooms>{{resultsTotalRow.total_group_picked_up_count}}</td><td class=rooms>{{resultsTotalRow.total_group_non_picked_up_count}}</td><td><span ng-bind-html="resultsTotalRow.total_group_revenue | sntCurrency:this"></span></td><td><span ng-bind-html="resultsTotalRow.total_group_adr | sntCurrency:this"></span></td><td class=rooms>{{resultsTotalRow.total_allotment_picked_up_count}}</td><td class=rooms>{{resultsTotalRow.total_allotment_non_picked_up_count}}</td><td><span ng-bind-html="resultsTotalRow.total_allotment_revenue | sntCurrency:this"></span></td><td><span ng-bind-html="resultsTotalRow.total_allotment_adr | sntCurrency:this"></span></td><td class=rooms>{{resultsTotalRow.total_individual_rooms_count}}</td><td><span ng-bind-html="resultsTotalRow.total_individual_revenue | sntCurrency:this"></span></td><td><span ng-bind-html="resultsTotalRow.total_individual_adr | sntCurrency:this"></span></td></tr></tbody></table></div></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),
t.put("/assets/partials/reports/comparisonStatReport/rvComparisonStatReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-class="{ \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><table class="forecast-reports medium-grid" ng-controller=RVComparisonReport.Controller><thead><tr class=top-row><th class="long-code break"></th><th colspan=1 class=break>Today</th><th colspan=1>MTD</th><th colspan=1>Last Year MTD</th><th colspan=1 class=break>Variance</th><th colspan=1>YTD</th><th colspan=1>Last Year YTD</th><th colspan=1>Variance</th></tr></thead><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody ng-include="\'/assets/partials/reports/comparisonStatReport/rvComparisonStatReportRow.html\'"></tbody></table></div></div><rv-pagination page-options=comparisonByDatePagination page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/comparisonStatReport/rvComparisonStatReportRow.html",'is_ledger today mtd last_year_mtd mtd_variance ytd last_year_ytd ytd_variance<tr ng-repeat="item in ledgerEntries"><td class="code long-code break">{{ item.section }}</td><td class=break><span ng-bind-html="item.today | sntCurrency:this"></span></td><td><span ng-bind-html="item.mtd | sntCurrency:this"></span></td><td><span ng-bind-html="item.last_year_mtd | sntCurrency:this"></span></td><td class=break ng-class="{ \'red\': item.mtd_variance < 0 }"><span ng-bind-html="item.mtd_variance | sntCurrency:this"></span></td><td><span ng-bind-html="item.ytd | sntCurrency:this"></span></td><td><span ng-bind-html="item.last_year_ytd | sntCurrency:this"></span></td><td ng-class="{ \'red\': item.ytd_variance < 0 }"><span ng-bind-html="item.ytd_variance | sntCurrency:this"></span></td></tr><tr ng-repeat="item in staticEntries"><td class="code long-code break">{{ item.section }}</td><td class=break>{{ item.today }}</td><td>{{ item.mtd }}</td><td>{{ item.last_year_mtd }}</td><td class=break ng-class="{ \'red\': item.mtd_variance < 0 }">{{ item.mtd_variance }}</td><td>{{ item.ytd }}</td><td>{{ item.last_year_ytd }}</td><td ng-class="{ \'red\': item.ytd_variance < 0 }">{{ item.ytd_variance }}</td></tr><tr class=total ng-repeat="item in totalEntries"><td class="code long-code break">{{ item.section }}</td><td class=break><span ng-bind-html="item.today | sntCurrency:this"></span></td><td><span ng-bind-html="item.mtd | sntCurrency:this"></span></td><td><span ng-bind-html="item.last_year_mtd | sntCurrency:this"></span></td><td class=break ng-class="{ \'red\': item.mtd_variance < 0 }"><span ng-bind-html="item.mtd_variance | sntCurrency:this"></span></td><td><span ng-bind-html="item.ytd | sntCurrency:this"></span></td><td><span ng-bind-html="item.last_year_ytd | sntCurrency:this"></span></td><td ng-class="{ \'red\': item.ytd_variance < 0 }"><span ng-bind-html="item.ytd_variance | sntCurrency:this"></span></td></tr><tr class=grouped ng-show="cgEntries.length > 0"><td class="code long-code break"><strong>Revenue by Charge Group</strong></td><td class=break>Today</td><td>MTD</td><td>Last Year MTD</td><td class=break>Variance</td><td>YTD</td><td>Last Year YTD</td><td>Variance</td></tr><tr ng-repeat="item in cgEntries track by $index" ng-class="{ \'charge-group\': item.isChargeGroup, \'toggle\': item.isChargeGroup , \'active\': item.isChargeGroupActive, \'charge-code\': item.isChargeCode, \'charge-pagination\': item.isChargeCodePagination, \'odd\': $odd, \'even\': $even, \'last\': (item.isChargeCode && $last) }" ng-hide=isHidden(item)><td ng-if=item.isChargeCodePagination colspan=8><rv-pagination page-options=item.pageOptions page-data=item.pageOptions.totalCount></rv-pagination></td><td ng-if="!item.isChargeCodePagination && item.isChargeGroup" class="code long-code break" ng-click=toggleChargeGroup($index)><em ng-if=item.isChargeGroup>{{ item.section }}</em> <span ng-if=item.isChargeGroup class="icons icon-double-arrow"></span></td><td ng-if="!item.isChargeCodePagination && item.isChargeCode" class="code long-code break"><em ng-if=item.isChargeCode>{{ item.name }}</em></td><td ng-if=!item.isChargeCodePagination class=break><span ng-bind-html="item.today | sntCurrency:this"></span></td><td ng-if=!item.isChargeCodePagination><span ng-bind-html="item.mtd | sntCurrency:this"></span></td><td ng-if=!item.isChargeCodePagination><span ng-bind-html="item.last_year_mtd | sntCurrency:this"></span></td><td ng-if=!item.isChargeCodePagination class=break ng-class="{ \'red\': item.mtd_variance < 0 }"><span ng-bind-html="item.mtd_variance | sntCurrency:this"></span></td><td ng-if=!item.isChargeCodePagination><span ng-bind-html="item.ytd | sntCurrency:this"></span></td><td ng-if=!item.isChargeCodePagination><span ng-bind-html="item.last_year_ytd | sntCurrency:this"></span></td><td ng-if=!item.isChargeCodePagination ng-class="{ \'red\': item.ytd_variance < 0 }"><span ng-bind-html="item.ytd_variance | sntCurrency:this"></span></td></tr><tr class=grouped ng-show="pgEntries.length > 0"><td class="code long-code break"><strong>Payments by Charge Group</strong></td><td class=break>Today</td><td>MTD</td><td>Last Year MTD</td><td class=break>Variance</td><td>YTD</td><td>Last Year YTD</td><td>Variance</td></tr><tr ng-repeat-start="item in pgEntries track by $index" class="charge-group toggle" ng-class="{\'active\': item.isPaymentGroupActive}"><td class="code long-code break" ng-click=togglePaymentGroup($index)>{{item.section}} <span class="icons icon-double-arrow"></span></td><td class=break><span ng-bind-html="item.today | sntCurrency:this"></span></td><td><span ng-bind-html="item.mtd | sntCurrency:this"></span></td><td><span ng-bind-html="item.last_year_mtd | sntCurrency:this"></span></td><td class=break ng-class="{ \'red\': item.mtd_variance < 0 }"><span ng-bind-html="item.mtd_variance | sntCurrency:this"></span></td><td><span ng-bind-html="item.ytd | sntCurrency:this"></span></td><td><span ng-bind-html="item.last_year_ytd | sntCurrency:this"></span></td><td ng-class="{ \'red\': item.ytd_variance < 0 }"><span ng-bind-html="item.ytd_variance | sntCurrency:this"></span></td></tr><tr ng-repeat="paymentGroupItem in item.paymentGroupEntries.charge_codes track by $index" class="charge-code toggle"><td class="code long-code break">{{paymentGroupItem.name}}</td><td class=break><span ng-bind-html="paymentGroupItem.today | sntCurrency:this"></span></td><td><span ng-bind-html="paymentGroupItem.mtd | sntCurrency:this"></span></td><td><span ng-bind-html="paymentGroupItem.last_year_mtd | sntCurrency:this"></span></td><td class=break ng-class="{ \'red\': item.mtd_variance < 0 }"><span ng-bind-html="paymentGroupItem.mtd_variance | sntCurrency:this"></span></td><td><span ng-bind-html="paymentGroupItem.ytd | sntCurrency:this"></span></td><td><span ng-bind-html="paymentGroupItem.last_year_ytd | sntCurrency:this"></span></td><td ng-class="{ \'red\': item.ytd_variance < 0 }"><span ng-bind-html="paymentGroupItem.ytd_variance | sntCurrency:this"></span></td></tr><tr ng-repeat-end="" class=charge-code><td class="code long-code break"></td><td class=break></td><td></td><td></td><td class=break></td><td></td><td></td><td><rv-pagination page-options=item.insidePaginationData page-data=item.totalInsidePagination></rv-pagination></td></tr><tr class=grouped ng-show="balanceEntries.length > 0"><td class="code long-code break"></td><td class=break>LEDGER DATA</td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr ng-repeat="item in balanceEntries track by $index" class=charge-group><td class="code long-code break">{{item.section}}</td><td class=break ng-class="{ \'red\': item.today < 0 }"><span ng-bind-html="item.today | sntCurrency:this"></span></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr class=grouped ng-show="ledgerDepositEntries.length > 0"><td class="code long-code break"><strong>DEPOSIT</strong></td><td class=break></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr ng-repeat="item in ledgerDepositEntries track by $index" class=charge-group><td class="code long-code break">{{item.section}}</td><td class=break ng-class="{ \'red\': item.today < 0 }"><span ng-bind-html="item.today | sntCurrency:this"></span></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr class=grouped ng-show="ledgerGuestEntries.length > 0"><td class="code long-code break"><strong>GUEST</strong></td><td class=break></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr ng-repeat="item in ledgerGuestEntries track by $index" class=charge-group><td class="code long-code break">{{item.section}}</td><td class=break ng-class="{ \'red\': item.today < 0 }"><span ng-bind-html="item.today | sntCurrency:this"></span></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr class=grouped ng-show="ledgerAREntries.length > 0"><td class="code long-code break"><strong>AR</strong></td><td class=break></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr ng-repeat="item in ledgerAREntries track by $index" class=charge-group><td class="code long-code break">{{item.section}}</td><td class=break ng-class="{ \'red\': item.today < 0 }"><span ng-bind-html="item.today | sntCurrency:this"></span></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr class=grouped ng-show="ledgerTotalVariance.length > 0"><td class="code long-code break"></td><td class=break></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr class=charge-group ng-repeat="item in ledgerTotalVariance track by $index" ng-show="ledgerTotalVariance.length > 0"><td class="code long-code break"><strong>{{item.section}}</strong></td><td class=break><strong ng-class="{ \'red\': item.today < 0 }"><span ng-bind-html="item.today | sntCurrency:this"></span></strong></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr><tr class=charge-group ng-repeat="item in ledgerTotalClosingBalance track by $index" ng-show="ledgerTotalClosingBalance.length > 0"><td class="code long-code break"><strong>{{item.section}}</strong></td><td class=break><strong ng-class="{ \'red\': item.today < 0 }"><span ng-bind-html="item.today | sntCurrency:this"></span></strong></td><td></td><td></td><td class=break></td><td></td><td></td><td></td></tr>'),t.put("/assets/partials/reports/compayTaTopProducers/rvCompayTaTopProducers.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-class="{ \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><table class=production-reports><thead><tr class=top-row><th></th><th colspan=3><span>Reservations</span></th><th colspan=3><span>Room Nights</span></th><th colspan=3><span>Revenue</span></th></tr><tr class=bottom-row><th ng-repeat="item in subHeaders track by $index"><span ng-if="!!chosenReport.sortByOptions[$index] && !isBackgroundReportsEnabled" class=sort ng-class="{\'sorting-asc\': isAsc($index), \'sorting-desc\': isDesc($index)}" ng-click="sortResultBy(chosenReport.sortByOptions[$index], chosenReport)">{{ item }}</span> <em ng-if="!chosenReport.sortByOptions[$index] || isBackgroundReportsEnabled">{{ item }}</em></th></tr></thead><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody ng-include=parsedApiTemplate()></tbody></table></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/compayTaTopProducers/rvCompayTaTopProducersRow.html",'<tr ng-repeat="each in results track by $index"><td><strong>{{ each.name }}</strong></td><td>{{ each.reservations.active }}</td><td><em>{{ each.reservations.cancelled }}</em></td><td><em>{{ each.reservations.noshow }}</em></td><td>{{ each.room_nights.active }}</td><td><em>{{ each.room_nights.cancelled }}</em></td><td><em>{{ each.room_nights.noshow }}</em></td><td><strong><span ng-bind-html="each.revenue.total | sntCurrency:this"></span></strong></td><td><span ng-bind-html="each.revenue.room | sntCurrency:this"></span></td><td><span ng-bind-html="each.revenue.adr | sntCurrency:this"></span></td></tr>'),t.put("/assets/partials/reports/complimentaryRoomReport/rvComplimentaryRoomReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-class="{ \'no-totals\': hasNoTotals, \'no-sorting\': hasNoSorting, \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><span ng-repeat="resultItem in results"><ul class=card-meta><li class=name>{{resultItem.total_complimentay_nights_count}} Comps Rooms on {{ resultItem.date | date : dateFormat }}</li></ul><table class="balance-reports complimentary-report"><thead><tr><th ng-repeat="item in subHeaders track by $index"><span ng-class="{\'sort\': hasSort($index), \'sorting-asc\': isAsc($index), \'sorting-desc\': isDesc($index)}" ng-click="sortResultBy(chosenReport.sortByOptions[$index], chosenReport)" ng-if=!isBackgroundReportsEnabled>{{ item }}</span> <span ng-if=isBackgroundReportsEnabled>{{ item }}</span></th></tr></thead><tfoot ng-if=$last ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody><tr ng-repeat="transaction in resultItem.transactions track by $index" class=row-break ng-include="\'/assets/partials/reports/complimentaryRoomReport/rvComplimentaryRoomReportRow.html\'" ngrepeatend=""></tr></tbody></table></span></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/complimentaryRoomReport/rvComplimentaryRoomReportRow.html",'<td class=name><strong ng-if=!!transaction.name>{{transaction.name}}</strong> <strong ng-if="transaction.name == \'\'">Pending</strong></td><td class=room>{{transaction.room_no}}</td><td class=guests>{{transaction.guest_nos}}</td><td class=confirmation>{{transaction.confirmation_no}}</td><td><div class=date><span class="icons time check-in"></span> <span>{{transaction.arrival_date | date : dateFormat}}</span></div><div class=date><span class="icons time check-out"></span> <span>{{transaction.dep_date | date : dateFormat}}</span></div></td><td class=rate>{{transaction.rate_name }}</td><td class=total-nights>{{transaction.nights}}</td><td class=comp-nights>{{transaction.complimentay_nights }}</td>'),t.put("/assets/partials/reports/creditCheckReport/rvCreditCheckReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable card-authorization-check" ng-hide=hasNoResults ng-iscroll=report-details-scroll><div class=wrapper><span ng-repeat="item in results"><ul class=card-meta><li class=room>Room {{ item.room_number }}</li><li class=guest><span class=guest-status ng-class="{\'inhouse\': item.reservation_status == \'CHECKEDIN\', \'check-out\': item.reservation_status == \'CHECKING_OUT\'}"></span>{{ item.guest_name }}</li><li class=reservation>Resv. {{ item.confirm_no }}</li></ul><table class=card-authorization-check-reports><thead><tr><th><span>Bill No.</span></th><th><span>Entity Name</span></th><th><span>Payment</span></th><th><span>Authorization</span></th><th class=rate><span>Rate</span></th><th><span>Balance</span></th><th><span>Projected</span></th><th><span>Total</span></th></tr></thead><tbody><tr ng-repeat="bill in item.bills" ng-class="{\'row-break\': $last && $parent.$last}"><td>{{ bill.bill_number }}</td><td class=entity-name>{{ bill.entity_name }}</td><td>{{ bill.payment_method }}</td><td class=amount><span ng-bind-html="bill.authorization_amount | sntCurrency:this"></span></td><td class="rate amount">{{item.rate}} / <span ng-bind-html="item.rate_amount | sntCurrency:this"></span></td><td class=amount><span ng-bind-html="bill.balance_on_bill | sntCurrency:this"></span></td><td class=amount><span ng-bind-html="bill.projected_charges | sntCurrency:this"></span></td><td class=amount ng-class="{\'red\': bill.total_amount > bill.authorization_amount, \'green\': bill.total_amount <= bill.authorization_amount }"><span ng-bind-html="bill.total_amount | sntCurrency:this"></span></td></tr></tbody><tfoot ng-if=$last ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot></table></span></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/customExports/rvCustomExport.html",'<div class="report-col main-col scrollable" ng-iscroll=exports-list-scroller><div class=wrapper><ul ng-if=customExportsData.isNewExport><li class=report-item ng-repeat="dataSpace in customExportsData.customExportDataSpaces" ng-hide=dataSpace.filteredOut ng-click=clickDataSpace(dataSpace) ng-class="{\'active\': dataSpace.active}"><span class="icon-report {report icon class}"></span><div class=data><h2 ng-bind-html=escapeNull(dataSpace.report.title)|highlight:query:false></h2><em>{{dataSpace.report.description}}</em></div></li></ul><ul ng-if="!customExportsData.isNewExport && customExportsData.scheduledCustomExports.length > 0"><li class=report-item ng-repeat="scheduledExport in customExportsData.scheduledCustomExports" ng-hide=scheduledExport.filteredOut ng-click=pickSchedule(scheduledExport) ng-class="{\'active\': scheduledExport.active}"><span class="icon-report {report icon class}"></span><div class=data><h2 ng-bind-html=escapeNull(scheduledExport.report.description)|highlight:query:false></h2><em>{{scheduledExport.occurance}}</em></div></li></ul><div class=no-content ng-if="!customExportsData.scheduledCustomExports.length && !customExportsData.isNewExport"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>Exports unavailable</strong> <span class=h2>You have no exports configured</span></div></div></div></div><div class=report-col ng-hide=shouldShowExportListOnly()><div class="scrollable no-buttons" ng-iscroll=report-cols-scroller><div class=wrapper><h3>Select Fields<span>To include in Export</span></h3><div class="entry export-fields"><label class=checkbox ng-repeat="column in selectedEntityDetails.columns track by $index"><span class="icon-form icon-checkbox" ng-class="{\'checked\': column.selected}"></span> <input id=export-{{column.name}} type=checkbox ng-model=column.selected ng-change=selectColumn(column)> {{column.name}}</label></div></div></div></div><div class=report-col ng-hide=shouldShowExportListOnly()><div class="scrollable no-buttons" ng-class="{\'no-fields\': selectedColumns.length === 0 }" ng-iscroll=report-selected-cols-scroller><div class=wrapper><h3>Set Order & Labels<span>Of Selected Fields</span></h3><div class="entry export-fields-order" ng-if="selectedColumns.length > 0" ui-sortable=sortableOptions ng-model=selectedColumns><div class=export-field ng-repeat="col in selectedColumns"><span class=handle><span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span> <input type=text value={{col.name}} placeholder={{col.name}} ng-model=col.customColLabel></div></div><div class=no-content ng-if="selectedColumns.length === 0"><div class=info><strong>No Fields selected</strong> <span>Select some fields first</span></div></div></div></div></div><div class=report-col ng-controller=RVCustomExportFilterCtrl ng-hide=shouldShowExportListOnly() ng-include="\'/assets/partials/reports/customExports/rvCutomExportFilters.html\'"></div><div class=report-col ng-hide=shouldShowExportListOnly()><div class=scrollable ng-class="{\'no-fields\': selectedColumns.length === 0 }" ng-iscroll=schedule-details-scroller><div class=wrapper><h3>Frequency<span>Configure Export Frequency</span></h3><div class=entry><label for=schedule-repeats>Repeats</label><div class=select><select id=schedule-repeats ng-options="freq.id as freq.description for freq in customExportsData.scheduleFrequencies" ng-model=scheduleParams.frequency_id ng-change=changeRepeats() iscroll-stop-propagation=""><option value="">Repeat type</option></select></div></div><div class=entry ng-show=notRunOnce() ng-class="{\'overlay\': shallDisableRepeatsEvery()}"><label for=schedule-repeats-every>Repeats Every</label><div class="entry-data entry-first"><input id=schedule-repeats-every type=number restrict-min-val=5 placeholder=Min:5 ng-model=scheduleParams.repeats_every ng-if=hasMinutesRepeat()> <input id=schedule-repeats-every type=number placeholder=No. ng-model=scheduleParams.repeats_every ng-if=!hasMinutesRepeat()></div><div class="entry-data entry-second"><div class=select><select id=schedule-repeats-every-label ng-options="freq.id as freq.value for freq in customExportsData.scheduleFreqTypes" ng-model=scheduleParams.frequency_id iscroll-stop-propagation=""><option value="">Repeat per</option></select></div></div></div><div class=entry><label for=schedule-start>Starts On</label><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input id=schedule-start class=datepicker value="" placeholder=MM-DD-YYYY ui-date=startsOnOptions ng-model=scheduleParams.starts_on readonly=""></div></div><div class=entry><label for=schedule-repeats>Starts At</label><div class=select><select ng-model=scheduleParams.time ng-options="time.value as time.name for time in timeSlots" iscroll-stop-propagation=""><option value="">Time</option></select></div></div><div class=entry ng-show=notRunOnce()><label>Ends On</label><div class="entry-data entry-first"><label for=schedule-ends-on-number class="radio inline"><span class="icon-form icon-radio" ng-class="{ \'checked\': scheduleParams.scheduleEndsOn === \'NUMBER\' }"></span> <input type=radio name=ends-on checked="" ng-model=scheduleParams.scheduleEndsOn value=NUMBER> After</label></div><div class="entry-data entry-second with-label"><input id=schedule-ends-on-number type=number placeholder=No. ng-model=scheduleParams.ends_on_after> <span class=label ng-bind=getRepeatPer()></span></div><div class="entry-data entry-first"><label for=schedule-ends-on-date class="radio inline"><span class="icon-form icon-radio" ng-class="{ \'checked\': scheduleParams.scheduleEndsOn === \'DATE\' }"></span> <input id=schedule-ends-on-date type=radio name=ends-on ng-model=scheduleParams.scheduleEndsOn value=DATE> On</label></div><div class="entry-data entry-second"><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input id=schedule-ends-on-datepicker class=datepicker value="" placeholder=MM-DD-YYYY readonly="" ui-date=endsOnOptions ng-model=scheduleParams.ends_on_date></div></div><div class="entry-data full-width"><label for=schedule-ends-on-never class="radio inline"><span class="icon-form icon-radio" ng-class="{ \'checked\': scheduleParams.scheduleEndsOn === \'NEVER\' }"></span> <input type=radio id=schedule-ends-on-never name=ends-on ng-model=scheduleParams.scheduleEndsOn value=NEVER> Never</label></div></div></div></div><div class=column-actions ng-if=!customExportsData.isNewExport><button type=button class="button blue" ng-click=runScheduleNow()>Run Now</button></div></div><div class=report-col ng-hide=shouldShowExportListOnly()><div class=scrollable ng-class="{\'no-fields\': selectedColumns.length === 0 }" ng-iscroll=delivery-options-scroller><div class=wrapper><h3>Delivery<span>Configure Method</span></h3><div class="entry join"><label for=export-delivery>Delivery Method</label><div class=select><select id=export-delivery ng-options="deliveryType.value as deliveryType.description for deliveryType in customExportsData.deliveryTypes" ng-model=scheduleParams.delivery_id ng-change=onDeliveryOptionChange() iscroll-stop-propagation=""><option value="">Select Delivery Method</option></select></div></div><div class="entry search" ng-show="checkDeliveryType(\'EMAIL\')"><label for=distribution-list-add-user>Add Recipient</label> <button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input id=distribution-list-add-user class="icons icon-search" placeholder="Search by User Name" type=search auto-complete="" autocomplete=off auto-options=userAutoCompleteSimple insert-email=true></div><ul class=col-list ng-show="checkDeliveryType(\'EMAIL\')"><li ng-repeat="email in emailList track by $index">{{ email }} <button type=button class="button only-icon icons icon-remove-10" ng-click=removeEmail($index)>Remove from list</button></li></ul><div class="entry join" ng-show="checkDeliveryType(\'SFTP\') && ftpServerList.length"><label for=export-sftp>Select SFTP Server</label><div class=select><select id=export-sftp ng-model=scheduleParams.selectedFtpRecipient ng-options="ftp.id as ftp.description for ftp in ftpServerList" iscroll-stop-propagation=""><option value="">Select SFTP Server</option></select></div></div><div class="entry join" ng-show="checkDeliveryType(\'SFTP\') && !ftpServerList.length"><label for=export-sftp>No SFTP configured</label></div><div class="entry join" ng-show="checkDeliveryType(\'GOOGLE DRIVE\') && googleDriveAccountList.length"><label for=export-folder>Google Drive Folder</label><div class=select><select id=export-folder ng-options="googleDrive.id as googleDrive.description for googleDrive in googleDriveAccountList" ng-model=scheduleParams.selectedCloudAccount iscroll-stop-propagation=""><option value="">Select Google Drive Folder</option></select></div></div><div class="entry join" ng-show="checkDeliveryType(\'GOOGLE DRIVE\') && !googleDriveAccountList.length"><label for=export-folder>No Google Drive Accounts configured</label></div><div class="entry join" ng-show="checkDeliveryType(\'DROPBOX\') && dropBoxAccountList.length"><label for=export-folder>Dropbox</label><div class=select><select id=export-folder ng-options="dropbox.id as dropbox.description for dropbox in dropBoxAccountList" ng-model=scheduleParams.selectedCloudAccount iscroll-stop-propagation=""><option value="">Select Dropbox</option></select></div></div><div class="entry join" ng-show="checkDeliveryType(\'DROPBOX\') && !dropBoxAccountList.length"><label for=export-folder>No Dropbox accounts configured</label></div></div></div></div>'),t.put("/assets/partials/reports/customExports/rvCustomExportFooter.html",'<div id=reports-footer-form ng-show=shouldShowReportFooterForm()><div class=entry><label for=export-title>Export Name</label> <input type=text id=export-title placeholder="Enter Export Name" ng-model=customExportsScheduleParams.exportName></div><div class=entry><div class=select><label for=schedule-file-format>Output Format</label><select id=export-output name=schedule-file-format ng-model=customExportsScheduleParams.format convert-to-number="" ng-change=onOutputFormatChange()><option value="">Select output format</option><option ng-repeat="format in customExportsData.exportFormats" value={{format.id}}>{{format.value}}</option></select></div></div><div class=entry ng-show="customExportsScheduleParams.format == customExportsData.CSV_FORMAT_ID"><label for=include-header class=checkbox ng-class="{\'checked\': customExportsScheduleParams.includeTitleHeader}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': customExportsScheduleParams.includeTitleHeader}"></span> <input id=include-header type=checkbox ng-model=customExportsScheduleParams.includeTitleHeader> Include CSV Header</label></div><div class=actions><button type=button class="button blank" ng-click=navigateToExportListing()>Cancel</button> <button type=button class="button red" ng-if=!customExportsData.isNewExport ng-click=deleteCustomExportSchedule()>Delete</button><button type=button class="button green" ng-click=createCustomExport() ng-show=customExportsData.isNewExport>Save Export</button> <button type=button class="button green" ng-click=saveCustomExport() ng-show=!customExportsData.isNewExport>Save Export</button></div></div>'),t.put("/assets/partials/reports/customExports/rvCutomExportFilters.html",'<div class="scrollable no-buttons" ng-iscroll=custom-export-filters-scroller ng-class="{\'no-fields\': filterData.appliedFilters.length === 0 && selectedColumns.length !== 0 }"><div class=wrapper><h3>Set Filters<span>Select Field and Apply Filters</span></h3><div class=no-content ng-if="selectedColumns.length === 0"><div class=info><strong>No Fields selected</strong> <span>Select some fields first</span></div></div><div class=entry-wrapper ng-repeat="appliedFilter in filterData.appliedFilters track by $index" ng-init="$last && onFilterProcessComplete()"><duration-filter ng-if=appliedFilter.isDuration first-level-data=appliedFilter.firstLevelData second-level-data=appliedFilter.secondLevelData selected-first-level=appliedFilter.selectedFirstLevel selected-second-level=appliedFilter.selectedSecondLevel filter-pos=$index on-remove=removeFilter(filterPos)></duration-filter><range-filter ng-if=appliedFilter.isRange first-level-data=appliedFilter.firstLevelData second-level-data=appliedFilter.secondLevelData selected-first-level=appliedFilter.selectedFirstLevel selected-second-level=appliedFilter.selectedSecondLevel filter-pos=$index on-remove=removeFilter(filterPos) range-value=appliedFilter.rangeValue on-first-level-field-change="onFirstLevelFieldChange(fieldName, filterPos)"></range-filter><option-filter ng-if=appliedFilter.isOption first-level-data=appliedFilter.firstLevelData second-level-data=appliedFilter.secondLevelData selected-first-level=appliedFilter.selectedFirstLevel selected-second-level=appliedFilter.selectedSecondLevel filter-pos=$index on-remove=removeFilter(filterPos) is-multi-select=appliedFilter.isMultiSelect options=appliedFilter.options on-first-level-field-change="onFirstLevelFieldChange(fieldName, filterPos)" on-selectbox-expand=refreshFilterScroller has-dual-state=appliedFilter.hasDualState entry-display-style=appliedFilter.entryStyle></option-filter><general-filter ng-if=appliedFilter.isGeneral first-level-data=appliedFilter.firstLevelData second-level-data=appliedFilter.secondLevelData selected-first-level=appliedFilter.selectedFirstLevel selected-second-level=appliedFilter.selectedSecondLevel filter-pos=$index on-remove=removeFilter(filterPos) is-multi-select=appliedFilter.isMultiSelect options=appliedFilter.options on-first-level-field-change="onFirstLevelFieldChange(fieldName, filterPos)" on-selectbox-expand=refreshFilterScroller has-dual-state=appliedFilter.hasDualState entry-display-style=appliedFilter.entryStyle></general-filter></div><div class=entry><label for=add-filter class=add-new-button ng-hide=shouldHideAddFilter()>+ Add Filter<select id=add-filter class=capitalize ng-model=filterData.primaryFilter ng-change=changePrimaryFilter()><option value="">Select a filter</option><option value=DURATION ng-hide=shouldHideDurationFilter()>Duration</option><option value=RANGE ng-hide=shouldHideRangeFilter()>Range</option><option value=OPTION ng-hide=shouldHideOptionFilter()>Options</option><option value=GENERAL ng-hide=shouldHideGeneralFilter()>General</option></select></label> <button type=button class="button red" ng-show="filterData.appliedFilters.length >= 2" ng-click=removeAllFilters()>Remove All Filters</button></div></div></div>'),
t.put("/assets/partials/reports/dailyProduction/rvDailyProductionDemographics.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=daily-prod-demographics ng-hide=hasNoResults class="report-content statistics" ng-controller=rvDailyProdByDemographics.Controller></div>'),t.put("/assets/partials/reports/dailyProduction/rvDailyProductionRateReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><span ng-hide=hasNoResults ng-controller=RVDailyProdRateReport.Controller><div id=report-content class="report-content statistics"><div class=statistics-headings><div class=scrollable ng-iscroll=left-pane-scroll><ul class=wrapper><li class="main-heading action-row"><div class=switch-button ng-class="{ \'on\': uiFilter.showAvailability }"><input id=daily-production-availability ng-model=uiFilter.showAvailability type=checkbox> <label class=data-off><span class=value>Availability</span> <span class=switch-icon>Hidden</span></label> <label class=data-on><span class=switch-icon>Showing</span> <span class=value>Availability</span></label></div><div class=switch-button ng-class="{ \'on\': uiFilter.showRevenue }"><input id=daily-production-revenue ng-model=uiFilter.showRevenue type=checkbox> <label class=data-off><span class=value>Revenue</span> <span class=switch-icon>Hidden</span></label> <label class=data-on><span class=switch-icon>Showing</span> <span class=value>Revenue</span></label></div></li><li ng-repeat="label in yAxisLabels track by $index"><em ng-show=!label.is_rate_type>{{ label.name }}</em> <strong ng-show=label.is_rate_type>{{ label.name }}</strong></li></ul></div></div><div class="statistics-content scrollable" ng-iscroll=right-pane-scroll><div class=wrapper id=daily-production-render></div></div></div><div class="search-pagination hk-pagination" ng-show="reportMonths.length > 1"><label class="button dark-grey next" ng-click=jumpToMonth(reportMonthTrack.next.index) ng-show=reportMonthTrack.next>{{ reportMonthTrack.next.name }}</label><div class="form button prev" style="padding: 0;"><div class=entry><div class=select style="width: 120px;"><select iscroll-stop-propagation="" ng-options="month as month.name for month in reportMonths track by month.index" ng-model=reportMonthTrack.curr ng-change=jumpToMonth(reportMonthTrack.curr.index)></select></div></div></div><label class="button dark-grey prev" ng-click=jumpToMonth(reportMonthTrack.prev.index) ng-show=reportMonthTrack.prev>{{ reportMonthTrack.prev.name }}</label></div></span>'),t.put("/assets/partials/reports/dailyProduction/rvDailyProductionRoomTypeReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div ng-hide=hasNoResults id=report-content class="report-content statistics" ng-controller=RVDailyProdRoomTypeReport.Controller><div class="statistics-headings no-print"><div class=scrollable ng-iscroll=left-pane-scroll><ul class=wrapper><li class="main-heading action-row"><div class=switch-button ng-class="{ \'on\': uiFilter.showAvailability }"><input id=daily-production-availability ng-model=uiFilter.showAvailability type=checkbox> <label class=data-off><span class=value>Availability</span> <span class=switch-icon>Hidden</span></label> <label class=data-on><span class=switch-icon>Showing</span> <span class=value>Availability</span></label></div><div class=switch-button ng-class="{ \'on\': uiFilter.showRevenue }"><input id=daily-production-revenue ng-model=uiFilter.showRevenue type=checkbox> <label class=data-off><span class=value>Revenue</span> <span class=switch-icon>Hidden</span></label> <label class=data-on><span class=switch-icon>Showing</span> <span class=value>Revenue</span></label></div></li><li ng-repeat="name in roomNames track by $index"><span ng-show=!$last>{{ name }}</span> <strong ng-show=$last>{{ name }}</strong></li></ul></div></div><div class="statistics-content scrollable" ng-iscroll=right-pane-scroll><div class=wrapper id=daily-production-render></div></div></div>'),t.put("/assets/partials/reports/depositBalanceSummary/rvGuestAndGroupDepositBalanceDetails.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-class="{ \'no-totals\': hasNoTotals, \'no-sorting\': hasNoSorting, \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><span ng-repeat="resultItem in results"><ul class=card-meta><li class=name>Deposit Transactions on {{ resultItem.transaction_date | date : dateFormat }}</li><li class="balance green"><span ng-bind-html="resultItem.total_credit | sntCurrency:this"></span></li><li class="balance red"><span ng-bind-html="resultItem.total_debit | sntCurrency:this"></span></li></ul><table class="balance-reports deposit-balance-summary"><thead><tr><th ng-repeat="item in subHeaders track by $index"><span ng-class="{\'sort\': hasSort($index), \'sorting-asc\': isAsc($index), \'sorting-desc\': isDesc($index)}" ng-click="sortResultBy(chosenReport.sortByOptions[$index], chosenReport)" ng-if=!isBackgroundReportsEnabled>{{ item }}</span> <span ng-if=isBackgroundReportsEnabled>{{ item }}</span></th></tr></thead><tfoot ng-if=$last ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody><tr ng-repeat="transaction in resultItem.transactions track by $index" class=row-break ng-include="\'/assets/partials/reports/depositBalanceSummary/rvGuestAndGroupDepositBalanceReportRowContent.html\'" ngrepeatend=""></tr></tbody></table></span></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/depositBalanceSummary/rvGuestAndGroupDepositBalanceReportRowContent.html",'<td class=name><strong>{{transaction.name}}</strong> <em>{{transaction.identifier}}</em></td><td class=room>{{transaction.room_no}}</td><td><div class=date><span class="icons time check-in"></span> <span>{{transaction.start_date | date : dateFormat}}</span></div><div class=date><span class="icons time check-out"></span> <span>{{transaction.end_date | date : dateFormat}}</span></div></td><td class=description><span>{{transaction.charge_description}}</span> <span class=reference>{{transaction.charge_code}}</span></td><td class="balance red"><span ng-bind-html="transaction.debit | sntCurrency:this"></span></td><td class="balance green"><span ng-bind-html="transaction.credit | sntCurrency:this"></span></td>'),t.put("/assets/partials/reports/filters/rvReportDetailsFilters.html",'<div class=scrollable ng-iscroll=report-filter-sidebar-scroll ng-iscroll-delay=200><div class=wrapper id=report-filter><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasCancelDateFilter ng-class="{\'active\': filterItemsToggle.item_01}" ng-click="toggleFilterItems(\'item_01\')"><span class=title>Cancellation Date</span></a><div class=settings-content ng-show=chosenReport.hasCancelDateFilter ng-class="{\'hidden\': !filterItemsToggle.item_01}"><div class="entry date-range"><label for=arrival-range-from>From</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.fromCancelDate ng-change="dateChanged(chosenReport, \'hasCancelDateFilter\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=chosenReport.fromCancelDate ng-change="dateChanged(chosenReport, \'hasCancelDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasCancelDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasCancelDateFilter\')">Clear query</span></button></div><label for=arrival-range-to>To</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.untilCancelDate ng-change="dateChanged(chosenReport, \'hasCancelDateFilter\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=chosenReport.untilCancelDate ng-change="dateChanged(chosenReport, \'hasCancelDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasCancelDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasCancelDateFilter\')">Clear query</span></button></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasDepositDateFilter ng-class="{\'active\': filterItemsToggle.item_02}" ng-click="toggleFilterItems(\'item_02\')"><span class=title>{{ chosenReport.hasDepositDateFilter.description }}</span></a><div class=settings-content ng-show=chosenReport.hasDepositDateFilter ng-class="{\'hidden\': !filterItemsToggle.item_02}"><div class="entry date-range"><label for=arrival-range-from>From</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.fromDepositDate ng-change="dateChanged(chosenReport, \'hasDepositDateFilter\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=chosenReport.fromDepositDate ng-change="dateChanged(chosenReport, \'hasDepositDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasDepositDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasDepositDateFilter\')">Clear query</span></button></div><label for=arrival-range-to>To</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.untilDepositDate ng-change="dateChanged(chosenReport, \'hasDepositDateFilter\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=chosenReport.untilDepositDate ng-change="dateChanged(chosenReport, \'hasDepositDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasDepositDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasDepositDateFilter\')">Clear query</span></button></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasPaidDateRange ng-class="{\'active\': filterItemsToggle.item_21}" ng-click="toggleFilterItems(\'item_21\')"><span class=title>{{ chosenReport.hasPaidDateRange.description }}</span></a><div class=settings-content ng-show=chosenReport.hasPaidDateRange ng-class="{\'hidden\': !filterItemsToggle.item_21}"><div class="entry date-range"><label for=arrival-range-from>From</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.fromPaidDate ng-change="dateChanged(chosenReport, \'hasPaidDateRange\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=chosenReport.fromPaidDate ng-change="dateChanged(chosenReport, \'hasPaidDateRange\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasPaidDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasPaidDateRange\')">Clear query</span></button></div><label for=arrival-range-to>To</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.untilPaidDate ng-change="dateChanged(chosenReport, \'hasPaidDateRange\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=chosenReport.untilPaidDate ng-change="dateChanged(chosenReport, \'hasPaidDateRange\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasPaidDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasPaidDateRange\')">Clear query</span></button></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasDateFilter ng-class="{\'active\': filterItemsToggle.item_03}" ng-click="toggleFilterItems(\'item_03\')"><span class=title>{{ chosenReport.hasDateFilter.description }}</span></a><div class=settings-content ng-show=chosenReport.hasDateFilter ng-class="{\'hidden\': !filterItemsToggle.item_03}"><div class="entry date-range"><label for=arrival-range-from>From</label><div class=has-datepicker><input ng-if="chosenReport.hasPrevDateLimit && !chosenReport.hasDateLimit && !chosenReport.hasSysDateLimit && !chosenReport.hasOneYearLimit && !chosenReport.isForecast" type=text class=range-datepicker ui-date=fromDateOptionsTillYesterday ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if="!chosenReport.hasPrevDateLimit && chosenReport.hasDateLimit && !chosenReport.hasSysDateLimit && !chosenReport.hasOneYearLimit && !chosenReport.isForecast" type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasSysDateLimit type=text class=range-datepicker ui-date=fromDateOptionsSysLimit ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if="!chosenReport.hasBDLimit && !chosenReport.hasPrevDateLimit && !chosenReport.hasDateLimit && !chosenReport.hasSysDateLimit && !chosenReport.hasOneYearLimit && !chosenReport.isForecast&& !chosenReport.hasOneMonthLimit && !chosenReport.hasSixMonthsLimit && !chosenReport.hasThirtyOneDaysLimit" type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasOneYearLimit type=text class=range-datepicker ui-date=fromDateOptionsOneYearLimit ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.isForecast type=text class=range-datepicker ui-date=fromDateOptionsForecast ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasOneMonthLimit type=text class=range-datepicker ui-date=fromDateOptionsOneMonthLimit ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasSixMonthsLimit type=text class=range-datepicker ui-date=fromDateOptionsSixMonthsLimit ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasThirtyOneDaysLimit type=text class=range-datepicker ui-date=fromDateOptionsThirtyOneDaysLimit ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasBDLimit type=text class=range-datepicker ui-date=fromDateOptionsTillBD ng-model=chosenReport.fromDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasDateFilter\')">Clear query</span></button></div><label for=arrival-range-to>To</label><div class=has-datepicker><input ng-if="chosenReport.hasPrevDateLimit && !chosenReport.hasDateLimit && !chosenReport.hasSysDateLimit && !chosenReport.hasOneYearLimit && !chosenReport.isForecast" type=text class=range-datepicker ui-date=untilDateOptionsTillYesterday ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if="!chosenReport.hasPrevDateLimit && chosenReport.hasDateLimit && !chosenReport.hasSysDateLimit && !chosenReport.hasOneYearLimit && !chosenReport.isForecast" type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasSysDateLimit type=text class=range-datepicker ui-date=untilDateOptionsSysLimit ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if="!chosenReport.hasBDLimit && !chosenReport.hasPrevDateLimit && !chosenReport.hasDateLimit && !chosenReport.hasSysDateLimit && !chosenReport.hasOneYearLimit && !chosenReport.isForecast && !chosenReport.hasOneMonthLimit && !chosenReport.hasSixMonthsLimit && !chosenReport.hasThirtyOneDaysLimit" type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasOneYearLimit type=text class=range-datepicker ui-date=toDateOptionsOneYearLimit ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.isForecast type=text class=range-datepicker ui-date=toDateOptionsForecast ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasOneMonthLimit type=text class=range-datepicker ui-date=toDateOptionsOneMonthLimit ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasSixMonthsLimit type=text class=range-datepicker ui-date=toDateOptionsSixMonthsLimit ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasThirtyOneDaysLimit type=text class=range-datepicker ui-date=toDateOptionsThirtyOneDaysLimit ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <input ng-if=chosenReport.hasBDLimit type=text class=range-datepicker ui-date=untilDateOptionsTillBD ng-model=chosenReport.untilDate ng-change="dateChanged(chosenReport, \'hasDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasDateFilter\')">Clear query</span></button></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasCreateDateFilter ng-class="{\'active\': filterItemsToggle.item_04}" ng-click="toggleFilterItems(\'item_04\')"><span class=title>{{ chosenReport.hasCreateDateFilter.description }}</span></a><div class=settings-content ng-show=chosenReport.hasCreateDateFilter ng-class="{\'hidden\': !filterItemsToggle.item_04}"><div class="entry date-range"><label for=arrival-range-from>From</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.fromCreateDate ng-change="dateChanged(chosenReport, \'hasCreateDateFilter\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=chosenReport.fromCreateDate ng-change="dateChanged(chosenReport, \'hasCreateDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasCreateDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasCreateDateFilter\')">Clear query</span></button></div><label for=arrival-range-to>To</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.untilCreateDate ng-change="dateChanged(chosenReport, \'hasCreateDateFilter\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=chosenReport.untilCreateDate ng-change="dateChanged(chosenReport, \'hasCreateDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasCreateDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasCreateDateFilter\')">Clear query</span></button></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasAdjustmentDateRange ng-class="{\'active\': filterItemsToggle.item_22}" ng-click="toggleFilterItems(\'item_22\')"><span class=title>{{ chosenReport.hasAdjustmentDateRange.description }}</span></a><div class=settings-content ng-show=chosenReport.hasAdjustmentDateRange ng-class="{\'hidden\': !filterItemsToggle.item_22}"><div class="entry date-range"><label for=arrival-range-from>From</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.fromAdjustmentDate ng-change="dateChanged(chosenReport, \'hasAdjustmentDateRange\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=chosenReport.fromAdjustmentDate ng-change="dateChanged(chosenReport, \'hasAdjustmentDateRange\')" readonly=""> <button ng-if=chosenReport.canRemoveArrivalDate ng-class="{\'visible\': chosenReport.hasAdjustmentDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasAdjustmentDateRange\')">Clear query</span></button></div><label for=arrival-range-to>To</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.untilAdjustmentDate ng-change="dateChanged(chosenReport, \'hasAdjustmentDateRange\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=chosenReport.untilAdjustmentDate ng-change="dateChanged(chosenReport, \'hasAdjustmentDateRange\')" readonly=""> <button ng-if=chosenReport.canRemoveArrivalDate ng-class="{\'visible\': chosenReport.hasAdjustmentDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasAdjustmentDateRange\')">Clear query</span></button></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasArrivalDateFilter ng-class="{\'active\': filterItemsToggle.item_05}" ng-click="toggleFilterItems(\'item_05\')"><span class=title>{{ chosenReport.hasArrivalDateFilter.description }}</span></a><div class=settings-content ng-show=chosenReport.hasArrivalDateFilter ng-class="{\'hidden\': !filterItemsToggle.item_05}"><div class="entry date-range"><label for=arrival-range-from>From</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.fromArrivalDate ng-change="dateChanged(chosenReport, \'hasArrivalDateFilter\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=chosenReport.fromArrivalDate ng-change="dateChanged(chosenReport, \'hasArrivalDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveArrivalDate ng-class="{\'visible\': chosenReport.hasArrivalDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasArrivalDateFilter\')">Clear query</span></button></div><label for=arrival-range-to>To</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.untilArrivalDate ng-change="dateChanged(chosenReport, \'hasArrivalDateFilter\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=chosenReport.untilArrivalDate ng-change="dateChanged(chosenReport, \'hasArrivalDateFilter\')" readonly=""> <button ng-if=chosenReport.canRemoveArrivalDate ng-class="{\'visible\': chosenReport.hasArrivalDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasArrivalDateFilter\')">Clear query</span></button></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasGroupStartDateRange ng-class="{\'active\': filterItemsToggle.item_27}" ng-click="toggleFilterItems(\'item_27\')"><span class=title>{{ chosenReport.hasGroupStartDateRange.description }}</span></a><div class=settings-content ng-show=chosenReport.hasGroupStartDateRange ng-class="{\'hidden\': !filterItemsToggle.item_27}"><div class="entry date-range"><label for=arrival-range-from>From</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.groupStartDate ng-change="dateChanged(chosenReport, \'hasGroupStartDateRange\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=chosenReport.groupStartDate ng-change="dateChanged(chosenReport, \'hasGroupStartDateRange\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasGroupStartDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasGroupStartDateRange\')">Clear query</span></button></div><label for=arrival-range-to>To</label><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.groupEndDate ng-change="dateChanged(chosenReport, \'hasGroupStartDateRange\')" readonly=""> <input ng-if=!chosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=chosenReport.groupEndDate ng-change="dateChanged(chosenReport, \'hasGroupStartDateRange\')" readonly=""> <button ng-if=chosenReport.canRemoveDate ng-class="{\'visible\': chosenReport.hasGroupStartDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasGroupStartDateRange\')">Clear query</span></button></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasSingleDateFilter ng-class="{\'active\': filterItemsToggle.item_18}" ng-click="toggleFilterItems(\'item_18\')"><span class=title>Date</span></a><div class=settings-content ng-show=chosenReport.hasSingleDateFilter ng-class="{\'hidden\': !filterItemsToggle.item_18}"><div class="entry date-range"><div class=has-datepicker><input ng-if=chosenReport.hasDateLimit type=text class=datepicker ui-date=untilDateOptions ng-model=chosenReport.singleValueDate ng-change="dateChanged(chosenReport, \'hasSingleDateFilter\')" readonly=""> <input ng-if="!chosenReport.hasDateLimit && !chosenReport.hasSysDateLimit" type=text class=datepicker ui-date=untilDateOptionsNoLimit ng-model=chosenReport.singleValueDate ng-change="dateChanged(chosenReport, \'hasSingleDateFilter\')" readonly=""> <input ng-if=chosenReport.hasSysDateLimit type=text class=datepicker ui-date=untilDateOptionsTillYesterday ng-model=chosenReport.singleValueDate ng-change="dateChanged(chosenReport, \'hasSingleDateFilter\')" placeholder="Select Date" readonly=""> <button ng-if=item.canRemoveDate ng-class="{\'visible\': chosenReport.hasSingleDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search" ng-click="clearDateFromFilter(chosenReport, \'hasSingleDateFilter\')">Clear query</span></button></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasTimeFilter ng-class="{\'active\': filterItemsToggle.item_06}" ng-click="toggleFilterItems(\'item_06\')"><span class=title>{{ chosenReport.hasTimeFilter.description }}</span></a><div class=settings-content ng-show=chosenReport.hasTimeFilter ng-class="{\'hidden\': !filterItemsToggle.item_06}"><div class="entry time-range"><label for=arrivals-time-from>From</label><div class=select><select name=time-from ng-model=chosenReport.fromTime ng-options="time.value as time.name for time in chosenReport.timeFilterOptions" iscroll-stop-propagation=""><option value="">From Time</option></select></div><label for=arrivals-time-to>To</label><div class=select><select name=time-to ng-model=chosenReport.untilTime ng-options="time.value as time.name for time in chosenReport.timeFilterOptions" iscroll-stop-propagation=""><option value="">Until Time</option></select></div></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasCicoFilter ng-class="{\'active\': filterItemsToggle.item_07}" ng-click="toggleFilterItems(\'item_07\')"><span class=title>{{ chosenReport.hasCicoFilter.description }}</span></a><div class=settings-content ng-show=chosenReport.hasCicoFilter ng-class="{\'hidden\': !filterItemsToggle.item_07}"><div class=select><select ng-model=chosenReport.chosenCico ng-options="cico.value as cico.label for cico in chosenReport.cicoOptions" iscroll-stop-propagation=""><option value="">Transaction Type</option></select></div></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasUserFilter && chosenReport.empList.data.length" ng-class="{\'active\': filterItemsToggle.item_08}" ng-click="toggleFilterItems(\'item_08\')"><span class=title>{{ chosenReport.filterTitle }}</span></a><div class="report-col settings-content" ng-show="chosenReport.hasUserFilter && chosenReport.empList.data.length" ng-class="{\'hidden\': !filterItemsToggle.item_08}"><multi-option-selection label="{{ chosenReport.filterTitle }}" on-update=refreshSidebarScroll data=chosenReport.empList.data options=chosenReport.empList.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasGeneralOptions && chosenReport.hasGeneralOptions.data.length" ng-class="{ \'active\': filterItemsToggle.item_09 }" ng-click="toggleFilterItems(\'item_09\')"><span class=title>Option(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasGeneralOptions && chosenReport.hasGeneralOptions.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_09 }"><multi-option-selection label=Option(s) on-update=refreshSidebarScroll data=chosenReport.hasGeneralOptions.data options=chosenReport.hasGeneralOptions.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasIncludeCompanyTaGroup ng-class="{\'active\': filterItemsToggle.item_10}" ng-click="toggleFilterItems(\'item_10\')"><span class=title>Company/TA/Group</span></a><div class=settings-content ng-show=chosenReport.hasIncludeCompanyTaGroup ng-class="{\'hidden\': !filterItemsToggle.item_10}"><input class="icons icon-search" auto-complete="" auto-options=compTaGrpAutoCompleteOnDetails data-card-type="" type=text placeholder="Search by Company/TA/Group" value="" autocomplete=off ng-model=chosenReport.uiChosenIncludeCompanyTaGroup report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnuiChosenReport(chosenReport) ng-change="removeCompTaGrpId(chosenReport, \'uiChosenIncludeCompanyTaGroup\', \'chosenIncludeCompanyTaGroup\')"> <input type=text class=hidden ng-model=chosenReport.chosenIncludeCompanyTaGroup></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasIncludeGroup ng-class="{\'active\': filterItemsToggle.item_50}" ng-click="toggleFilterItems(\'item_50\')"><span class=title>Group</span></a><div class=settings-content ng-show=chosenReport.hasIncludeGroup ng-class="{\'hidden\': !filterItemsToggle.item_50}"><input class="icons icon-search" auto-complete="" auto-options=grpAutoCompleteOnDetails data-card-type="" type=text placeholder="Search by Group" value="" autocomplete=off ng-model=chosenReport.uiChosenIncludeGroup report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnuiChosenReport(chosenReport) ng-change="removeCompTaGrpId(chosenReport, \'uiChosenIncludeGroup\', \'chosenIncludeGroup\')"> <input type=text class=hidden ng-model=chosenReport.chosenIncludeGroup></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasDisplay && chosenReport.hasDisplay.data.length" ng-class="{ \'active\': filterItemsToggle.item_12 }" ng-click="toggleFilterItems(\'item_12\')"><span class=title>Display(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasDisplay && chosenReport.hasDisplay.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_12 }"><multi-option-selection label=Display(s) on-update=refreshSidebarScroll data=chosenReport.hasDisplay.data options=chosenReport.hasDisplay.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasExclusions && chosenReport.hasExclusions.data.length && chosenReport.hasExclusions.data.visible" ng-class="{ \'active\': filterItemsToggle.item_29 }" ng-click="toggleFilterItems(\'item_29\')"><span class=title>Exclude</span></a><div class="report-col settings-content" ng-show="chosenReport.hasExclusions && chosenReport.hasExclusions.data.length && chosenReport.hasExclusions.data.visible" ng-class="{ \'hidden\': !filterItemsToggle.item_29 }"><multi-option-selection label=Exclude on-update=refreshSidebarScroll data=chosenReport.hasExclusions.data options=chosenReport.hasExclusions.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasHoldStatus && chosenReport.hasHoldStatus.data.length" ng-class="{ \'active\': filterItemsToggle.item_23 }" ng-click="toggleFilterItems(\'item_23\')"><span class=title>Hold Status(es)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasHoldStatus && chosenReport.hasHoldStatus.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_23 }"><multi-option-selection label="Hold Status(es)" on-update=refreshSidebarScroll data=chosenReport.hasHoldStatus.data options=chosenReport.hasHoldStatus.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasAllowanceCodes && chosenReport.hasAllowanceCodes.data.length" ng-class="{ \'active\': filterItemsToggle.item_allowance_code_options }" ng-click="toggleFilterItems(\'item_allowance_code_options\')"><span class=title>Allowance Code</span></a><div class="report-col settings-content" ng-show="chosenReport.hasAllowanceCodes && chosenReport.hasAllowanceCodes.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_allowance_code_options }"><multi-option-selection label="Allowance Code" on-update=refreshSidebarScroll report=chosenReport data=chosenReport.hasAllowanceCodes.data options=chosenReport.hasAllowanceCodes.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasAddonGroups && chosenReport.hasAddonGroups.data.length" ng-class="{ \'active\': filterItemsToggle.item_24 }" ng-click="toggleFilterItems(\'item_24\')"><span class=title>Add-On Group(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasAddonGroups && chosenReport.hasAddonGroups.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_24 }"><multi-option-selection label="Add-On Group(s)" on-update=refreshSidebarScroll report=chosenReport data=chosenReport.hasAddonGroups.data options=chosenReport.hasAddonGroups.options affects-filter=chosenReport.hasAddonGroups.affectsFilter></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasAddonGroups && chosenReport.hasAddons.data.length" ng-class="{ \'active\': filterItemsToggle.item_25 }" ng-click="toggleFilterItems(\'item_25\')"><span class=title>Add-On(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasAddonGroups && chosenReport.hasAddons.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_25 }"><multi-option-selection label=Add-On(s) on-update=refreshSidebarScroll data=chosenReport.hasAddons.data options=chosenReport.hasAddons.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasReservationStatus && chosenReport.hasReservationStatus.data.length" ng-class="{ \'active\': filterItemsToggle.item_26 }" ng-click="toggleFilterItems(\'item_26\')"><span class=title>Reservation Status</span></a><div class="report-col settings-content" ng-show="chosenReport.hasReservationStatus && chosenReport.hasReservationStatus.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_26 }"><multi-option-selection label="Reservation Status" on-update=refreshSidebarScroll data=chosenReport.hasReservationStatus.data options=chosenReport.hasReservationStatus.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasGuestOrAccountFilter && chosenReport.hasGuestOrAccountFilter.data.length" ng-class="{ \'active\': filterItemsToggle.item_28 }" ng-click="toggleFilterItems(\'item_28\')"><span class=title>Guest/Account</span></a><div class="report-col settings-content" ng-show="chosenReport.hasGuestOrAccountFilter && chosenReport.hasGuestOrAccountFilter.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_28 }"><multi-option-selection label=Guest/Account on-update=refreshSidebarScroll data=chosenReport.hasGuestOrAccountFilter.data options=chosenReport.hasGuestOrAccountFilter.options affects-filter=chosenReport.hasGuestOrAccountFilter.affectsFilter></multi-option-selection></div><multi-option-selection ng-show="uiChosenReport.hasDepartments && uiChosenReport.hasDepartments.data.length" label="Department Assigned" on-update=refreshFilterScroll data=uiChosenReport.hasDepartments.data options=uiChosenReport.hasDepartments.options></multi-option-selection><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasIncludeAgingBalance && chosenReport.hasIncludeAgingBalance.data.length" ng-class="{\'active\': filterItemsToggle.item_46}" ng-click="toggleFilterItems(\'item_46\')"><span class=title>Aging Balance</span></a><div class="report-col settings-content" ng-show="chosenReport.hasIncludeAgingBalance && chosenReport.hasIncludeAgingBalance.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_46 }"><multi-option-selection ng-show="chosenReport.hasIncludeAgingBalance && chosenReport.hasIncludeAgingBalance.data.length" label="Aging Balance" on-update=refreshFilterScroll data=chosenReport.hasIncludeAgingBalance.data options=chosenReport.hasIncludeAgingBalance.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasLanguages && chosenReport.hasLanguages.data.length" ng-class="{\'active\': filterItemsToggle.item_58}" ng-click="toggleFilterItems(\'item_58\')"><span class=title>Language</span></a><div class="report-col settings-content" ng-show="chosenReport.hasLanguages && chosenReport.hasLanguages.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_58 }"><select ng-model=chosenReport.locale ng-options="languages.code as languages.language for languages in chosenReport.hasLanguages.data" ng-change=sortByChanged(chosenReport) iscroll-stop-propagation=""><option value="">Select Language</option></select></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasAccountSearch && chosenReport.hasAccountSearch.data.length" ng-class="{ \'active\': filterItemsToggle.item_47 }" ng-click="toggleFilterItems(\'item_47\')"><span class=title>Accounts</span></a><div class="report-col settings-content" ng-show="chosenReport.hasAccountSearch && chosenReport.hasAccountSearch.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_47 }"><multi-option-selection label="Account Name" on-update=refreshSidebarScroll data=chosenReport.hasAccountSearch.data options=chosenReport.hasAccountSearch.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasTravelAgentsSearch && chosenReport.hasTravelAgentsSearch.data.length" ng-class="{ \'active\': filterItemsToggle.item_49 }" ng-click="toggleFilterItems(\'item_49\')"><span class=title>Travel Agents</span></a><div class="report-col settings-content" ng-show="chosenReport.hasTravelAgentsSearch && chosenReport.hasTravelAgentsSearch.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_49 }"><multi-option-selection label="Select TA" on-update=refreshSidebarScroll data=chosenReport.hasTravelAgentsSearch.data options=chosenReport.hasTravelAgentsSearch.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasRateTypeFilter && chosenReport.hasRateTypeFilter.data.length" ng-class="{\'active\': filterItemsToggle.item_32}" ng-click="toggleFilterItems(\'item_32\')"><span class=title>Rate Type</span></a><div class="report-col settings-content" ng-show="chosenReport.hasRateTypeFilter && chosenReport.hasRateTypeFilter.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_32 }"><multi-option-selection label="Rate Type" on-update=refreshSidebarScroll data=chosenReport.hasRateTypeFilter.data options=chosenReport.hasRateTypeFilter.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasRateFilter && chosenReport.hasRateFilter.data.length" ng-class="{\'active\': filterItemsToggle.item_33}" ng-click="toggleFilterItems(\'item_33\')"><span class=title>Rates</span></a><div class="report-col settings-content" ng-show="chosenReport.hasRateFilter && chosenReport.hasRateFilter.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_33 }"><multi-option-selection label=Display(s) on-update=refreshSidebarScroll data=chosenReport.hasRateFilter.data options=chosenReport.hasRateFilter.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasRateCodeFilter && chosenReport.hasRateCodeFilter.data.length" ng-class="{\'active\': filterItemsToggle.item_41}" ng-click="toggleFilterItems(\'item_41\')"><span class=title>Rates</span></a><div class="report-col settings-content" ng-show="chosenReport.hasRateCodeFilter && chosenReport.hasRateCodeFilter.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_41 }"><multi-option-selection label=Rates on-update=refreshSidebarScroll data=chosenReport.hasRateCodeFilter.data options=chosenReport.hasRateCodeFilter.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasRoomTypeFilter && chosenReport.hasRoomTypeFilter.data.length" ng-class="{\'active\': filterItemsToggle.item_49}" ng-click="toggleFilterItems(\'item_49\')"><span class=title>Room Types</span></a><div class="report-col settings-content" ng-show="chosenReport.hasRoomTypeFilter && chosenReport.hasRoomTypeFilter.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_49 }"><multi-option-selection label="Room Types" on-update=refreshSidebarScroll data=chosenReport.hasRoomTypeFilter.data options=chosenReport.hasRoomTypeFilter.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasMarketsList && chosenReport.hasMarketsList.data.length" ng-class="{ \'active\': filterItemsToggle.item_15 }" ng-click="toggleFilterItems(\'item_15\')"><span class=title>Market(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasMarketsList && chosenReport.hasMarketsList.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_15 }"><multi-option-selection label=Market(s) on-update=refreshSidebarScroll data=chosenReport.hasMarketsList.data options=chosenReport.hasMarketsList.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasSourcesList && chosenReport.hasSourcesList.data.length" ng-class="{ \'active\': filterItemsToggle.item_19 }" ng-click="toggleFilterItems(\'item_19\')"><span class=title>Sources(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasSourcesList && chosenReport.hasSourcesList.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_19 }"><multi-option-selection label=Source(s) on-update=refreshSidebarScroll data=chosenReport.hasSourcesList.data options=chosenReport.hasSourcesList.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasOriginsList && chosenReport.hasOriginsList.data.length" ng-class="{\'active\': filterItemsToggle.item_20}" ng-click="toggleFilterItems(\'item_20\')"><span class=title>Origin(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasOriginsList && chosenReport.hasOriginsList.data.length" ng-class="{\'hidden\': !filterItemsToggle.item_20}"><multi-option-selection label=Origin(s) on-update=refreshSidebarScroll data=chosenReport.hasOriginsList.data options=chosenReport.hasOriginsList.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasSegmentsList && chosenReport.hasSegmentsList.data.length" ng-class="{ \'active\': filterItemsToggle.item_48 }" ng-click="toggleFilterItems(\'item_48\')"><span class=title>Segment(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasSegmentsList && chosenReport.hasSegmentsList.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_48 }"><multi-option-selection label=Segment(s) on-update=refreshSidebarScroll data=chosenReport.hasSegmentsList.data options=chosenReport.hasSegmentsList.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasGuaranteeType && chosenReport.hasGuaranteeType.data.length" ng-class="{ \'active\': filterItemsToggle.item_11 }" ng-click="toggleFilterItems(\'item_11\')"><span class=title>Guarantee Type(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasGuaranteeType && chosenReport.hasGuaranteeType.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_11 }"><multi-option-selection label="Guarantee Type(s)" on-update=refreshSidebarScroll data=chosenReport.hasGuaranteeType.data options=chosenReport.hasGuaranteeType.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasByChargeGroup && chosenReport.hasByChargeGroup.data.length" ng-class="{ \'active\': filterItemsToggle.item_16 }" ng-click="toggleFilterItems(\'item_16\')"><span class=title>Charge Group(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasByChargeGroup && chosenReport.hasByChargeGroup.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_16 }"><multi-option-selection label="Charge Group(s)" on-update=refreshSidebarScroll report=chosenReport data=chosenReport.hasByChargeGroup.data options=chosenReport.hasByChargeGroup.options affects-filter=chosenReport.hasByChargeGroup.affectsFilter></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasByChargeCode && chosenReport.hasByChargeCode.data.length" ng-class="{ \'active\': filterItemsToggle.item_17 }" ng-click="toggleFilterItems(\'item_17\')"><span class=title>Charge Code(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasByChargeCode && chosenReport.hasByChargeCode.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_17 }"><multi-option-selection label="Charge Code(s)" on-update=refreshSidebarScroll data=chosenReport.hasByChargeCode.data options=chosenReport.hasByChargeCode.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasIncludeCompanyTa ng-class="{\'active\': filterItemsToggle.item_34}" ng-click="toggleFilterItems(\'item_34\')"><span class=title>Company / Travel Agent</span></a><div class=settings-content ng-show=chosenReport.hasIncludeCompanyTa ng-class="{\'hidden\': !filterItemsToggle.item_34}"><input class="icons icon-search" auto-complete="" auto-options=compTaAutoCompleteOnDetails data-card-type="" type=text placeholder="Search by Company / Travel Agent" value="" autocomplete=off ng-model=chosenReport.uiChosenIncludeCompanyTa report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnItem(chosenReport) ng-change="removeCompTaGrpId(chosenReport, \'uiChosenIncludeCompanyTa\', \'chosenIncludeCompanyTa\')"> <input type=text class=hidden ng-model=chosenReport.chosenIncludeCompanyTa></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasGroupCode ng-class="{\'active\': filterItemsToggle.item_53}" ng-click="toggleFilterItems(\'item_53\')"><span class=title>Group Code</span></a><div class=settings-content ng-show=chosenReport.hasGroupCode ng-class="{\'hidden\': !filterItemsToggle.item_53}"><input class="icons icon-search" auto-complete="" auto-options=groupCodeOnDetails data-card-type="" type=text placeholder="Search by Group Code" value="" autocomplete=off ng-model=chosenReport.uiChosenIncludeGroupCode report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnuiChosenReport(chosenReport)> <input type=text class=hidden ng-model=chosenReport.chosenIncludeGroup></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasIncludeTaxExempts && chosenReport.hasIncludeTaxExempts.data.length" ng-class="{ \'active\': filterItemsToggle.item_54 }" ng-click="toggleFilterItems(\'item_54\')"><span class=title>Tax Exempt Type</span></a><div class="report-col settings-content" ng-show="chosenReport.hasIncludeTaxExempts && chosenReport.hasIncludeTaxExempts.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_54 }"><multi-option-selection label=Display(s) on-update=refreshSidebarScroll data=chosenReport.hasIncludeTaxExempts.data options=chosenReport.hasIncludeTaxExempts.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasMinRevenue ng-class="{\'active\': filterItemsToggle.item_35}" ng-click="toggleFilterItems(\'item_35\')"><span class=title>Revenue</span></a><div class=settings-content ng-show=chosenReport.hasMinRevenue ng-class="{\'hidden\': !filterItemsToggle.item_35}"><label>Minimum Revenue</label> <input ng-model=chosenReport.hasMinRevenue.data placeholder="Enter Value" type=number limit-input-range="{\'from\': 0}"></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasMinRoomNights ng-class="{\'active\': filterItemsToggle.item_36}" ng-click="toggleFilterItems(\'item_36\')"><span class=title>Nights</span></a><div class=settings-content ng-show=chosenReport.hasMinRoomNights ng-class="{\'hidden\': !filterItemsToggle.item_36}"><label>Minimum Nights</label> <input ng-model=chosenReport.hasMinRoomNights.data placeholder="Enter No." type=number limit-input-range="{\'from\': 0}"></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasMinNoOfDaysNotOccupied ng-class="{\'active\': filterItemsToggle.item_45}" ng-click="toggleFilterItems(\'item_45\')"><span class=title>Min. Days Not Occupied</span></a><div class=settings-content ng-show=chosenReport.hasMinNoOfDaysNotOccupied ng-class="{\'hidden\': !filterItemsToggle.item_45}"><label>Min. Days Not Occupied</label> <input ng-model=chosenReport.hasMinNoOfDaysNotOccupied.data placeholder="Min.number of day" numbers-only=""></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasShow && chosenReport.hasShow.data.length" ng-class="{ \'active\': filterItemsToggle.item_37 }" ng-click="toggleFilterItems(\'item_37\')"><span class=title>Show</span></a><div class="report-col settings-content" ng-show="chosenReport.hasShow && chosenReport.hasShow.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_37 }"><multi-option-selection label=Show on-update=refreshSidebarScroll data=chosenReport.hasShow.data options=chosenReport.hasShow.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasChargeTypes && chosenReport.hasChargeTypes.data.length" ng-class="{ \'active\': filterItemsToggle.item_38 }" ng-click="toggleFilterItems(\'item_38\')"><span class=title>Charge Type(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasChargeTypes && chosenReport.hasChargeTypes.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_38 }"><multi-option-selection label="Charge Type(s)" on-update=refreshSidebarScroll data=chosenReport.hasChargeTypes.data options=chosenReport.hasChargeTypes.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasCampaignTypes && chosenReport.hasCampaignTypes.data.length" ng-class="{ \'active\': filterItemsToggle.item_39 }" ng-click="toggleFilterItems(\'item_39\')"><span class=title>Campaign Type(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasCampaignTypes && chosenReport.hasCampaignTypes.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_39 }"><multi-option-selection label="Campaign Type(s)" on-update=refreshFilterScroll report=chosenReport data=chosenReport.hasCampaignTypes.data options=chosenReport.hasCampaignTypes.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasFloorList && chosenReport.hasFloorList.data.length" ng-class="{ \'active\': filterItemsToggle.item_40 }" ng-click="toggleFilterItems(\'item_40\')"><span class=title>Floor</span></a><div class="report-col settings-content" ng-show="chosenReport.hasFloorList && chosenReport.hasFloorList.data.length"><multi-option-selection label=Floor on-update=refreshFilterScroll report=chosenReport data=chosenReport.hasFloorList.data options=chosenReport.hasFloorList.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasOriginFilter && chosenReport.hasOriginFilter.data.length" ng-class="{ \'active\': filterItemsToggle.item_41 }" ng-click="toggleFilterItems(\'item_41\')"><span class=title>Origin(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasOriginFilter && chosenReport.hasOriginFilter.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_41 }"><multi-option-selection ng-show="chosenReport.hasOriginFilter && chosenReport.hasOriginFilter.data.length" label=Origin(s) on-update=refreshFilterScroll report=chosenReport data=chosenReport.hasOriginFilter.data options=chosenReport.hasOriginFilter.options affects-filter=chosenReport.hasOriginFilter.affectsFilter></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasOriginFilter && chosenReport.hasURLsList.data.length" ng-class="{ \'active\': filterItemsToggle.item_42 }" ng-click="toggleFilterItems(\'item_42\')"><span class=title>URL(s)</span></a><div class="report-col settings-content" ng-show="chosenReport.hasOriginFilter && chosenReport.hasURLsList.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_42 }"><multi-option-selection ng-show="chosenReport.hasOriginFilter && chosenReport.hasURLsList.data.length" label=URL(s) on-update=refreshFilterScroll data=chosenReport.hasURLsList.data options=chosenReport.hasURLsList.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasVatYear ng-class="{\'active\': filterItemsToggle.item_51}" ng-click="toggleFilterItems(\'item_51\')"><span class=title>Year</span></a><div class="report-col settings-content" ng-show=chosenReport.hasVatYear ng-class="{ \'hidden\': !filterItemsToggle.item_51 }"><select name=time-from ng-model=chosenReport.year ng-options="year.value as year.value for year in chosenReport.yearFilter" iscroll-stop-propagation=""></select></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasCompanyTravelAgentWithOrWithoutVat ng-class="{\'active\': filterItemsToggle.item_52}" ng-click="toggleFilterItems(\'item_52\')"><span class=title>Company / Travel Agent</span></a><div class="report-col settings-content" ng-show=chosenReport.hasCompanyTravelAgentWithOrWithoutVat ng-class="{ \'hidden\': !filterItemsToggle.item_52 }"><label class="checkbox inline" ng-class="{\'checked\':chosenReport.with_vat_number}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':chosenReport.with_vat_number}"></span> <input type=checkbox checked=checked ng-model=chosenReport.with_vat_number> Cards With Tax ID</label> <label class="checkbox inline" ng-class="{\'checked\':chosenReport.without_vat_number}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':chosenReport.without_vat_number}"></span> <input type=checkbox checked=checked ng-model=chosenReport.without_vat_number> Cards Without Tax ID</label></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasShowVatWithRates ng-class="{\'active\': filterItemsToggle.item_55}" ng-click="toggleFilterItems(\'item_55\')"><span class=title>VAT</span></a><div class="report-col settings-content" ng-show=chosenReport.hasShowVatWithRates ng-class="{ \'hidden\': !filterItemsToggle.item_55 }"><label class="checkbox inline" ng-class="{\'checked\':chosenReport.show_vat_with_rates}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':chosenReport.show_vat_with_rates}"></span> <input type=checkbox checked=checked ng-model=chosenReport.show_vat_with_rates> SHOW VAT WITH RATES</label></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasShowIncludeLongStays ng-class="{\'active\': filterItemsToggle.item_57}" ng-click="toggleFilterItems(\'item_57\')"><span class=title>INCLUDE LONG STAYS</span></a><div class="report-col settings-content" ng-show=chosenReport.hasShowIncludeLongStays ng-class="{ \'hidden\': !filterItemsToggle.item_57 }"><label class="checkbox inline" ng-class="{\'checked\':chosenReport.include_long_stays}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':chosenReport.include_long_stays}"></span> <input type=checkbox checked=checked ng-model=chosenReport.include_long_stays> INCLUDE LONG STAYS</label></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasCompletionStatus && chosenReport.hasCompletionStatus.data.length" ng-class="{\'active\': filterItemsToggle.item_43}" ng-click="toggleFilterItems(\'item_43\')"><span class=title>Completion Status</span></a><div class="report-col settings-content" ng-show="chosenReport.hasCompletionStatus && chosenReport.hasCompletionStatus.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_43 }"><multi-option-selection label="Completion Status" on-update=refreshSidebarScroll data=chosenReport.hasCompletionStatus.data options=chosenReport.hasCompletionStatus.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasDepartments && chosenReport.hasDepartments.data.length" ng-class="{\'active\': filterItemsToggle.item_44}" ng-click="toggleFilterItems(\'item_44\')"><span class=title>Departments</span></a><div class="report-col settings-content" ng-show="chosenReport.hasDepartments && chosenReport.hasDepartments.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_44 }"><multi-option-selection label="Completion Status" on-update=refreshSidebarScroll data=chosenReport.hasDepartments.data options=chosenReport.hasDepartments.options></multi-option-selection></div><multi-option-selection ng-show="uiChosenReport.hasIncludeAgingBalance && uiChosenReport.hasIncludeAgingBalance.data.length" label="Aging Balance" on-update=refreshFilterScroll data=uiChosenReport.hasIncludeAgingBalance.data options=uiChosenReport.hasIncludeAgingBalance.options></multi-option-selection><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasCollapsedOrExpanded && chosenReport.hasCollapsedOrExpanded.data.length" ng-class="{\'active\': filterItemsToggle.item_60}" ng-click="toggleFilterItems(\'item_60\')"><span class=title>Details</span></a><div id=sidebar-charge-groups class=settings-content ng-class="{\'hidden\': !filterItemsToggle.item_60}"><div class=select><select ng-model=chosenReport.hasCollapsedOrExpanded.selected ng-options="CollapsedOrExpanded.description for CollapsedOrExpanded in chosenReport.hasCollapsedOrExpanded.data" iscroll-stop-propagation=""></select></div></div><div class="entry search" ng-show=uiChosenReport.hasIncludeAccountName><label>Account Name</label> <input class="icons icon-search" auto-complete="" auto-options=compTaGrpAutoCompleteOnList data-card-type="" type=text placeholder="Search by Name" value="" autocomplete=off ng-model=uiChosenReport.chosenIncludeAccountName report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnuiChosenReport(uiChosenReport) ng-change="removeCompTaGrpId(uiChosenReport, \'uiChosenIncludeCompanyTaGroup\', \'chosenIncludeCompanyTaGroup\')"> <input type=text class=hidden ng-model=uiChosenReport.chosenIncludeAccountName></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.sortByOptions.length && !!chosenReport.showSort" ng-class="{\'active\': filterItemsToggle.item_13}" ng-click="toggleFilterItems(\'item_13\')"><span class=title>Sort by</span></a><div class=settings-content ng-show=chosenReport.sortByOptions ng-class="{\'hidden\': !filterItemsToggle.item_13}"><div class=select><select ng-model=chosenReport.chosenSortBy ng-options="sortBy.value as sortBy.description for sortBy in chosenReport.sortByOptions | filter:showValidSortBy" ng-change=sortByChanged(chosenReport)><option value="">Sort By</option></select></div></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.groupByOptions ng-class="{\'active\': filterItemsToggle.item_14}" ng-click="toggleFilterItems(\'item_14\')"><span class=title>Group by</span></a><div class=settings-content ng-show=chosenReport.groupByOptions ng-class="{\'hidden\': !filterItemsToggle.item_14}"><div class=select><select ng-model=chosenReport.chosenGroupBy ng-options="groupBy.value as groupBy.description for groupBy in chosenReport.groupByOptions" ng-change=groupByChanged(chosenReport) iscroll-stop-propagation=""><option value="">Group By</option></select></div></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasShowActionables && chosenReport.hasShowActionables.data.length" ng-class="{\'active\': filterItemsToggle.item_48}" ng-click="toggleFilterItems(\'item_48\')"><span class=title>Show</span></a><div class=settings-content ng-show=chosenReport.hasShowActionables ng-class="{\'hidden\': !filterItemsToggle.item_48}"><label>Show</label><div class=select><select name=show-actionables ng-model=chosenReport.showActionables ng-options="action.value as action.name for action in chosenReport.hasShowActionables.data" iscroll-stop-propagation=""></select></div></div><a href="" class="settings-title toggle has-arrow" ng-show="chosenReport.hasIncludeCountry && chosenReport.hasIncludeCountry.data.length" ng-class="{ \'active\': filterItemsToggle.item_56 }" ng-click="toggleFilterItems(\'item_56\')"><span class=title>Country</span></a><div class="report-col settings-content" ng-show="chosenReport.hasIncludeCountry && chosenReport.hasIncludeCountry.data.length" ng-class="{ \'hidden\': !filterItemsToggle.item_56 }"><multi-option-selection label="Select Country" on-update=refreshSidebarScroll data=chosenReport.hasIncludeCountry.data options=chosenReport.hasIncludeCountry.options></multi-option-selection></div><a href="" class="settings-title toggle has-arrow" ng-show=chosenReport.hasShowUpsellOnly ng-class="{\'active\': filterItemsToggle.item_59}" ng-click="toggleFilterItems(\'item_59\')"><span class=title>SHOW UPSELLS ONLY</span></a><div class="report-col settings-content" ng-show=chosenReport.hasShowUpsellOnly ng-class="{ \'hidden\': !filterItemsToggle.item_59 }"><label class="checkbox inline" ng-class="{\'checked\':chosenReport.show_upsell_only}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':chosenReport.show_upsell_only}"></span> <input type=checkbox checked=checked ng-model=chosenReport.show_upsell_only> SHOW UPSELLS ONLY</label></div></div><div class=actions><button type=button class="button green" ng-click=fetchUpdatedReport()>Update</button></div></div><div class="ui-resizable-handle ui-resizable-e"></div>'),
t.put("/assets/partials/reports/filters/rvReportListFilters.html",'<div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry date-range" ng-show=uiChosenReport.hasCancelDateFilter><label>{{ uiChosenReport.hasCancelDateFilter.description }} <span>(From)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-class="{\'visible\': uiChosenReport.hasCancelDateFilter.showRemove}" class=clear-query ng-click="clearDateFromFilter(uiChosenReport, \'hasCancelDateFilter\')"><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=uiChosenReport.fromCancelDate ng-change="dateChanged(uiChosenReport, \'hasCancelDateFilter\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=uiChosenReport.fromCancelDate ng-change="dateChanged(uiChosenReport, \'hasCancelDateFilter\')" readonly=""></div><label>{{ uiChosenReport.hasCancelDateFilter.description }} <span>(To)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-class="{\'visible\': uiChosenReport.hasCancelDateFilter.showRemove}" class=clear-query ng-click="clearDateFromFilter(uiChosenReport, \'hasCancelDateFilter\')"><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=uiChosenReport.untilCancelDate ng-change="dateChanged(uiChosenReport, \'hasCancelDateFilter\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.untilCancelDate ng-change="dateChanged(uiChosenReport, \'hasCancelDateFilter\')" readonly=""></div></div><div class="entry date-range" ng-show=uiChosenReport.hasVatYear><label>Year</label><select name=time-from ng-model=uiChosenReport.year ng-options="year.value as year.value for year in uiChosenReport.yearFilter" iscroll-stop-propagation=""></select></div><div class="entry date-range" ng-show=uiChosenReport.hasCompanyTravelAgentWithOrWithoutVat><label>Company / Travel Agent</label> <label class="checkbox inline" ng-class="{\'checked\':uiChosenReport.with_vat_number}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':uiChosenReport.with_vat_number}"></span> <input type=checkbox checked=checked ng-model=uiChosenReport.with_vat_number> Cards With Tax ID</label> <label class="checkbox inline" ng-class="{\'checked\':uiChosenReport.without_vat_number}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':uiChosenReport.without_vat_number}"></span> <input type=checkbox checked=checked ng-model=uiChosenReport.without_vat_number> Cards Without Tax ID</label></div><div class="entry date-range" ng-show=uiChosenReport.hasDepositDateFilter><label>{{ uiChosenReport.hasDepositDateFilter.description }} <span>(From)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-class="{\'visible\': uiChosenReport.hasDepositDateFilter.showRemove}" class=clear-query ng-click="clearDateFromFilter(uiChosenReport, \'hasDepositDateFilter\')"><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=uiChosenReport.fromDepositDate ng-change="dateChanged(uiChosenReport, \'hasDepositDateFilter\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=uiChosenReport.fromDepositDate ng-change="dateChanged(uiChosenReport, \'hasDepositDateFilter\')" readonly=""></div><label>{{ uiChosenReport.hasDepositDateFilter.description }} <span>(To)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-class="{\'visible\': uiChosenReport.hasDepositDateFilter.showRemove}" class=clear-query ng-click="clearDateFromFilter(uiChosenReport, \'hasDepositDateFilter\')"><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=uiChosenReport.untilDepositDate ng-change="dateChanged(uiChosenReport, \'hasDepositDateFilter\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.untilDepositDate ng-change="dateChanged(uiChosenReport, \'hasDepositDateFilter\')" readonly=""></div></div><div class="entry date-range" ng-show=uiChosenReport.hasPaidDateRange><label>{{ uiChosenReport.hasPaidDateRange.description }} <span>(From)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-class="{\'visible\': uiChosenReport.hasPaidDateRange.showRemove}" class=clear-query ng-click="clearDateFromFilter(uiChosenReport, \'hasPaidDateRange\')"><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=uiChosenReport.fromPaidDate ng-change="dateChanged(uiChosenReport, \'hasPaidDateRange\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=uiChosenReport.fromPaidDate ng-change="dateChanged(uiChosenReport, \'hasPaidDateRange\')" readonly=""></div><label>{{ uiChosenReport.hasPaidDateRange.description }} <span>(To)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-class="{\'visible\': uiChosenReport.hasPaidDateRange.showRemove}" class=clear-query ng-click="clearDateFromFilter(uiChosenReport, \'hasPaidDateRange\')"><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=uiChosenReport.untilPaidDate ng-change="dateChanged(uiChosenReport, \'hasPaidDateRange\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.untilPaidDate ng-change="dateChanged(uiChosenReport, \'hasPaidDateRange\')" readonly=""></div></div><div class="entry date-range" ng-show=uiChosenReport.hasDateFilter><label>{{ uiChosenReport.hasDateFilter.description }} <span>(From)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasDateFilter\')" ng-class="{\'visible\': uiChosenReport.hasDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show="uiChosenReport.hasPrevDateLimit && !uiChosenReport.hasDateLimit && !uiChosenReport.hasSysDateLimit && !uiChosenReport.hasOneYearLimit && !uiChosenReport.isForecast" type=text class=range-datepicker ui-date=fromDateOptionsTillYesterday ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show="!uiChosenReport.hasPrevDateLimit && uiChosenReport.hasDateLimit && !uiChosenReport.hasSysDateLimit && !uiChosenReport.hasOneYearLimit && !uiChosenReport.isForecast" type=text class=range-datepicker ui-date=fromDateOptions ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasSysDateLimit type=text class=range-datepicker ui-date=fromDateOptionsSysLimit ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show="!uiChosenReport.hasBDLimit && !uiChosenReport.hasPrevDateLimit && !uiChosenReport.hasDateLimit && !uiChosenReport.hasSysDateLimit && !uiChosenReport.hasOneYearLimit && !uiChosenReport.isForecast && !uiChosenReport.hasOneMonthLimit && !uiChosenReport.hasSixMonthsLimit && !uiChosenReport.hasThirtyOneDaysLimit" type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasOneMonthLimit type=text class=range-datepicker ui-date=fromDateOptionsOneMonthLimit ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasOneYearLimit type=text class=range-datepicker ui-date=fromDateOptionsOneYearLimit ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.isForecast type=text class=range-datepicker ui-date=fromDateOptionsForecast ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasSixMonthsLimit type=text class=range-datepicker ui-date=fromDateOptionsSixMonthsLimit ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasThirtyOneDaysLimit type=text class=range-datepicker ui-date=fromDateOptionsThirtyOneDaysLimit ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasBDLimit type=text class=range-datepicker ui-date=fromDateOptionsTillBD ng-model=uiChosenReport.fromDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""></div><label>{{ uiChosenReport.hasDateFilter.description }} <span>(To)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasDateFilter\')" ng-class="{\'visible\': uiChosenReport.hasDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show="uiChosenReport.hasPrevDateLimit && !uiChosenReport.hasDateLimit && !uiChosenReport.hasSysDateLimit && !uiChosenReport.hasOneYearLimit && !uiChosenReport.isForecast" type=text class=range-datepicker ui-date=untilDateOptionsTillYesterday ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show="!uiChosenReport.hasPrevDateLimit && uiChosenReport.hasDateLimit && !uiChosenReport.hasSysDateLimit && !uiChosenReport.hasOneYearLimit && !uiChosenReport.isForecast" type=text class=range-datepicker ui-date=untilDateOptions ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasSysDateLimit type=text class=range-datepicker ui-date=untilDateOptionsSysLimit ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show="!uiChosenReport.hasBDLimit && !uiChosenReport.hasPrevDateLimit && !uiChosenReport.hasDateLimit && !uiChosenReport.hasSysDateLimit && !uiChosenReport.hasOneYearLimit && !uiChosenReport.isForecast && !uiChosenReport.hasOneMonthLimit && !uiChosenReport.hasSixMonthsLimit && !uiChosenReport.hasThirtyOneDaysLimit" type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasOneMonthLimit type=text class=range-datepicker ui-date=toDateOptionsOneMonthLimit ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasOneYearLimit type=text class=range-datepicker ui-date=toDateOptionsOneYearLimit ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.isForecast type=text class=range-datepicker ui-date=toDateOptionsForecast ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasSixMonthsLimit type=text class=range-datepicker ui-date=toDateOptionsSixMonthsLimit ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasThirtyOneDaysLimit type=text class=range-datepicker ui-date=toDateOptionsThirtyOneDaysLimit ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""> <input ng-show=uiChosenReport.hasBDLimit type=text class=range-datepicker ui-date=untilDateOptionsTillBD ng-model=uiChosenReport.untilDate ng-change="dateChanged(uiChosenReport, \'hasDateFilter\')" readonly=""></div><button type=button class="set-to-tomorrow button blue" ng-show=uiChosenReport.hasAddonGroups ng-click=setTomorrowDate(uiChosenReport)>Set To Tomorrow</button></div><div class="entry date-range" ng-show=uiChosenReport.hasCreateDateFilter><label>{{ uiChosenReport.hasCreateDateFilter.description }} <span>(From)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasCreateDateFilter\')" ng-class="{\'visible\': uiChosenReport.hasCreateDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=uiChosenReport.fromCreateDate ng-change="dateChanged(uiChosenReport, \'hasCreateDateFilter\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=uiChosenReport.fromCreateDate ng-change="dateChanged(uiChosenReport, \'hasCreateDateFilter\')" readonly=""></div><label>{{ uiChosenReport.hasCreateDateFilter.description }} <span>(To)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasCreateDateFilter\')" ng-class="{\'visible\': uiChosenReport.hasCreateDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=uiChosenReport.untilCreateDate ng-change="dateChanged(uiChosenReport, \'hasCreateDateFilter\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.untilCreateDate ng-change="dateChanged(uiChosenReport, \'hasCreateDateFilter\')" readonly=""></div></div><div class="entry date-range" ng-show=uiChosenReport.hasAdjustmentDateRange><label>{{ uiChosenReport.hasAdjustmentDateRange.description }} <span>(From)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasAdjustmentDateRange\')" ng-class="{\'visible\': uiChosenReport.hasAdjustmentDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=uiChosenReport.fromAdjustmentDate ng-change="dateChanged(uiChosenReport, \'hasAdjustmentDateRange\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=uiChosenReport.fromAdjustmentDate ng-change="dateChanged(uiChosenReport, \'hasAdjustmentDateRange\')" readonly=""></div><label>{{ uiChosenReport.hasAdjustmentDateRange.description }} <span>(To)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasAdjustmentDateRange\')" ng-class="{\'visible\': uiChosenReport.hasAdjustmentDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=uiChosenReport.untilAdjustmentDate ng-change="dateChanged(uiChosenReport, \'hasAdjustmentDateRange\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.untilAdjustmentDate ng-change="dateChanged(uiChosenReport, \'hasAdjustmentDateRange\')" readonly=""></div></div><div class="entry date-range" ng-show=uiChosenReport.hasArrivalDateFilter ng-if="uiChosenReport.title !== \'Rate Adjustment Report\'"><label>{{ uiChosenReport.hasArrivalDateFilter.description }} <span>(From)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasArrivalDateFilter\')" ng-class="{\'visible\': uiChosenReport.hasArrivalDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=uiChosenReport.fromArrivalDate ng-change="dateChanged(uiChosenReport, \'hasArrivalDateFilter\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=uiChosenReport.fromArrivalDate ng-change="dateChanged(uiChosenReport, \'hasArrivalDateFilter\')" readonly=""></div><label>{{ uiChosenReport.hasArrivalDateFilter.description }} <span>(To)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasArrivalDateFilter\')" ng-class="{\'visible\': uiChosenReport.hasArrivalDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=uiChosenReport.untilArrivalDate ng-change="dateChanged(uiChosenReport, \'hasArrivalDateFilter\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.untilArrivalDate ng-change="dateChanged(uiChosenReport, \'hasArrivalDateFilter\')" readonly=""></div></div><div class="entry date-range" ng-show=uiChosenReport.hasArrivalDateFilter ng-if="uiChosenReport.title === \'Rate Adjustment Report\'"><label>{{ uiChosenReport.hasArrivalDateFilter.description }} <span>(From)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasArrivalDateFilter\')" ng-class="{\'visible\': uiChosenReport.hasArrivalDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=uiChosenReport.fromArrivalDate ng-change="dateChanged(uiChosenReport, \'hasArrivalDateFilter\')" readonly=""></div><label>{{ uiChosenReport.hasArrivalDateFilter.description }} <span>(To)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasArrivalDateFilter\')" ng-class="{\'visible\': uiChosenReport.hasArrivalDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.untilArrivalDate ng-change="dateChanged(uiChosenReport, \'hasArrivalDateFilter\')" readonly=""></div></div><div class="entry date-range" ng-show=uiChosenReport.hasGroupStartDateRange><label>{{ uiChosenReport.hasGroupStartDateRange.description }} <span>(From)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasGroupStartDateRange\')" ng-class="{\'visible\': uiChosenReport.hasGroupStartDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptions ng-model=uiChosenReport.groupStartDate ng-change="dateChanged(uiChosenReport, \'hasGroupStartDateRange\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=fromDateOptionsNoLimit ng-model=uiChosenReport.groupStartDate ng-change="dateChanged(uiChosenReport, \'hasGroupStartDateRange\')" readonly=""></div><label>{{ uiChosenReport.hasGroupStartDateRange.description }} <span>(To)</span></label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasGroupStartDateRange\')" ng-class="{\'visible\': uiChosenReport.hasGroupStartDateRange.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptions ng-model=uiChosenReport.groupEndDate ng-change="dateChanged(uiChosenReport, \'hasGroupStartDateRange\')" readonly=""> <input ng-show=!uiChosenReport.hasDateLimit type=text class=range-datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.groupEndDate ng-change="dateChanged(uiChosenReport, \'hasGroupStartDateRange\')" readonly=""></div></div><div class="entry date-range" ng-show=uiChosenReport.hasSingleDateFilter><label>Date</label><div class=has-datepicker><button ng-show=uiChosenReport.canRemoveDate ng-click="clearDateFromFilter(uiChosenReport, \'hasSingleDateFilter\')" ng-class="{\'visible\': uiChosenReport.hasSingleDateFilter.showRemove}" class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input ng-show=uiChosenReport.hasDateLimit type=text class=datepicker ui-date=untilDateOptions ng-model=uiChosenReport.singleValueDate ng-change="dateChanged(uiChosenReport, \'hasSingleDateFilter\')" placeholder="Select Date" readonly=""> <input ng-show=uiChosenReport.hasSysDateLimit type=text class=datepicker ui-date=untilDateOptionsTillYesterday ng-model=uiChosenReport.singleValueDate ng-change="dateChanged(uiChosenReport, \'hasSingleDateFilter\')" placeholder="Select Date" readonly=""> <input ng-show="!uiChosenReport.hasDateLimit && !uiChosenReport.hasSysDateLimit" type=text class=datepicker ui-date=untilDateOptionsNoLimit ng-model=uiChosenReport.singleValueDate ng-change="dateChanged(uiChosenReport, \'hasSingleDateFilter\')" placeholder="Select Date" readonly=""></div></div><div class="entry date-range" ng-show=uiChosenReport.hasTimeFilter><label>{{ uiChosenReport.hasTimeFilter.description }} <span>(From)</span></label><div class=select><select name=time-from ng-model=uiChosenReport.fromTime ng-options="time.value as time.name for time in uiChosenReport.timeFilterOptions" iscroll-stop-propagation=""><option value="">From Time</option></select></div><label>{{ uiChosenReport.hasTimeFilter.description }} <span>(To)</span></label><div class=select><select name=time-to ng-model=uiChosenReport.untilTime ng-options="time.value as time.name for time in uiChosenReport.timeFilterOptions" iscroll-stop-propagation=""><option value="">Until Time</option></select></div></div><div class="entry date-range" ng-show=uiChosenReport.hasCicoFilter><label>{{ uiChosenReport.hasCicoFilter.description }}</label><div class=select><select ng-model=uiChosenReport.chosenCico ng-options="cico.value as cico.label for cico in uiChosenReport.cicoOptions" iscroll-stop-propagation=""><option value="">Transaction Type</option></select></div></div><multi-option-selection ng-show="uiChosenReport.hasDepartments && uiChosenReport.hasDepartments.data.length" label="Department Assigned" on-update=refreshFilterScroll data=uiChosenReport.hasDepartments.data options=uiChosenReport.hasDepartments.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasUserFilter && uiChosenReport.empList.data.length" label="{{ uiChosenReport.filterTitle }}" on-update=refreshFilterScroll data=uiChosenReport.empList.data options=uiChosenReport.empList.options></multi-option-selection><div class=entry ng-show="uiChosenReport.hasCollapsedOrExpanded && uiChosenReport.hasCollapsedOrExpanded.data.length"><label>Details</label><div class=select><select ng-model=uiChosenReport.hasCollapsedOrExpanded.selected ng-options="CollapsedOrExpanded.description for CollapsedOrExpanded in uiChosenReport.hasCollapsedOrExpanded.data" iscroll-stop-propagation=""></select></div></div><div class=entry ng-show="uiChosenReport.hasTransactionCategory && uiChosenReport.hasTransactionCategory.data.length"><label>Showing</label><div class=select><select ng-model=uiChosenReport.hasTransactionCategory.selected ng-options="transactionCategory.description for transactionCategory in uiChosenReport.hasTransactionCategory.data" iscroll-stop-propagation=""><option value="">Show totals</option></select></div></div><multi-option-selection ng-show="uiChosenReport.hasGeneralOptions && uiChosenReport.hasGeneralOptions.data.length" label=Option(s) on-update=refreshFilterScroll data=uiChosenReport.hasGeneralOptions.data options=uiChosenReport.hasGeneralOptions.options></multi-option-selection><div class="entry search" ng-show=uiChosenReport.hasIncludeCompanyTa><label>Company / Travel Agent</label> <input class="icons icon-search" auto-complete="" auto-options=compTaAutoCompleteOnList data-card-type="" type=text placeholder="Search by Company / Travel Agent" value="" autocomplete=off ng-model=uiChosenReport.uiChosenIncludeCompanyTa report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnuiChosenReport(uiChosenReport) ng-change="removeCompTaGrpId(uiChosenReport, \'uiChosenIncludeCompanyTa\', \'chosenIncludeCompanyTa\')"> <input type=text class=hidden ng-model=uiChosenReport.chosenIncludeCompanyTa></div><div class="entry search" ng-show=uiChosenReport.hasIncludeCompanyTaGroup><label>Company/TA/Group</label> <input class="icons icon-search" auto-complete="" auto-options=compTaGrpAutoCompleteOnList data-card-type="" type=text placeholder="Search by Company/TA/Group" value="" autocomplete=off ng-model=uiChosenReport.uiChosenIncludeCompanyTaGroup report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnuiChosenReport(uiChosenReport) ng-change="removeCompTaGrpId(uiChosenReport, \'uiChosenIncludeCompanyTaGroup\', \'chosenIncludeCompanyTaGroup\')"> <input type=text class=hidden ng-model=uiChosenReport.chosenIncludeCompanyTaGroup></div><div class="entry search" ng-show=uiChosenReport.hasGroupCode><label>Group Code</label> <input class="icons icon-search" auto-complete="" auto-options=groupCodeOnList data-card-type="" type=text placeholder="Search by Group Code" value="" autocomplete=off ng-model=uiChosenReport.uiChosenIncludeGroupCode report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnuiChosenReport(uiChosenReport) ng-change="removeCompTaGrpId(uiChosenReport, \'uiChosenIncludeCompanyTaGroup\', \'chosenIncludeCompanyTaGroup\')"> <input type=text class=hidden ng-model=uiChosenReport.chosenIncludeGroupCode></div><div class="entry search" ng-show=uiChosenReport.hasIncludeGroup><label>Group</label> <input class="icons icon-search" auto-complete="" auto-options=grpAutoCompleteOnList data-card-type="" type=text placeholder="Search by Group" value="" autocomplete=off ng-model=uiChosenReport.uiChosenIncludeGroup report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnuiChosenReport(uiChosenReport) ng-change="removeCompTaGrpId(uiChosenReport, \'uiChosenIncludeGroup\', \'chosenIncludeGroup\')"> <input type=text class=hidden ng-model=uiChosenReport.chosenIncludeGroup></div><div class="entry date-range" ng-show=uiChosenReport.hasShowVatWithRates><label>VAT</label> <label class="checkbox inline" ng-class="{\'checked\':uiChosenReport.show_vat_with_rates}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':uiChosenReport.show_vat_with_rates}"></span> <input type=checkbox checked=checked ng-model=uiChosenReport.show_vat_with_rates> SHOW VAT WITH RATES</label></div><div class="entry date-range" ng-show=uiChosenReport.hasShowIncludeLongStays><label>INCLUDE LONG STAYS</label> <label class="checkbox inline" ng-class="{\'checked\':uiChosenReport.include_long_stays}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':uiChosenReport.include_long_stays}"></span> <input type=checkbox checked=checked ng-model=uiChosenReport.include_long_stays> INCLUDE LONG STAYS</label></div><multi-option-selection ng-show="uiChosenReport.hasByChargeGroup && uiChosenReport.hasByChargeGroup.data.length" label="Charge Group(s)" on-update=refreshFilterScroll report=uiChosenReport data=uiChosenReport.hasByChargeGroup.data options=uiChosenReport.hasByChargeGroup.options affects-filter=uiChosenReport.hasByChargeGroup.affectsFilter></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasByChargeCode && uiChosenReport.hasByChargeCode.data.length" label="Charge Code(s)" on-update=refreshFilterScroll data=uiChosenReport.hasByChargeCode.data options=uiChosenReport.hasByChargeCode.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasRateTypeFilter && uiChosenReport.hasRateTypeFilter.data.length" label="Rate Type" on-update=refreshFilterScroll data=uiChosenReport.hasRateTypeFilter.data options=uiChosenReport.hasRateTypeFilter.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasRateFilter && uiChosenReport.hasRateFilter.data.length" label=Display(s) on-update=refreshFilterScroll data=uiChosenReport.hasRateFilter.data options=uiChosenReport.hasRateFilter.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasDisplay && uiChosenReport.hasDisplay.data.length" label=Display(s) on-update=refreshFilterScroll data=uiChosenReport.hasDisplay.data options=uiChosenReport.hasDisplay.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasExclusions && uiChosenReport.hasExclusions.data.length && uiChosenReport.hasExclusions.data.visible" label=Exclude on-update=refreshFilterScroll data=uiChosenReport.hasExclusions.data options=uiChosenReport.hasExclusions.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasHoldStatus && uiChosenReport.hasHoldStatus.data.length" label="Hold Status(es)" on-update=refreshFilterScroll data=uiChosenReport.hasHoldStatus.data options=uiChosenReport.hasHoldStatus.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasOriginFilter && uiChosenReport.hasOriginFilter.data.length" label=Origin(s) on-update=refreshFilterScroll report=uiChosenReport data=uiChosenReport.hasOriginFilter.data options=uiChosenReport.hasOriginFilter.options affects-filter=uiChosenReport.hasOriginFilter.affectsFilter></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasOriginFilter && uiChosenReport.hasURLsList.data.length" label=URL(s) on-update=refreshFilterScroll data=uiChosenReport.hasURLsList.data options=uiChosenReport.hasURLsList.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasCampaignTypes && uiChosenReport.hasCampaignTypes.data.length" label="Campaign Type(s)" on-update=refreshFilterScroll report=uiChosenReport data=uiChosenReport.hasCampaignTypes.data options=uiChosenReport.hasCampaignTypes.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasAllowanceCodes && uiChosenReport.hasAllowanceCodes.data.length" label="Allowance Code(s)" on-update=refreshFilterScroll report=uiChosenReport data=uiChosenReport.hasAllowanceCodes.data options=uiChosenReport.hasAllowanceCodes.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasAddonGroups && uiChosenReport.hasAddonGroups.data.length" label="Add-On Group(s)" on-update=refreshFilterScroll report=uiChosenReport data=uiChosenReport.hasAddonGroups.data options=uiChosenReport.hasAddonGroups.options affects-filter=uiChosenReport.hasAddonGroups.affectsFilter></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasAddonGroups && uiChosenReport.hasAddons.data.length" label=Add-On(s) on-update=refreshFilterScroll data=uiChosenReport.hasAddons.data options=uiChosenReport.hasAddons.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasIncludeAgingBalance && uiChosenReport.hasIncludeAgingBalance.data.length" label="Aging Balance" on-update=refreshFilterScroll data=uiChosenReport.hasIncludeAgingBalance.data options=uiChosenReport.hasIncludeAgingBalance.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasIncludeTaxExempts && uiChosenReport.hasIncludeTaxExempts.data.length" label="Tax Exempt Types" on-update=refreshFilterScroll data=uiChosenReport.hasIncludeTaxExempts.data options=uiChosenReport.hasIncludeTaxExempts.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasAccountSearch && uiChosenReport.hasAccountSearch.data.length" label="Account Name" on-update=refreshFilterScroll data=uiChosenReport.hasAccountSearch.data options=uiChosenReport.hasAccountSearch.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasTravelAgentsSearch && uiChosenReport.hasTravelAgentsSearch.data.length" label="Travel Agents" on-update=refreshFilterScroll data=uiChosenReport.hasTravelAgentsSearch.data options=uiChosenReport.hasTravelAgentsSearch.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasIncludeCountry && uiChosenReport.hasIncludeCountry.data.length" label=Country on-update=refreshFilterScroll data=uiChosenReport.hasIncludeCountry.data options=uiChosenReport.hasIncludeCountry.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasGuestOrAccountFilter && uiChosenReport.hasGuestOrAccountFilter.data.length" label=Guest/Account on-update=refreshFilterScroll report=uiChosenReport data=uiChosenReport.hasGuestOrAccountFilter.data options=uiChosenReport.hasGuestOrAccountFilter.options affects-filter=uiChosenReport.hasGuestOrAccountFilter.affectsFilter></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasReservationStatus && uiChosenReport.hasReservationStatus.data.length" label="Reservation Status" on-update=refreshFilterScroll data=uiChosenReport.hasReservationStatus.data options=uiChosenReport.hasReservationStatus.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasCompletionStatus && uiChosenReport.hasCompletionStatus.data.length" label="Completion Status" on-update=refreshFilterScroll data=uiChosenReport.hasCompletionStatus.data options=uiChosenReport.hasCompletionStatus.options></multi-option-selection><div class=entry ng-show="uiChosenReport.hasLanguages && uiChosenReport.hasLanguages.data.length"><label>Language</label><div class=select><select ng-model=uiChosenReport.locale ng-options="languages.code as languages.language for languages in uiChosenReport.hasLanguages.data" ng-change=sortByChanged(uiChosenReport) iscroll-stop-propagation=""><option value="">Select Language</option></select></div></div><div class=entry ng-show=uiChosenReport.hasMinNoOfDaysNotOccupied><label>Min. Days Not Occupied</label> <input ng-model=uiChosenReport.hasMinNoOfDaysNotOccupied.data value="" numbers-only="" placeholder="Min.number of day"></div><multi-option-selection ng-show="uiChosenReport.hasRateCodeFilter && uiChosenReport.hasRateCodeFilter.data.length" label=Rate on-update=refreshFilterScroll data=uiChosenReport.hasRateCodeFilter.data options=uiChosenReport.hasRateCodeFilter.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasRoomTypeFilter && uiChosenReport.hasRoomTypeFilter.data.length" label="Room Types" on-update=refreshFilterScroll data=uiChosenReport.hasRoomTypeFilter.data options=uiChosenReport.hasRoomTypeFilter.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasRestrictionListFilter && uiChosenReport.hasRestrictionListFilter.data.length" label=Restriction on-update=refreshFilterScroll data=uiChosenReport.hasRestrictionListFilter.data options=uiChosenReport.hasRestrictionListFilter.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasMarketsList && uiChosenReport.hasMarketsList.data.length" label=Market(s) on-update=refreshFilterScroll data=uiChosenReport.hasMarketsList.data options=uiChosenReport.hasMarketsList.options></multi-option-selection><div class="entry date-range" ng-show=uiChosenReport.hasDayUseFilter><label>DAY USE</label> <label class="checkbox inline" ng-class="{\'checked\':uiChosenReport.include_day_use}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':uiChosenReport.include_day_use}"></span> <input type=checkbox checked=checked ng-model=uiChosenReport.include_day_use> INCLUDE DAY USE</label></div><multi-option-selection ng-show="uiChosenReport.hasSourcesList && uiChosenReport.hasSourcesList.data.length" label=Source(s) on-update=refreshFilterScroll data=uiChosenReport.hasSourcesList.data options=uiChosenReport.hasSourcesList.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasOriginsList && uiChosenReport.hasOriginsList.data.length" label=Origin(s) on-update=refreshFilterScroll data=uiChosenReport.hasOriginsList.data options=uiChosenReport.hasOriginsList.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasSegmentsList && uiChosenReport.hasSegmentsList.data.length" label=Segment(s) on-update=refreshFilterScroll data=uiChosenReport.hasSegmentsList.data options=uiChosenReport.hasSegmentsList.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasGuaranteeType && uiChosenReport.hasGuaranteeType.data.length" label="Guarantee Type(s)" on-update=refreshFilterScroll data=uiChosenReport.hasGuaranteeType.data options=uiChosenReport.hasGuaranteeType.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasTaxPaymentReceiptTypes && uiChosenReport.hasTaxPaymentReceiptTypes.data.length" label="Tax Receipt Type(s)" on-update=refreshFilterScroll data=uiChosenReport.hasTaxPaymentReceiptTypes.data options=uiChosenReport.hasTaxPaymentReceiptTypes.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasFloorList && uiChosenReport.hasFloorList.data.length" label=Floor on-update=refreshFilterScroll data=uiChosenReport.hasFloorList.data options=uiChosenReport.hasFloorList.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasPaymentType && uiChosenReport.hasPaymentType.data.length" label="Payment type" on-update=refreshFilterScroll data=uiChosenReport.hasPaymentType.data options=uiChosenReport.hasPaymentType.options></multi-option-selection><div class=entry ng-show=uiChosenReport.hasMinRevenue><label>Minimum Revenue</label> <input ng-model=uiChosenReport.hasMinRevenue.data value="" placeholder="Enter Value" type=number limit-input-range="{\'from\': 0}"></div><div class=entry ng-show=uiChosenReport.hasMinRoomNights><label>Minimum Nights</label> <input ng-model=uiChosenReport.hasMinRoomNights.data value="" placeholder="Enter No." type=number limit-input-range="{\'from\': 0}"></div><multi-option-selection ng-show="uiChosenReport.hasShow && uiChosenReport.hasShow.data.length" label=Show on-update=refreshFilterScroll data=uiChosenReport.hasShow.data options=uiChosenReport.hasShow.options></multi-option-selection><multi-option-selection ng-show="uiChosenReport.hasChargeTypes && uiChosenReport.hasChargeTypes.data.length" label="Charge Types(s)" on-update=refreshFilterScroll data=uiChosenReport.hasChargeTypes.data options=uiChosenReport.hasChargeTypes.options></multi-option-selection><div class="entry date-range" ng-show=uiChosenReport.hasShowUpsellOnly><label class="checkbox inline" ng-class="{\'checked\':uiChosenReport.show_upsell_only}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':uiChosenReport.show_upsell_only}"></span> <input type=checkbox checked=checked ng-model=uiChosenReport.show_upsell_only> SHOW UPSELLS ONLY</label></div><div class=entry ng-show="uiChosenReport.sortByOptions.length && !!uiChosenReport.showSort"><label>Sort By</label><div class=select><select ng-model=uiChosenReport.chosenSortBy ng-options="sortBy.value as sortBy.description for sortBy in uiChosenReport.sortByOptions | filter:showValidSortBy" ng-change=sortByChanged(uiChosenReport) iscroll-stop-propagation=""><option value="">Sort By</option></select></div></div><div class=entry ng-show=uiChosenReport.groupByOptions><label>Group By</label><div class=select><select ng-model=uiChosenReport.chosenGroupBy ng-options="groupBy.value as groupBy.description for groupBy in uiChosenReport.groupByOptions" ng-change=groupByChanged(uiChosenReport) iscroll-stop-propagation=""><option value="">Group By</option></select></div></div><div class="entry date-range" ng-show=uiChosenReport.hasShowActionables><label>Show</label><div class=select><select name=show-actionables ng-model=uiChosenReport.showActionables ng-options="action.value as action.name for action in uiChosenReport.hasShowActionables.data" iscroll-stop-propagation=""></select></div></div>'),
t.put("/assets/partials/reports/financialTransactionRevenueReport/reportDetails.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><section id=report-details class="content reports-wrapper" role=main ng-hide=hasNoResults><div id=report-content class="report-content journal-content revenue-journal scrollable" ng-iscroll=report-details-scroll><div class=wrapper><div id=journal-grid class=journal-grid><ul class="grid-header revenue"><li class=name>Charge Group</li><li class=number>Number</li><li class=value>Amount</li></ul><div class=grid-group ng-repeat="level1 in results"><a class="revenue-title active toggle"><strong class=name>{{level1.name}}</strong> <span class=number>{{level1.number}}</span> <span class=value><span ng-bind-html="level1.total | sntCurrency:this"></span></span></a><div class=grid-charge ng-repeat="level2 in level1.charge_codes"><a class="revenue-title active toggle"><span class=code>{{level2.code}}</span> <strong class=name>{{level2.name}}</strong> <span class=value><span ng-bind-html="level2.total | sntCurrency:this"></span></span></a><table class=grid-items ng-show="level2.transactions.length > 0"><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th></th><th></th><th class=align-right>Debit</th></tr></thead><tbody><tr ng-repeat="level3 in level2.transactions"><td>{{level3.room}}<br>{{level3.account_no}}</td><td><strong class=cell-row>{{level3.name}}<br>{{level3.account_name}}</strong> <span class=cell-row>{{level3.reservation_number}}</span></td><td>{{level3.invoice_or_folio}}</td><td><span class=cell-row>{{level3.date}}</span> <span class=cell-row>{{level3.time}}</span></td><td><span class=cell-row ng-bind-html=level3.details></span><span class=converted-currency ng-if=level3.converted_currency><span ng-bind-html="level3.debit_converted_amount | sntCurrency:this:level3.converted_currency"></span></span> <span class="converted-currency smaller" ng-if=level3.conversion_rate><span>{{level3.conversion_rate}}</span></span></td><td></td><td></td><td class=align-right ng-show="level3.debit !== \'\' && level3.debit !== null"><span ng-bind-html="level3.debit | sntCurrency:this"></span></td></tr></tbody></table></div></div></div><ul class=journal-footer-print><li>Date Range: From <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.toDate | date:dateFormat }}</span><br></li><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></li></ul></div></div></section>'),t.put("/assets/partials/reports/financialTransactionsAdjustmentReport/reportMain.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-iscroll=report-details-scroll><div class=wrapper><table class=financial-adjustment-reports><thead><tr class=bottom-row><th><span>Charge Type</span></th><th><span class=sort ng-class="{\'sorting-asc\': isAsc(1), \'sorting-desc\': isDesc(1)}" ng-click="sortResultBy(chosenReport.sortByOptions[1], chosenReport)" ng-if=!isBackgroundReportsEnabled>Code</span> <span ng-if=isBackgroundReportsEnabled>Code</span></th><th><span>Description</span></th><th width=85><span>Amount</span></th><th width=150><span>Remark</span></th><th><span>Guest/ Account Name</span></th><th><span>Room #</span></th><th><span class=sort ng-class="{\'sorting-asc\': isAsc(5), \'sorting-desc\': isDesc(5)}" ng-click="sortResultBy(chosenReport.sortByOptions[5], chosenReport)" ng-if=!isBackgroundReportsEnabled>Date &amp; Time Posted</span> <span ng-if=isBackgroundReportsEnabled>Date &amp; Time Posted</span></th><th><span>Date &amp; Time Modified</span></th><th><span>Modified By</span></th></tr></thead><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody ng-include=parsedApiTemplate()></tbody></table></div></div>'),t.put("/assets/partials/reports/financialTransactionsAdjustmentReport/reportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.break_class }}"><td ng-if="each.isReport && each.charge_type" class=group rowspan="{{ each.rowspan }}">{{ each.charge_type }}</td><td ng-if=each.isReport class=code><span class=number>{{ each.code }}</span></td><td ng-if=each.isReport>{{ each.description }}</td><td ng-if=each.isReport class="{{ each.amount_class }}"><span ng-bind-html="each.amount | sntCurrency:this"></span></td><td ng-if=each.isReport><span class=data ng-repeat="item in each.remarkAry track by $index">{{ item }}<br></span></td><td ng-if=each.isReport>{{ each.guest_name_or_account_name}}</td><td ng-if=each.isReport>{{ each.room_no}}</td><td ng-if=each.isReport>{{ each.posted_date | date : dateFormat }} {{ each.posted_time }}</td><td ng-if=each.isReport>{{ each.modified_date | date : dateFormat }} {{ each.modified_time }}</td><td ng-if=each.isReport>{{ each.modified_by }}</td><td ng-if=each.isReportSubTotal colspan=2 class=code>Total</td><td ng-if=each.isReportSubTotal class="{{ each.amount_class }}"><span ng-bind-html="each.total_amount | sntCurrency:this"></span></td></tr>'),t.put("/assets/partials/reports/financialTransactionsPaymentReport/reportDetails.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><section id=report-details class="content reports-wrapper" role=main ng-hide=hasNoResults><div id=report-content class="report-content journal-content payments-journal scrollable" ng-iscroll=report-details-scroll><div class=wrapper><div id=journal-grid class=journal-grid><ul class="grid-header payment"><li class=name>Payment Type</li><li class=code>Charge Code</li><li class=number>Number</li><li class=value>Amount</li></ul><div class=grid-group ng-repeat="level1 in results"><a class="payment-title active toggle"><strong class=name>{{level1.payment_type}}</strong> <span class=code>{{level1.charge_code}}</span> <span class=number>{{level1.number}}</span> <span class=value><span ng-bind-html="level1.amount | sntCurrency:this"></span></span></a><div class=grid-charge ng-if="level1.payment_type == \'Credit Card\'" ng-repeat="level2 in level1.credit_cards"><a class="payment-title active toggle"><span class=code>{{level2.charge_code}}</span> <strong class=name>{{level2.credit_card}}</strong> <span class=value><span ng-bind-html="level2.amount | sntCurrency:this"></span></span></a><table class=grid-items ng-show="level2.transactions.length > 0"><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th></th><th></th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="level3 in level2.transactions"><td>{{level3.room}}<br>{{level3.account_no}}</td><td><strong class=cell-row>{{level3.name}}<br>{{level3.account_name}}</strong> <span class=cell-row>{{level3.reservation_number}}</span></td><td>{{level3.invoice_or_folio}}</td><td><span class=cell-row>{{level3.date}}</span> <span class="cell-row grey-text">{{level3.time}}</span></td><td><span ng-bind-html=level3.details></span><span class=converted-currency ng-if=level3.converted_currency><span ng-bind-html="level3.credit_converted_amount | sntCurrency:this:level3.converted_currency"></span></span> <span class="converted-currency smaller" ng-if=level3.conversion_rate><span>{{level3.conversion_rate}}</span></span></td><td></td><td></td><td class=align-right ng-show="level3.credit !== \'\' && level3.credit !== null"><span ng-bind-html="level3.credit | sntCurrency:this"></span></td></tr></tbody></table></div><div class="grid-charge active" ng-if="level1.payment_type !== \'Credit Card\'"><table class=grid-items ng-show="level1.transactions.length > 0"><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th></th><th></th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="level2 in level1.transactions"><td>{{level2.room}}<br>{{level2.account_no}}</td><td><strong class=cell-row>{{level2.name}}<br>{{level2.account_name}}</strong> <em class="cell-row grey-text">{{level2.accompany_guest_name}}</em> <span class=cell-row>{{level2.reservation_number}}</span></td><td>{{level2.invoice_or_folio}}</td><td><span class=cell-row>{{level2.date}}</span> <span class="cell-row grey-text">{{level2.time}}</span></td><td><span class=cell-row ng-bind-html=level2.details></span><span class=converted-currency ng-if=level2.converted_currency><span ng-bind-html="level2.credit_converted_amount | sntCurrency:this:level2.converted_currency"></span></span> <span class="converted-currency smaller" ng-if=level2.conversion_rate><span>{{level2.conversion_rate}}</span></span></td><td></td><td></td><td class=align-right ng-show="level2.credit !== \'\' && level2.credit !== null"><span ng-bind-html="level2.credit | sntCurrency:this"></span></td></tr></tbody></table></div></div></div><ul class=journal-footer-print><li>Date Range: From <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.toDate | date:dateFormat }}</span><br></li><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></li></ul></div></div></section>'),t.put("/assets/partials/reports/financialTransactionsSummaryReport/reportDetails.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><section id=report-details class="content reports-wrapper" role=main ng-hide=hasNoResults><div id=report-content class="report-content journal-content summary-journal scrollable" ng-iscroll=report-details-scroll><div class=wrapper><div ng-repeat="(title,summary) in results"><div class=journal-summary ng-class="{first: $first}"><h3 translate="">{{title}}</h3><ul><li>Opening<span ng-bind-html="summary.opening_balance | sntCurrency:this"></span></li><li>Debit<span ng-bind-html="summary.debit_sum | sntCurrency:this"></span></li><li>Credit<span ng-bind-html="summary.credit_sum | sntCurrency:this"></span></li><li>Closing<span ng-bind-html="summary.closing_balance | sntCurrency:this"></span></li></ul></div><div class="journal-grid print-details" ng-class="{hidden: appliedFilter.collapsed_or_expanded === \'Collapsed\'}"><table class=grid-items ng-show="summary.transactions.length > 0"><thead><tr><th>Room</th><th class=cell-reservation>Reservation</th><th>Invoice / Folio No.</th><th>Date & Time</th><th class=cell-details>Details</th><th class=cell-charges>Charge</th><th class=align-right>Debit</th><th class=align-right>Credit</th></tr></thead><tbody><tr ng-repeat="trans in summary.transactions"><td>{{trans.room}}</td><td><strong class=cell-row>{{trans.name}}</strong> <span class=cell-row>{{trans.reservation_number}}</span> <em class="cell-row grey-text" ng-if=accompany_guest_name>{{trans.accompany_guest_name}}</em></td><td>{{trans.invoice_or_folio}}</td><td><span class=cell-row>{{trans.date}}</span> <span class="cell-row grey-text">{{trans.time}}</span></td><td><span class=cell-row ng-bind-html=trans.details></span> <span class=converted-currency ng-if=trans.converted_currency><span ng-if=trans.credit_converted_amount ng-bind-html="trans.credit_converted_amount | sntCurrency:this:trans.converted_currency"></span> <span ng-if=trans.debit_converted_amount ng-bind-html="trans.debit_converted_amount | sntCurrency:this:trans.converted_currency"></span></span> <span class="converted-currency smaller" ng-if=trans.conversion_rate><span>{{trans.conversion_rate}}</span></span></td><td><strong class=cell-row>{{trans.charge_code}}</strong> <span class="cell-row grey-text">{{trans.charge_desc}}</span></td><td class=align-right><span ng-if=trans.debit ng-show="trans.debit !== \'\' && trans.debit !== null" ng-bind-html="trans.debit | sntCurrency:this"></span></td><td class=align-right><span ng-if=trans.credit ng-show="trans.credit !== \'\' && trans.credit !== null" ng-bind-html="trans.credit | sntCurrency:this"></span></td></tr></tbody></table></div></div><div class="journal-summary totals"><h3>Totals</h3><ul><li><span ng-bind-html="(results.deposit_balance.opening_balance + results.guest_balance.opening_balance + results.ar_balance.opening_balance) | sntCurrency:this"></span></li><li><span ng-bind-html="(results.deposit_balance.debit_sum + results.guest_balance.debit_sum + results.ar_balance.debit_sum) | sntCurrency:this"></span></li><li><span ng-bind-html="(results.deposit_balance.credit_sum + results.guest_balance.credit_sum + results.ar_balance.credit_sum) | sntCurrency:this"></span></li><li><span ng-bind-html="(results.deposit_balance.closing_balance + results.guest_balance.closing_balance + results.ar_balance.closing_balance) | sntCurrency:this"></span></li></ul></div></div><ul class="journal-footer-print summary"><li>Date <span>{{ appliedFilter.singleValueDate | date:dateFormat }}</span></li><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></li></ul></div></section>'),t.put("/assets/partials/reports/folioTax/folioTaxReportDetails.html",'<div id=report-content ng-hide=hasNoResults class="report-content grid scrollable" ng-iscroll=report-details-scroll><div class=wrapper><table class="statistics-reports invoice-tax-reports"><thead><tr><th><span>{{summaryCounts.translated_headers.room}}</span></th><th><span>{{summaryCounts.translated_headers.folio_number}}</span></th><th><span>{{summaryCounts.translated_headers.guest_name}}/{{summaryCounts.translated_headers.account_name}}</span></th><th><span>{{summaryCounts.translated_headers.tax_id}}</span></th><th><span>{{summaryCounts.translated_headers.tax}}</span></th></tr></thead><tfoot><tr><td colspan=3>{{summaryCounts.translated_headers.date_range}} {{summaryCounts.translated_headers.from}} <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> {{summaryCounts.translated_headers.to}} <span>{{ appliedFilter.toDate | date:dateFormat }}</span><br></td><td colspan=2><li>{{summaryCounts.translated_headers.business_date}} <span>{{ userInfo.business_date | date:dateFormat }}</span><br>{{summaryCounts.translated_headers.user}} <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></li></td></tr></tfoot><tbody><tr ng-repeat="eachRow in results"><td>{{eachRow.room_number}}</td><td>{{eachRow.folio_number}}</td><td>{{eachRow.guest_or_account_name}}</td><td>{{eachRow.tax_id}}</td><td class=vat-groupings><table><thead><tr class=bottom-row><td><strong>{{summaryCounts.translated_headers.charge_code}}</strong></td><td><strong>{{summaryCounts.translated_headers.gross}}</strong></td><td><strong>{{summaryCounts.translated_headers.net}}</strong></td></tr></thead><tbody><tr ng-repeat="taxRow in eachRow.tax_groups"><td>{{taxRow.charge_code_value}}</td><td><span ng-bind-html="taxRow.gross_amount | sntCurrency:this"></span></td><td><span ng-bind-html="taxRow.net_amount | sntCurrency:this"></span></td></tr></tbody></table></td></tr><tr class=totals ng-if="paginationConfig.totalPages === paginationConfig.currentPage"><td colspan=4><strong>{{summaryCounts.translated_headers.total}}</strong></td><td class=vat-groupings><table><thead><tr><td><strong>{{summaryCounts.translated_headers.charge_code}}</strong></td><td><strong>{{summaryCounts.translated_headers.gross}}</strong></td><td><strong>{{summaryCounts.translated_headers.net}}</strong></td></tr></thead><tbody><tr ng-repeat="taxTotalRow in summaryCounts.totals"><td>{{taxTotalRow.charge_code_value}}</td><td><span ng-bind-html="taxTotalRow.total_gross_amount | sntCurrency:this"></span></td><td><span ng-bind-html="taxTotalRow.total_net_amount | sntCurrency:this"></span></td></tr></tbody></table></td></tr></tbody></table><br><br></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/forecastByDateReport/rvForecastByDateReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-class="{ \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><table class=forecast-reports><thead><tr class=top-row><th class=date></th><th colspan=8 class=break>Forecast</th><th colspan=3>Last Year</th></tr><tr class=bottom-row><th ng-repeat="item in subHeaders track by $index" ng-class="{ \'date\': $index == 0, \'break\': $index == 8 }"><span>{{ item }}</span></th></tr></thead><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody ng-include=parsedApiTemplate()></tbody></table></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/forecastByDateReport/rvForecastByDateReportRow.html",'<tr ng-repeat="each in results track by $index" ng-class="{\'weekend\' : each.isWeekend}"><td class=date><span>{{ each.date | date : dateFormat }}</span> <span>{{ each.week_day }}</span></td><td>{{ each.arrival_rooms }}</td><td>{{ each.departure_rooms }}</td><td>{{ each.occupied_rooms }}</td><td>{{ each.occupancy }}</td><td>{{ each.adults }}</td><td>{{ each.children }}</td><td><span ng-bind-html="each.total_revenue | sntCurrency:this"></span></td><td class=break><span ng-bind-html="each.adr | sntCurrency:this"></span></td><td><span ng-bind-html="each.last_year_adr | sntCurrency:this"></span></td><td>{{ each.last_year_occupancy }}</td><td ng-class="{ \'red\': (each.variance * 1) < 0 }">{{ each.variance }}</td></tr><tr class=total ng-if=showTotals()><td class=date>Totals</td><td>{{ resultsTotalRow.total_arrival_rooms }}</td><td>{{ resultsTotalRow.total_departure_rooms }}</td><td>{{ resultsTotalRow.total_occupied_rooms }}</td><td>{{ resultsTotalRow.total_occupancy }}</td><td>{{ resultsTotalRow.total_adults }}</td><td>{{ resultsTotalRow.total_children }}</td><td><span ng-bind-html="resultsTotalRow.total_revenue | sntCurrency:this"></span></td><td class=break><span ng-bind-html="resultsTotalRow.total_adr | sntCurrency:this"></span></td><td><span ng-bind-html="resultsTotalRow.total_last_year_adr | sntCurrency:this"></span></td><td>{{ resultsTotalRow.total_last_year_occupancy }}</td><td ng-class="{ \'red\': (each.variance * 1) < 0 }">{{ resultsTotalRow.total_variance }}</td></tr>'),t.put("/assets/partials/reports/forecastGuestGroupReport/rvForecastGuestGroupReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-class="{ \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><table class="forecast-reports large-grid forecast-group"><thead><tr class=top-row><th colspan=2 class=date><span class=sort ng-class="{ \'sorting-asc\': !!chosenReport.sortByOptions[0] && chosenReport.sortByOptions[0][\'sortDir\'] === true, \'sorting-desc\': !!chosenReport.sortByOptions[0] && chosenReport.sortByOptions[0][\'sortDir\'] === false }" ng-click=sortResultBy(chosenReport.sortByOptions[0]) ng-if=!isBackgroundReportsEnabled>Date</span> <span ng-if=isBackgroundReportsEnabled>Date</span></th><th colspan=1 class=break>Individual</th><th colspan=1 class=break>Group/Allotments</th><th colspan=3 class=break>Rooms Total</th><th colspan=2 class=break>Rooms %</th><th colspan=3 class=break>Revenue</th><th colspan=2>Last Year</th></tr><tr class=bottom-row><th class=date>Date</th><th class=break>OOO</th><th class=break>Occupied</th><th class=break>Occupied</th><th>Occupied</th><th>Available</th><th class=break>Sold</th><th>Occupied</th><th class=break>Available</th><th>Revenue</th><th>ADR</th><th class=break>RevPAR</th><th>Actual</th><th>Variance</th></tr></thead><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody ng-include="\'/assets/partials/reports/forecastGuestGroupReport/rvForecastGuestGroupReportRow.html\'"></tbody></table></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/forecastGuestGroupReport/rvForecastGuestGroupReportRow.html",'<tr ng-repeat="each in results track by $index" ng-class="{\'weekend\' : each.isWeekend}"><td class=date><span>{{ each.date | date : dateFormat }}</span> <span>{{ each.week_day }}</span></td><td class=break>{{ each.ooo_count }}</td><td class="vertical break"><div class=row><strong>{{ each.guest_arrival_count }}<em>(Arr.)</em></strong></div><div class=row><strong>{{ each.guest_inhouse_count }}<em>(Inh.)</em></strong></div><div class=row><strong>{{ each.guest_departure_count }}<em>(Dep.)</em></strong></div></td><td class="vertical break"><div class="row cells"><strong>{{ each.group_arrival_count }}<em>(Arr.)</em></strong> <strong>{{ each.group_arrival_gtd }}<em>(GTD)</em></strong></div><div class="row cells"><strong>{{ each.group_inhouse_count }}<em>(Inh.)</em></strong> <strong>{{ each.group_occupied_rooms_gtd }}<em>(GTD)</em></strong></div><div class="row cells"><strong>{{ each.group_departure_count }}<em>(Dep.)</em></strong> <strong>{{ each.group_departure_gtd }}<em>(GTD)</em></strong></div></td><td class=vertical><div class=row><strong>{{ each.total_arrival_count }}<em>(Arr.)</em></strong></div><div class=row><strong>{{ each.total_inhouse_count }}<em>(Inh.)</em></strong></div><div class=row><strong>{{ each.total_departure_count }}<em>(Dep.)</em></strong></div></td><td>{{ each.total_rooms }}</td><td class="vertical break"><div class=row><strong>{{ each.guest_occupied_count }}<em>(Gst.)</em></strong></div><div class=row><strong>{{ each.group_occupied_count }}<em>(Grp.)</em></strong></div><div class=row><strong>{{ each.total_occupied_count }}<em>(Tot.)</em></strong></div></td><td class=vertical><div class=row><strong>{{ each.guest_occupied_room_percentage }}%<em>(Gst.)</em></strong></div><div class=row><strong>{{ each.group_occupied_room_percentage }}%<em>(Grp.)</em></strong></div><div class=row><strong>{{ each.total_occupied_room_percentage }}%<em>(Tot.)</em></strong></div></td><td class=break>{{ each.total_available_room_percentage }}%</td><td class=vertical><div class=row><strong><span ng-bind-html="each.guest_room_revenue | sntCurrency:this"></span><em>(Gst.)</em></strong></div><div class=row><strong><span ng-bind-html="each.group_room_revenue | sntCurrency:this"></span><em>(Grp.)</em></strong></div><div class=row><strong><span ng-bind-html="each.total_room_revenue | sntCurrency:this"></span><em>(Tot.)</em></strong></div></td><td class=vertical><div class=row><strong><span ng-bind-html="each.adr_guest | sntCurrency:this"></span><em>(Gst.)</em></strong></div><div class=row><strong><span ng-bind-html="each.adr_group | sntCurrency:this"></span><em>(Grp.)</em></strong></div><div class=row><strong><span ng-bind-html="each.adr | sntCurrency:this"></span><em>(Tot.)</em></strong></div></td><td class=break><span ng-bind-html="each.rev_par | sntCurrency:this"></span></td><td>{{ each.actual_rooms_last_year }}%</td><td class=break ng-class="{ \'red\': (each.variance * 1) < 0 }">{{ each.variance }}%</td></tr><tr ng-include="\'/assets/partials/reports/forecastGuestGroupReport/rvForecastGuestGroupReportTotalRow.html\'" ng-class="{total : isForecastGuestGroup}" ng-if=showTotals()></tr>'),t.put("/assets/partials/reports/forecastGuestGroupReport/rvForecastGuestGroupReportTotalRow.html",'<td class=date>Totals</td><td class=break>{{ resultsTotalRow.ooo_count }}</td><td class="vertical break"><div class=row><strong>{{ resultsTotalRow.guest_arrival_count }}<em>(Arr.)</em></strong></div><div class=row><strong>{{ resultsTotalRow.guest_inhouse_count }}<em>(Inh.)</em></strong></div><div class=row><strong>{{ resultsTotalRow.guest_departure_count }}<em>(Dep.)</em></strong></div></td><td class="vertical break"><div class="row cells"><strong>{{ resultsTotalRow.group_arrival_count }}<em>(Arr.)</em></strong> <strong>{{ resultsTotalRow.group_arrival_gtd }}<em>(GTD)</em></strong></div><div class="row cells"><strong>{{ resultsTotalRow.group_inhouse_count }}<em>(Inh.)</em></strong> <strong>{{ resultsTotalRow.group_occupied_rooms_gtd }}<em>(GTD)</em></strong></div><div class="row cells"><strong>{{ resultsTotalRow.group_departure_count }}<em>(Dep.)</em></strong> <strong>{{ resultsTotalRow.group_departure_gtd }}<em>(GTD)</em></strong></div></td><td class=vertical><div class=row><strong>{{ resultsTotalRow.total_arrival_count }}<em>(Arr.)</em></strong></div><div class=row><strong>{{ resultsTotalRow.total_inhouse_count }}<em>(Inh.)</em></strong></div><div class=row><strong>{{ resultsTotalRow.total_departure_count }}<em>(Dep.)</em></strong></div></td><td>{{ resultsTotalRow.total_rooms }}</td><td class="vertical break"><div class=row><strong>{{ resultsTotalRow.guest_occupied_count }}<em>(Gst.)</em></strong></div><div class=row><strong>{{ resultsTotalRow.group_occupied_count }}<em>(Grp.)</em></strong></div><div class=row><strong>{{ resultsTotalRow.total_occupied_count }}<em>(Tot.)</em></strong></div></td><td class=vertical><div class=row><strong>{{ resultsTotalRow.guest_occupied_room_percentage }}%<em>(Gst.)</em></strong></div><div class=row><strong>{{ resultsTotalRow.group_occupied_room_percentage }}%<em>(Grp.)</em></strong></div><div class=row><strong>{{ resultsTotalRow.total_occupied_room_percentage }}%<em>(Tot.)</em></strong></div></td><td class=break>{{ resultsTotalRow.total_available_room_percentage }}%</td><td class=vertical><div class=row><strong><span ng-bind-html="resultsTotalRow.guest_room_revenue | sntCurrency:this"></span><em>(Gst.)</em></strong></div><div class=row><strong><span ng-bind-html="resultsTotalRow.group_room_revenue | sntCurrency:this"></span><em>(Grp.)</em></strong></div><div class=row><strong><span ng-bind-html="resultsTotalRow.total_room_revenue | sntCurrency:this"></span><em>(Tot.)</em></strong></div></td><td class=vertical><div class=row><strong><span ng-bind-html="resultsTotalRow.adr_guest | sntCurrency:this"></span><em>(Gst.)</em></strong></div><div class=row><strong><span ng-bind-html="resultsTotalRow.adr_group | sntCurrency:this"></span><em>(Gst.)</em></strong></div><div class=row><strong><span ng-bind-html="resultsTotalRow.adr | sntCurrency:this"></span><em>(Tot.)</em></strong></div></td><td class=break><span ng-bind-html="resultsTotalRow.rev_par | sntCurrency:this"></span></td><td>{{ resultsTotalRow.actual_rooms_last_year }}%</td><td class=break ng-class="{ \'red\': (resultsTotalRow.variance * 1) < 0 }">{{ resultsTotalRow.variance }}%</td>'),t.put("/assets/partials/reports/generalReportRows/rvArrivalReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}" ngrepeatend=""><td ng-if="each.isReport && each.stay_count > 0 && isStandAlone" rowspan="{{ each.rowspan }}" data-count={{each.stay_count}}><strong ng-if=each.room_no class=title>{{ each.room_no }}</strong> <strong ng-if=!each.room_no class="title unassigned">N/A</strong></td><td ng-if="each.isReport && (each.stay_count === 0 || each.stay_count === null)" rowspan="{{ each.rowspan }}"><strong ng-if=each.room_no class=title>{{ each.room_no }}</strong> <strong ng-if=!each.room_no class="title unassigned">N/A</strong></td><td ng-if=each.isReport class=name><strong class=title><a ng-click=gotoStayCard(each)>{{ each.name }}</a></strong> <strong class=title ng-if=!each.name><a ng-click=gotoStayCard(each)>Pending</a></strong> <span class=data>{{ each.confirm_no }}</span> <span ng-if=each.is_vip>&#8226; <span class="data vip">VIP</span></span> <span ng-if=each.addtional_guest_counts>&#8226; <span class=data>{{ each.addtional_adults_counts }} Adult(s)</span></span> <span ng-if=each.addtional_guest_counts>&#8226; <span class=data>{{ each.addtional_children_counts }} Children</span></span></td><td ng-if=each.isReport class=date><span class=guest-status ng-class="{\'check-in\': (each.status != \'CANCELED\' || each.status != \'NO SHOW\'), \'cancel\': (each.status ==\'CANCELED\'), \'no-show\': (each.status ==\'NO SHOW\')}">check-in</span><time><span>{{ each.arrival_date | date : dateFormat }}</span> <span>{{ each.arrival_time }}</span></time></td><td ng-if=each.isReport class=date ng-class="{\'hour\': !!each.total_time, \'guarantee\': !!each.guarantee_type}"><span class=guest-status ng-class="{\'check-out\': (each.status != \'CANCELED\' || each.status != \'NO SHOW\'), \'cancel\': (each.status ==\'CANCELED\'), \'no-show\': (each.status == \'NO SHOW\')}">check-out</span><time><span>{{ each.departure_date | date : dateFormat }}</span> <span>{{ each.departure_time }}</span></time><div ng-if=each.total_time class=hours>{{ each.total_time }}</div><div ng-if=each.guarantee_type class="data guarantee">{{ each.guarantee_type }}</div></td><td ng-if=each.isReport><span class="data room">{{ each.room_type }}</span> <span class="data rate">{{ each.rate }} / <strong><span ng-bind-html="each.adr | sntCurrency:this"></span> ADR</strong></span><span ng-if="each.payment.payment_type == \'Credit Card\'" class="data payment"><figure class=card-logo><img ng-src="/ui/pms-ui/images/{{ each.payment.card_type | lowercase }}.png" alt=""></figure><span>ending with</span> {{ each.payment.card_number }}</span><span ng-if="each.payment.payment_type != \'Credit Card\'" class="data payment">{{ each.payment.payment_type }}</span></td><td ng-if=each.isReport class="balance red"><span ng-bind-html="each.balance_amount | sntCurrency:this"></span></td><td ng-if=each.isGuestData class="secondary guest-names"><span ng-repeat="name in each.guestNames">{{ name }}</span></td><td ng-if=each.isGuestData class="secondary guest-info" colspan=2><span ng-if=each.company_name class="icons icon-guest-company">{{ each.company_name }}</span> <span ng-if=each.travel_agent_name class="icons icon-guest-travelagent">{{ each.travel_agent_name }}</span> <span ng-if=each.group_name class="icons icon-group">{{ each.group_name }}</span></td><td ng-if=each.isGuestData class=secondary colspan=2><span ng-repeat="item in each.addOnDetails">{{ item.name }} &#8226; <i ng-if="item.amount == \'INCL\'">{{ item.amount }}</i> <i ng-if="!item.amount != \'INCL\'"><span ng-bind-html="item.amount | sntCurrency:this"></span></i></span></td><td ng-if=each.isCancelData class="secondary cancel" colspan=5><strong>Cancellation Reason</strong><p>{{ each.reason }}</p></td><td ng-if=each.isReservationNoteData class="secondary notes" colspan=5><strong>Res. Notes</strong><p ng-repeat="note in each.reservationNotes">{{ note.date | date : dateFormat }} &#8226; {{ note.name }} <span>{{ note.note }}</span></p></td><td ng-if=each.isGuestNoteData class="secondary notes" colspan=5><strong>Guest Notes</strong><p ng-repeat="note in each.guestNotes">{{ note.date | date : dateFormat }} &#8226; {{ note.name }} <span>{{ note.note }}</span></p></td><td ng-if=each.isActionData class="secondary actions" colspan=5><strong>Actions</strong><p ng-repeat="action in each.actions"><i class="icons icon-action-report" ng-class="{\'icon-assigned\': (action.action_status == \'ASSIGNED\'), \'icon-unassigned\': (action.action_status ==\'UNASSIGNED\'), \'icon-completed\': (action.action_status == \'COMPLETED\')}"></i> <span>{{ action.date_time }} &#8226; {{ action.assigned_to }}</span> <span>{{ action.description }}</span></p></td></tr>'),
t.put("/assets/partials/reports/generalReportRows/rvCancellationReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}"><td ng-if=each.isReport rowspan="{{ each.rowspan }}"><span class="data red">{{ each.cancel_date | date:dateFormat }}</span> <span class="data penalty"><span ng-bind-html="each.cancel_penalty | sntCurrency:this"></span></span></td><td ng-if=each.isReport><strong class=title><a ng-click=gotoStayCard(each)>{{ each.name }}</a></strong> <strong class=title ng-if=!each.name><a ng-click=gotoStayCard(each)>Pending</a></strong> <span class=data>{{ each.confirm_no }}</span> <span ng-if=each.is_vip>&#8226; <span class="data vip">VIP</span></span> <span ng-if=each.addtional_guest_counts>&#8226; <span class=data>{{ each.addtional_adults_counts }} Adult(s)</span></span> <span ng-if=each.addtional_guest_counts>&#8226; <span class=data>{{ each.addtional_children_counts }} Children</span></span></td><td ng-if=each.isReport class=date><span class=guest-status ng-class="{\'check-in\': (each.status != \'CANCELED\' || each.status != \'NO SHOW\'), \'cancel\': (each.status == \'CANCELED\'), \'no-show\': (each.status == \'NO SHOW\')}">{{ each.status }}</span><time><span>{{ each.arrival_date | date : dateFormat }}</span> <span>{{ each.arrival_time }}</span></time></td><td ng-if=each.isReport class=date ng-class="{\'hour\': !!each.total_time, \'guarantee\': !!each.guarantee_type}"><span class=guest-status ng-class="{\'check-out\': (each.status != \'CANCELED\' || each.status != \'NO SHOW\'), \'cancel\': (each.status ==\'CANCELED\'), \'no-show\': (each.status ==\'NO SHOW\')}">{{ each.status }}</span><time><span>{{ each.departure_date | date : dateFormat }}</span> <span>{{ each.departure_time }}</span></time><div ng-if=each.total_time class=hours>{{ each.total_time }}</div><div ng-if=each.guarantee_type class="data guarantee">{{ each.guarantee_type }}</div></td><td ng-if=each.isReport><span class="data room">{{ each.room_type }}</span> <span class="data rate">{{ each.rate }} / <strong><span ng-bind-html="each.adr | sntCurrency:this"></span> ADR</strong></span></td><td class=balance ng-class="{\'red\': toFloat(each.balance_amount) !== 0.00, \'green\': toFloat(each.balance_amount) === 0.00}"><span ng-bind-html="each.balance_amount | sntCurrency:this"></span></td><td ng-if=each.isGuestData class="secondary guest-names"><span ng-repeat="name in each.guestNames">{{ name }}</span></td><td ng-if=each.isGuestData class="secondary guest-info" colspan=4><span ng-if=each.company_name class="icons icon-guest-company">{{ each.company_name }}</span> <span ng-if=each.travel_agent_name class="icons icon-guest-travelagent">{{ each.travel_agent_name }}</span> <span ng-if=each.group_name class="icons icon-group">{{ each.group_name }}</span></td><td ng-if=each.isCancelData class="secondary cancel" colspan=5><strong>Cancellation Reason</strong><p>{{ each.reason }}</p></td></tr>'),t.put("/assets/partials/reports/generalReportRows/rvDailyTransPaymentsReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}" ngrepeatend=""><td ng-if="each.isReport && each.chargeGroupName" class=group rowspan="{{ each.rowspan }}">{{ each.chargeGroupName }}</td><td ng-if=each.isReport class=code><span class=number>{{ each.charge_code }}</span> {{ each.charge_code_description }}</td><td ng-if=each.isReport><span ng-show=each.transaction_count>{{ each.transaction_count }}</span></td><td ng-if=each.isReport><span ng-show=each.revenue><span ng-bind-html="each.revenue | sntCurrency:this"></span></span></td><td ng-if=each.isReport><span ng-show=each.mtd><span ng-bind-html="each.mtd | sntCurrency:this"></span></span></td><td ng-if=each.isReport><span ng-show=each.mtd_last_year><span ng-bind-html="each.mtd_last_year | sntCurrency:this"></span></span></td><td ng-if=each.isReport><span ng-show=each.mtd_variance_percent>{{ each.mtd_variance_percent }}%</span></td><td ng-if=each.isReport><span ng-show=each.ytd><span ng-bind-html="each.ytd | sntCurrency:this"></span></span></td><td ng-if=each.isReport><span ng-show=each.ytd_last_year><span ng-bind-html="each.ytd_last_year | sntCurrency:this"></span></span></td><td ng-if=each.isReport><span ng-show=each.ytd_variance_percent>{{ each.ytd_variance_percent }}%</span></td><td ng-if=each.isReportSubTotal class=code>{{ each.chargeGroupName }} Totals</td><td ng-if=each.isReportSubTotal>{{ each.total_transaction_count }}</td><td ng-if=each.isReportSubTotal><span ng-bind-html="each.total_revenue | sntCurrency:this"></span></td><td ng-if=each.isReportSubTotal><span ng-bind-html="each.total_mtd | sntCurrency:this"></span></td><td ng-if=each.isReportSubTotal><span ng-bind-html="each.total_mtd_last_year | sntCurrency:this"></span></td><td ng-if=each.isReportSubTotal>&nbsp;</td><td ng-if=each.isReportSubTotal><span ng-bind-html="each.total_ytd | sntCurrency:this"></span></td><td ng-if=each.isReportSubTotal><span ng-bind-html="each.total_ytd_last_year | sntCurrency:this"></span></td><td ng-if=each.isReportSubTotal>&nbsp;</td></tr>'),t.put("/assets/partials/reports/generalReportRows/rvDepartureReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}"><td ng-if="each.isReport && each.stay_count > 0 && isStandAlone" rowspan="{{ each.rowspan }}" data-count={{each.stay_count}}><strong class=title>{{ each.room_no }}</strong> <span class=status>{{ each.status }}</span></td><td ng-if="each.isReport && (each.stay_count === 0 || each.stay_count === null)" rowspan="{{ each.rowspan }}"><strong class=title>{{ each.room_no }}</strong> <span class=status>{{ each.status }}</span></td><td ng-if=each.isReport><strong class=title><a ng-click=gotoStayCard(each)>{{ each.name }}</a></strong> <strong class=title ng-if=!each.name><a ng-click=gotoStayCard(each)>Pending</a></strong> <span class=confirmation>{{ each.confirm_no }}</span> <span ng-if=each.is_vip>&#8226; <span class=vip>VIP</span></span> <span ng-if="each.addtional_children_counts >= 0 && each.addtional_adults_counts >= 0">&#8226; <span class=guests>{{ each.addtional_children_counts + each.addtional_adults_counts }} guest(s)</span></span></td><td ng-if=each.isReport class=date><span class="guest-status check-in">check-in</span><time><span>{{ each.arrival_date | date : dateFormat }}</span> <span>{{ each.arrival_time }}</span></time></td><td ng-if=each.isReport class=date ng-class="{\'hour\': !!each.total_time, \'guarantee\': !!each.guarantee_type}"><span class="guest-status check-out">check-out</span><time><span>{{ each.departure_date | date : dateFormat }}</span> <span>{{ each.departure_time }}</span></time><div ng-if=each.total_time class=hours>{{ each.total_time }}</div><div ng-if=each.guarantee_type class="data guarantee">{{ each.guarantee_type }}</div></td><td ng-if=each.isReport><span class="data room">{{ each.room_type }}</span> <span class="data rate">{{ each.rate }} / <strong><span ng-bind-html="each.adr | sntCurrency:this"></span> ADR</strong></span></td><td ng-if=each.isReport class="balance red"><span ng-bind-html="each.balance_amount | sntCurrency:this"></span></td><td ng-if=each.isGuestData class="secondary guest-names"><span ng-repeat="name in each.guestNames">{{ name }}</span></td><td ng-if=each.isGuestData class="secondary guest-info" colspan=4><span ng-if=each.company_name class="icons icon-guest-company">{{ each.company_name }}</span> <span ng-if=each.travel_agent_name class="icons icon-guest-travelagent">{{ each.travel_agent_name }}</span> <span ng-if=each.group_name class="icons icon-group">{{ each.group_name }}</span></td><td ng-if=each.isReservationNoteData class="secondary notes" colspan=5><strong>Res. Notes</strong><p ng-repeat="note in each.reservationNotes">{{ note.date | date : dateFormat }} &#8226; {{ note.name }} <span>{{ note.note }}</span></p></td><td ng-if=each.isGuestNoteData class="secondary notes" colspan=5><strong>Guest Notes</strong><p ng-repeat="note in each.guestNotes">{{ note.date | date : dateFormat }} &#8226; {{ note.name }} <span>{{ note.note }}</span></p></td></tr>'),t.put("/assets/partials/reports/generalReportRows/rvDepositReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}" ngrepeatend=""><td ng-if=each.isReport class=name rowspan="{{ each.rowspan }}"><div class=info><strong>{{ each.name }}</strong> <em>{{ each.reservation_no }}</em></div><div class=dates><div class=date><span class="guest-status small-icon check-in">check-in</span> <span>{{ each.arrival_date | date : dateFormat }}</span> <span>{{ each.arrival_time }}</span> <span>NIGHTS {{ each.no_of_nights }}</span></div></div><div class=guest-info><span ng-if=each.company_name class="icons icon-guest-company">{{ each.company_name }}</span> <span ng-if=each.travel_agent_name class="icons icon-guest-travelagent">{{ each.travel_agent_name }}</span> <span ng-if=each.group_name class="icons icon-group">{{ each.group_name }}</span></div></td><td ng-if=each.isReport ng-class="{ \'red\': each.deposit_payment_status == \'PAST DUE\', \'green\': each.deposit_payment_status == \'PAID\' }">{{ each.deposit_payment_status }}</td><td ng-if=each.isReport>{{ each.due_date | date : dateFormat }}</td><td ng-if=each.isReport><span ng-bind-html="each.deposit_due_amount | sntCurrency:this"></span></td><td ng-if=each.isReport>{{ each.paid_date | date : dateFormat }}</td><td ng-if=each.isReport><span ng-bind-html="each.paid_amount | sntCurrency:this"></span></td><td ng-if=each.isSubReport ng-class="{ \'red\': each.deposit_payment_status == \'PAST DUE\', \'green\': each.deposit_payment_status == \'PAID\' }">{{ each.deposit_payment_status }}</td><td ng-if=each.isSubReport>{{ each.due_date | date : dateFormat }}</td><td ng-if=each.isSubReport><span ng-bind-html="each.deposit_due_amount | sntCurrency:this"></span></td><td ng-if=each.isSubReport>{{ each.paid_date | date : dateFormat }}</td><td ng-if=each.isSubReport><span ng-bind-html="each.paid_amount | sntCurrency:this"></span></td><td ng-if=each.isSubTotal></td><td ng-if=each.isSubTotal><strong>Balance</strong></td><td ng-if=each.isSubTotal class=red><strong><span ng-bind-html="each.deposit_due_amount | sntCurrency:this"></span></strong></td><td ng-if=each.isSubTotal><strong>Total Paid</strong></td><td ng-if=each.isSubTotal class=green><strong><span ng-bind-html="each.paid_amount | sntCurrency:this"></span></strong></td></tr>'),t.put("/assets/partials/reports/generalReportRows/rvGroupDepositReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}" ngrepeatend=""><td ng-if=each.isReport class=name rowspan="{{ each.rowspan }}"><div class=info><strong>{{ each.name }}</strong> <em>{{ each.code }}</em></div><div class=dates><div class=date><span class="guest-status small-icon check-in">check-in</span> <span>{{ each.arrival_date | date : dateFormat }}</span></div><div class=date><span class="guest-status small-icon check-out">check-in</span> <span>{{ each.departure_date | date : dateFormat }}</span></div></div></td><td ng-if=each.isReport ng-class="{ \'red\': each.deposit_payment_status == \'PAST DUE\', \'green\': each.deposit_payment_status == \'PAID\' }">{{ each.deposit_payment_status }}</td><td ng-if=each.isReport>{{ each.paid_date | date : dateFormat }}</td><td ng-if=each.isReport><span ng-bind-html="each.paid_amount | sntCurrency:this"></span></td><td ng-if=each.isSubReport ng-class="{ \'red\': each.deposit_payment_status == \'PAST DUE\', \'green\': each.deposit_payment_status == \'PAID\' }">{{ each.deposit_payment_status }}</td><td ng-if=each.isSubReport>{{ each.paid_date | date : dateFormat }}</td><td ng-if=each.isSubReport><span ng-bind-html="each.paid_amount | sntCurrency:this"></span></td><td ng-if=each.isSubTotal></td><td ng-if=each.isSubTotal><strong>Total Paid</strong></td><td ng-if=each.isSubTotal class=green><strong><span ng-bind-html="each.paid_amount | sntCurrency:this"></span></strong></td></tr>'),t.put("/assets/partials/reports/generalReportRows/rvGroupPickupReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}" ngrepeatend=""><td ng-if=each.isReport class="name short" rowspan="{{ each.rowspan === 0 ? 1 : each.rowspan}}"><div class=info><strong>{{ each.group_name }}</strong> <em>{{ each.group_code }}</em></div></td><td ng-if=each.isReport class="date short">{{ each.date | date : dateFormat }}</td><td ng-if=each.isReport>{{ each.hold_status }}</td><td ng-if=each.isReport class=room-type>{{ each.room_type }}</td><td ng-if=each.isReport>{{ each.rooms_available }}</td><td ng-if=each.isReport>{{ each.rooms_held_non_deduct }}</td><td ng-if=each.isReport>{{ each.rooms_held_deduct }}</td><td ng-if=each.isReport>{{ each.rooms_held_picked_up }}</td><td ng-if=each.isReport>{{ each.pickup_percentage }}<span ng-if=each.pickup_percentage>%</span></td><td ng-if=each.isSubReport class="date short">{{ each.date | date : dateFormat }}</td><td ng-if=each.isSubReport>{{ each.hold_status }}</td><td ng-if=each.isSubReport class=room-type>{{ each.room_type }}</td><td ng-if=each.isSubReport>{{ each.rooms_available }}</td><td ng-if=each.isSubReport>{{ each.rooms_held_non_deduct }}</td><td ng-if=each.isSubReport>{{ each.rooms_held_deduct }}</td><td ng-if=each.isSubReport>{{ each.rooms_held_picked_up }}</td><td ng-if=each.isSubReport>{{ each.pickup_percentage }}<span ng-if=each.pickup_percentage>%</span></td><td ng-if=each.isSubTotal colspan=2></td><td ng-if=each.isSubTotal><strong>Total</strong></td><td ng-if=each.isSubTotal>{{ each.rooms_available }}</td><td ng-if=each.isSubTotal>{{ each.rooms_held_non_deduct }}</td><td ng-if=each.isSubTotal>{{ each.rooms_held_deduct }}</td><td ng-if=each.isSubTotal>{{ each.rooms_held_picked_up }}</td><td ng-if=each.isSubTotal>{{ each.pickup_percentage }}%</td></tr>'),t.put("/assets/partials/reports/generalReportRows/rvInHouseReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}" ngrepeatend=""><td ng-if="each.isReport && each.stay_count > 0 && isStandAlone" rowspan="{{ each.rowspan }}" data-count={{each.stay_count}}><strong ng-if=each.room_no class=title>{{ each.room_no }}</strong> <span class="data status">{{ each.status }}</span></td><td ng-if="each.isReport && (each.stay_count === 0 || each.stay_count === null)" rowspan="{{ each.rowspan }}"><strong ng-if=each.room_no class=title>{{ each.room_no }}</strong> <span class="data status">{{ each.status }}</span></td><td ng-if=each.isReport class=name><strong class=title><a ng-click=gotoStayCard(each)>{{ each.name }}</a></strong> <strong class=title ng-if=!each.name><a ng-click=gotoStayCard(each)>Pending</a></strong> <span class=data>{{ each.confirm_no }}</span> <span ng-if=each.is_vip>&#8226; <span class=vip>VIP</span></span> <span ng-if=each.addtional_guest_counts>&#8226; <span class=data>{{ each.addtional_adults_counts }} Adult(s)</span></span> <span ng-if=each.addtional_guest_counts>&#8226; <span class=data>{{ each.addtional_children_counts }} Children</span></span></td><td ng-if=each.isReport class=date><span class="guest-status check-in">check-in</span><time><span>{{ each.arrival_date | date : dateFormat }}</span> <span>{{ each.arrival_time }}</span></time></td><td ng-if=each.isReport class=date ng-class="{\'hour\': !!each.total_time}"><span class="guest-status check-out">check-out</span><time><span>{{ each.departure_date | date : dateFormat }}</span> <span>{{ each.departure_time }}</span></time><div ng-if=each.total_time class=hours>{{ each.total_time }}</div></td><td ng-if=each.isReport><span class="data room">{{ each.room_type }}</span> <span class="data rate">{{ each.rate }} / <strong><span ng-bind-html="each.adr | sntCurrency:this"></span></strong></span></td><td ng-if=each.isReport class="balance red"><span ng-bind-html="each.balance_amount | sntCurrency:this"></span></td><td ng-if=each.isGuestData class="secondary guest-names"><span ng-repeat="name in each.guestNames">{{ name }}</span><div class=secondary-block ng-if=each.vehicle_registration_number><strong>Vehicle Reg. No.</strong> {{each.vehicle_registration_number}}</div><div class=secondary-block ng-if=each.phone_number><strong>Phone No.</strong> {{each.phone_number}}</div></td><td ng-if=each.isGuestData class="secondary guest-info" colspan=2><span ng-if=each.company_name class="icons icon-guest-company">{{ each.company_name }}</span> <span ng-if=each.travel_agent_name class="icons icon-guest-travelagent">{{ each.travel_agent_name }}</span> <span ng-if=each.group_name class="icons icon-group">{{ each.group_name }}</span></td><td ng-if=each.isGuestData class=secondary colspan=2><span ng-repeat="item in each.addOnDetails">{{ item.name }} &#8226; <i ng-if="item.amount == \'INCL\'">{{ item.amount }}</i> <i ng-if="!item.amount != \'INCL\'"><span ng-bind-html="item.amount | sntCurrency:this"></span></i></span></td><td ng-if=each.isReservationNoteData class="secondary notes" colspan=5><strong>Res. Notes</strong><p ng-repeat="note in each.reservationNotes">{{ note.date | date : dateFormat }} &#8226; {{ note.name }} <span>{{ note.note }}</span></p></td><td ng-if=each.isGuestNoteData class="secondary notes" colspan=5><strong>Guest Notes</strong><p ng-repeat="note in each.guestNotes">{{ note.date | date : dateFormat }} &#8226; {{ note.name }} <span>{{ note.note }}</span></p></td></tr>'),t.put("/assets/partials/reports/generalReportRows/rvLoginActivityReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}"><td class=date>{{ each.uiDate | date : dateFormat }}, {{ each.uiTime }}</td><td class=activity>{{ each.action_type }}</td><td class=name>{{ each.user_name }}</td><td>{{ each.application }}</td><td>{{ each.ip_address }}</td></tr>'),t.put("/assets/partials/reports/generalReportRows/rvRateAdjustmentReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}" ngrepeatend=""><td ng-if=each.isReport class="name short" rowspan="{{ each.rowspan }}"><div class=info><strong><a ng-click=gotoStayCard(each)>{{ each.guest_name }}</a></strong> <strong ng-if=!each.guest_name><a ng-click=gotoStayCard(each)>Pending</a></strong> <em>{{ each.confirm_no }}</em></div><div class=dates><div class=date><span class="guest-status small-icon check-in">check-in</span> {{ each.arrival_date | date : dateFormat }}</div><div class=date><span class="guest-status small-icon check-out">check-out</span> {{ each.departure_date | date : dateFormat }}</div></div></td><td ng-if=each.isReport>{{ each.stay_date | date : dateFormat }}</td><td ng-if=each.isReport ng-class="{ red: each.original_amount < 0 }"><span ng-bind-html="each.original_amount | sntCurrency:this"></span></td><td ng-if=each.isReport ng-class="{ red: each.adjusted_amount < 0 }"><span ng-bind-html="each.adjusted_amount | sntCurrency:this"></span></td><td ng-if=each.isReport ng-class="{ red: each.variance < 0 }"><span ng-bind-html="each.variance | sntCurrency:this"></span></td><td ng-if=each.isReport class=info>{{ each.reason }}</td><td ng-if=each.isReport>{{ each.adjusted_by }}</td><td ng-if=each.isSubReport>{{ each.stay_date | date : dateFormat }}</td><td ng-if=each.isSubReport ng-class="{ red: each.original_amount < 0 }"><span ng-bind-html="each.original_amount | sntCurrency:this"></span></td><td ng-if=each.isSubReport ng-class="{ red: each.adjusted_amount < 0 }"><span ng-bind-html="each.adjusted_amount | sntCurrency:this"></span></td><td ng-if=each.isSubReport ng-class="{ red: each.variance < 0 }"><span ng-bind-html="each.variance | sntCurrency:this"></span></td><td ng-if=each.isSubReport class=info>{{ each.reason }}</td><td ng-if=each.isSubReport>{{ each.adjusted_by }}</td><td ng-if=each.isSubTotal><strong>Total</strong></td><td ng-if=each.isSubTotal><strong><span ng-bind-html="each.original_amount | sntCurrency:this"></span></strong></td><td ng-if=each.isSubTotal><strong><span ng-bind-html="each.adjusted_amount | sntCurrency:this"></span></strong></td><td ng-if=each.isSubTotal ng-class="{ red: each.variance < 0, green: each.variance > 0 }" colspan=3><strong><span ng-bind-html="each.variance | sntCurrency:this"></span></strong></td></tr>'),t.put("/assets/partials/reports/generalReportRows/rvRoomQueuedReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.className }}"><td>{{ each.name }}</td><td>{{ each.date }} {{ each.queue_time }}</td><td>{{ each.confirmation_no }}</td><td>{{ each.room_no }}</td><td ng-if=each.key_provided>Yes</td><td ng-if=!each.key_provided>No</td><td ng-if=each.posting>Yes</td><td ng-if=!each.posting>No</td></tr>'),t.put("/assets/partials/reports/groupRoomsReport/rvGroupRoomsReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content group-rooms" ng-controller=RVGroupRoomsReportController ng-class="{\'with-pagination\' : totalCount > paginationConfig.perPage}" ng-hide=hasNoResults><div ng-include="\'/assets/partials/reports/groupRoomsReport/rvGroupRoomsReportSummarySection.html\'"></div><div class="groups scrollable" ng-iscroll=group-rooms-scroll><div class=wrapper><div class=group ng-repeat="group in results track by $index"><div class=group-info><h2 class=title>{{group.group_name}}</h2><ul class=data><li><span>Group Code:</span> {{group.group_code}}</li><li><span>Arrival Date:</span> {{group.group_arrival_date | date : dateFormat}}</li><li><span>Release Date:</span> {{group.release_date | date : dateFormat}}</li><li><span>Lowest Rate:</span> <span ng-bind-html="group.lowest_rate_amount | sntCurrency:this"></span></li><li><span>Rate Code:</span> {{group.rate_code}}</li><li><span>Status:</span> {{group.status}}</li></ul></div><div class=group-data><ul><li class=blocked><span class="icons icon-blocked"></span> {{group.total_blocked_count}}</li><li class=pickedup><span class="icons icon-picked-up"></span> {{group.total_picked_up_count}}</li><li class=available><span class="icons icon-available"></span> {{group.total_available_count}}</li></ul><table class="statistics-reports group-rooms-reports"><colgroup><col style="width: {{columnWidth}}%" ng-repeat="day in days track by $index"></colgroup><tbody><tr><td ng-repeat="blockedCount in group.blockedCounts track by $index" ng-class="{\'zero\': blockedCount == 0, \'empty\': isEmpty(blockedCount)}">{{blockedCount}}</td></tr><tr><td ng-repeat="pickedUpCount in group.pickedUpCounts track by $index" ng-class="{\'zero\': pickedUpCount == 0, \'empty\': isEmpty(pickedUpCount)}">{{pickedUpCount}}</td></tr><tr><td ng-repeat="availableCount in group.availableCounts track by $index" ng-class="{\'zero\': availableCount == 0, \'empty\': isEmpty(availableCount)}">{{availableCount}}</td></tr></tbody></table></div></div></div></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/groupRoomsReport/rvGroupRoomsReportSummarySection.html",'<div class="group-data totals"><ul><li class=main-heading>Total RMS</li><li class=blocked><span class="icons icon-blocked"></span> {{summaryCounts.total_blocked_count}}</li><li class=pickedup><span class="icons icon-picked-up"></span> {{summaryCounts.total_picked_up_count}}</li><li class=available><span class="icons icon-available"></span> {{summaryCounts.total_available_count}}</li></ul><table class="statistics-reports group-rooms-reports"><colgroup><col style="width: {{columnWidth}}%" ng-repeat="day in days track by $index"></colgroup><thead><tr><th colspan={{noOfDaysFromMonth}}>{{fromMonth}} {{fromYear}}</th><th colspan={{noOfDaysToMonth}} ng-if=showNextMonth>{{toMonth}} {{toYear}}</th></tr><tr class=bottom-row><th ng-repeat="day in days track by $index">{{day}}</th></tr></thead><tbody><tr><td ng-repeat="blockedCount in summaryCounts.blockedCounts track by $index" ng-class="{\'zero\': blockedCount == 0}">{{blockedCount}}</td></tr><tr><td ng-repeat="pickedUpCount in summaryCounts.pickedUpCounts track by $index" ng-class="{\'zero\': pickedUpCount == 0}">{{pickedUpCount}}</td></tr><tr><td ng-repeat="availableCount in summaryCounts.availableCounts track by $index" ng-class="{\'zero\': availableCount == 0}">{{availableCount}}</td></tr></tbody></table></div>'),t.put("/assets/partials/reports/guestBalanceReport/rvGuestBalanceReportRow.html",'<tr class=row-break ng-repeat="item in results"><td class=name><strong class=title><a ng-click=gotoNavigation(item)>{{item.name}}</a></strong> <em>{{item.number}}</em></td><td class=room>{{item.room_no}}</td><td class=status><span class="guest-status small-icon no-print" ng-if=item.reservation_status ng-class=getReservationClass(item.reservation_status)></span> <span class=only-print ng-if=item.reservation_status>{{item.reservation_status}}</span><em ng-if=item.account_status ng-class="{\'red\': item.account_status === \'CLOSED\', \'green\': item.account_status === \'OPEN\'}">{{item.account_status}}</em></td><td><div class=date ng-if=item.from_date><span class="icons time check-in"></span> <span>{{item.from_date}}</span></div><div class=date ng-if=item.to_date><span class="icons time check-out"></span> <span>{{item.to_date}}</span></div></td><td class=balance ng-class="{\'red\': item.balance > 0, \'green\': item.balance < 0}"><span ng-bind-html="item.balance | sntCurrency:this"></span></td></tr>'),t.put("/assets/partials/reports/guestInhouseByNationalityReport/reportRow.html",'<tr ng-repeat="each in results track by $index"><td>{{each.country_code}}</td><td>{{each.country_description}}</td><td>{{each.arrival_guests}}</td><td>{{each.room_nights}}</td><td>{{each.stayover_guests}}</td></tr><tr class=totals ng-if=lengthObjArr(resultsTotalRow)><td>Total</td><td></td><td class=rooms>{{ resultsTotalRow.total_arrival_guests }}</td><td class=rooms>{{ resultsTotalRow.total_room_nights }}</td><td class=rooms>{{ resultsTotalRow.total_stayover_guests }}</td></tr>'),t.put("/assets/partials/reports/marketSegmentStatReport/rvMarketSegmentStatReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-class="{ \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><table class="forecast-reports medium-grid"><thead><tr class="top-row vertical-align"><th class="date break">{{ chosenReport.singleValueDate | date : dateFormat }}</th><th colspan=3 class=break><div class="switch-button on" ng-class=\'{"on" : isRoomRevenueSelected}\' ng-click=toggleRevenue()><input id=revenue-toggle value="" type=checkbox> <label class=data-off><span class=value>Room Revenue</span> <span class=switch-icon>Other Revenue</span></label> <label class=data-on><span class=switch-icon>Room Revenue</span> <span class=value>Other Revenue</span></label></div></th><th colspan=3 class=break><div class="switch-button on" ng-class=\'{"on" : isBookingsSelected}\' ng-click=toggleBookings()><input id=bookings-toggle value="" type=checkbox> <label class=data-off><span class=value>Bookings</span> <span class=switch-icon>ALOS</span></label> <label class=data-on><span class=switch-icon>Bookings</span> <span class=value>ALOS</span></label></div></th><th colspan=3 class=break>Room Nights</th><th colspan=3 class=break>ADR</th><th colspan=3 class=break>%</th></tr></thead><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody ng-repeat="item in results" ng-include="\'/assets/partials/reports/marketSegmentStatReport/rvMarketSegmentStatReportRow.html\'"></tbody><tbody ng-if=resultsTotalRow ng-include="\'/assets/partials/reports/marketSegmentStatReport/rvMarketSegmentStatReportTotalRow.html\'"></tbody></table></div></div><div class="search-pagination hk-pagination" ng-show="!disablePrevBtn || !disableNextBtn"><label class="button dark-grey next" ng-click=fetchNextPage() ng-class="{\'disabled\': disableNextBtn}">Next</label> <label class="button dark-grey prev" ng-click=fetchPrevPage() ng-class="{\'disabled\': disablePrevBtn}">Previous</label><p>Showing <strong>{{ resultFrom }}-{{ resultUpto }}</strong> of <strong id=total-count>{{ netTotalCount }}</strong> items</p></div>'),t.put("/assets/partials/reports/marketSegmentStatReport/rvMarketSegmentStatReportRow.html",'<tr class=grouped ng-if=item.length><td class="code break"><strong>{{ item[0][\'section\'] }}</strong></td><td>Today</td><td>MTD</td><td class=break>YTD</td><td>Today</td><td>MTD</td><td class=break>YTD</td><td>Today</td><td>MTD</td><td class=break>YTD</td><td>Today</td><td>MTD</td><td class=break>YTD</td><td>Today</td><td>MTD</td><td>YTD</td></tr><tr ng-if=item.length ng-repeat="each in item track by $index" ng-class="{ \'undefined\': hasSubString(\'undefined\', each.code) }"><td class="code break">{{ each.code }}</td><td ng-show=!isRoomRevenueSelected><span ng-bind-html="each.other_revenue_today | sntCurrency:this"></span></td><td ng-show=!isRoomRevenueSelected><span ng-bind-html="each.other_revenue_mtd | sntCurrency:this"></span></td><td class=break ng-show=!isRoomRevenueSelected><span ng-bind-html="each.other_revenue_ytd | sntCurrency:this"></span></td><td ng-show=isRoomRevenueSelected><span ng-bind-html="each.revenue_today | sntCurrency:this"></span></td><td ng-show=isRoomRevenueSelected><span ng-bind-html="each.revenue_mtd | sntCurrency:this"></span></td><td class=break ng-show=isRoomRevenueSelected><span ng-bind-html="each.revenue_ytd | sntCurrency:this"></span></td><td ng-show=isBookingsSelected>{{ each.bookings_today }}</td><td ng-show=isBookingsSelected>{{ each.bookings_mtd }}</td><td class=break ng-show=isBookingsSelected>{{ each.bookings_ytd }}</td><td ng-show=!isBookingsSelected>{{ each.average_length_of_stay_today }}</td><td ng-show=!isBookingsSelected>{{ each.average_length_of_stay_mtd }}</td><td class=break ng-show=!isBookingsSelected>{{ each.average_length_of_stay_ytd }}</td><td>{{ each.room_nights_today }}</td><td>{{ each.room_nights_mtd }}</td><td class=break>{{ each.room_nights_ytd }}</td><td><span ng-bind-html="each.adr_today | sntCurrency:this"></span></td><td><span ng-bind-html="each.adr_mtd | sntCurrency:this"></span></td><td class=break><span ng-bind-html="each.adr_ytd | sntCurrency:this"></span></td><td>{{ each.percentage_today }}%</td><td>{{ each.percentage_mtd }}%</td><td class=break>{{ each.percentage_ytd }}%</td></tr><tr ng-if=item.length class=total><td class="code break">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td class=break>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td class=break>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td class=break>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td class=break>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td class=break>&nbsp;</td></tr>'),t.put("/assets/partials/reports/marketSegmentStatReport/rvMarketSegmentStatReportTotalRow.html",'<tr class=total><td class="code break">Totals</td><td ng-show=isRoomRevenueSelected><span ng-bind-html="resultsTotalRow.revenue_today | sntCurrency:this"></span></td><td ng-show=isRoomRevenueSelected><span ng-bind-html="resultsTotalRow.revenue_mtd | sntCurrency:this"></span></td><td class=break ng-show=isRoomRevenueSelected><span ng-bind-html="resultsTotalRow.revenue_ytd | sntCurrency:this"></span></td><td ng-show=!isRoomRevenueSelected><span ng-bind-html="resultsTotalRow.other_revenue_today | sntCurrency:this"></span></td><td ng-show=!isRoomRevenueSelected><span ng-bind-html="resultsTotalRow.other_revenue_mtd | sntCurrency:this"></span></td><td class=break ng-show=!isRoomRevenueSelected><span ng-bind-html="resultsTotalRow.other_revenue_ytd | sntCurrency:this"></span></td><td ng-show=isBookingsSelected>{{ resultsTotalRow.bookings_today }}</td><td ng-show=isBookingsSelected>{{ resultsTotalRow.bookings_mtd }}</td><td class=break ng-show=isBookingsSelected>{{ resultsTotalRow.bookings_ytd }}</td><td ng-show=!isBookingsSelected>{{ resultsTotalRow.average_length_of_stay_today }}</td><td ng-show=!isBookingsSelected>{{ resultsTotalRow.average_length_of_stay_mtd }}</td><td class=break ng-show=!isBookingsSelected>{{ resultsTotalRow.average_length_of_stay_ytd }}</td><td>{{ resultsTotalRow.room_nights_today }}</td><td>{{ resultsTotalRow.room_nights_mtd }}</td><td class=break>{{ resultsTotalRow.room_nights_ytd }}</td><td><span ng-bind-html="resultsTotalRow.adr_today | sntCurrency:this"></span></td><td><span ng-bind-html="resultsTotalRow.adr_mtd | sntCurrency:this"></span></td><td class=break><span ng-bind-html="resultsTotalRow.adr_ytd | sntCurrency:this"></span></td><td>{{ resultsTotalRow.percentage_today }}%</td><td>{{ resultsTotalRow.percentage_mtd }}%</td><td class=break>{{ resultsTotalRow.percentage_ytd }}%</td></tr>'),
t.put("/assets/partials/reports/occupancyRevenueReport/rvOccRevPrintPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><form method=post action="" id=report-date-range name=report-date-range class="modal-content form report-dates"><button id=modal-close type=button class=modal-close><span class="icons icon-close invert" ng-click=closeDialog()></span></button> <strong class="h2 message">Adjust Date Range</strong> <span class=notice>Max. Date Range is {{ occupancyMaxDate + 1 }} days</span><div class="entry full-width date-range"><label for=trim-range-from>From</label> <input name=trim-range-from id=trim-range-from type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.fromDate ng-change=adjustUntilDate() readonly=""> <label for=trim-range-to>To</label> <input name=trim-range-to id=trim-range-to type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.untilDate readonly=""></div><div class=actions><button type=button class="button blue" ng-click=continueWithPrint()>Print report</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></form></div>'),t.put("/assets/partials/reports/occupancyRevenueReport/rvOccupancyRevenueReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div ng-hide=hasNoResults ng-controller=rvOccupancyRevenueReportCtrl><div id=report-content class="report-content no-totals statistics"><div class=statistics-headings><div class=scrollable ng-iscroll=leftPanelScroll><ul class=wrapper><li class=main-heading ng-class="{\'double-row\':chosenLastYear || chosenVariance}">{{currentHotelData.name}}</li><li>Available Rooms</li><li>Out of Order Rooms</li><li>Occupied Rooms</li><li>Complimentary Rooms</li><li>Occupied Rooms (Excl. Comp.)</li><li ng-show=marketExists><strong>Occupied Rooms by Market</strong></li><li ng-repeat="market in markets.data" ng-show=market.selected><em>{{ market.name }}</em></li><li ng-show=showDayUseComponent>Occupied Day Use Reservations</li><li ng-show=showDayUseComponent>Day Use Complimentary Rooms</li><li ng-show=showDayUseComponent>Occupied Day Use Rooms (Excl. Comp.)</li><li ng-class="{\'double-row\': !!results.nightly}"><strong>Total Occ.</strong></li><li ng-class="{\'double-row\': !!results.nightly}"><strong>Total Occ. (Excl. Comp.)</strong></li><li ng-show=showDayUseComponent ng-class="{\'double-row\': !!results.nightly}"><strong>Total Day Use Occ.</strong></li><li ng-show=showDayUseComponent ng-class="{\'double-row\': !!results.nightly}"><strong>Total Day Use Occ. (Excl. Comp.)</strong></li><li>RevPar</li><li>ADR (Incl. Comp.)</li><li>ADR (Excl. Comp.)</li><li ng-show=showDayUseComponent>Day Use ADR (Incl. Comp.)</li><li ng-show=showDayUseComponent>Day Use ADR (Excl. Comp.)</li><li ng-show=marketExists><strong>Room Revenue by Market</strong></li><li ng-repeat="market in markets.data" ng-show=market.selected><em>{{ market.name }}</em></li><li ng-show="showDayUseComponent && marketExists"><strong>Day Use Room Revenue by Market</strong></li><li ng-repeat="market in markets.data" ng-show="showDayUseComponent && market.selected"><em>{{ market.name }}</em></li><li><strong>Charge Groups</strong></li><li ng-repeat="chargeGroup in results.charge_groups"><em>{{chargeGroup.name}}</em></li><li ng-show=showDayUseComponent><strong>Day Use Charge Groups</strong></li><li ng-repeat="chargeGroup in results.day_use_charge_groups" ng-show=showDayUseComponent><em>{{chargeGroup.name}}</em></li><li><strong>Total Revenue</strong></li><li ng-show=showDayUseComponent><strong>Total Day Use Revenue</strong></li></ul></div></div><div class="statistics-content scrollable" ng-iscroll=rightPanelScroll><div class=wrapper style="width:{{getNumber().length * 90}}px;"><table class=statistics-reports><thead><tr><th ng-repeat="date in selectedDays track by $index" colspan="{{1 + !!chosenLastYear + !!chosenVariance}}">{{date | date : shortMonthAndDate }}</th></tr><tr ng-if="chosenLastYear || chosenVariance" class=bottom-row><th ng-repeat="n in getNumber() track by $index" ng-class=getClass($index)>{{getHeader($index)}}</th></tr></thead><tbody><tr ng-repeat="occupancy in stateStore.occupancy track by $index"><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}>{{getValue(occupancy.key,$index)}}</td></tr><tr ng-show=marketExists><th ng-repeat="date in selectedDays track by $index" colspan="{{1 + !!chosenLastYear + !!chosenVariance}}">{{date | date : shortMonthAndDate }}</th></tr><tr ng-repeat="market in markets.data" ng-show=market.selected ng-init="outerIndex = $index"><td ng-repeat="n in getNumber() track by $index" ng-class=getClass($index)>{{getMarketOccupancyValue(outerIndex,$index) | number:0}}</td></tr><tr ng-show=showDayUseComponent ng-repeat="occupancy in stateStore.dayUseOccupancy track by $index"><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}>{{getValue(occupancy.key,$index)}}</td></tr><tr ng-repeat="occupancyTotal in stateStore.occupancyTotals track by $index" ng-class="{\'double-row\': !!results.nightly}"><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}><strong>{{getValue(occupancyTotal.key,$index) | number:2}} %</strong> <span ng-if=!!results.nightly>({{getNigtlyValue(occupancyTotal.key,$index) | number:2}}% N.)</span></td></tr><tr ng-show=showDayUseComponent ng-repeat="occupancyTotal in stateStore.dayUseOccTotals track by $index" ng-class="{\'double-row\': !!results.nightly}"><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}><strong>{{getValue(occupancyTotal.key,$index) | number:2}} %</strong></td></tr><tr ng-repeat="revenue in stateStore.revenues track by $index"><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}><span ng-bind-html="getValue(revenue.key,$index) | sntCurrency:this"></span></td></tr><tr ng-show=showDayUseComponent ng-repeat="revenue in stateStore.dayUseRevenue track by $index"><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}><span ng-bind-html="getValue(revenue.key,$index) | sntCurrency:this"></span></td></tr><tr ng-show=marketExists><th ng-repeat="date in selectedDays track by $index" colspan="{{1 + !!chosenLastYear + !!chosenVariance}}">{{date | date : shortMonthAndDate }}</th></tr><tr ng-repeat="market in markets.data" ng-show=market.selected ng-init="outerIndex = $index"><td ng-repeat="n in getNumber() track by $index" ng-class=getClass($index)><span ng-bind-html="getMarketRevenueValue(outerIndex,$index) | sntCurrency:this"></span></td></tr><tr ng-show="showDayUseComponent && marketExists"><th ng-repeat="date in selectedDays track by $index" colspan="{{1 + !!chosenLastYear + !!chosenVariance}}">{{date | date : shortMonthAndDate }}</th></tr><tr ng-repeat="market in markets.data" ng-show="showDayUseComponent && market.selected" ng-init="outerIndex = $index"><td ng-repeat="n in getNumber() track by $index" ng-class=getClass($index)><span ng-bind-html="getDayUseMarketRevenueValue(outerIndex,$index) | sntCurrency:this"></span></td></tr><tr><th ng-repeat="date in selectedDays track by $index" colspan="{{1 + !!chosenLastYear + !!chosenVariance}}">{{date | date : shortMonthAndDate }}</th></tr><tr ng-repeat="chargeGroup in results.charge_groups" ng-init="outerIndex = $index"><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}><span ng-bind-html="getChargeCodeValue(outerIndex,$index) | sntCurrency:this"></span></td></tr><tr ng-show=showDayUseComponent><th ng-repeat="date in selectedDays track by $index" colspan="{{1 + !!chosenLastYear + !!chosenVariance}}">{{date | date : shortMonthAndDate }}</th></tr><tr ng-repeat="chargeGroup in results.day_use_charge_groups" ng-show=showDayUseComponent ng-init="outerIndex = $index"><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}><span ng-bind-html="getChargeCodeDayUseValue(outerIndex,$index) | sntCurrency:this"></span></td></tr><tr ng-repeat="revenueTotal in stateStore.revenueTotals"><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}><span ng-bind-html="getValue(revenueTotal.key,$index) | sntCurrency:this"></span></td></tr><tr ng-show=showDayUseComponent><td ng-repeat="n in getNumber() track by $index" class={{getClass($index)}}><strong><span ng-bind-html=\'getValue("total_day_use_revenue",$index) | sntCurrency:this\'></span></strong></td></tr></tbody></table><table class=occupancy-footer><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot></table></div></div></div></div>'),t.put("/assets/partials/reports/reservationByUserReport/rvReservationByUserReport.html","<div ng-show=hasNoResults class=\"report-content no-content\"><div class=info><span class=\"icon-no-content icon-reports\"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class=\"report-content scrollable\" ng-hide=hasNoResults ng-class=\"{ 'no-totals': hasNoTotals, 'no-sorting': hasNoSorting, 'with-pagination': (!disablePrevBtn || !disableNextBtn) }\" ng-iscroll=report-details-scroll><div class=wrapper><div ng-repeat=\"(key, resultItem) in results\"><h2>{{ key | date : dateFormat }}</h2><table ng-class=\"{ 'guest-reports': isGuestReport, 'large-grid': isLargeReport, 'log-reports': isLogReport }\"><thead><tr><th ng-repeat=\"item in subHeaders track by $index\"><span ng-class=\"{'sort' : !!chosenReport.sortByOptions[$index], 'sorting-asc' : !!chosenReport.sortByOptions[$index] && chosenReport.sortByOptions[$index]['sortDir'] === true, 'sorting-desc' : !!chosenReport.sortByOptions[$index] && chosenReport.sortByOptions[$index]['sortDir'] === false }\" ng-click=sortResultBy(chosenReport.sortByOptions[$index]) ng-if=!isBackgroundReportsEnabled>{{ item }}</span> <span ng-if=isBackgroundReportsEnabled>{{ item }}</span></th></tr></thead><tfoot ng-if=$last ng-include=\"'/assets/partials/reports/shared/rvReportDetailsFooter.html'\"></tfoot><tbody><tr ng-repeat=\"each in resultItem track by $index\" class=\"{{ each.className }}\" ng-include=\"'/assets/partials/reports/reservationByUserReport/rvReservationByUserReportRowContent.html'\" ngrepeatend=\"\"></tr></tbody></table></div></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>"),t.put("/assets/partials/reports/reservationByUserReport/rvReservationByUserReportRow.html",'<tr ng-repeat="each in results track by $index" class="{{ each.trCls }}" ng-include="\'/assets/partials/reports/reservationByUserReport/rvReservationByUserReportRowContent.html\'" ngrepeatend=""></tr>'),t.put("/assets/partials/reports/reservationByUserReport/rvReservationByUserReportRowContent.html",'<td ng-if=each.isReport><span class="data status">{{ each.transaction_type }}</span></td><td ng-if=each.isReport class=name><strong class=title><a ng-click=gotoStayCard(each)>{{ each.guest_name }}</a></strong> <strong class=title ng-if=!each.guest_name><a ng-click=gotoStayCard(each)>Pending</a></strong> <span class=data>{{ each.confirm_no }}</span> <span ng-if=each.no_of_nights>&#8226; <span class=data>{{ each.no_of_nights }} nights</span></span> <span ng-if=each.is_vip>&#8226; <span class="data vip">VIP</span></span></td><td ng-if=each.isReport><span class="data status" ng-if="each.status === \'NOSHOW\'">NO SHOW</span> <span class="data status" ng-if="each.status === \'CHECKEDIN\'">CHECKED IN</span> <span class="data status" ng-if="each.status === \'CHECKEDOUT\'">CHECKED OUT</span> <span class="data status" ng-if="each.status === \'PRE_CHECKIN\'">PRE CHECKIN</span> <span class="data status" ng-if="each.status != \'NOSHOW\' && each.status != \'CHECKEDIN\' && each.status != \'CHECKEDOUT\' && each.status != \'PRE_CHECKIN\'">{{each.status}}</span></td><td ng-if=each.isReport class=date ng-class="{\'hour\': !!each.total_hours, \'guarantee\': !!each.guarantee_type}"><span class="guest-status check-in">check-in</span><time><span>{{ each.arrival_date | date : dateFormat }}</span> <span>{{ each.arrival_time }}</span></time><div ng-if=each.total_hours class=hours>{{ each.total_hours }}</div><div ng-if=each.guarantee_type class="data guarantee">{{ each.guarantee_type }}</div></td><td ng-if=each.isReport><span class="data room">{{ each.room_type }}</span> <span class="data rate">{{ each.rate_name }} / <strong><span ng-bind-html="each.rate || 0 | sntCurrency:this"></span> ADR</strong></span> <span ng-if=each.rate_adjustment class="data status"><span ng-bind-html="each.rate_adjustment | sntCurrency:this"></span> Adjusted</span><span ng-if="each.payment_type === \'Credit Card\'" class="data payment"><figure class=card-logo><img ng-src=/assets/{{each.card_logo}} alt=""></figure><span>ending with</span> {{ each.card_number }}</span><span ng-if="each.payment_type !== \'Credit Card\'" class="data payment">{{ each.payment_type }}</span></td><td ng-if=each.isReport><span class="data status">{{ each.create_date | date : dateFormat }}</span> <span class="data status">{{ each.create_user }}</span></td><td ng-if=each.isGuestData></td><td ng-if=each.isGuestData></td><td ng-if=each.isGuestData></td><td ng-if=each.isGuestData class="secondary guest-info"><span ng-if=each.company_name class="icons icon-guest-company">{{ each.company_name }}</span> <span ng-if=each.travel_agent_name class="icons icon-guest-travelagent">{{ each.travel_agent_name }}</span> <span ng-if=each.group_name class="icons icon-group">{{ each.group_name }}</span></td><td ng-if=each.isGuestData class=secondary><span ng-repeat="name in each.addOns track by $index">{{ name }}</span></td><td ng-if=each.isGuestData colspan=2></td><td ng-if=each.isAdjustData class="secondary notes" colspan=6><strong>Adjustment Reason</strong><p ng-repeat="reason in each.reasons">{{ reason }}</p></td>'),t.put("/assets/partials/reports/roomOooOosReport/rvRoomOooOosReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-class="{ \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><table class="guest-reports room-reports"><thead><tr><th class=cell-110><span class=sort ng-class="{ \'sorting-asc\' : isAsc(0), \'sorting-desc\': isDesc(0) }" ng-click="sortResultBy(chosenReport.sortByOptions[0], chosenReport)" ng-if=!isBackgroundReportsEnabled>Room No.</span> <span ng-if=isBackgroundReportsEnabled>Room No.</span></th><th class=cell-140><span class=sort ng-class="{ \'sorting-asc\' : isAsc(1), \'sorting-desc\': isDesc(1) }" ng-click="sortResultBy(chosenReport.sortByOptions[1], chosenReport)" ng-if=!isBackgroundReportsEnabled>Room Type</span> <span ng-if=isBackgroundReportsEnabled>Room Type</span></th><th class=cell-80><span>Status</span></th><th class=cell-110><span>Return Status</span></th><th class=cell-110><span class=sort ng-class="{ \'sorting-asc\' : isAsc(3), \'sorting-desc\': isDesc(3) }" ng-click="sortResultBy(chosenReport.sortByOptions[3], chosenReport)" ng-if=!isBackgroundReportsEnabled>Start Date</span> <span ng-if=isBackgroundReportsEnabled>Start Date</span></th><th class=cell-110><span class=sort ng-class="{ \'sorting-asc\' : isAsc(4), \'sorting-desc\': isDesc(4) }" ng-click="sortResultBy(chosenReport.sortByOptions[4], chosenReport)" ng-if=!isBackgroundReportsEnabled>End Date</span> <span ng-if=isBackgroundReportsEnabled>End Date</span></th><th><span>Reason</span></th><th><span>Comments</span></th></tr></thead><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody><tr ng-repeat="each in results track by $index" class="{{ each.className }}"><td rowspan="{{ each.rowspan }}" ng-show=each.isMainRow><strong class=title>{{ each.room_no }}</strong></td><td rowspan="{{ each.rowspan }}" ng-show=each.isMainRow>{{ each.room_type }}</td><td ng-show="\'OUT_OF_ORDER\' === each.status">OOO</td><td ng-show="\'OUT_OF_SERVICE\' === each.status">OOS</td><td>{{each.return_hk_status}}</td><td>{{ each.start_date | date:dateFormat }}</td><td>{{ each.end_date | date:dateFormat }}</td><td>{{ each.reason || \'\' }}</td><td><em>{{ each.comments || \'\' }}</em></td></tr></tbody></table></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/scheduleReport/rvCantCreateSchedule.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="h2 message"><span class=red>Please fill the following items:</span></span> <span class=message><ul><li ng-repeat="item in createErrors">{{ item }}</li></ul></span><div class=actions><button class="button red" ng-click=closeDialog()>OK</button></div></div></div>'),t.put("/assets/partials/reports/scheduleReport/rvConfirmDeleteSchedule.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class=message><span class=red>Would you like to delete the schedule?</span></span><div class=actions><button class="button red" ng-click=deleteSchedule()>Sure</button> <button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/reports/scheduleReport/rvConfirmDiscard.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class=message><span class=red>Would you discard this schedule?</span></span><div class=actions><button class="button red" ng-click=cancelScheduleReport()>Discard</button> <button class="button blank" ng-click=closeDialog()>Stay</button></div></div></div>'),t.put("/assets/partials/reports/scheduleReport/rvExportReport.html",'<div class="report-col main-col scrollable" ng-iscroll=REPORT_SCHEDULES_SCROLL><div class=wrapper><ul ng-hide=isAddingNew><li ng-repeat="item in schedulesList" ng-hide=item.filteredOut ng-class="{\'active\': item.active}" ng-click="pickSchedule(item, $index)" class=report-item><span class=icon-report></span><div class=data><h2 ng-bind-html=escapeNull(item.report.title)|highlight:query:false></h2><em>{{ item.occurance }}</em></div></li></ul><ul ng-show=isAddingNew><li ng-repeat="item in schedulableReports" ng-hide=item.filteredOut ng-class="{\'active\': item.active}" ng-click="pickReport(item, $index)" class=report-item><span class=icon-report></span><div class=data><h2 ng-bind-html=escapeNull(item.report.title)|highlight:query:false></h2><em>{{ item.report.description }}</em></div></li></ul><div class=no-content ng-show="!schedulesList.length && !isAddingNew"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>Exports unavailable</strong> <span class=h2>You have no exports configured</span></div></div></div></div><div ng-show=!shouldHideParametersCol() class=report-col><div class=scrollable ng-iscroll=SECOND_COLUMN_SCROLL><div class=wrapper><h3>Export Parameters<span>{{ selectedEntityDetails.report.title }}</span></h3><div class=entry><label for=time-period>Time Period</label><div class=select><select ng-change=updateScrollOnUpdate() ng-model=scheduleParams.time_period_id ng-options="timePeriod.id as timePeriod.description for timePeriod in scheduleTimePeriods" ng-disabled=isGuestBalanceReport iscroll-stop-propagation=""><option value="">Time period</option></select></div></div><div class=entry ng-show=shouldShowExportCalenderFromDate()><label for=schedule-start ng-if="selectedEntityDetails.report.title === \'Journal Export\' || selectedEntityDetails.report.title === \'Guest Details by Arrival Date\'">Date</label> <label for=schedule-start ng-if="selectedEntityDetails.report.title === \'Invoice / Folio Export\' || selectedEntityDetails.report.title === \'GOBD Export\' || selectedEntityDetails.report.title === \'GOBD Admin Charge Code Actions Export\' || selectedEntityDetails.report.title === \'Cancellations by Arrival Date\' || selectedEntityDetails.report.title === \'Cancellations by Cancel Date\'">From Date</label><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=datepicker ui-date=exportFromCalenderOptions ng-model=scheduleParams.from_date placeholder=MM-DD-YYYY readonly=""></div></div><div class=entry ng-show=shouldShowExportCalenderToDate()><label for=schedule-start>To Date</label><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=datepicker ui-date=exportCalenderToOptions ng-model=scheduleParams.to_date placeholder=MM-DD-YYYY readonly=""></div></div><multi-option-selection ng-show=isGuestBalanceReport label=Guest/Account on-update=refreshSecondColumnScroll data=filters.hasGeneralOptions.data options=filters.hasGeneralOptions.options></multi-option-selection><multi-option-selection ng-show="filters.hasGeneralOptions && filters.hasGeneralOptions.data.length && !isGuestBalanceReport" label=Option(s) data=filters.hasGeneralOptions.data on-update=refreshSecondColumnScroll options=filters.hasGeneralOptions.options></multi-option-selection><div class=entry ng-show="filters.hasRateCode && filters.hasRateCode.data.length"><label>Rate Code</label><div class=select><select ng-model=scheduleParams.rate_code ng-options="rate.id as rate.rate_code for rate in filters.hasRateCode.data" iscroll-stop-propagation=""><option value="">Rate Code</option></select></div></div><div class=entry ng-show=selectedEntityDetails.sort_fields.length><label>Sort By</label><div class=select><select ng-model=scheduleParams.sort_field ng-options="sortBy.value as sortBy.description for sortBy in selectedEntityDetails.sort_fields | filter:showValidSortBy" iscroll-stop-propagation=""><option value="">Sort By</option></select></div></div><div class=entry ng-show="!shouldShowFileFormat(selectedEntityDetails) && scheduleParams.format_id === CSV_FORMAT_ID"><label for=include-header class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': scheduleParams.includeTitleHeader}"></span> <input id=include-header type=checkbox ng-model=scheduleParams.includeTitleHeader> Include CSV Header</label></div><div class=entry ng-show=shouldShowFileFormat(selectedEntityDetails)><label for=schedule-file-format>File Format</label><div class=select><select iscroll-stop-propagation="" id=export-output name=schedule-file-format ng-model=scheduleParams.format_id ng-options="format.id as format.value for format in scheduleFormat"><option value="">File Format</option></select></div><label for=include-header class=checkbox ng-if="scheduleParams.format_id === CSV_FORMAT_ID"><span class="icon-form icon-checkbox" ng-class="{\'checked\': scheduleParams.includeTitleHeader}"></span> <input id=include-header type=checkbox ng-model=scheduleParams.includeTitleHeader> Include CSV Header</label></div></div></div><div ng-hide=isAddingNew class=column-actions><button class="button red" ng-click=confirmDelete()>Delete Export</button> <button class="button green" ng-click=checkCanSaveSchedule()>Save Schedule</button> <button class="button blue" ng-click=runScheduleNow()>Run Now</button></div><div ng-show=isAddingNew class=column-actions><button class="button white blue-text next-view has-arrow" ng-click=goToNext()>Export Details</button></div></div><div ng-show=!shouldHideDetailsCol() class=report-col><div class=scrollable ng-iscroll=THIRD_COLUMN_SCROLL><div class=wrapper><h3>Schedule Details<span>{{ selectedEntityDetails.report.title }}</span></h3><div class=entry ng-show=NOT_NOW><label for=schedule-date-range>Data Date Range</label><div class=select><select id=schedule-date-range><option value={value}>{Label}</option>... repeat</select></div></div><div class=entry><label for=schedule-repeats>Repeats</label><div class=select><select ng-model=scheduleParams.frequency_id ng-options="freq.id as freq.description for freq in scheduleFrequency" iscroll-stop-propagation=""><option value="">Repeat type</option></select></div></div><div class=entry ng-show=notRunOnce() ng-class="{\'overlay\': shallDisableRepeatsEvery()}"><label for=schedule-repeats-every>Repeats Every</label><div class="entry-data entry-first"><input id=schedule-repeats-every type=number placeholder=No. ng-model=scheduleParams.repeats_every></div><div class="entry-data entry-second"><div class=select><select ng-model=scheduleParams.frequency_id ng-options="freq.id as freq.value for freq in scheduleFreqType" iscroll-stop-propagation=""><option value="">Repeat per</option></select></div></div></div><div class=entry><label for=schedule-start>Starts On</label><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=datepicker ui-date=startsOnOptions ng-model=scheduleParams.starts_on placeholder=MM-DD-YYYY readonly=""></div></div><div class=entry><label for=schedule-repeats>Starts At</label><div class=select><select ng-model=scheduleParams.time ng-options="time.value as time.name for time in timeSlots" iscroll-stop-propagation=""><option value="">Time</option></select></div></div><div class=entry ng-show=notRunOnce()><label>Ends On</label><div class="entry-data entry-first"><label for=schedule-ends-on-number class="radio inline"><span class="icon-form icon-radio" ng-class="{ \'checked\': scheduleParams.scheduleEndsOn === \'NUMBER\' }"></span> <input id=schedule-ends-on-number type=radio name=ends-on checked="" ng-model=scheduleParams.scheduleEndsOn value=NUMBER> After</label></div><div class="entry-data entry-second with-label"><input type=number placeholder=No. ng-model=scheduleParams.ends_on_after> <span class=label ng-bind=getRepeatPer()></span></div><div class="entry-data entry-first"><label for=schedule-ends-on-date class="radio inline"><span class="icon-form icon-radio" ng-class="{ \'checked\': scheduleParams.scheduleEndsOn === \'DATE\' }"></span> <input id=schedule-ends-on-date type=radio name=ends-on ng-model=scheduleParams.scheduleEndsOn value=DATE> On</label></div><div class="entry-data entry-second"><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=datepicker ui-date=endsOnOptions ng-model=scheduleParams.ends_on_date placeholder=MM-DD-YYYY readonly=""></div></div><div class="entry-data full-width"><label for=schedule-ends-on-never class="radio inline"><span class="icon-form icon-radio" ng-class="{ \'checked\': scheduleParams.scheduleEndsOn === \'NEVER\' }"></span> <input type=radio id=schedule-ends-on-never name=ends-on ng-model=scheduleParams.scheduleEndsOn value=NEVER> Never</label></div></div></div></div><div ng-hide=isAddingNew class=column-actions><button class="button green" ng-click=checkCanSaveSchedule()>Save Schedule</button></div><div ng-show=isAddingNew class=column-actions><button ng-click=goToNext() class="button white blue-text next-view has-arrow">Distribution List</button></div></div><div ng-show=!shouldHideDistributionCol() class=report-col><div class=scrollable ng-iscroll=FOURTH_COLUMN_SCROLL><div class=wrapper><h3>Distribution List<span>{{ selectedEntityDetails.report.title }}</span></h3><div class=entry><label for=delivery_method>Delivery method</label><div class=select><select id=delivery_method ng-model=scheduleParams.delivery_id ng-options="dist.value as dist.description for dist in scheduleDeliveryTypes" ng-change=onDeliveryOptionChange() iscroll-stop-propagation=""><option value="">Delivery method</option></select></div></div><div class="entry search" ng-show="checkDeliveryType(\'EMAIL\')"><label for=distribution-list-add-user>Add Recipient</label> <button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input class="icons icon-search" auto-complete="" auto-options=userAutoCompleteSimple type=search placeholder="Search by User Name" value="" autocomplete=off insert-email=true></div><ul class=col-list ng-show="checkDeliveryType(\'EMAIL\')"><li ng-repeat="email in emailList track by $index">{{ email }} <button type=button class="button only-icon icons icon-remove-10" ng-click=removeEmail($index)>Remove from list</button></li></ul><div class="entry search" ng-show="checkDeliveryType(\'SFTP\') && ftpServerList.length"><label for=ftp-recipient>SFTP Recipient</label><div class=select><select id=ftp-recipient ng-model=scheduleParams.selectedFtpRecipient ng-options="ftp.id as ftp.description for ftp in ftpServerList" iscroll-stop-propagation=""><option value="">SFTP Recipient</option></select></div></div><div class="entry search" ng-show="checkDeliveryType(\'FTP\') && !ftpServerList.length"><label for=ftp-recipient>No SFTP configured</label></div><div class="entry join" ng-show="checkDeliveryType(\'GOOGLE DRIVE\') && googleDriveAccountList.length"><label for=export-folder>Google Drive Folder</label><div class=select><select id=export-folder ng-options="googleDrive.id as googleDrive.description for googleDrive in googleDriveAccountList" ng-model=scheduleParams.selectedCloudAccount iscroll-stop-propagation=""><option value="">Select Google Drive Folder</option></select></div></div><div class="entry join" ng-show="checkDeliveryType(\'GOOGLE DRIVE\') && !googleDriveAccountList.length"><label for=export-folder>No Google Drive Accounts configured</label></div><div class="entry join" ng-show="checkDeliveryType(\'DROPBOX\') && dropBoxAccountList.length"><label for=export-folder>Dropbox</label><div class=select><select id=export-folder ng-options="dropbox.id as dropbox.description for dropbox in dropBoxAccountList" ng-model=scheduleParams.selectedCloudAccount iscroll-stop-propagation=""><option value="">Select Dropbox</option></select></div></div><div class="entry join" ng-show="checkDeliveryType(\'DROPBOX\') && !dropBoxAccountList.length"><label for=export-folder>No Dropbox accounts configured</label></div></div></div><div ng-hide=isAddingNew class=column-actions><button class="button green" ng-click=checkCanSaveSchedule()>Save Schedule</button></div><div ng-show=isAddingNew class=column-actions><button ng-click=checkCanCreateSchedule() class="button green">Create Schedule</button></div></div>'),t.put("/assets/partials/reports/scheduleReport/rvRunScheduleNowUpdate.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ng-cloak="" class=modal-content><button id=modal-close class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class=message><span class=read ng-show=runScheduleNowSuccess><span>Export has been put in queue.&nbsp;</span> <span ng-show="runNowData.isEmail && runNowData.isSingleEmail">It will be delivered to <em>{{ emailList[0] }}</em> once completed.</span> <span ng-show="runNowData.isEmail && ! runNowData.isSingleEmail">It will be delivered to the following email addresses once completed:</span><hr ng-show="runNowData.isEmail && ! runNowData.isSingleEmail" style="margin: 20px 0"><ul ng-show="runNowData.isEmail && ! runNowData.isSingleEmail"><li style="margin: 0" ng-repeat="email in emailList">{{ email }}</li></ul><span ng-show=runNowData.isFtp>It will be delivered to <em>{{ runNowData.ftpAddress.description }} ({{ runNowData.ftpAddress.url }})</em> once completed.</span> <span ng-show=runNowData.isGoogleDrive>It will be uploaded to <em>Google Drive ({{ runNowData.cloudDetails.description }})</em> once completed.</span> <span ng-show=runNowData.isDropbox>It will be uploaded to <em>Dropbox ({{ runNowData.cloudDetails.description }})</em> once completed.</span></span> <span class=red ng-hide=runScheduleNowSuccess>Unable to put export in queue. Please try again.</span></span><div class=actions><button class="button blue" ng-click=closeDialog()>Ok</button></div></div></div>'),
t.put("/assets/partials/reports/scheduleReport/rvScheduleReport.html",'<div class="report-col main-col scrollable" ng-iscroll=REPORT_SCHEDULES_SCROLL><div class=wrapper><ul ng-hide=isAddingNew><li ng-repeat="item in schedulesList" ng-hide=item.filteredOut ng-class="{\'active\': item.active}" ng-click="pickSchedule(item, $index)" class=report-item><span ng-class=item.reportIconCls></span><div class=data><h2 ng-bind-html=escapeNull(item.report.title)|highlight:query:false></h2><em>{{ item.occurance }}</em></div></li></ul><ul ng-show=isAddingNew><li ng-repeat="item in schedulableReports" ng-hide=item.filteredOut ng-class="{\'active\': item.active}" ng-click="pickReport(item, $index)" class=report-item><span ng-class=item.reportIconCls></span><div class=data><h2 ng-bind-html=escapeNull(item.report.title)|highlight:query:false></h2><em>{{ item.report.description }}</em></div></li></ul><div class=no-content ng-show="!schedulesList.length && !isAddingNew"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>Schedules unavailable</strong> <span class=h2>You have no schedules configured</span></div></div></div></div><div ng-show=!shouldHideParametersCol() class=report-col><div class=scrollable ng-iscroll=SECOND_COLUMN_SCROLL><div class=wrapper><h3>Schedule Parameters<span>{{ selectedEntityDetails.report.title }}</span></h3><div class=entry ng-hide="!scheduleTimePeriods.length || isGuestBalanceReport || isYearlyTaxReport || isCreditCheckReport || isReservationsByUserReport || isRoomStatusReport || isRateAdjustmentReport"><label for=time-period>Time Period</label><div class=select><select ng-model=scheduleParams.time_period_id ng-options="timePeriod.id as timePeriod.description for timePeriod in scheduleTimePeriods" ng-disabled=isGuestBalanceReport ng-change=refreshSecondColumnScroll() iscroll-stop-propagation=""><option value="">Time period</option></select></div></div><div class=entry ng-show="creationDateTimePeriods.length > 0"><label for=time-period>Creation Date</label><div class=select><select ng-model=scheduleParams.create_date_range ng-options="timePeriod.id as timePeriod.description for timePeriod in creationDateTimePeriods" iscroll-stop-propagation=""><option value="">Time period</option></select></div></div><div class=entry ng-show="isCancellationNoShowReport && arrivalDateTimePeriods.length > 0"><label for=time-period>Arrival Date</label><div class=select><select ng-model=scheduleParams.date_range ng-options="timePeriod.id as timePeriod.description for timePeriod in arrivalDateTimePeriods" iscroll-stop-propagation=""><option value="">Time period</option></select></div></div><div class=entry ng-show="!isCancellationNoShowReport && arrivalDateTimePeriods.length > 0"><label for=time-period>Arrival Date</label><div class=select><select ng-model=scheduleParams.arrival_date_range ng-options="timePeriod.id as timePeriod.description for timePeriod in arrivalDateTimePeriods" iscroll-stop-propagation=""><option value="">Time period</option></select></div></div><div class=entry ng-show="adjustmentDateTimePeriods.length > 0"><label for=time-period>Adjustment Date</label><div class=select><select ng-model=scheduleParams.adjustment_date_range ng-options="timePeriod.id as timePeriod.description for timePeriod in adjustmentDateTimePeriods" iscroll-stop-propagation=""><option value="">Time period</option></select></div></div><div class=entry ng-show="cancellationDateTimePeriods.length > 0"><label for=time-period>Cancellation Date</label><div class=select><select ng-model=scheduleParams.cancelation_date_range ng-options="timePeriod.id as timePeriod.description for timePeriod in cancellationDateTimePeriods" iscroll-stop-propagation=""><option value="">Time period</option></select></div></div><div class="entry date-range" ng-show="scheduleParams.time_period_id === dateRangeTimePeriodId"><label>FROM DATE</label><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=range-datepicker ui-date=fromDateOptions ng-model=selectedEntityDetails.report.fromDate readonly=""></div><label>TO DATE</label><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=range-datepicker ui-date=untilDateOptions ng-model=selectedEntityDetails.report.untilDate readonly=""></div></div><div class="entry date-range" ng-show="scheduleParams.time_period_id === dateTimePeriodId"><label>Date</label><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=datepicker ui-date=dateOptions ng-model=selectedEntityDetails.report.singleValueDate readonly=""></div></div><multi-option-selection ng-show="filters.hasShow && filters.hasShow.data.length" label=Show on-update=refreshSecondColumnScroll data=filters.hasShow.data options=filters.hasShow.options></multi-option-selection><multi-option-selection ng-show=isGuestBalanceReport label=Guest/Account on-update=refreshSecondColumnScroll data=filters.hasGeneralOptions.data options=filters.hasGeneralOptions.options report=selectedEntityDetails.report affects-filter=filters.hasGeneralOptions.affectsFilter></multi-option-selection><multi-option-selection ng-show="filters.hasGeneralOptions && filters.hasGeneralOptions.data.length && !isGuestBalanceReport && !isCreditCheckReport" label=Option(s) data=filters.hasGeneralOptions.data on-update=refreshSecondColumnScroll options=filters.hasGeneralOptions.options></multi-option-selection><multi-option-selection ng-show="filters.hasDisplay && filters.hasDisplay.data.length" label=Display(s) on-update=refreshSecondColumnScroll data=filters.hasDisplay.data options=filters.hasDisplay.options></multi-option-selection><multi-option-selection ng-show="filters.hasRateTypeFilter && filters.hasRateTypeFilter.data.length" label="Rate Type" on-update=refreshSecondColumnScroll data=filters.hasRateTypeFilter.data options=filters.hasRateTypeFilter.options></multi-option-selection><multi-option-selection ng-show="filters.hasRateFilter && filters.hasRateFilter.data.length" label=Display(s) on-update=refreshSecondColumnScroll data=filters.hasRateFilter.data options=filters.hasRateFilter.options></multi-option-selection><div class=entry ng-show=isYearlyTaxReport><label>Year</label><select name=time-from ng-model=scheduleParams.year ng-options="year.value as year.value for year in scheduleYearList" iscroll-stop-propagation=""></select></div><div class=entry ng-show=isYearlyTaxReport><label>Company / Travel Agent</label> <label class="checkbox inline" ng-class="{\'checked\':scheduleParams.with_vat_number}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':scheduleParams.with_vat_number}"></span> <input type=checkbox checked=checked ng-model=scheduleParams.with_vat_number> Cards With Tax ID</label> <label class="checkbox inline" ng-class="{\'checked\':scheduleParams.without_vat_number}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':scheduleParams.without_vat_number}"></span> <input type=checkbox checked=checked ng-model=scheduleParams.without_vat_number> Cards Without Tax ID</label></div><multi-option-selection ng-show="filters.empList && filters.empList.data.length" label="{{ filters.filterTitle }}" on-update=refreshSecondColumnScroll data=filters.empList.data options=filters.empList.options></multi-option-selection><div class=entry ng-show="filters.hasTransactionCategory && filters.hasTransactionCategory.data.length"><label>Showing</label><div class=select><select ng-model=filters.hasTransactionCategory.selected ng-options="transactionCategory.description for transactionCategory in filters.hasTransactionCategory.data" iscroll-stop-propagation=""></select></div></div><div class=entry ng-show="filters.hasCollapsedOrExpanded && filters.hasCollapsedOrExpanded.data.length"><label>Details</label><div class=select><select ng-model=filters.hasCollapsedOrExpanded.selected ng-options="collapsedOrExpanded.description for collapsedOrExpanded in filters.hasCollapsedOrExpanded.data" iscroll-stop-propagation=""></select></div></div><multi-option-selection ng-show="filters.hasPaymentType && filters.hasPaymentType.data.length" label="Payment type" on-update=refreshSecondColumnScroll data=filters.hasPaymentType.data options=filters.hasPaymentType.options></multi-option-selection><multi-option-selection ng-show=isYearlyTaxReport label=Country on-update=refreshFilterScroll data=filters.hasIncludeCountry.data options=filters.hasIncludeCountry.options></multi-option-selection><multi-option-selection ng-show="filters.hasByChargeGroup && filters.hasByChargeGroup.data.length" label="Charge Group(s)" on-update=refreshSecondColumnScroll data=filters.hasByChargeGroup.data options=filters.hasByChargeGroup.options affects-filter=filters.hasByChargeGroup.affectsFilter filter-holder-obj=filters></multi-option-selection><multi-option-selection ng-show="filters.hasByChargeCode && filters.hasByChargeCode.data.length" label="Charge Code(s)" on-update=refreshSecondColumnScroll data=filters.hasByChargeCode.data options=filters.hasByChargeCode.options></multi-option-selection><multi-option-selection ng-show="filters.hasCompletionStatus && filters.hasCompletionStatus.data.length" label="Completion Status" on-update=refreshSecondColumnScroll data=filters.hasCompletionStatus.data options=filters.hasCompletionStatus.options></multi-option-selection><multi-option-selection ng-show="filters.hasDepartments && filters.hasDepartments.data.length" label="Department Assigned" on-update=refreshSecondColumnScroll data=filters.hasDepartments.data options=filters.hasDepartments.options></multi-option-selection><div class="entry date-range" ng-show=filters.hasShowActionables><label>Show</label><div class=select><select name=show-actionables ng-model=filters.showActionables ng-options="action.value as action.name for action in filters.hasShowActionables.data"></select></div></div><multi-option-selection ng-show="filters.hasUsers && filters.hasUsers.data.length" label="{{ filters.hasUsers.title }}" on-update=refreshSecondColumnScroll data=filters.hasUsers.data options=filters.hasUsers.options></multi-option-selection><multi-option-selection ng-show="filters.hasChargeTypes && filters.hasChargeTypes.data.length" label="Charge Types(s)" on-update=refreshSecondColumnScroll data=filters.hasChargeTypes.data options=filters.hasChargeTypes.options></multi-option-selection><div class="entry search" ng-show=filters.hasIncludeCompanyTaGroup><label>Company/TA/Group</label> <input class="icons icon-search" auto-complete="" auto-options=compTaGrpAutoCompleteOnList data-card-type="" type=text placeholder="Search by Company/TA/Group" value="" autocomplete=off ng-model=selectedEntityDetails.uiChosenIncludeCompanyTaGroup report-source=reportList report-index="{{ $index }}" ul-class=find-cards ng-focus=returnuiChosenReport(selectedEntityDetails) ng-change="removeCompTaGrpId(selectedEntityDetails, \'uiChosenIncludeCompanyTaGroup\', \'chosenIncludeCompanyTaGroup\')"> <input type=text class=hidden ng-model=uiChosenReport.chosenIncludeCompanyTaGroup></div><multi-option-selection ng-show=filters.hasMarketsList label=Market(s) on-update=refreshSecondColumnScroll data=filters.hasMarketsList.data options=filters.hasMarketsList.options></multi-option-selection><multi-option-selection ng-show=filters.hasSourcesList label=Source(s) on-update=refreshSecondColumnScroll data=filters.hasSourcesList.data options=filters.hasSourcesList.options></multi-option-selection><multi-option-selection ng-show=filters.hasOriginsList label=Origin(s) on-update=refreshSecondColumnScroll data=filters.hasOriginsList.data options=filters.hasOriginsList.options></multi-option-selection><multi-option-selection ng-show=filters.hasSegmentList label=Segment(s) on-update=refreshSecondColumnScroll data=filters.hasSegmentList.data options=filters.hasSegmentList.options></multi-option-selection><multi-option-selection ng-show=filters.hasGuaranteeTypeList label="Guarantee Type(s)" on-update=refreshSecondColumnScroll data=filters.hasGuaranteeTypeList.data options=filters.hasGuaranteeTypeList.options></multi-option-selection><multi-option-selection ng-show=filters.hasRateCodeList label=Rate on-update=refreshSecondColumnScroll data=filters.hasRateCodeList.data options=filters.hasRateCodeList.options></multi-option-selection><multi-option-selection ng-show=filters.hasRoomTypeList label="Room Types" on-update=refreshSecondColumnScroll data=filters.hasRoomTypeList.data options=filters.hasRoomTypeList.options></multi-option-selection><multi-option-selection ng-show=filters.hasHkReservationStatus label="Reservation Status" on-update=refreshSecondColumnScroll data=filters.hasHkReservationStatus.data options=filters.hasHkReservationStatus.options></multi-option-selection><multi-option-selection ng-show="filters.hasReservationStatus && filters.hasReservationStatus.data.length" label="Reservation Status" on-update=refreshSecondColumnScroll data=filters.hasReservationStatus.data options=filters.hasReservationStatus.options></multi-option-selection><multi-option-selection ng-show=filters.hasFloorList label=Floor(s) on-update=refreshSecondColumnScroll data=filters.hasFloorList.data options=filters.hasFloorList.options></multi-option-selection><multi-option-selection ng-show=filters.hasIncludeWorkTypes label="Work type(s)" on-update=refreshSecondColumnScroll data=filters.hasIncludeWorkTypes.data options=filters.hasIncludeWorkTypes.options></multi-option-selection><multi-option-selection ng-show=filters.hasFrontOfficeStatus label="Front Office Status" on-update=refreshSecondColumnScroll data=filters.hasFrontOfficeStatus.data options=filters.hasFrontOfficeStatus.options></multi-option-selection><multi-option-selection ng-show=filters.hasHouseKeepingStatus label="Housekeeping Status" on-update=refreshSecondColumnScroll data=filters.hasHouseKeepingStatus.data options=filters.hasHouseKeepingStatus.options></multi-option-selection><multi-option-selection ng-show=filters.hasAddonGroups label="Add-On Group(s)" on-update=refreshSecondColumnScroll report=uiChosenReport data=filters.hasAddonGroups.data options=filters.hasAddonGroups.options affects-filter=filters.hasAddonGroups.affectsFilter filter-holder-obj=filters></multi-option-selection><multi-option-selection ng-show=filters.hasAddons label=Add-On(s) on-update=refreshSecondColumnScroll data=filters.hasAddons.data options=filters.hasAddons.options filter-holder-obj=filters></multi-option-selection><multi-option-selection ng-show="filters.hasIncludeAgingBalance && filters.hasIncludeAgingBalance.data.length" label="Aging Balance" on-update=refreshSecondColumnScroll data=filters.hasIncludeAgingBalance.data options=filters.hasIncludeAgingBalance.options></multi-option-selection><multi-option-selection ng-show="filters.hasAccountSearch && filters.hasAccountSearch.data.length" label="Account Name" on-update=refreshSecondColumnScroll data=filters.hasAccountSearch.data options=filters.hasAccountSearch.options></multi-option-selection><div class="entry date-range" ng-show=isOccupancyRevenueSummaryReport><label>DAY USE</label> <label class="checkbox inline" ng-class="{\'checked\':scheduleParams.include_day_use}"><span class="icon-form icon-checkbox" ng-class="{\'checked\':scheduleParams.include_day_use}"></span> <input type=checkbox checked=checked ng-model=scheduleParams.include_day_use> INCLUDE DAY USE</label></div><div class=entry ng-show=selectedEntityDetails.sort_fields.length><label>Sort By</label><div class=select><select ng-model=scheduleParams.sort_field ng-options="sortBy.value as sortBy.description for sortBy in selectedEntityDetails.sort_fields | filter:showValidSortBy"><option value="">Sort By</option></select></div></div><div class=entry ng-show=selectedEntityDetails.group_fields.length><label>Group By</label><div class=select><select ng-model=scheduleParams.groupBy ng-options="groupBy.value as groupBy.description for groupBy in selectedEntityDetails.group_fields" iscroll-stop-propagation=""><option value="">Group By</option></select></div></div><div class=entry ng-show="!shouldShowFileFormat(selectedEntityDetails) && scheduleParams.format_id === CSV_FORMAT_ID"><label for=include-header class=checkbox><span class="icon-form icon-checkbox" ng-class="{\'checked\': scheduleParams.includeTitleHeader}"></span> <input id=include-header type=checkbox ng-model=scheduleParams.includeTitleHeader> Include CSV Header</label></div><div class=entry ng-show=shouldShowFileFormat(selectedEntityDetails)><label for=schedule-file-format>File Format</label><div class=select><select iscroll-stop-propagation="" id=export-output name=schedule-file-format ng-model=scheduleParams.format_id ng-options="format.id as format.value for format in scheduleFormat" ng-change=refreshSecondColumnScroll()><option value="">File Format</option></select></div><label for=include-header class=checkbox ng-if="scheduleParams.format_id === CSV_FORMAT_ID"><span class="icon-form icon-checkbox" ng-class="{\'checked\': scheduleParams.includeTitleHeader}"></span> <input id=include-header type=checkbox ng-model=scheduleParams.includeTitleHeader> Include CSV Header</label></div></div></div><div ng-hide=isAddingNew class=column-actions><button class="button green" ng-click=checkCanSaveSchedule()>Save Schedule</button> <button class="button red" ng-click=confirmDelete()>Delete Schedule</button></div><div ng-show=isAddingNew class=column-actions><button class="button white blue-text next-view has-arrow" ng-click=goToNext()>Schedule Details</button></div></div><div ng-show=!shouldHideDetailsCol() class=report-col><div class=scrollable ng-iscroll=THIRD_COLUMN_SCROLL><div class=wrapper><h3>Schedule Details<span>{{ selectedEntityDetails.report.title }}</span></h3><div class=entry ng-show=NOT_NOW><label for=schedule-date-range>Data Date Range</label><div class=select><select id=schedule-date-range><option value={value}>{Label}</option>... repeat</select></div></div><div class=entry><label for=schedule-repeats>Repeats</label><div class=select><select ng-model=scheduleParams.frequency_id ng-options="freq.id as freq.description for freq in scheduleFrequency" iscroll-stop-propagation=""><option value="">Repeat type</option></select></div></div><div class=entry ng-class="{\'overlay\': shallDisableRepeatsEvery()}"><label for=schedule-repeats-every>Repeats Every</label><div class="entry-data entry-first"><input id=schedule-repeats-every type=number placeholder=No. ng-model=scheduleParams.repeats_every></div><div class="entry-data entry-second"><div class=select><select ng-model=scheduleParams.frequency_id ng-options="freq.id as freq.value for freq in scheduleFreqType" iscroll-stop-propagation=""><option value="">Repeat per</option></select></div></div></div><div class=entry><label for=schedule-start>Starts On</label><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=datepicker ui-date=startsOnOptions ng-model=scheduleParams.starts_on placeholder=MM-DD-YYYY readonly=""></div></div><div class=entry><label for=schedule-repeats>Starts At</label><div class=select><div class=select><select ng-model=scheduleParams.time ng-options="time.value as time.name for time in timeSlots" iscroll-stop-propagation=""><option value="">Time</option></select></div></div></div><div class=entry><label>Ends On</label><div class="entry-data entry-first"><label for=schedule-ends-on-number class="radio inline"><span class="icon-form icon-radio" ng-class="{ \'checked\': scheduleParams.scheduleEndsOn === \'NUMBER\' }"></span> <input id=schedule-ends-on-number type=radio name=ends-on checked="" ng-model=scheduleParams.scheduleEndsOn value=NUMBER> After</label></div><div class="entry-data entry-second with-label"><input type=number placeholder=No. ng-model=scheduleParams.ends_on_after> <span class=label ng-bind=getRepeatPer()></span></div><div class="entry-data entry-first"><label for=schedule-ends-on-date class="radio inline"><span class="icon-form icon-radio" ng-class="{ \'checked\': scheduleParams.scheduleEndsOn === \'DATE\' }"></span> <input id=schedule-ends-on-date type=radio name=ends-on ng-model=scheduleParams.scheduleEndsOn value=DATE> On</label></div><div class="entry-data entry-second"><div class=has-datepicker><button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input type=text class=datepicker ui-date=endsOnOptions ng-model=scheduleParams.ends_on_date placeholder=MM-DD-YYYY readonly=""></div></div><div class="entry-data full-width"><label for=schedule-ends-on-never class="radio inline"><span class="icon-form icon-radio" ng-class="{ \'checked\': scheduleParams.scheduleEndsOn === \'NEVER\' }"></span> <input type=radio id=schedule-ends-on-never name=ends-on ng-model=scheduleParams.scheduleEndsOn value=NEVER> Never</label></div></div></div></div><div ng-hide=isAddingNew class=column-actions><button class="button green" ng-click=checkCanSaveSchedule()>Save Schedule</button></div><div ng-show=isAddingNew class=column-actions><button ng-click=goToNext() class="button white blue-text next-view has-arrow">Distribution List</button></div></div><div ng-show=!shouldHideDistributionCol() class=report-col><div class=scrollable ng-iscroll=FOURTH_COLUMN_SCROLL><div class=wrapper><h3>Distribution List<span>{{ selectedEntityDetails.report.title }}</span></h3><div class=entry><label for=delivery_method>Delivery method</label><div class=select><select id=delivery_method ng-model=scheduleParams.delivery_id ng-options="dist.value as dist.description for dist in scheduleDeliveryTypes" ng-change=onDeliveryOptionChange() iscroll-stop-propagation=""><option value="">Delivery method</option></select></div></div><div class="entry search" ng-show="checkDeliveryType(\'EMAIL\')"><label for=distribution-list-add-user>Add Recipient</label> <button class=clear-query><span class="icons icon-clear-search">Clear query</span></button> <input class="icons icon-search" auto-complete="" auto-options=userAutoCompleteSimple type=search placeholder="Search by User Name" value="" autocomplete=off insert-email=true></div><ul class=col-list ng-show="checkDeliveryType(\'EMAIL\')"><li ng-repeat="email in emailList track by $index">{{ email }} <button type=button class="button only-icon icons icon-remove-10" ng-click=removeEmail($index)>Remove from list</button></li></ul><div class="entry search" ng-show="checkDeliveryType(\'SFTP\') && ftpServerList.length"><label for=ftp-recipient>SFTP Recipient</label><div class=select><select id=ftp-recipient ng-model=scheduleParams.selectedFtpRecipient ng-options="ftp.id as ftp.description for ftp in ftpServerList" iscroll-stop-propagation=""><option value="">SFTP Recipient</option></select></div></div><div class="entry search" ng-show="checkDeliveryType(\'FTP\') && !ftpServerList.length"><label for=ftp-recipient>No SFTP configured</label></div><div class="entry join" ng-show="checkDeliveryType(\'GOOGLE DRIVE\') && googleDriveAccountList.length"><label for=export-folder>Google Drive Folder</label><div class=select><select id=export-folder ng-options="googleDrive.id as googleDrive.description for googleDrive in googleDriveAccountList" ng-model=scheduleParams.selectedCloudAccount iscroll-stop-propagation=""><option value="">Select Google Drive Folder</option></select></div></div><div class="entry join" ng-show="checkDeliveryType(\'GOOGLE DRIVE\') && !googleDriveAccountList.length"><label for=export-folder>No Google Drive Accounts configured</label></div><div class="entry join" ng-show="checkDeliveryType(\'DROPBOX\') && dropBoxAccountList.length"><label for=export-folder>Dropbox</label><div class=select><select id=export-folder ng-options="dropbox.id as dropbox.description for dropbox in dropBoxAccountList" ng-model=scheduleParams.selectedCloudAccount iscroll-stop-propagation=""><option value="">Select Dropbox</option></select></div></div><div class="entry join" ng-show="checkDeliveryType(\'DROPBOX\') && !dropBoxAccountList.length"><label for=export-folder>No Dropbox accounts configured</label></div></div></div><div ng-hide=isAddingNew class=column-actions><button class="button green" ng-click=checkCanSaveSchedule()>Save Schedule</button></div><div ng-show=isAddingNew class=column-actions><button ng-click=checkCanCreateSchedule() class="button green">Create Schedule</button></div></div>'),t.put("/assets/partials/reports/shared/rvCommonReportDetails.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div ng-hide=hasNoResults id=report-content class="report-content scrollable" ng-class="{ \'no-totals\': hasNoTotals, \'no-sorting\': hasNoSorting, \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><table ng-class="{ \'guest-reports\': isGuestReport, \'large-grid\': isLargeReport, \'log-reports\': isLogReport, \'transaction-reports\': isTransactionReport, \'deposit-reports\': isDepositReport, \'condensed-print\': isCondensedPrint, \'balance-reports\': isBalanceReport, \'cancellation-report\': isCancellationReport, \'action-manager-reports\' : isActionsManager, \'not-occupied-rooms-reports\' : isVacantRoomsReport, \'action-manager-reports\' : isArAgingReport, \'icon-all-reports\': isFolioTaxReport}"><thead ng-if=!!headers.length><tr><th ng-repeat="item in headers track by $index" colspan="{{ $first && 1 || item.span }}">{{ item.value }}</th></tr><tr class=bottom-row ng-if=subHeaders><th ng-repeat="item in subHeaders track by $index">{{ item }}</th></tr></thead><thead ng-if="!headers.length && !!subHeaders.length"><tr><th ng-repeat="item in subHeaders track by $index"><span ng-class="{\'sort\': hasSort($index), \'sorting-asc\': isAsc($index), \'sorting-desc\': isDesc($index)}" ng-click="sortResultBy(chosenReport.sortByOptions[$index], chosenReport)" ng-if="!isBackgroundReportsEnabled && !chosenReport.sortByOptions[$index].disableSort">{{ item }}</span> <span ng-if="isBackgroundReportsEnabled || chosenReport.sortByOptions[$index].disableSort">{{ item }}</span></th></tr></thead><thead ng-if="!headers.length && !subHeaders.length"><tr><th ng-repeat="sortBy in chosenReport.sortByOptions track by $index" class="{{ sortBy.description | lowercase }}" colspan="{{ sortBy.colspan }}"><span class=sort ng-class="{\'sorting-asc\': (sortBy.sortDir === true), \'sorting-desc\': (sortBy.sortDir === false)}" ng-click=sortResultBy(sortBy) ng-if=!isBackgroundReportsEnabled>{{sortBy.sortDir}}{{ sortBy.description }}</span> <span ng-if=isBackgroundReportsEnabled>{{sortBy.sortDir}}{{ sortBy.description }}</span></th></tr></thead><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody ng-include=parsedApiTemplate()></tbody></table></div></div><div class="search-pagination hk-pagination" ng-show="(!disablePrevBtn || !disableNextBtn) && !shouldShowNewPagination()"><label class="button dark-grey next" ng-click=fetchNextPage() ng-class="{\'disabled\': disableNextBtn}">Next</label> <label class="button dark-grey prev" ng-click=fetchPrevPage() ng-class="{\'disabled\': disablePrevBtn}">Previous</label><p>Showing <strong>{{ resultFrom }}-{{ resultUpto }}</strong> of <strong id=total-count>{{ netTotalCount }}</strong> items</p></div><rv-pagination page-options=paginationConfig page-data=totalCount ng-if="shouldShowNewPagination() && totalCount > 0"></rv-pagination>'),t.put("/assets/partials/reports/shared/rvCommonReportRow.html","<tr ng-repeat=\"each in results track by $index\"><td ng-repeat=\"item in each track by $index\" ng-class=\"{'bold': (($index === 1 || $index === 5) && chosenReport.title === 'Check In / Check Out') || ($index === 7 && chosenReport.title === 'Upsell') || ($index === 3 && chosenReport.title === 'Late Check Out'), 'early':chosenReport.title === 'Early Check In'}\">{{ item }}</td></tr><tr class=totals ng-if=resultsTotalRow><td ng-show=resultsTotalRow.length>Total</td><td ng-repeat=\"item in resultsTotalRow track by $index\">{{ item }}</td></tr>"),t.put("/assets/partials/reports/shared/rvPrePrintPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><form method=post action="" id=report-date-range name=report-date-range class="modal-content form report-dates"><button id=modal-close type=button class=modal-close><span class="icons icon-close invert" ng-click=closeDialog()></span></button> <strong class="h2 message">Adjust Date Range</strong> <span class=notice>Max. Date Range is {{ occupancyMaxDate + 1 }} days</span><div class="entry full-width date-range"><label for=trim-range-from>From</label> <input name=trim-range-from id=trim-range-from type=text class=range-datepicker ui-date=fromDateOptions ng-model=chosenReport.fromDate ng-change=adjustUntilDate() readonly=""> <label for=trim-range-to>To</label> <input name=trim-range-to id=trim-range-to type=text class=range-datepicker ui-date=untilDateOptions ng-model=chosenReport.untilDate readonly=""></div><div class=actions><button type=button class="button blue" ng-click=continueWithPrint()>Print report</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></form></div>'),t.put("/assets/partials/reports/shared/rvReportDetailsFooter.html","<tr><td colspan=\"{{ leftColSpan }}\"><div ng-if=\"appliedFilter.fromDate || appliedFilter.toDate\"><label>Date Range -</label> From: <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> To: <span>{{ appliedFilter.toDate | date:dateFormat }}</span></div><div ng-if=appliedFilter.date><label>Date:</label> <span>{{ appliedFilter.date | date:dateFormat }}</span></div><div ng-if=appliedFilter.addonGroups.length>Add-On Groups: <span>{{ appliedFilter.addonGroups.join(', ') }}</span></div><div ng-if=appliedFilter.addons.length>Add-Ons: <span>{{ appliedFilter.addons.join(', ') }}</span></div><div ng-if=appliedFilter.reservationStatus.length>Reservation Status: <span>{{ appliedFilter.reservationStatus.join(', ') }}</span></div><div ng-if=\"appliedFilter.cancelFromDate || appliedFilter.cancelToDate\"><label>Cancellation Dates -</label> From: <span>{{ appliedFilter.cancelFromDate | date:dateFormat }}</span> To: <span>{{ appliedFilter.cancelToDate | date:dateFormat }}</span></div><div ng-if=\"appliedFilter.adjustmentFromDate || appliedFilter.adjustmentToDate\"><label>Rate Adjustment Dates -</label> From: <span>{{ appliedFilter.adjustmentFromDate | date:dateFormat }}</span> To: <span>{{ appliedFilter.adjustmentToDate | date:dateFormat }}</span></div><div ng-if=\"appliedFilter.arrivalFromDate || appliedFilter.arrivalToDate\"><label>Arrival Dates -</label> From: <span>{{ appliedFilter.arrivalFromDate | date:dateFormat }}</span> To: <span>{{ appliedFilter.arrivalToDate | date:dateFormat }}</span></div><div ng-if=\"appliedFilter.groupFromDate || appliedFilter.groupToDate\"><label>Group Start Dates -</label> From: <span>{{ appliedFilter.groupFromDate | date:dateFormat }}</span> To: <span>{{ appliedFilter.groupToDate | date:dateFormat }}</span></div><div ng-if=\"appliedFilter.depositFromDate || appliedFilter.depositToDate\"><label>Deposit Due Dates -</label> From: <span>{{ appliedFilter.depositFromDate | date:dateFormat }}</span> To: <span>{{ appliedFilter.depositToDate | date:dateFormat }}</span></div><div ng-if=\"appliedFilter.paidFromDate || appliedFilter.paidToDate\"><label>Paid Dates -</label> From: <span>{{ appliedFilter.paidFromDate | date:dateFormat }}</span> To: <span>{{ appliedFilter.paidToDate | date:dateFormat }}</span></div><div ng-if=\"appliedFilter.createFromDate || appliedFilter.createToDate\"><label>Create Dates -</label> From: <span>{{ appliedFilter.createFromDate | date:dateFormat }}</span> To: <span>{{ appliedFilter.createToDate | date:dateFormat }}</span></div><div ng-if=appliedFilter.singleValueDate><label>Single Date -</label> <span>{{ appliedFilter.singleValueDate | date:dateFormat }}</span></div><div ng-if=\"appliedFilter.fromTime || appliedFilter.toTime\"><label>Time Range -</label> From: <span>{{ appliedFilter.fromTime }}</span> To: <span>{{ appliedFilter.toTime }}</span></div><div ng-if=appliedFilter.cicoTypes>Transaction type: <span>{{ appliedFilter.cicoTypes }}</span></div><div ng-if=appliedFilter.users.length>Users: <span>{{ appliedFilter.users.join(', ') }}</span></div><div ng-if=appliedFilter.sortBy>Sort By: <span>{{ appliedFilter.sortBy }}</span> <label ng-if=appliedFilter.sortDir>Sort Direction: <span>{{ appliedFilter.sortDir }}</span></label></div><div ng-if=appliedFilter.groupBy>Group By: <span>{{ appliedFilter.groupBy }}</span></div><div ng-if=appliedFilter.options.length>Options: <span>{{ appliedFilter.options.join(', ') }}</span></div><div ng-if=appliedFilter.display.length>Display: <span>{{ appliedFilter.display.join(', ') }}</span></div><div ng-if=appliedFilter.show.length>Show: <span>{{ appliedFilter.show.join(', ') }}</span></div><div ng-if=appliedFilter.companyTa>Company / TA: <span>{{ appliedFilter.companyTa }}</span></div><div ng-if=appliedFilter.companyTaGroup>Company / TA / Group: <span>{{ appliedFilter.companyTaGroup }}</span></div><div ng-if=appliedFilter.markets.length>Markets: <span>{{ appliedFilter.markets.join(', ') }}</span></div><div ng-if=appliedFilter.sources.length>Booking Sources: <span>{{ appliedFilter.sources.join(', ') }}</span></div><div ng-if=appliedFilter.origins.length>Origins: <span>{{ appliedFilter.origins.join(', ') }}</span></div><div ng-if=appliedFilter.origins.length>URLs: <span>{{ appliedFilter.origin_urls.join(', ') }}</span></div><div ng-if=appliedFilter.guarantees.length>Guarantee Types: <span>{{ appliedFilter.guarantees.join(', ') }}</span></div><div ng-if=appliedFilter.segments.length>Markets: <span>{{ appliedFilter.segments.join(', ') }}</span></div><div ng-if=appliedFilter.chargeGroups.length>Charge Groups: <span>{{ appliedFilter.chargeGroups.join(', ') }}</span></div><div ng-if=appliedFilter.chargeCode.length>Charge Codes: <span>{{ appliedFilter.chargeCode.join(', ') }}</span></div><div ng-if=appliedFilter.chargeTypes.length>Charge Types: <span>{{ appliedFilter.chargeTypes.join(', ') }}</span></div><div ng-if=\"appliedFilter.guestOrAccount.length && !isDepositBalanceReport\">Guest/Account: <span>{{ appliedFilter.guestOrAccount.join(', ') }}</span></div><div ng-if=appliedFilter.reservationAddons.length>Reservation Addons: <span>{{ appliedFilter.reservationAddons.join(', ') }}</span></div><div ng-if=appliedFilter.hasMinRevenue>Minimum Revenue: <span><span ng-bind-html=\"appliedFilter.hasMinRevenue | sntCurrency:this\"></span></span></div><div ng-if=appliedFilter.hasMinRoomNights>Minimum Room Nights: <span>{{ appliedFilter.hasMinRoomNights }}</span></div><div ng-if=\"appliedFilter.guestOrAccount.length && isDepositBalanceReport\">From <span>{{summaryCounts.deposit_from_date | date:dateFormat }}</span> to <span>{{summaryCounts.deposit_to_date | date:dateFormat }}</span><br>Guest/Account: <span>{{ appliedFilter.guestOrAccount.join(', ') }}</span></div><div ng-if=appliedFilter.campaign_types.length>Campaign Types: <span>{{ appliedFilter.campaign_types.join(', ') }}</span></div><div ng-if=appliedFilter.floorList.length>Floor(s): <span>{{ appliedFilter.floorList.join(', ') }}</span></div><div ng-if=appliedFilter.rates.length>Rates: <span>{{ appliedFilter.rates.join(', ') }}</span></div><div ng-if=appliedFilter.assigned_departments.length>Departments: <span>{{ appliedFilter.assigned_departments.join(', ') }}</span></div><div ng-if=appliedFilter.completion_status.length>Completion Status: <span>{{ appliedFilter.completion_status.join(', ') }}</span></div><div ng-if=appliedFilter.hasMinNoOfDaysNotOccupied>Min. Days Not Occupied: <span>{{ appliedFilter.hasMinNoOfDaysNotOccupied}}</span></div><div ng-if=appliedFilter.group>Company: <span>{{ appliedFilter.group }}</span></div><div ng-if=appliedFilter.show_upsell_only>Show upsell only: <span>Yes</span></div><span>&nbsp;</span></td><td colspan=\"{{ rightColSpan }}\">Business date: <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User: <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></td></tr>"),
t.put("/assets/partials/reports/shared/rvReportMainMenu.html",'<ul id=report-main-menu><li ng-class="{ \'active\': reportViewStore.showingScheduledReports || reportViewStore.showingScheduleAReport }" ng-click=reportMainMenuChange(reportViewActions.SHOW_SCHEDULED_REPORTS) ng-show=shouldShowScheduleReport() class="has-arrow next-view"><i class="icon-report icon-schedule"></i> <span class=title>Scheduled Reports</span></li><li ng-class="{ \'active\': reportViewStore.showingExportReports || reportViewStore.showingExportAReport }" ng-click=reportMainMenuChange(reportViewActions.SHOW_EXPORT_REPORTS) ng-show=shouldShowExportReport() class="has-arrow next-view"><i class="icon-report icon-schedule"></i> <span class=title>Scheduled Exports</span></li><li class="has-arrow next-view" ng-class="{ \'active\': reportViewStore.showingCustomExports || reportViewStore.showingCustomNewExport }" ng-click=reportMainMenuChange(reportViewActions.SHOW_CUSTOM_EXPORTS) ng-show=shouldShowCustomExports()><i class="icon-report icon-schedule"></i> <span class=title>Custom Exports</span></li></ul>'),t.put("/assets/partials/reports/shared/rvViewAllReports.html",'<div class="report-col main-col scrollable" ng-iscroll=report-list-scroll ng-iscroll-delay=200><ul class=wrapper><li class=report-item ng-repeat="item in reportList" ng-class="{\'active\': (item.uiChosen)}" ng-hide=item.filteredOut ng-click="toggleFilter($event, item)" emit-when="{event: \'REPORT_LIST_RENDERED\', condition: $last}"><span ng-class=item.reportIconCls></span><div class=data><h2 ng-bind-html=escapeNull(item.title)|highlight:query:false></h2><em>{{ item.description }} {{ item.sub_title }}</em></div></li></ul></div><div class=report-col ng-show=uiChosenReport><div class=scrollable ng-iscroll=report-filters-scroll ng-iscroll-delay=200><div class=wrapper><h3>{{ uiChosenReport.title }}<span>Configure report</span></h3><div class=configure-report ng-include="\'/assets/partials/reports/filters/rvReportListFilters.html\'"></div></div></div><div class=column-actions ng-class="{\'two-buttons\': uiChosenReport.display_export_button && !hideExportOption}"><button type=button class="button purple" ng-click=exportCSV(uiChosenReport) ng-show="uiChosenReport.display_export_button && !hideExportOption && !isBackgroundReportsEnabled">Export</button> <button type=button class="button green" ng-click=setnGenReport(uiChosenReport) ng-show="uiChosenReport.display_show_button && !isBackgroundReportsEnabled">Show</button> <button type=button class="button green" ng-click=setnGenReport(uiChosenReport) ng-show=isBackgroundReportsEnabled>Run Report</button></div></div>'),t.put("/assets/partials/reports/shared/summaryCounts.html",'<ul ng-if="isThisReport( \'CHECK_IN_CHECK_OUT\' )" class=totals><li ng-if="summaryCounts.has_both || summaryCounts.has_in" class=sub>Check Ins<span>{{ summaryCounts.check_ins }}</span></li><li ng-if="summaryCounts.has_both || summaryCounts.has_in" class=sub>Via Rover<span>{{ summaryCounts.ins_via_rover }}</span></li><li ng-if="summaryCounts.has_both || summaryCounts.has_in" class=sub>Via Web<span>{{ summaryCounts.ins_via_web }}</span></li><li ng-if="summaryCounts.has_both || summaryCounts.has_in" class=sub>Via App<span>{{ summaryCounts.ins_via_zest }}</span></li><li ng-if="summaryCounts.has_both || summaryCounts.has_in">Via Station<span>{{ summaryCounts.ins_via_kiosk }}</span></li><li ng-if="summaryCounts.has_both || summaryCounts.has_out" class=sub>Check Outs<span class=red>{{ summaryCounts.check_outs }}</span></li><li ng-if="summaryCounts.has_both || summaryCounts.has_out" class=sub>Via Rover<span>{{ summaryCounts.outs_via_rover }}</span></li><li ng-if="summaryCounts.has_both || summaryCounts.has_out" class=sub>Via Web<span>{{ summaryCounts.outs_via_web }}</span></li><li ng-if="summaryCounts.has_both || summaryCounts.has_out" class=sub>Via App<span>{{ summaryCounts.outs_via_zest }}</span></li><li ng-if="summaryCounts.has_both || summaryCounts.has_out" class=sub>Via Station<span>{{ summaryCounts.outs_via_kiosk }}</span></li></ul><ul ng-if="isThisReport( \'EMAIL_CHECKIN_SUMMARY\' )" class=totals><li ng-repeat="item in summaryCounts">{{item.label}}<span>{{ item.value }}</span></li></ul><ul ng-if="isThisReport( \'UPSELL\' )" class=totals><li>Rooms upsold<span>{{ summaryCounts.rooms_upsold }}</span></li><li>Upsell Revenue<span class=brand-colors><span ng-bind-html="summaryCounts.upsell_revenue | sntCurrency:this"></span></span></li><li>Rover<span><span ng-bind-html="summaryCounts.rover_revenue | sntCurrency:this"></span></span></li><li>Zest Web <span><span ng-bind-html="summaryCounts.zest_web_revenue | sntCurrency:this"></span></span></li><li>Zest App<span><span ng-bind-html="summaryCounts.zest_app_revenue | sntCurrency:this"></span></span></li><li>Zest Station<span><span ng-bind-html="summaryCounts.zest_station_revenue | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'WEB_CHECK_IN_CONVERSION\' )" class=totals><li>Emails sent<span>{{ summaryCounts.emails_sent }}</span></li><li>Up Sell Conversion<span class=brand-colors>{{ summaryCounts.up_sell_conv }}</span></li><li>Revenue<span><span ng-bind-html="summaryCounts.revenue | sntCurrency:this"></span></span></li><li>Conversion<span class=brand-colors>{{ summaryCounts.conversion }}</span></li><li>Total Web Check-Ins<span>{{ summaryCounts.total_checkin }}</span></li></ul><ul ng-if="isThisReport( \'WEB_CHECK_IN_CONV_BY_DAY\' )" class=totals><li>Emails sent<span>{{ summaryCounts.emails_sent }}</span></li><li>Up Sell Conversion<span class=brand-colors>{{ summaryCounts.up_sell_conv }}</span></li><li>Revenue<span><span ng-bind-html="summaryCounts.revenue | sntCurrency:this"></span></span></li><li>Conversion<span class=brand-colors>{{ summaryCounts.conversion }}</span></li><li>Total Web Check-Ins<span>{{ summaryCounts.total_checkin }}</span></li></ul><ul ng-if="isThisReport( \'WEB_CHECK_OUT_CONVERSION\' )" class=totals><li>Emails sent<span>{{ summaryCounts.emails_sent }}</span></li><li>Late Check Out Conversion<span class=brand-colors>{{ summaryCounts.late_checkout_conv }}</span></li><li>Revenue<span><span ng-bind-html="summaryCounts.revenue | sntCurrency:this"></span></span></li><li>Conversion<span class=brand-colors>{{ summaryCounts.conversion }}</span></li><li>Total Web Check-Outs<span>{{ summaryCounts.total_checkout }}</span></li></ul><ul ng-if="isThisReport( \'LATE_CHECK_OUT\' )" class=totals><li>Late Check Out Rooms<span>{{ summaryCounts.rooms }}</span></li><li>Late Check Out Revenue<span class=brand-colors><span ng-bind-html="summaryCounts.revenue | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'AR_SUMMARY_REPORT\' )" class=totals><li>Records<span>{{ summaryCounts.records }}</span></li><li>Open Balance<span class=red><span ng-bind-html="summaryCounts.balance_amount | sntCurrency:this"></span></span></li><li>Credit<span class=green><span ng-bind-html="summaryCounts.credit_amount | sntCurrency:this"></span></span></li><li>AR Balance<span ng-class="{\'green\': summaryCounts.ar_balance >= 0, \'red\': summaryCounts.ar_balance < 0}"><span ng-bind-html="summaryCounts.ar_balance | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'ALLOWANCE_FORECAST\' )" class=totals><li>GROUP BY<span>{{ chosenReport.chosenGroupBy ? chosenReport.chosenGroupBy : \'DATE\' }}</span></li></ul><ul ng-if="isThisReport( \'EARLY_CHECKIN\' )" class=totals><li>Early Check In<span>{{ summaryCounts.total_early_checkins }}</span></li><li>Early Check In Revenue<span class=brand-colors><span ng-bind-html="summaryCounts.total_revenue | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'TAX_EXEMPT\' )" class=totals><li>Total Tax Exempt Reservations<span>{{ summaryCounts.total_count }}</span></li></ul><ul ng-if="isThisReport( \'ARRIVAL\' )" class=totals><li>Total Arrival Rooms<span>{{ summaryCounts.total_rooms_count }}</span></li><li>ADR<span><span ng-bind-html="summaryCounts.adr | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'IN_HOUSE_GUEST\' )" class=totals><li>Total Rooms<span>{{ summaryCounts.total_rooms_count }}</span></li><li>Total Adults / Children<span>{{ summaryCounts.total_adults }} / {{ summaryCounts.total_children }}</span></li><li>Total Balance<span class=green><span ng-bind-html="summaryCounts.total_balance | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'DEPOSIT_REPORT\' )" class=totals><li>Due<span><span ng-bind-html="summaryCounts.total_deposit_due | sntCurrency:this"></span></span></li><li>Paid<span class=green><span ng-bind-html="summaryCounts.total_deposit_paid | sntCurrency:this"></span></span></li><li>Past Due<span class=red><span ng-bind-html="summaryCounts.total_deposit_passed | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'GROUP_DEPOSIT_REPORT\' )" class=totals><li>Paid<span class=green><span ng-bind-html="summaryCounts.total_deposit_paid | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'RESERVATIONS_BY_USER\' )" class=totals><li>User<span>{{ summaryCounts.total_users }}</span></li><li>New<span>{{ summaryCounts.total_new }}</span></li><li>Cancel<span>{{ summaryCounts.total_cancel }}</span></li><li>Overrides<span>{{ summaryCounts.total_rate_overrides }}</span></li><li>Variance<span><span ng-bind-html="summaryCounts.total_rate_variance | sntCurrency:this"></span></span></li><li>Total Revenue<span class=green><span ng-bind-html="summaryCounts.total_revenue | sntCurrency:this"></span></span></li><li>Room Nights<span>{{ summaryCounts.total_nights }}</span></li></ul><ul ng-if="isThisReport( [\'DAILY_TRANSACTIONS\', \'DAILY_PAYMENTS\'] )" class=totals><li>Date<span>{{ summaryCounts.date | date : dateFormat }}</span></li><li>Transactions<span>{{ summaryCounts.grand_total_transactions }}</span></li><li ng-if="isThisReport(\'DAILY_TRANSACTIONS\')">Revenue<span class=green><span ng-bind-html="summaryCounts.grand_total_revenue | sntCurrency:this"></span></span></li><li ng-if="isThisReport(\'DAILY_PAYMENTS\')">Payments<span class=green><span ng-bind-html="summaryCounts.grand_total_revenue | sntCurrency:this"></span></span></li><li>MTD<span><span ng-bind-html="summaryCounts.grand_total_mtd | sntCurrency:this"></span></span></li><li>YTD<span><span ng-bind-html="summaryCounts.grand_total_ytd | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'ROOMS_QUEUED\' )" class=totals><li>Rooms Queued<span>{{ summaryCounts.rooms_queued }}</span></li></ul><ul ng-if="isThisReport( \'RATE_ADJUSTMENTS_REPORT\' )" class=totals><li>Total Adjusted Reservations<span>{{ summaryCounts.total_num_adjusted_reservations }}</span></li><li>Total Original Revenue<span><span ng-bind-html="summaryCounts.total_amt_original_revenue | sntCurrency:this"></span></span></li><li>Total Adjusted Revenue<span><span ng-bind-html="summaryCounts.total_amt_adjusted_revenue | sntCurrency:this"></span></span></li><li>Variance<span ng-class="{ red: summaryCounts.rate_adjustment_variance < 0 }"><span ng-bind-html="summaryCounts.rate_adjustment_variance | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport(\'DAILY_PRODUCTION_RATE\')" class=totals><li>Total Revenue<span><span ng-bind-html="summaryCounts.total_revenue | sntCurrency:this"></span></span></li><li>ADR<span><span ng-bind-html="summaryCounts.adr | sntCurrency:this"></span></span></li><li>Room Revenue<span><span ng-bind-html="summaryCounts.room_revenue | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport(\'DAILY_PRODUCTION_ROOM_TYPE\')" class=totals><li>Forecast Room Revenue<span><span ng-bind-html="summaryCounts.rate_revenue | sntCurrency:this"></span></span></li><li>ADR<span><span ng-bind-html="summaryCounts.adr | sntCurrency:this"></span></span></li><li>Actual Room Revenue<span><span ng-bind-html="summaryCounts.actual_revenue | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'DAILY_PRODUCTION_DEMO\' )" class=totals><li>Forecast Revenue<span><span ng-bind-html="summaryCounts.future_revenue | sntCurrency:this"></span></span></li><li>ADR<span><span ng-bind-html="summaryCounts.adr | sntCurrency:this"></span></span></li><li>Actual Room Revenue<span><span ng-bind-html="summaryCounts.rate_revenue | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'GUEST_BALANCE_REPORT\' )" class=totals><li>Records<span>{{ summaryCounts.records }}</span></li><li>Balance Amount<span class=red><span ng-bind-html="summaryCounts.balance_amount | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'COMPANY_TA_TOP_PRODUCERS\' )" class=totals><li>Total Revenue<span><span ng-bind-html="summaryCounts.total_revenue | sntCurrency:this"></span></span></li><li>Room Revenue<span><span ng-bind-html="summaryCounts.room_revenue | sntCurrency:this"></span></span></li><li>Reservations<span>{{ summaryCounts.reservations }}</span></li><li>Nights<span>{{ summaryCounts.nights }}</span></li></ul><ul ng-if="isThisReport( \'FINANCIAL_TRANSACTIONS_ADJUSTMENT_REPORT\' )" class=totals><li>Charge Type<span>{{ appliedFilter.chargeTypes.join(\' \') }}</span></li><li ng-if="appliedFilter.users.length > 1">Users<span>Multiple</span></li><li ng-if="appliedFilter.users.length == 1">Users<span>{{ appliedFilter.users.join(\' \') }}</span></li><li>Total Adjustments<span class=purple><span ng-bind-html="summaryCounts.total_adjustments_amount | sntCurrency:this"></span></span></li><li>Total Deleted Charges<span class=red><span ng-bind-html="summaryCounts.total_deleted_charges_amount | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'FINANCIAL_TRANSACTION_REVENUE_REPORT\' )" class=totals><li>Total<span ng-bind-html="summaryCounts.total_revenue | sntCurrency:this"></span></li></ul><ul ng-if="isThisReport( \'FINANCIAL_TRANSACTION_PAYMENT_REPORT\' )" class=totals><li>Total<span ng-bind-html="summaryCounts.total_payment | sntCurrency:this"></span></li></ul><ul ng-if="isThisReport( \'DEPOSIT_SUMMARY\' )" class=totals><li ng-hide="appliedFilter.guestOrAccount == \'Account\'">Total Guest<span><span ng-bind-html="summaryCounts.total_guest_deposit_balance | sntCurrency:this"></span></span></li><li ng-hide="appliedFilter.guestOrAccount == \'Guest\'">Total Account<span><span ng-bind-html="summaryCounts.total_group_deposit_balance | sntCurrency:this"></span></span></li><li>Total Deposit Balance<span class=green><span ng-bind-html="summaryCounts.total_deposit_balance | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'A/R_AGING\' )" class=totals><li>Payments<span><span ng-bind-html="summaryCounts.payments | sntCurrency:this"></span></span></li><li>Total Open Balance<span><span class=green><span ng-bind-html="summaryCounts.total_ar_balance | sntCurrency:this"></span></span></span></li><li>0-30 Days<span><span ng-bind-html="summaryCounts.days_0_30_sum | sntCurrency:this"></span></span></li><li>31-60 Days<span><span ng-bind-html="summaryCounts.days_31_60_sum | sntCurrency:this"></span></span></li><li>61-90 Days<span><span ng-bind-html="summaryCounts.days_61_90_sum | sntCurrency:this"></span></span></li><li>91-120 Days<span><span ng-bind-html="summaryCounts.days_91_120_sum | sntCurrency:this"></span></span></li><li>120+ Days<span><span ng-bind-html="summaryCounts.days_120_plus_sum | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'ACTIONS_MANAGER\' )" class=totals><li>Total Actions<span>{{ totalCount}}</span></li></ul><ul ng-if="isThisReport( \'VACANT_ROOMS_REPORT\' )" class=totals><li>Rooms<span>{{ summaryCounts}}</span></li></ul><ul ng-if="isThisReport( \'TRAVEL_AGENT_COMMISSIONS\' )" class=totals><li>Travel Agents<span>{{ totalCount}}</span></li><li>Total<span>{{ summaryCounts.total}}</span></li></ul><ul ng-if="isThisReport(\'MARKET_SEGMENT_STAT_REPORT\')" class=totals><li>Total Revenue for Today<span>{{summaryCounts.total_today_revenue}}</span></li><li>Total Revenue for MTD<span>{{summaryCounts.total_mtd_revenue}}</span></li><li>Total Revenue for YTD<span>{{summaryCounts.total_ytd_revenue}}</span></li></ul><ul ng-if="isThisReport(\'COMPARISION_BY_DATE\')" class=totals><li>Balance Brought forward<span>{{summaryCounts.total_today_revenue}}</span></li><li>Deposit Ledger Summary<span>{{summaryCounts.total_mtd_revenue}}</span></li><li>Guest ledger Summary<span>{{summaryCounts.total_ytd_revenue}}</span></li><li>AR ledger Summary<span>{{summaryCounts.total_ytd_revenue}}</span></li></ul><ul ng-if="isThisReport(\'COMPLIMENTARY_ROOM_REPORT\')" class=totals><li>Total Comp nights per day <span>{{summaryCounts.complimentary_nights_by_date}}</span></li><li>Total Comp nights per date range <span>{{summaryCounts.complimentary_nights_by_date_range}}</span></li></ul><ul ng-if="isThisReport( \'DEPARTURE\' )" class=totals><li>Total Departure Rooms<span>{{ summaryCounts.total_rooms_count }}</span></li></ul><ul ng-if="isThisReport( \'YEARLY_TAX\')" class=totals><li>Total Gross Revenue<span><span ng-bind-html="summaryCounts.total_revenue | sntCurrency:this"></span></span></li><li>Total Tax<span>{{ summaryCounts.total_vat }}</span></li></ul><ul ng-if="isThisReport( \'CANCELLATION_NO_SHOW\' )" class=totals><li>Total Open Balance<span ng-class="{\'red\': toFloat(summaryCounts.total_balance) !== 0.00, \'green\': toFloat(summaryCounts.total_balance) === 0.00}"><span ng-bind-html="summaryCounts.total_balance | sntCurrency:this"></span></span></li></ul><ul ng-if="isThisReport( \'TAX_OUTPUT_REPORT\' )" class=totals><li>Tax Payer<span>{{summaryCounts.tax_payer_info}}</span></li><li>Tax ID<span>{{summaryCounts.tax_payer_tax_id}}</span></li><li>Branch No.<span>{{summaryCounts.tax_payer_branch_number}}</span></li><li>VAT Date<span>{{summaryCounts.vat_date_from | date : dateFormat}} - {{summaryCounts.vat_date_to | date : dateFormat}}</span></li></ul>'),t.put("/assets/partials/reports/taxExempt/taxExemptReportDetails.html",'<div id=report-content class="report-content grid scrollable" ng-hide=hasNoResults ng-iscroll=report-details-scroll><div class=wrapper><table class="deposit-reports tax-exempt-report"><thead><tr><th><span class="sort sorting-asc">Reservation</span></th><th><span>Tax Exempt Type</span></th><th><span>Stay Date</span></th><th><span>Rate</span></th></tr></thead><tfoot><tr><td colspan=3>Date Range from <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.toDate | date:dateFormat }}</span></td><td colspan=3><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></li></td></tr></tfoot><tbody><tr ng-repeat-start="eachRow in results" ng-class="{\'row-break\': eachRow.total_nights === 0}"><td class=name rowspan={{eachRow.dates.length}}><div class=info><span class="guest-status small-icon" ng-class=getReservationStatus(eachRow.status)>{{eachRow.status}}</span> <strong><a ng-click=gotoStayCard(eachRow)>{{eachRow.name}}</a></strong> <em>{{eachRow.confirm_no}}</em></div><div class=dates><div class=date><span class="icons time check-in"></span> <span>{{eachRow.arrival_date | date:dateFormat}}</span></div><div class=date><span class="icons time check-out"></span> <span>{{eachRow.departure_date | date:dateFormat}}</span></div></div><div class=guest-info><strong ng-if="eachRow.travel_agent_name !== \'\' && eachRow.travel_agent_name !== null">{{eachRow.travel_agent_name}} | <em>{{eachRow.travel_agent_no}}</em></strong><br><strong ng-if="eachRow.company_name !== \'\' && eachRow.company_name !== null">{{eachRow.company_name}} | <em>{{eachRow.company_no}}</em></strong><span class="icons icon-group" ng-if="eachRow.group_code !== \'\' && eachRow.group_code !== null">{{eachRow.group_code}}</span></div><span class=reference ng-if="eachRow.tax_exempt_reference !== \'\'">{{eachRow.tax_exempt_reference}}</span></td><td class=tax-exempt ng-class="{\'break\': eachRow.totalTaxExempts > 1}" rowspan={{eachRow.dates[0].rowSpanValue}}><strong>{{eachRow.dates[0].tax_exempt_type_name}}</strong></td><td class=date><strong>{{eachRow.dates[0].date | date:dateFormat}}</strong> <span class=reference>{{eachRow.dates[0].date | date:\'EEEE\'}}</span></td><td class=rate><strong><span ng-bind-html="eachRow.dates[0].rate_amount | sntCurrency:this"></span></strong> <span class=reference>{{eachRow.dates[0].rate_name}}</span></td></tr><tr ng-repeat="eachDate in eachRow.dates" ng-if="$index !== 0 && $index !== (eachRow.dates.length - 1)"><td class=tax-exempt ng-class="{\'break\': !eachDate.isLastTaxExemptType}" rowspan={{eachDate.rowSpanValue}} ng-if=eachDate.is_next><strong>{{eachDate.tax_exempt_type_name}}</strong></td><td class=date><strong>{{eachDate.date | date:dateFormat}}</strong><span class=reference>{{eachDate.date | date:\'EEEE\'}}</span></td><td class=rate><strong><span ng-bind-html="eachDate.rate_amount | sntCurrency:this"></span></strong><span class=reference>{{eachDate.rate_name}}</span></td></tr><tr ng-repeat-end="" class=row-break ng-if="eachRow.total_nights > 0"><td class=tax-exempt rowspan="{{eachRow.dates[eachRow.dates.length - 1].rowSpanValue}}" ng-if="eachRow.dates[eachRow.dates.length - 1].is_next"><strong>{{eachRow.dates[eachRow.dates.length - 1].tax_exempt_type_name}}</strong></td><td class=date><strong>{{eachRow.dates[eachRow.dates.length - 1].date | date:dateFormat}}</strong><span class=reference>{{eachRow.dates[eachRow.dates.length - 1].date | date:\'EEEE\'}}</span></td><td class=rate><strong><span class=currency></span> -</strong><span class=reference></span></td></tr></tbody></table></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/taxOutput/rvTaxOutputReport.html",'<div id=report-content class="report-content grid scrollable" ng-iscroll=report-details-scroll><div class=wrapper ng-controller=RVTaxOutputReportCtrl><div ng-repeat="category in results" class=receipt-type-container><ul class=card-meta><li class=name>{{category.sub_category_type_name}}</li></ul><table class="balance-reports complimentary-report tax-output"><thead><tr><th class=payment-receipt-no><span>Payment Receipt</span></th><th class=invoice-no><span>Invoice</span></th><th class=receipt><span>Receipt</span></th><th class=amount><span>Non VAT amount</span></th><th class=amount><span>Vatable amount</span></th><th class=amount><span>VAT</span></th><th class=amount><span>Total</span></th><th class=vat-receipt><span>Credit VAT Receipt</span></th></tr></thead><tfoot><tr class=pagination><td colspan=8><rv-pagination page-options=category.insidePaginationData page-data=category.sub_category_total.total_sub_category_receipts></rv-pagination></td></tr><tr class=totals ng-class="{\'row-break\': $last}"><td colspan=3>Total</td><td><span ng-bind-html="category.sub_category_total.sub_category_non_vatable_sum | sntCurrency:this"></span></td><td><span ng-bind-html="category.sub_category_total.sub_category_vatable_sum | sntCurrency:this"></span></td><td><span ng-bind-html="category.sub_category_total.sub_category_vat_sum | sntCurrency:this"></span></td><td><span ng-bind-html="category.sub_category_total.sub_category_total_aggregate | sntCurrency:this"></span></td><td></td></tr><tr class=totals ng-if=$last><td colspan=3>Grand Total</td><td><span ng-bind-html="calculateNonVatGrandTotal() | sntCurrency:this"></span></td><td><span ng-bind-html="calculateVatableAmountGrandTotal() | sntCurrency:this"></span></td><td><span ng-bind-html="calculateVatGrandTotal() | sntCurrency:this"></span></td><td><span ng-bind-html="calculateGrandTotal() | sntCurrency:this"></span></td><td></td></tr></tfoot><tbody ng-repeat="receipt in category.receipt_details.receipts"><tr><td rowspan=3 class=payment-receipt-no>{{receipt.payment_receipt_number}}<div class=date><em>{{receipt.payment_receipt_date | date : dateFormat}}</em></div></td><td class=invoice-no>{{receipt.invoice_number}}</td><td class=receipt>{{receipt.payment_type}}</td><td class=amount><span ng-bind-html="receipt.non_vatable_amount | sntCurrency:this"></span></td><td class=amount><span ng-bind-html="receipt.vatable_amount | sntCurrency:this"></span></td><td class=amount><span ng-bind-html="receipt.vat_amount | sntCurrency:this"></span></td><td class=amount><span ng-bind-html="receipt.total_amount | sntCurrency:this"></span></td><td class=vat-receipt>{{receipt.credit_vat_receipt_number}}</td></tr><tr><td>Remarks</td><td colspan=6>{{receipt.payment_remarks}}</td></tr><tr class=row-break><td colspan=2>Guest / Account: {{receipt.guest_or_account_name}}</td><td>Tax ID</td><td colspan=2>{{receipt.tax_id}}</td><td>Confirmation / Account No</td><td>{{receipt.confirmation_or_account_number}}</td></tr></tbody></table></div></div></div>'),t.put("/assets/partials/reports/travelAgentCommission/rvTravelAgentCommissionReportRow.html",'<div id=report-content ng-iscroll=report-details-scroll ng-class="{\'print-commission-summary\': printTACommissionFlag.summary, \'print-commission-agent\' : printTACommissionFlag.agent}" class="report-content grid scrollable with-pagination"><div class=wrapper ng-controller=RVTravelAgentsCommissionReportCtrl><div ng-repeat="travel_agents in results"><h2 class=padding-top-ta>{{travel_agents.travel_agent_name}}, IATA: {{travel_agents.IATA_number}}</h2><table class=commission-reports><thead><tr><th class=room rowspan=2>Room</th><th class=guest rowspan=2>Guest</th><th class=code rowspan=2>Rate Code</th><th class=amount rowspan=2>Rate Amount</th><th class=comission colspan=3>Commission</th></tr><tr class=bottom-row><th class="amount break">Revenue</th><th>%/<span class=currency><span class=currency>{{currencySymbol}}</span></span></th><th class=amount>Net Amt</th></tr></thead><tbody><tr ng-repeat-start="reservation in travel_agents.reservation_details.reservations" ng-if="travel_agents.reservation_details.reservations.length > 0"><td rowspan="{{reservation.rate_details.length === 0 ? 1 : reservation.rate_details.length}}"><strong class=title>{{reservation.room_no}}</strong></td><td class=name rowspan="{{reservation.rate_details.length === 0 ? 1 : reservation.rate_details.length}}"><strong class=title><a href=#>{{reservation.last_name}}, {{reservation.first_name}}</a></strong> <span class=data>{{reservation.confirm_no}}, Nights: {{reservation.nights}}</span><div class=guest-date><div class=date><span class="guest-status check-in">check-in</span><time datetime=""><span>{{reservation.arrival_date | date:dateFormat}}</span> <span>{{reservation.arrival_time}}</span></time></div><div class=date><span class="guest-status check-out">check-out</span><time datetime="{datetime | exp.: 2017-02-01T12:00:00}"><span>{{reservation.dep_date | date:dateFormat}}</span> <span>{{reservation.departure_time}}</span></time></div></div></td><td>{{reservation.rate_details[0].rate_code}}</td><td><span ng-bind-html="reservation.rate_details[0].rate_amount | sntCurrency:this"></span></td><td rowspan="{{reservation.rate_details.length === 0 ? 1 : reservation.rate_details.length}}"><span ng-bind-html="reservation.commission_revenue | sntCurrency:this"></span></td><td rowspan="{{reservation.rate_details.length === 0 ? 1 : reservation.rate_details.length}}"><span>{{reservation.commission_amount}}</span></td><td rowspan="{{reservation.rate_details.length === 0 ? 1 : reservation.rate_details.length}}"><span ng-bind-html="reservation.net_amount | sntCurrency:this"></span></td></tr><tr class=rate-row ng-repeat="rate_details in reservation.rate_details" ng-if="$index > 0" ng-repeat-end=""><td>{{rate_details.rate_code}}</td><td><span ng-bind-html="rate_details.rate_amount | sntCurrency:this"></span></td></tr><tr ng-if="travel_agents.reservation_details.reservations.length == 0"><td colspan=7 style="text-align: center;"><div class=info><strong>No reservations found</strong></div></td></tr></tbody><tfoot><tr class=totals><td colspan=3></td><td>Subtotals</td><td><span ng-bind-html="::travel_agents.sub_total.revenue | sntCurrency:this"></span></td><td></td><td><span ng-bind-html="::travel_agents.sub_total.net_amount | sntCurrency:this"></span></td></tr></tfoot></table></div><ul class=grid-footer><li>From <span>{{ appliedFilter.fromDate | date:dateFormat }}</span> to <span>{{ appliedFilter.toDate | date:dateFormat }}</span><br></li><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></li></ul></div></div><rv-pagination page-options=commisionReportTAPagination page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/upsellReport/rvUpsellReport.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content scrollable" ng-hide=hasNoResults ng-class="{ \'no-totals\': hasNoTotals, \'no-sorting\': hasNoSorting, \'with-pagination\': (!disablePrevBtn || !disableNextBtn) }" ng-iscroll=report-details-scroll><div class=wrapper><table><thead><tr><th class=date>Date</th><th>User</th><th>Channel</th><th>Guest Name</th><th>From Room Type</th><th>Level</th><th>To Room Type</th><th>Level</th><th class=original-rate>Original Rate Price</th><th class=upsell-amount>Upsell Amount</th><th class=nights>Nights</th><th class=total-amount>Total Amount</th></tr></thead><tfoot ng-include="\'/assets/partials/reports/shared/rvReportDetailsFooter.html\'"></tfoot><tbody ng-include="\'/assets/partials/reports/upsellReport/rvUpsellReportRow.html\'"></tbody></table></div></div><rv-pagination page-options=paginationConfig page-data=totalCount></rv-pagination>'),t.put("/assets/partials/reports/upsellReport/rvUpsellReportRow.html",'<tr ng-repeat="each in results track by $index"><td>{{ each[0] | date : dateFormat }}</td><td>{{ each[1] }}</td><td>{{ each[2] }}</td><td>{{ each[3] }}</td><td>{{ each[4] }}</td><td>{{ each[5] }}</td><td>{{ each[6] }}</td><td>{{ each[7] }}</td><td><span ng-bind-html="each[8] | sntCurrency:this"></span></td><td><strong><span ng-bind-html="each[9] | sntCurrency:this"></span></strong></td><td>{{ each[10] }}</td><td><span ng-bind-html="each[11] | sntCurrency:this"></span></td></tr>'),t.put("/assets/partials/reports/vacantRoomsReport/rvVacantRoomsReportRow.html",'<tr ng-repeat="each in results track by $index"><td>{{ each.room_number }}</td><td>{{ each.room_type }}</td><td>{{ each.no_of_days_vacant }}</td><td>{{ each.last_check_out_date }}</td></tr>'),t.put("/assets/partials/reports/yearlyVat/yearlyVatReportDetails.html",'<div ng-show=hasNoResults class="report-content no-content"><div class=info><span class="icon-no-content icon-reports"></span> <strong class=h1>No reports found</strong> <span class=h2>Try changing search criteria or modify dates</span></div></div><div id=report-content class="report-content grid scrollable" ng-hide=hasNoResults ng-iscroll=report-details-scroll><div class=wrapper><ul class="grid-header vat-report"><li>Revenue</li><li>TAX</li></ul><a class="title-1 toggle vat-report active" ng-show=results.with_vat_id><strong>Cards With Tax ID</strong> <span><span ng-bind-html="results.with_vat_id.total_revenue | sntCurrency:this"></span> <span><span ng-bind-html="results.with_vat_id.total_vat | sntCurrency:this"></span></span></span></a><div id=with-vat-id class="grid-content vat-report"><a href=#with-vat-company class="title-2 toggle vat-report active" ng-class="{\'active\': accountsWithVatId.isCollapsed}" ng-repeat-start="accountsWithVatId in results.with_vat_id.accounts"><strong ng-show="accountsWithVatId.account_type === \'COMPANY\'">Companies</strong> <strong ng-show="accountsWithVatId.account_type === \'TRAVELAGENT\'">Travel Agents</strong> <span><span ng-bind-html="accountsWithVatId.total_revenue | sntCurrency:this"></span> <span><span ng-bind-html="accountsWithVatId.total_vat | sntCurrency:this"></span></span></span></a><table id=with-vat-company class=grid-content ng-repeat-end=""><thead><tr><th class=number><span>Tax ID</span></th><th class=number><span>AR Number</span></th><th><span>Name</span></th><th class=revenue><span>Revenue</span></th><th class=revenue><span>TAX</span></th></tr></thead><tbody><tr ng-repeat="revenueData in accountsWithVatId.accounts_list"><td class=number>{{revenueData.vat_id}}</td><td class=number>{{revenueData.ar_number}}</td><td>{{revenueData.name}}</td><td class=revenue><span ng-bind-html="revenueData.revenue | sntCurrency:this"></span></td><td class=revenue><span ng-bind-html="revenueData.vat | sntCurrency:this"></span></td></tr></tbody></table></div><a href=#without-vat-id class="title-1 toggle vat-report active" ng-show=results.without_vat_id><strong>Cards Without Tax ID</strong> <span><span ng-bind-html="results.without_vat_id.total_revenue | sntCurrency:this"></span> <span><span ng-bind-html="results.without_vat_id.total_vat | sntCurrency:this"></span></span></span></a><div id=without-vat-id class="grid-content vat-report"><a class="title-2 toggle vat-report active" ng-repeat-start="accountsWithOutVatId in results.without_vat_id.accounts"><strong ng-show="accountsWithOutVatId.account_type === \'COMPANY\'">Companies</strong> <strong ng-show="accountsWithOutVatId.account_type === \'TRAVELAGENT\'">Travel Agents</strong> <span><span ng-bind-html="accountsWithOutVatId.total_revenue | sntCurrency:this"></span> <span><span ng-bind-html="accountsWithOutVatId.total_vat | sntCurrency:this"></span></span></span></a><table id=with-vat-company class="grid-content vat-report" ng-repeat-end=""><thead><tr><th class=number><span>Tax ID</span></th><th class=number><span>AR Number</span></th><th><span>Name</span></th><th class=revenue><span>Revenue</span></th><th class=revenue><span>TAX</span></th></tr></thead><tbody><tr ng-repeat="revenueData in accountsWithOutVatId.accounts_list"><td>{{revenueData.vat_id}}</td><td>{{revenueData.ar_number}}</td><td>{{revenueData.name}}</td><td class=revenue><span ng-bind-html="revenueData.revenue | sntCurrency:this"></span></td><td class=revenue><span ng-bind-html="revenueData.vat | sntCurrency:this"></span></td></tr></tbody></table></div><ul class=grid-footer><li>Yearly TAX for <span>{{chosenReport.year}}</span><br>Company / Travel Agent <span ng-show=results.with_vat_id>with Tax ID</span> <span ng-show="results.with_vat_id && results.without_vat_id">,</span> <span ng-show=results.without_vat_id>without Tax ID</span></li><li>Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br>User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span></li></ul></div></div>'),
t.put("/assets/partials/reservationCard/actions/rvReservationCardActionsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action="" id=staycard-actions class="modal-content form staycard-actions"><button id=modal-close type=button class="dark-title modal-close" ng-click="closeDialog(); cancelNewAction();"><span class="icons icon-close"></span></button><div class=modal-header><h1>Actions</h1><strong ng-if=$parent.reservationData.reservation_card.room_number>Room {{$parent.reservationData.reservation_card.room_number}}</strong> <span class=time>Hotel Time: {{hotel_time | date:"hh:mm a"}}</span><div class=dates><div class=date ng-show=hasArrivalDate><span class="guest-status small-icon check-in">check-in</span> {{actions.arrivalDateString}}</div><div class=date ng-show=hasDepartureDate><span class="guest-status small-icon check-out">check-out</span> {{actions.departureDateString}}</div></div><button type=button class="button green" ng-click=initNewAction()>New Action</button></div><div ng-include="\'/assets/partials/common/actions/actionsContentWrapper.html\'"></div><section class="actions-content no-content" role=main ng-show=showEmptyActions()><div class=info><span class="icon-no-content icon-actions"></span> <strong class=h1>No Actions</strong> <span class=h2 ng-if=$parent.reservationData.reservation_card.room_number>All is good in Room {{$parent.reservationData.reservation_card.room_number}}</span> <span class=h2 ng-if=!$parent.reservationData.reservation_card.room_number>All is good</span></div></section></form></div>'),t.put("/assets/partials/workManagement/popups/rvWorkManagementAssignRoom.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content form new-worksheet"><button class=modal-close id=modal-close ng-click=closeDialog() type=button><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message">Assign Room</span><div class="entry full-width"><div class=select><select ng-model=stateVariables.assignRoom.work_type_id ng-options="workType.id as workType.name for workType in ngDialogData.workTypes" ng-disabled="ngDialogData.workTypes.length < 2"></select></div></div><div class="entry full-width"><div class=select><select ng-model=stateVariables.assignRoom.user_id ng-options="employee.id as employee.maid_name for employee in employeeList"><option value="" translate="" selected="">Select Employee</option></select></div></div><div class=actions><button ng-click=assignRoom() type=button ng-disabled=!stateVariables.assignRoom.user_id ng-class="{\'grey\' : !stateVariables.assignRoom.user_id}" class="button green">Assign</button> <button ng-click=closeDialog() type=button class="button blank">Cancel</button></div></div></div>'),t.put("/assets/partials/workManagement/popups/rvWorkManagementCreateDateFilter.html","<div id=modal class=modal-show ng-class=\"{'modal-show': !modalClosing}\"><div ui-date=dateOptions ng-model=stateVariables.viewingDate.newWorkSheetDate ui-date-format=yy-mm-dd class=ngmodal-uidate-wrap></div></div>"),t.put("/assets/partials/workManagement/popups/rvWorkManagementCreateDatePicker.html","<div id=modal class=modal-show ng-class=\"{'modal-show': !modalClosing}\"><div ui-date=dateOptions ng-model=stateVariables.newSheet.date ui-date-format=yy-mm-dd class=ngmodal-uidate-wrap></div></div>"),t.put("/assets/partials/workManagement/popups/rvWorkManagementCreatePopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content form new-worksheet"><button class=modal-close id=modal-close ng-click=closeDialog() type=button><span class="icons icon-close invert"></span></button><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><span class="h2 message">New Work Sheet</span><div class="entry full-width"><div class=select><select ng-model=stateVariables.newSheet.work_type_id ng-options="workType.id as workType.name for workType in workTypes" ng-selected="$index == 1"></select></div></div><div class="entry full-width"><div class=select><select ng-model=stateVariables.newSheet.user_id ng-options="employee.id as employee.maid_name for employee in employeeList"><option value="" translate="" selected="">Select Employee</option></select></div></div><div class="entry has-datepicker entry full-width"><input id=rmDateRange placeholder="{{stateVariables.newSheet.date | date : dateFormat}}" readonly="" maxlength=8 value={{currentFilterData.selected_date_range}} class=hasDatepicker name=""> <button ng-click=showCreateCalendar() type=button class=ui-datepicker-trigger style="top: 0px">...</button></div><div class=actions><button ng-click=continueCreateWorkSheet() type=button class="button green">Continue</button> <button ng-click=closeDialog() type=button class="button blank">Cancel</button></div></div></div>'),t.put("/assets/partials/workManagement/popups/rvWorkManagementFilterRoomsPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" ng-cloak=""><div class="modal-content new-content" id=filter-room-wrap><form method=post action="" id=fitler-rooms name=fitler-rooms class="modal-content form fitler-rooms"><style type=text/css>\n\t\t\t\t#modal #filter-room-wrap {\n\t\t\t\t\twidth: 450px;\n\t\t\t\t}\n\n\t\t\t\t#fitler-rooms {\n\t\t\t\t\tmin-width: 410px;\n\t\t\t\t}\n\n\t\t\t\t#fitler-rooms .full-width .half-width {\n\t\t\t\t\twidth: 49%;\n\t\t\t\t}\n\n\t\t\t\t#fitler-rooms .full-width .half-width:last-child {\n\t\t\t\t\tfloat: right;\n\t\t\t\t}\n\t\t\t</style><span class="h2 message" translate="">FILTER_ROOMS</span><div class=full-width><div class="entry half-width"><div class="select full-width"><select id=worksheet-unassigned-floor name=worksheet-unassigned-floor ng-model=filters.selectedFloor ng-class="{\'placeholder\': !filters.selectedFloor}" iscroll-stop-propagation=""><option value="" selected="" translate="">ALL_FLOORS</option><option ng-repeat="floor in floors" value={{floor.floor_number}} ng-selected="floor.floor_number === filters.selectedFloor">{{floor.description }}</option></select></div></div><div class="entry half-width"><div class=select><select ng-model=filters.selectedFOStatus ng-class="{\'placeholder\': !filters.selectedFOStatus}"><option value="" translate="">HK_FO_STATUS</option><option value=VACANT translate="">VACANT</option><option value=OCCUPIED translate="">HK_OCCUPIED</option></select></div></div></div><div class="full-width clear-both"><div class="entry half-width"><div class=select><select ng-model=filters.selectedReservationStatus ng-class="{\'placeholder\': !filters.selectedReservationStatus}"><option value="" translate="">RESERVATION_STATUS</option><option value="Not Reserved" translate="">NOT_RESERVED</option><option value=Arrival translate="">ARRIVAL</option><option value=Arrived translate="">ARRIVED</option><option value=Stayover translate="">STAYOVER</option><option value="Due out" translate="">DUE_OUT</option><option value=Departed translate="">DEPARTED</option></select></div></div><div class="entry half-width"><label class="checkbox inline" ng-class="{checked: filters.vipsOnly}"><span class="icon-form icon-checkbox" ng-class="{checked: filters.vipsOnly}"></span> <input type=checkbox ng-class="{checked: filters.vipsOnly}" ng-model=filters.vipsOnly> <span translate="">SHOW_VIPS_ONLY</span></label> <label class="checkbox inline" ng-class="{checked: filters.showAllRooms}"><span class="icon-form icon-checkbox" ng-class="{checked: filters.showAllRooms}"></span> <input type=checkbox ng-class="{checked: filters.showAllRooms}" ng-model=filters.showAllRooms> <span translate="">SHOW_ALL_ROOMS</span></label></div></div><div class="entry full-width clear-both"><span translate="">ARRIVAL_TIME</span><div class=reservation-times><div><label class=label>></label><div class="select hour unasssigned-room-filter-time"><select ng-model=filters.checkin.after.hh><option value="">HH</option><option ng-repeat="i in [1, 12, 1, 2] | makeRange" value={{i}} ng-selected="i==filters.checkin.after.hh">{{i}}</option></select></div><div class="select minutes unasssigned-room-filter-time"><select ng-model=filters.checkin.after.mm><option value="">MM</option><option ng-repeat="i in [0, 45, 15, 2] | makeRange" value={{i}} ng-selected="i==filters.checkin.after.mm">{{i}}</option></select></div><div class="select ampm unasssigned-room-filter-time"><select ng-model=filters.checkin.after.am class=""><option value=AM selected="">AM</option><option value=PM>PM</option></select></div><label class="label clear-both"><</label><div class="select hour unasssigned-room-filter-time"><select ng-model=filters.checkin.before.hh><option value="">HH</option><option ng-repeat="i in [1, 12, 1, 2] | makeRange" value={{i}} ng-selected="i==filters.checkin.before.hh">{{i}}</option></select></div><div class="select minutes unasssigned-room-filter-time"><select ng-model=filters.checkin.before.mm><option value="">MM</option><option ng-repeat="i in [0, 45, 15, 2] | makeRange" value={{i}} ng-selected="i==filters.checkin.before.mm">{{i}}</option></select></div><div class="select ampm unasssigned-room-filter-time"><select ng-model=filters.checkin.before.am><option value=AM selected="">AM</option><option value=PM>PM</option></select></div></div></div></div><div class="entry full-width clear-both"><span translate="">DEPARTURE_TIME</span><div class=reservation-times><div><label class=label>></label><div class="select hour unasssigned-room-filter-time"><select ng-model=filters.checkout.after.hh><option value="">HH</option><option ng-repeat="i in [1, 12, 1, 2] | makeRange" value={{i}} ng-selected="i==filters.checkout.after.hh">{{i}}</option></select></div><div class="select minutes unasssigned-room-filter-time"><select ng-model=filters.checkout.after.mm><option value="">MM</option><option ng-repeat="i in [0, 45, 15, 2] | makeRange" value={{i}} ng-selected="i==filters.checkout.after.mm">{{i}}</option></select></div><div class="select ampm unasssigned-room-filter-time"><select ng-model=filters.checkout.after.am><option value=AM>AM</option><option value=PM>PM</option></select></div><label class="label clear-both"><</label><div class="select hour unasssigned-room-filter-time"><select ng-model=filters.checkout.before.hh><option value="">HH</option><option ng-repeat="i in [1, 12, 1, 2] | makeRange" value={{i}} ng-selected="i==filters.checkout.before.hh">{{i}}</option></select></div><div class="select minutes unasssigned-room-filter-time"><select ng-model=filters.checkout.before.mm><option value="">MM</option><option ng-repeat="i in [0, 45, 15, 2] | makeRange" value={{i}} ng-selected="i==filters.checkout.before.mm">{{i}}</option></select></div><div class="select ampm unasssigned-room-filter-time"><select ng-model=filters.checkout.before.am><option value=AM>AM</option><option value=PM>PM</option></select></div></div></div></div><div class="actions clear-both"><button type=button ng-click=filterUnassigned() class="button green modal-close" translate="">CONTINUE</button> <button type=button ng-click=closeDialog() class="button blank modal-close" translate="">CANCEL</button></div></form></div></div>'),t.put("/assets/partials/workManagement/popups/rvWorkManagementMultiDateFilter.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ui-date=dateOptions ng-model=multiSheetState.selectedDate ui-date-format=yy-mm-dd class="ngmodal-uidate-wrap ui-datepicker datepicker-position-absolute"></div></div>'),t.put("/assets/partials/workManagement/popups/rvWorkManagementPrintOptionsPopup.html",'<div id=modal ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content form print-modal"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <strong class="h2 message" translate="">PRINT_WORKSHEET</strong><div class="entry radio-check"><label for=worksheet-sort1 translate="">SORT_BY</label> <label for=worksheet-sort1 class=radio ng-class="{ \'checked\': printSettings.grouping === \'room\' }"><span class="icon-form icon-radio" ng-class="{ \'checked\': printSettings.grouping === \'room\' }"></span> <input name=worksheet-sort id=worksheet-sort1 value=room type=radio ng-model=printSettings.grouping> {{\'ROOM\' | translate}}</label> <label for=worksheet-sort2 class=radio ng-class="{ \'checked\': printSettings.grouping === \'task\' }"><span class="icon-form icon-radio" ng-class="{ \'checked\': printSettings.grouping === \'task\' }"></span> <input name=worksheet-sort id=worksheet-sort2 value=task type=radio ng-model=printSettings.grouping> {{\'TASK\' | translate}}</label></div><div class="entry full-width"><label for=worksheet-employees translate="">NUMBER_EMPLOYEES</label><div multi-select="" custom-template=workmanagement input-model=employeeList button-label=maid_name item-label=maid_name max-labels=0 on-item-click=selectEmployee() on-open="" on-close=onEmployeeListClosed() tick-property=ticked scroller=multiSelectPrintPopup disable-property=checkboxDisabled></div></div><div class="entry full-width"><label for=worksheet-sorting translate="">SORT_ORDER</label><div class=select><select name=worksheet-sorting id=worksheet-sorting ng-model=printSettings.sort><option value=asc selected=selected translate="">ASCENDING</option><option value=desc translate="">DESCENDING</option></select></div></div><div class=actions><button type=button class="button blue" ng-click=printWorkSheet() translate="">PRINT_WORKSHEET</button> <button type=button class="button blank" ng-click=cancelPopupDialog() translate="">CANCEL</button></div></div></div>'),t.put("/assets/partials/workManagement/popups/rvWorkManagementSaveConfirmationPopup.html",'<div id=modal ng-class="{\'modal-show\': !modalClosing}" role=dialog><div class="modal-content form new-worksheet"><button id=modal-close type=button ng-click=closeSaveConfirmationDialog(ngDialogData) class=modal-close><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">Save Work Sheet First?</span><div class=actions><button type=button class="button green" ng-click=saveMultiSheet(ngDialogData);closeDialog(); translate="">SAVE</button> <button type=button class="button blank" ng-click=closeSaveConfirmationDialog(ngDialogData) translate="">CANCEL</button></div></div></div>'),t.put("/assets/partials/workManagement/popups/rvWorkManagementSearchDateFilter.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div ui-date=dateOptions ng-model=stateVariables.viewingDate.date ui-date-format=yy-mm-dd class="ngmodal-uidate-wrap ui-datepicker datepicker-position-absolute"></div></div>'),t.put("/assets/controllers/groups/rooming/popups/rvSelectSortTypePopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form print-registration-cards"><button id=modal-close type=button class=modal-close ng-click=closeDialogBox()><span class="icons icon-close invert"></span></button> <strong class="h2 message">Print Registration Cards</strong><div class=text>THIS WILL PRINT <strong>{{selected_reservations.length === 0 || selected_reservations.length === totalResultCount ? "ALL" : selected_reservations.length }}</strong> REGISTRATION CARDS</div><div class="entry full-width"><label>Sort Cards By</label><div class=boxes><label for=batch-reg-room-number-asc class="checkbox inline" ng-class="{\'checked\':sortOptions.sortOrder === \'roomNumberAscending\'}"><span class="icon-form icon-radio" ng-class="{\'checked\':sortOptions.sortOrder === \'roomNumberAscending\'}"></span> <input name=batch-reg-card-sort id=batch-reg-room-number-asc type=radio ng-model=sortOptions.sortOrder value=roomNumberAscending> Room Number <span>(Ascending)</span></label> <label for=batch-reg-room-number-desc class="checkbox inline" ng-class="{\'checked\':sortOptions.sortOrder === \'roomNumberDescending\'}"><span class="icon-form icon-radio" ng-class="{\'checked\':sortOptions.sortOrder === \'roomNumberDescending\'}"></span> <input name=batch-reg-card-sort id=batch-reg-room-number-desc type=radio ng-model=sortOptions.sortOrder value=roomNumberDescending> Room Number <span>(Descending)</span></label> <label for=batch-reg-last-name-asc class="checkbox inline" ng-class="{\'checked\':sortOptions.sortOrder === \'lastNameAscending\'}"><span class="icon-form icon-radio" ng-class="{\'checked\':sortOptions.sortOrder === \'lastNameAscending\'}"></span> <input name=batch-reg-card-sort id=batch-reg-last-name-asc type=radio ng-model=sortOptions.sortOrder value=lastNameAscending> Last Name <span>(Ascending)</span></label> <label for=batch-reg-last-name-desc class="checkbox inline" ng-class="{\'checked\':sortOptions.sortOrder === \'lastNameDescending\'}"><span class="icon-form icon-radio" ng-class="{\'checked\':sortOptions.sortOrder === \'lastNameDescending\'}"></span> <input name=batch-reg-card-sort id=batch-reg-last-name-desc type=radio ng-model=sortOptions.sortOrder value=lastNameDescending> Last Name <span>(Descending)</span></label></div></div><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialogBox()>Cancel</button> <button type=button id=print-reg-cards class="button blue modal-close with-icon" ng-click=printRegistrationCards()><span class="icons icon-print"></span> {{selected_reservations.length === 0 || selected_reservations.length === totalResultCount ? "PRINT ALL" : "PRINT SELECTED" }}</button></div></div></div>'),t.put("/assets/partials/allotments/details/grids/rvAllotmentConfigurationContractGrid.html",'<button type=button class=next-dates ng-class="{ \'hidden\': !shouldShowLoadNextSetButton() }" ng-click=fetchNextSetOfRoomBlockData()>{{\'ALLOTMENT_NEXT_SET\' | translate}} <span class="has-arrow next-view"></span></button><div class=no-content ng-hide=shouldHideAddRoomsButton()><div class=info><a ng-click=clickedOnAddRoomsAndRatesButton() class=button ng-disabled=shouldDisableAddRoomsAndRate() ng-class="{ \'green\': !shouldDisableAddRoomsAndRate(), \'grey\': shouldDisableAddRoomsAndRate()}" translate="">ADD_ROOMS_AND_RATE</a></div></div><div class="room-block-actions extended-timeline" ng-show=shouldShowRoomsRates()><button type=butotn class="button blue" ng-click=clickedOnAddRoomsAndRatesButton() translate="">ROOMS_AND_RATES</button></div><div class="room-block-sidebar extended-timeline scrollable" ng-show=shouldShowRoomsRates() ng-iscroll=room_block_scroller><div class=wrapper><div ng-class="{\'open\' : roomtype_rate.isCollapsed}" class=row ng-repeat="roomtype_rate in allotmentConfigData.roomblock.selected_room_types_and_bookings" ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions ng-init="roomtype_rate.isCollapsed = true" ngrepeatend=""><p class="line line-toggle" ng-class="{\'active\' : roomtype_rate.isCollapsed}" ng-click="roomtype_rate.isCollapsed = !roomtype_rate.isCollapsed">{{ ::roomtype_rate.room_type_name }}</p><ul ng-class="{\'hidden\' : !roomtype_rate.isCollapsed}"><li class=line translate="" ng-hide="allotmentConfigData.summary.rate != -1 && !roomtype_rate.rate_config.is_single_rate_configured">SINGLE</li><li class=line translate="" ng-hide="allotmentConfigData.summary.rate != -1 && !roomtype_rate.rate_config.is_double_rate_configured">DOUBLE</li><li class="line small add" ng-if=shouldShowAddTrippleButton(roomtype_rate) ng-click=addTripleEntryRow(roomtype_rate) ng-class="{\'add\': !shouldDisableAddTripleButton(roomtype_rate)}" translate="">ADD_TRIPLE</li><li class=line ng-if=shouldShowTripleEntryRow(roomtype_rate) translate="">TRIPLE</li><li class=line ng-if=shouldShowQuadrupleEntryRow(roomtype_rate) translate="">QUADRUPLE</li><li class="line small" ng-if=shouldShowAddQuadrupleButton(roomtype_rate) ng-click=addQuadrupleEntryRow(roomtype_rate) ng-class="{\'add\': !shouldDisableAddQuadrupleButton(roomtype_rate)}" translate="">ADD_QUADRUPLE</li><li class="line small add" ng-if="!shouldShowAddTrippleButton(roomtype_rate) && !shouldShowAddQuadrupleButton(roomtype_rate)"></li></ul></div></div></div><div ng-class="{\'room-block-timeline extended-timeline cols-3 scrollable\': true, \'paginated\': shouldShowLoadNextSetButton()}" ng-iscroll=room_rates_timeline_scroller ng-show=shouldShowRoomsRates()><ul class=wrapper style=width:{{getWidthForContractViewTimeLine()}};><li ng-repeat="occupancy in allotmentConfigData.roomblock.selected_room_types_and_occupanies" ng-class="{\'with-button\': !$index}"><div class=inner ng-class="{\'has-event-block\' : eventsCount[occupancy.date] > 0}" data-events={{eventsCount[occupancy.date]}} ng-click="showHouseEventsListPopup(eventsCount[occupancy.date], occupancy.date)"><span>{{ ::formatDateForUI(occupancy.date, fulldayInWeek) }}</span> <strong>{{ ::formatDateForUI(occupancy.date, monthAndDate) }}</strong> <em><i>{{ ::occupancy.occupancy }}</i><i>% Occupancy</i></em></div><div class=column><div class="line small"><em class=cell>Contract</em> <em class=cell>Held</em> <em class=cell>Picked-up</em></div><div class=line><input type=text value={{getTotalContractedOfDay($index)}} class=cell disabled=""> <input type=text value={{getTotalHeldOfDay($index)}} class=cell disabled=""> <input type=text value="{{ ::getTotalPickedUpOfDay($index) }}" class=cell disabled=""></div></div></li></ul></div><div ng-class="{\'room-block-grid extended-timeline cols-3 scrollable\': true,\'paginated\': shouldShowLoadNextSetButton()}" ng-iscroll=room_rates_grid_scroller ng-show=shouldShowRoomsRates()><div class=wrapper style=width:{{getWidthForContractViewTimeLine()}};><div class=row ng-repeat="roomType in allotmentConfigData.roomblock.selected_room_types_and_bookings" ngrepeatend=""><div class=column ng-repeat="dateData in roomType.dates" ng-class="{\'with-button\': !$index}"><div class=line><input type=text value={{getTotalContractedOfIndividualRoomType(dateData)}} class=cell disabled=""> <input type=text value={{getTotalHeldOfIndividualRoomType(dateData)}} class=cell disabled=""> <input type=text value={{getTotalPickedUpOfIndividualRoomType(dateData)}} class=cell disabled=""></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide="allotmentConfigData.summary.rate != -1 && !roomType.rate_config.is_single_rate_configured"><input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-disabled="shouldDisableSingleEntryBox(dateData, roomType)" ng-model=dateData.single_contract class=cell> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.single class=cell disabled=""> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.single_pickup class=cell disabled=""><button ng-if=!$index ng-click="copySingleContractValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right">Copy to all days</button></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide="allotmentConfigData.summary.rate != -1 && !roomType.rate_config.is_double_rate_configured"><input type=text rv-delay-textbox="" delay=100 ng-disabled="shouldDisableDoubleEntryBox(dateData, roomType)" function-to-fire=bookingDataChanging ng-model=dateData.double_contract class=cell> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.double class=cell disabled=""> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.double_pickup class=cell disabled=""><button ng-if=!$index ng-click="copyDoubleContractValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right">Copy to all days</button></div><div class=line ng-if=shouldShowTripleEntryRow(roomType) ng-class="{\'hidden\' : !roomType.isCollapsed}"><input type=text rv-delay-textbox="" delay=100 ng-disabled="shouldDisableTripleEntryBox(dateData, roomType)" function-to-fire=bookingDataChanging ng-model=dateData.triple_contract class=cell> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.triple class=cell disabled=""> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.triple_pickup class=cell disabled=""><button ng-if=!$index ng-click="copyTripleContractValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right">Copy to all days</button></div><div class=line ng-if=shouldShowQuadrupleEntryRow(roomType) ng-class="{\'hidden\' : !roomType.isCollapsed}"><input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-disabled="shouldDisableQuadrupleEntryBox(dateData, roomType)" ng-model=dateData.quadruple_contract class=cell> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.quadruple class=cell disabled=""> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.quadruple_pickup class=cell disabled=""><button ng-if=!$index ng-click="copyQuadrupleContractValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right">Copy to all days</button></div><div class="line small cellspan" ng-class="{\'hidden\' : !roomType.isCollapsed}"><em class=cellspan>{{\'AVAILABILITY_GROUP\'|translate}} <span ng-class="::{\'green\': (dateData.availability>0), \'red\': (dateData.availability==0) }">{{ ::dateData.availability }}</span></em></div></div></div></div></div>'),t.put("/assets/partials/allotments/details/grids/rvAllotmentConfigurationCurrentGrid.html",'<button type=button class=next-dates ng-class="{ \'hidden\': !shouldShowLoadNextSetButton() }" ng-click=fetchNextSetOfRoomBlockData()>{{\'ALLOTMENT_NEXT_SET\' | translate}} <span class="has-arrow next-view"></span></button><div class=no-content ng-hide="allotmentConfigData.summary.is_cancelled || shouldHideAddRoomsButton()"><div class=info><a ng-click=clickedOnAddRoomsAndRatesButton() class=button ng-disabled=shouldDisableAddRoomsAndRate() ng-class="{ \'green\': !shouldDisableAddRoomsAndRate(), \'grey\': shouldDisableAddRoomsAndRate()}" translate="">ADD_ROOMS_AND_RATE</a></div></div><div class="room-block-actions extended-timeline" ng-show=shouldShowRoomsRates()><button type=butotn class="button blue" ng-click=clickedOnAddRoomsAndRatesButton() translate="">ROOMS_AND_RATES</button></div><div class="room-block-sidebar extended-timeline scrollable" ng-show=shouldShowRoomsRates() ng-iscroll=room_block_scroller><div class=wrapper><div ng-class="{\'open\' : roomtype_rate.isCollapsed}" class=row ng-repeat="roomtype_rate in allotmentConfigData.roomblock.selected_room_types_and_bookings" ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions ng-init="roomtype_rate.isCollapsed = true"><p class="line line-toggle" ng-class="{\'active\' : roomtype_rate.isCollapsed}" ng-click="roomtype_rate.isCollapsed = !roomtype_rate.isCollapsed">{{ ::roomtype_rate.room_type_name }}</p><ul ng-class="{\'hidden\' : !roomtype_rate.isCollapsed}"><li class=line translate="" ng-hide="allotmentConfigData.summary.rate != -1 && !roomtype_rate.rate_config.is_single_rate_configured">SINGLE</li><li class=line translate="" ng-hide="allotmentConfigData.summary.rate != -1 && !roomtype_rate.rate_config.is_double_rate_configured">DOUBLE</li><li class="line small add" ng-if=shouldShowAddTrippleButton(roomtype_rate) ng-click=addTripleEntryRow(roomtype_rate) ng-class="{\'add\': !shouldDisableAddTripleButton(roomtype_rate)}" translate="">ADD_TRIPLE</li><li class=line ng-if=shouldShowTripleEntryRow(roomtype_rate) translate="">TRIPLE</li><li class=line ng-if=shouldShowQuadrupleEntryRow(roomtype_rate) translate="">QUADRUPLE</li><li class="line small" ng-if=shouldShowAddQuadrupleButton(roomtype_rate) ng-click=addQuadrupleEntryRow(roomtype_rate) ng-class="{\'add\': !shouldDisableAddQuadrupleButton(roomtype_rate)}" translate="">ADD_QUADRUPLE</li><li class="line small add" ng-if="!shouldShowAddTrippleButton(roomtype_rate) && !shouldShowAddQuadrupleButton(roomtype_rate)"></li></ul></div></div></div><div ng-class="{\'room-block-timeline extended-timeline scrollable\': true, \'paginated\': shouldShowLoadNextSetButton()}" ng-iscroll=room_rates_timeline_scroller ng-show=shouldShowRoomsRates()><ul class=wrapper style=width:{{getWidthForCurrentViewTimeLine()}};><li ng-repeat="occupancy in allotmentConfigData.roomblock.selected_room_types_and_occupanies" ng-class="{\'with-button\': !$index}"><div class=inner ng-class="{\'has-event-block\' : eventsCount[occupancy.date] > 0}" data-events={{eventsCount[occupancy.date]}} ng-click="showHouseEventsListPopup(eventsCount[occupancy.date], occupancy.date)"><span>{{ ::formatDateForUI(occupancy.date, fulldayInWeek) }}</span> <strong>{{ ::formatDateForUI(occupancy.date, monthAndDate) }}</strong> <em><i>{{ ::occupancy.occupancy }}</i><i>% Occupancy</i></em></div><div class=column><div class="line small"><em class=cell>Held</em> <em class=cell>Picked-up</em></div><div class=line><input type=text value={{getTotalHeldOfDay($index)}} class=cell disabled=""> <input type=text value="{{ ::getTotalPickedUpOfDay($index) }}" class=cell disabled=""></div></div></li></ul></div><div ng-class="{\'room-block-grid extended-timeline scrollable\':true,\'paginated\':shouldShowLoadNextSetButton()}" ng-iscroll=room_rates_grid_scroller ng-show=shouldShowRoomsRates()><div class=wrapper style=width:{{getWidthForCurrentViewTimeLine()}};><div class=row ng-repeat="roomType in allotmentConfigData.roomblock.selected_room_types_and_bookings" ngrepeatend=""><div class=column ng-repeat="dateData in roomType.dates" ng-class="{\'with-button\': !$index}"><div class=line><input type=text value={{getTotalHeldOfIndividualRoomType(dateData)}} class=cell disabled=""> <input type=text value={{getTotalPickedUpOfIndividualRoomType(dateData)}} class=cell disabled=""></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide="allotmentConfigData.summary.rate != -1 && !roomType.rate_config.is_single_rate_configured"><input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-disabled="shouldDisableSingleEntryBox(dateData, roomType)" ng-model=dateData.single class=cell><input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.single_pickup class=cell disabled=""><button ng-if=!$index ng-click="copySingleHeldValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right">Copy to all days</button></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide="allotmentConfigData.summary.rate != -1 && !roomType.rate_config.is_double_rate_configured"><input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.double ng-disabled="shouldDisableDoubleEntryBox(dateData, roomType)" class=cell> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.double_pickup class=cell disabled=""><button ng-if=!$index ng-click="copyDoubleHeldValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right">Copy to all days</button></div><div class=line ng-if=shouldShowTripleEntryRow(roomType) ng-class="{\'hidden\' : !roomType.isCollapsed}"><input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.triple ng-disabled="shouldDisableTripleEntryBox(dateData, roomType)" class=cell> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.triple_pickup class=cell disabled=""><button ng-if=!$index ng-click="copyTripleHeldValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right">Copy to all days</button></div><div class=line ng-if=shouldShowQuadrupleEntryRow(roomType) ng-class="{\'hidden\' : !roomType.isCollapsed}"><input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-disabled="shouldDisableQuadrupleEntryBox(dateData, roomType)" ng-model=dateData.quadruple class=cell> <input type=text rv-delay-textbox="" delay=100 function-to-fire=bookingDataChanging ng-model=dateData.quadruple_pickup class=cell disabled=""><button ng-if=!$index ng-click="copyQuadrupleHeldValueToOtherBlocks(dateData, roomType)" type=button class="admin-icons icon-mover-right">Copy to all days</button></div><div class="line small cellspan" ng-class="{\'hidden\' : !roomType.isCollapsed}"><em class=cellspan>{{\'AVAILABILITY_GROUP\'|translate}} <span ng-class="::{\'green\': (dateData.availability>0), \'red\': (dateData.availability==0) }">{{ ::dateData.availability }}</span></em></div></div></div></div></div>'),
t.put("/assets/partials/allotments/details/grids/rvAllotmentConfigurationReleaseGrid.html",'<button type=button class=next-dates ng-class="{ \'hidden\': !shouldShowLoadNextSetButton() }" ng-click=fetchNextSetOfRoomBlockData()>{{\'ALLOTMENT_NEXT_SET\' | translate}} <span class="has-arrow next-view"></span></button><div class=no-content ng-hide="allotmentConfigData.summary.is_cancelled || shouldHideAddRoomsButton()"><div class=info><a ng-click=clickedOnAddRoomsAndRatesButton() class=button ng-disabled=shouldDisableAddRoomsAndRate() ng-class="{ \'green\': !shouldDisableAddRoomsAndRate(), \'grey\': shouldDisableAddRoomsAndRate()}" translate="">ADD_ROOMS_AND_RATE</a></div></div><div class="room-block-actions release-range" ng-show=shouldShowRoomsRates()><div class=entry><label for=allotment-release-range>Release Range (In Days)</label> <input id=allotment-release-range type=text class=highlight ng-model=allotmentConfigData.roomblock.common_ui_release_days> <button type=button class="admin-icons icon-mover-right" ng-click=copyReleaseRangeToAllBlocks(allotmentConfigData.roomblock.common_ui_release_days)>Fill</button></div><button type=button class="button green" ng-show=releaseDaysEdited ng-click=saveReleaseDaysEdit()>Apply</button> <button type=button class="button red" ng-show=releaseDaysEdited ng-click=resetReleaseDaysEdit()>Cancel</button></div><div class="room-block-sidebar release-range scrollable" ng-show=shouldShowRoomsRates() ng-iscroll=room_block_scroller><div class=wrapper><div ng-class="{\'open\' : roomtype_rate.isCollapsed}" class=row ng-repeat="roomtype_rate in allotmentConfigData.roomblock.selected_room_types_and_bookings" ui-jq=accordion ui-options=accordionInitiallyNotCollapsedOptions ng-init="roomtype_rate.isCollapsed = true" ngrepeatend=""><p class="line line-toggle" ng-class="{\'active\' : roomtype_rate.isCollapsed}" ng-click="roomtype_rate.isCollapsed = !roomtype_rate.isCollapsed">{{ ::roomtype_rate.room_type_name }}</p><ul ng-class="{\'hidden\' : !roomtype_rate.isCollapsed}"><li class=line translate="" ng-hide="allotmentConfigData.summary.rate != -1 && !roomtype_rate.rate_config.is_single_rate_configured">SINGLE</li><li class=line translate="" ng-hide="allotmentConfigData.summary.rate != -1 && !roomtype_rate.rate_config.is_double_rate_configured">DOUBLE</li><li class="line small add" ng-if=shouldShowAddTrippleButton(roomtype_rate) ng-click=addTripleEntryRow(roomtype_rate) ng-class="{\'add\': !shouldDisableAddTripleButton(roomtype_rate)}" translate="">ADD_TRIPLE</li><li class=line ng-if=shouldShowTripleEntryRow(roomtype_rate) translate="">TRIPLE</li><li class=line ng-if=shouldShowQuadrupleEntryRow(roomtype_rate) translate="">QUADRUPLE</li><li class="line small" ng-if=shouldShowAddQuadrupleButton(roomtype_rate) ng-click=addQuadrupleEntryRow(roomtype_rate) ng-class="{\'add\': !shouldDisableAddQuadrupleButton(roomtype_rate)}" translate="">ADD_QUADRUPLE</li><li class="line small add" ng-if="!shouldShowAddTrippleButton(roomtype_rate) && !shouldShowAddQuadrupleButton(roomtype_rate)"></li></ul></div></div></div><div ng-class="{\'room-block-timeline release-range scrollable\': true,\'paginated\': shouldShowLoadNextSetButton()}" ng-iscroll=room_rates_timeline_scroller ng-show=shouldShowRoomsRates()><ul class=wrapper style="width: {{getWidthForReleaseViewTimeLine()}}"><li ng-repeat="occupancy in allotmentConfigData.roomblock.selected_room_types_and_occupanies" ng-class="{\'with-button\': !$index}"><div class=inner ng-class="{\'has-event-block\' : eventsCount[occupancy.date] > 0}" data-events={{eventsCount[occupancy.date]}} ng-click="showHouseEventsListPopup(eventsCount[occupancy.date], occupancy.date)"><span>{{ ::formatDateForUI(occupancy.date, fulldayInWeek) }}</span> <strong>{{ ::formatDateForUI(occupancy.date, monthAndDate) }}</strong> <em><i>{{ ::occupancy.occupancy }}</i><i>% Occupancy</i></em></div><div class=column><div class=line><input type=text class=highlight ng-model=occupancy.ui_release_days> <button type=button class="admin-icons icon-mover-right" ng-click="copyReleaseRangeDown(occupancy.ui_release_days, $index)">Fill</button></div></div></li></ul></div><div ng-class="{\'room-block-grid release-range scrollable\': true,\'paginated\': shouldShowLoadNextSetButton()}" ng-iscroll=room_rates_grid_scroller ng-show=shouldShowRoomsRates()><div class=wrapper style="width: {{ getWidthForReleaseViewTimeLine() }}"><div class=row ngrepeatend="" ng-repeat="roomType in allotmentConfigData.roomblock.selected_room_types_and_bookings"><div class=column ng-repeat="dateData in roomType.dates" ng-class="{\'with-button\': !$index}"><div class=line><input type=number class=highlight ng-model=dateData.release_days rv-delay-textbox="" delay=100 function-to-fire=releaseDateChanging></div><div class="line small" ng-class="{\'hidden\' : !roomType.isCollapsed}"><em class=cell>Total</em> <em class=cell>Picked-up</em></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide="allotmentConfigData.summary.rate != -1 && !roomType.rate_config.is_single_rate_configured"><input type=text value={{dateData.single}} class=cell disabled=""><input type=text value={{dateData.single_pickup}} class=cell disabled=""></div><div class=line ng-class="{\'hidden\' : !roomType.isCollapsed}" ng-hide="allotmentConfigData.summary.rate != -1 && !roomType.rate_config.is_double_rate_configured"><input type=text value={{dateData.double}} class=cell disabled=""> <input type=text value={{dateData.double_pickup}} class=cell disabled=""></div><div class=line ng-if=shouldShowTripleEntryRow(roomType) ng-class="{\'hidden\' : !roomType.isCollapsed}"><input type=text value={{dateData.triple}} class=cell disabled=""> <input type=text value={{dateData.triple_pickup}} class=cell disabled=""></div><div class=line ng-if=shouldShowQuadrupleEntryRow(roomType) ng-class="{\'hidden\' : !roomType.isCollapsed}"><input type=text value={{dateData.quadruple}} class=cell disabled=""> <input type=text value={{dateData.quadruple_pickup}} class=cell disabled=""></div><div class="line small cellspan" ng-class="{\'hidden\' : !roomType.isCollapsed}"><em class=cellspan>{{\'AVAILABILITY_GROUP\'|translate}} <span ng-class="::{\'green\': (dateData.availability>0), \'red\': (dateData.availability==0) }">{{ ::dateData.availability }}</span></em></div></div></div></div></div>'),t.put("/assets/partials/cards/contents/allotments/rvAllotmentCardContent.html",'<div ng-controller=rvCardAllomentsContentCtrl><div id=group-card-content class="card-tabs card-content" ng-class="UICardContentCls(\'allotment-card\')" ng-if=!searchMode><ul id=allotment-card-tabs-nav class="card-tabs-nav ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class=ui-tabs-active><a translate="">SUMMARY</a></li></ul><span ng-include="\'/assets/partials/allotments/summary/rvAllotmentConfigurationSummaryTab.html\'"></span></div><div id=company-card-content class="card-search card-content" ng-class="UICardContentCls(\'allotment-card\')" ng-if=searchMode><span ng-include="\'/assets/partials/cards/contents/allotments/rvAllotmentCardSearchResults.html\'"></span></div></div>'),t.put("/assets/partials/cards/contents/allotments/rvAllotmentCardHeader.html",'<div id=allotment-card-content class="card-header change-card fifth" ng-class="UICardClass(\'allotment-card\')" ng-show=isStandAlone outside-click-handler="" ng-controller=rvCardAllotmentsHeaderCtrl><section ng-if=!searchMode><div class="guest-image icons icon-allotment-large" ng-click="switchCard(\'allotment-card\')"></div><form name=new-allotment id=new-allotment><div class=holder><div class=entry><input id=group-name placeholder="" value={{allotmentConfigData.summary.group_name}} type=text class="masked-input h1"></div></div><div class=holder><input class="masked-input fixed long-name h1" name=allotment-name id=allotment-name placeholder="Allotment Name" value={{allotmentConfigData.summary.company.name}} type=text><input class="masked-input fixed code h1" name=allotment-code id=allotment-code placeholder="Allotment Code #" value={{allotmentConfigData.summary.travel_agent.name}} type=text></div></form><div class="card-actions dual-actions"><button type=button class="button blue" ng-hide=true>Duplicate</button><button type=button class="button brand-colors dual-actions" ng-click=gotoAllotmentDetails()>Group Details</button> <button type=button class="button red dual-actions" ng-click=removeGroupCard()>Remove Group</button></div></section><section ng-if=searchMode><div class="guest-image icons icon-group-allotment new" ng-click="switchCard(\'allotment-card\')"><span class=search-indicator></span></div><form method=post id=search-allotment-group class=card-search-form role=search><div class=holder><div class=entry ng-click=openGuestCard()><input id=allotment-group-name placeholder="Allotment Name" value="" class="masked-input fixed long-name h1" type=text rv-delay-textbox="" ng-model=searchData.allotmentCard.name delay=1000 function-to-fire=searchAllotments> <input id=allotment-group-code placeholder="Allotment Code #" value="" class="masked-input fixed code h1" type=text rv-delay-textbox="" ng-model=searchData.allotmentCard.code delay=1000 function-to-fire=searchAllotments></div></div></form></section></div>'),t.put("/assets/partials/cards/contents/allotments/rvAllotmentCardSearchResults.html",'<div id=search-group-content class="search-cards scrollable"><div class=wrapper ng-show="searchingAllotment && searchedAllotment.length > 0" style="height:100%; overflow: hidden;" ng-iscroll=result_showing_area ng-iscroll-delay=500><ul id=search-allotment-group-results class=search-results><li class="group with-image" ng-repeat="allotment in allotmentList" ngrepeatend="" ngrepeatstarted=""><div class="guest-image icons icon-allotment"></div><a ng-click="selectAllotment(allotment, $event)"><div class=data><h2 ng-bind-html="escapeNull(allotment.group_name)| highlight:searchData.groupCard.name:false"></h2><span class=confirmation ng-bind-html="escapeNull(allotment.group_code)| highlight:searchData.groupCard.code:false"></span><span class="icons icon-guest-company" ng-hide=isEmpty(allotment.company)>{{allotment.company}}</span><span class="icons icon-guest-travelagent" ng-hide=isEmpty(allotment.travel_agent)>{{allotment.travel_agent}}</span></div><div class=arrival><span class=guest-status ng-class=getGuestClassForArrival(allotment)></span><time datetime=allotment.arrival_date>{{formatDateForUI(allotment.arrival_date)}}</time></div><div class=departure><span class=guest-status ng-class=getGuestClassForDeparture(allotment)></span><time datetime=allotment.departure_date>{{formatDateForUI(allotment.departure_date)}}</time></div><div class=blocked ng-class=getClassAgainstHoldStatus(allotment)><strong>{{allotment.total_booked === null? \'0\':allotment.total_booked}}</strong> <span>{{allotment.hold_status}}</span></div><div class=picked ng-class=getClassAgainstPickedStatus(allotment)><strong>{{allotment.total_picked_count === null? \'0\' :allotment.total_picked_count}}</strong> <span>Picked Up</span></div></a></li></ul></div><div id=search-group-no-results class="search-cards no-content" ng-show="searchingAllotment && searchedAllotment.length === 0"><div class=info><span class="icon-no-content icon-cards"></span> <strong class=h1>No Matches</strong> <span class=h2>Check that you didn\'t mispell the <strong>Group Name</strong> or <strong>Code</strong></span></div><div class=info ng-hide=searchingAllotment><span class="icon-no-content icon-groups"></span> <strong class=h1>Find Group</strong> <span class=h2>Search by <strong>Group Name</strong> or <strong>Code</strong></span></div></div></div>'),t.put("/assets/partials/cards/popups/allotment/rvResAttachingToAllotmentNoAvailability.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">INSUFFICIENT_INV_ALLOTMENT_REVIEW_ROOM_BLOCK</span> <button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div>'),t.put("/assets/partials/cards/popups/allotment/rvResAttachingToAllotmentOtherRoomTypeAvailabe.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">INSUFFICIENT_INV_ALLOTMENT_REVIEW_ROOM_BLOCK</span> <button type=button class="button green modal-close" ng-click=navigateToRoomAndRates()>Rooms &amp; Rates</button> <button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div>'),t.put("/assets/partials/cards/popups/allotment/rvResAttachingToAllotmentRoomTypeIsNotConfigured.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">ROOM_TYPE_NOT_CONFIGURED_IN_ALLOTMENT</span> <button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div>'),t.put("/assets/partials/cards/popups/group/rvResAttachingToGroupNoAvailability.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">INSUFFICIENT_INV_GROUP_REVIEW_ROOM_BLOCK</span> <button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div>'),t.put("/assets/partials/cards/popups/group/rvResAttachingToGroupOtherRoomTypeAvailabe.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">INSUFFICIENT_INV_GROUP_REVIEW_ROOM_BLOCK</span> <button type=button class="button green modal-close" ng-click=navigateToRoomAndRates()>Rooms &amp; Rates</button> <button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div>'),t.put("/assets/partials/cards/popups/group/rvResAttachingToGroupRoomTypeIsNotConfigured.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">ROOM_TYPE_NOT_CONFIGURED_IN_GROUP</span> <button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div>'),t.put("/assets/partials/groups/summary/popups/detachCardWarningPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">COMPANY_CARD_DETACH_BILLING_INFO_WARNING</span> <button type=button class="button red" ng-click=closeDialog();detachCard(ngDialogData.cardType)>Detach Card</button> <button type=button class="button blank" ng-click=closeDialog();cancelDetachment(ngDialogData.cardType)>Cancel</button></div></div>'),t.put("/assets/partials/groups/summary/popups/detachCardsAPIErrorPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" ng-repeat="message in ngDialogData.errorMessages track by $index">{{message}}</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog();reloadPage()>Close</button></div></div></div>'),t.put("/assets/partials/housekeeping/popups/roomTab/rvRoomTabReservationExist.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert room-ooo"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class=title><span class="icons icon-popup-alert"></span> <span class="h2 message">Please move reservation to another room.</span> <span class=text>For the selected date & time room is assigned to reservation(s) for:</span></div><div id=ooo-guests class="guests scrollable" ng-iscroll=reservation-list-scroller><ul class=wrapper><li ng-repeat="reservation in ngDialogData.reservations"><strong ng-if="reservation.last_name || reservation.first_name">{{reservation.last_name}}, {{reservation.first_name}}</strong> <span>Reservation #<em>{{reservation.confirm_no}}</em></span></li></ul></div><div class=actions><button type=button class="button blue" ng-click=forcefullyPutRoomToOOSorOOO()>Put {{ooOsTitle}} anyway</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/housekeeping/popups/roomTab/rvRoomTabWebInProgressPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert room-ooo"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">WEB_IN_PROGRESS_HOUSE_KEEPING</span><div class=actions><button type=button class="button blank" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionForm.html","<div class=scrollable ng-iscroll=hierarchyPopupFormScroll><div class=wrapper ng-class=\"{'showing-dropdown': showRestrictionSelection}\"><h2>{{(popUpView === 'NEW') ? 'Set' : (popUpView === 'EDIT') ? 'Edit' : ''}} Restriction</h2><div class=entry-group><div class=\"entry margin restriction\"><label>Restriction</label><div class=faux-select ng-class=\"{'placeholder': showPlaceholder(), 'disabled disable-element': disableSelectBox()}\" ng-click=toggleRestrictionSelection()><div class=restriction-option ng-if=showPlaceholder()><span class=restriction-icon></span> <span class=restriction-title>Select a Restriction</span></div><div class=restriction-option ng-if=!showPlaceholder()><span class=\"{{'restriction-icon ' + selectedRestriction.bgClass + ' ' + selectedRestriction.iconClass}}\"></span> <span class=restriction-title>{{selectedRestriction.title}}</span></div></div><div class=faux-select-options ng-class=\"{'hidden': !showRestrictionSelection}\"><div ng-repeat=\"restriction in restrictionStylePack\" class=restriction-option ng-click=restrictionSelected(restriction)><span class=\"{{'restriction-icon ' + restriction.bgClass + ' ' + restriction.iconClass}}\"></span> <span class=restriction-title>{{restriction.title}}</span></div></div></div><div class=\"entry short\" ng-show=showNights()><label>Nights</label> <input type=number ng-model=selectedRestriction.value></div></div><div class=entry-group><div class=\"entry margin\"><label>Schedule</label> <label class=checkbox ng-class=\"{'checked': restrictionObj.isRepeatOnDates}\" ng-click=clickedOnRepeatOnDates()><span class=\"icon-form icon-checkbox\" ng-class=\"{'checked': restrictionObj.isRepeatOnDates}\"></span> <input type=checkbox ng-checked=restrictionObj.isRepeatOnDates> Repeat on Dates</label></div></div><span ng-if=\"header.hierarchyType !== 'House'\" rv-include-template=/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionSearchSetOnDetails.html></span></div></div>"),t.put("/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionPopup.html","<div id=modal ng-class=\"{'modal-show': !modalClosing}\" role=dialog ng-cloak=\"\"><div class=\"rate-manager-modal rate-manager-hierarchy modal-content\" ng-class=\"{'restriction-view': (popUpView === 'NEW' || popUpView === 'EDIT'), 'showing-dates': restrictionObj.isRepeatOnDates, 'with-restriction-list': (header.hierarchyType !== 'House' && selectedRestriction.activeGroupList.length > 0)}\"><button class=\"modal-close dark-title\" id=modal-close type=button><span class=\"icons icon-close\" ng-click=closeDialog()></span></button><div ng-include=\"'/assets/partials/common/notification_message.html'\"></div><div class=modal-container><div class=modal-header><div class=modal-header-left><h2 class=h1>{{header.date}}</h2><em ng-class=\"{'yellow': header.hierarchyType === 'House'}\">{{header.hierarchyType}} restrictions</em></div><div class=modal-header-right><button type=button class=\"button green\" ng-class=\"{'hidden': popUpView === 'NEW' || popUpView === 'EDIT', 'grey disable-element': header.disableNewRestriction, 'green': !header.disableNewRestriction}\" ng-click=initiateNewRestrictionForm()>Set Restriction</button></div></div><div class=modal-body><div class=restrictions-list ng-show=\"(header.hierarchyType !== 'House' && selectedRestriction.activeGroupList.length > 0)\"><div class=scrollable><div class=wrapper><ul><li ng-repeat=\"restriction in selectedRestriction.activeGroupList\" ng-class=\"{'active': selectedRestriction.activeGroupIndex === $index }\" ng-click=clickedOnLeftRestrictionList($index)><div class=\"{{'restriction-icon ' + selectedRestriction.bgClass + ' ' + selectedRestriction.iconClass}}\">{{selectedRestriction.type === 'number' ? restriction.value : ''}}</div></li><li><button type=button class=add-new-button ng-click=clickedOnAddNew()>+</button></li></ul></div></div></div><div class=restriction-content><div class=content-middle><span ng-show=\"popUpView === 'EMPTY'\" rv-include-template=/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionsEmpty.html></span> <span ng-show=\"popUpView === 'LIST'\" rv-include-template=/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionsList.html></span> <span ng-show=\"popUpView === 'NEW' || popUpView === 'EDIT'\" rv-include-template=/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionForm.html></span></div><div class=content-right><span ng-show=\"popUpView === 'NEW' || popUpView === 'EDIT'\" rv-include-template=/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionsRepeatOnDates.html></span></div><div class=footer><div class=actions ng-class=\"{'with-remove-button': popUpView === 'EDIT'}\"><button class=\"button blank\" type=button ng-click=closeDialog() ng-class=\"{'hidden': popUpView === 'NEW' || popUpView === 'EDIT'}\">Close window</button> <button ng-show=\"popUpView === 'EDIT'\" class=\"button red first-button\" ng-class=\"{'small': !restrictionObj.isRepeatOnDates, 'grey disable-element': disableRemoveButton()}\" type=button ng-click=clickedOnRemoveButton()>{{getRemoveButtonLabel()}}</button> <button class=\"button blank\" ng-class=\"{'hidden': (popUpView !== 'NEW' && popUpView !== 'EDIT')}\" type=button ng-click=backToInitialScreen()>Cancel</button> <button class=\"button last-button\" ng-class=\"{'hidden': (popUpView !== 'NEW' && popUpView !== 'EDIT'), 'grey disable-element': !validateForm(), 'green': validateForm(), 'small': !restrictionObj.isRepeatOnDates}\" type=button ng-click=saveHierarchyRestriction()>{{getSetButtonLabel()}}</button></div></div></div></div></div></div></div>"),t.put("/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionSearchSetOnDetails.html",'<div class=entry-group ng-controller=rvRateManagerHierarchyRestrictionSearchSetOnDetailsCtrl><div class="entry full-width"><label>{{searchObj.headerLabel}}</label><div class="entry full-width autocomplete-search" ng-class="{\'selected\': (!restrictionObj.isSetOnAllActive && searchObj.selectedList.length > 0), \'searching\': searchObj.isShowResults}"><div class=search ng-hide=restrictionObj.isSetOnAllActive ng-class="{\'overlay\': !selectedRestriction.id}"><button type=submit name=submit class="icons icon-search">Search</button> <input ng-model=searchObj.query ng-click=showResults() ng-focus=showResults() ng-blur=hideResults() ng-change=queryEntered() name=autocomplete-search class=query placeholder={{searchObj.placeholder}} autocomplete=off type=search></div><div class=apply-on-all ng-show=restrictionObj.isSetOnAllActive><div class=notice>{{searchObj.noticeLabel}}</div></div><label class="checkbox autocomplete-checkbox" ng-click=clickedOnAllCheckBox() ng-class="{\'checked\': restrictionObj.isSetOnAllActive}"><span class="icon-form icon-checkbox" ng-class="{\'checked\': restrictionObj.isSetOnAllActive}"></span> <input type=checkbox value=1> On All</label><div ng-show="searchObj.isShowResults && !restrictionObj.isSetOnAllActive" class=scrollable ng-iscroll=searchSetOnDetailsScroll><div class=wrapper><div class=card ng-repeat="item in searchObj.results track by $index" ng-click=clickedOnResult(item)><span ng-bind-html="escapeNull(item.name) | highlight:searchObj.query:false" class=rate-name></span> <span ng-bind-html="escapeNull(item.code) | highlight:searchObj.query:false" class=rate-code></span></div></div></div><div ng-show="!searchObj.isShowResults && !restrictionObj.isSetOnAllActive" class="scrollable autocomplete-search-selected"><div class=card ng-repeat="item in searchObj.selectedList track by $index"><span class=rate-name><strong>{{item.name}}</strong></span> <button type=button class="button remove-card" ng-click=clickedOnRemoveItem($index)><span class="icons icon-remove-10"></span></button></div></div></div></div></div>'),t.put("/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionsDatePicker.html","<div id=modal class=modal-show ng-class=\"{'modal-show': !modalClosing}\"><div ui-date=dateOptions ng-model=date ui-date-format=yy-mm-dd class=ngmodal-uidate-wrap></div></div>"),t.put("/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionsEmpty.html",'<div class=no-content><div class=info><span class="icon-no-content icon-restrictions"></span> <strong class=h1>No Restrictions</strong> <span class=h2>There are no {{header.hierarchyType}} restrictions on this day.</span></div></div>'),t.put("/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionsList.html",'<div class=restrictions-table ng-controller=rvRateManagerHierarchyRestrictionsListCtrl><ul class=restrictions-table-header><li>Restriction</li><li ng-hide="ngDialogData.hierarchyLevel === \'House\'">Set on</li><li>Remove</li></ul><div class="scrollable restrictions-table-list" ng-iscroll=hierarchyPopupListScroll><div class=wrapper><ul><li ng-if=restrictionObj.listData.closed><div class=restriction-item ng-class="{\'disable-element\': isPastDate()}" ng-click="clickedOnListItem(\'closed\')"><div class=data><span class="restriction-icon bg-red icon-cross"></span> <span class=restriction-title>CLOSED</span></div><div ng-if="restrictionObj.listData.closed.set_on_values.length !== restrictionObj.setOnCount" class=set-on ng-hide="ngDialogData.hierarchyLevel === \'House\' || restrictionObj.listData.closed.set_on_values.length === 0"><span class=set-on-text>{{restrictionObj.listData.closed.set_on_values[0].name}}</span> <span class=set-on-more ng-show="restrictionObj.listData.closed.set_on_values.length > 1">+{{restrictionObj.listData.closed.set_on_values.length - 1}} more</span></div><div ng-if="restrictionObj.listData.closed.set_on_values.length === restrictionObj.setOnCount" class=set-on><div class=notice>{{restrictionObj.noticeLabel}}</div></div></div><button type=button class="button white remove-restriction" ng-class="{\'overlay\': isPastDate()}"><span class="icons icon-remove-40" ng-click="clickedOnRemove(\'closed\', false, restrictionObj.listData.closed.set_on_values)"></span></button></li><li ng-if=restrictionObj.listData.closed_arrival><div class=restriction-item ng-class="{\'disable-element\': isPastDate()}" ng-click="clickedOnListItem(\'closed_arrival\')"><div class=data><span class="restriction-icon bg-red icon-block"></span> <span class=restriction-title>CLOSED TO ARRIVAL</span></div><div ng-if="restrictionObj.listData.closed_arrival.set_on_values.length !== restrictionObj.setOnCount" class=set-on ng-hide="ngDialogData.hierarchyLevel === \'House\' || restrictionObj.listData.closed_arrival.set_on_values.length === 0"><span class=set-on-text>{{restrictionObj.listData.closed_arrival.set_on_values[0].name}}</span> <span class=set-on-more ng-show="restrictionObj.listData.closed_arrival.set_on_values.length > 1">+{{restrictionObj.listData.closed_arrival.set_on_values.length - 1}} more</span></div><div ng-if="restrictionObj.listData.closed_arrival.set_on_values.length === restrictionObj.setOnCount" class=set-on><div class=notice>{{restrictionObj.noticeLabel}}</div></div></div><button type=button class="button white remove-restriction" ng-class="{\'overlay\': isPastDate()}"><span class="icons icon-remove-40" ng-click="clickedOnRemove(\'closed_arrival\', false, restrictionObj.listData.closed_arrival.set_on_values)"></span></button></li><li ng-if=restrictionObj.listData.closed_departure><div class=restriction-item ng-class="{\'disable-element\': isPastDate()}" ng-click="clickedOnListItem(\'closed_departure\')"><div class=data><span class="restriction-icon bg-red"></span> <span class=restriction-title>CLOSED TO DEPARTURE</span></div><div ng-if="restrictionObj.listData.closed_departure.set_on_values.length !== restrictionObj.setOnCount" class=set-on ng-hide="ngDialogData.hierarchyLevel === \'House\' || restrictionObj.listData.closed_departure.set_on_values.length === 0"><span class=set-on-text>{{restrictionObj.listData.closed_departure.set_on_values[0].name}}</span> <span class=set-on-more ng-show="restrictionObj.listData.closed_departure.set_on_values.length > 1">+{{restrictionObj.listData.closed_departure.set_on_values.length - 1}} more</span></div><div ng-if="restrictionObj.listData.closed_departure.set_on_values.length === restrictionObj.setOnCount" class=set-on><div class=notice>{{restrictionObj.noticeLabel}}</div></div></div><button type=button class="button white remove-restriction" ng-class="{\'overlay\': isPastDate()}"><span class="icons icon-remove-40" ng-click="clickedOnRemove(\'closed_departure\', false, restrictionObj.listData.closed_departure.set_on_values)"></span></button></li><li ng-class="{\'grouped\': restrictionObj.listData.min_length_of_stay.length > 1, \'first\': $first, \'last\': $last}" ng-if=restrictionObj.listData.min_length_of_stay ng-repeat="restriction in restrictionObj.listData.min_length_of_stay"><div class=restriction-item ng-class="{\'disable-element\': isPastDate()}" ng-click="clickedOnListItem(\'min_length_of_stay\', $index)"><div class=data><span class="restriction-icon bg-blue">{{restriction.value}}</span> <span class=restriction-title>MIN LENGTH OF STAY</span></div><div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class=set-on ng-hide="ngDialogData.hierarchyLevel === \'House\' || restriction.set_on_values.length === 0"><span class=set-on-text>{{restriction.set_on_values[0].name}}</span> <span class=set-on-more ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span></div><div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class=set-on><div class=notice>{{restrictionObj.noticeLabel}}</div></div></div><button type=button class="button white remove-restriction" ng-class="{\'overlay\': isPastDate()}"><span class="icons icon-remove-40" ng-click="clickedOnRemove(\'min_length_of_stay\', null, restriction.set_on_values)"></span></button></li><li ng-class="{\'grouped\': restrictionObj.listData.max_length_of_stay.length > 1, \'first\': $first, \'last\': $last}" ng-if=restrictionObj.listData.max_length_of_stay ng-repeat="restriction in restrictionObj.listData.max_length_of_stay"><div class=restriction-item ng-class="{\'disable-element\': isPastDate()}" ng-click="clickedOnListItem(\'max_length_of_stay\', $index)"><div class=data><span class="restriction-icon bg-blue-dark">{{restriction.value}}</span> <span class=restriction-title>MAX LENGTH OF STAY</span></div><div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class=set-on ng-hide="ngDialogData.hierarchyLevel === \'House\' || restriction.set_on_values.length === 0"><span class=set-on-text>{{restriction.set_on_values[0].name}}</span> <span class=set-on-more ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span></div><div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class=set-on><div class=notice>{{restrictionObj.noticeLabel}}</div></div></div><button type=button class="button white remove-restriction" ng-class="{\'overlay\': isPastDate()}"><span class="icons icon-remove-40" ng-click="clickedOnRemove(\'max_length_of_stay\', null, restriction.set_on_values)"></span></button></li><li ng-class="{\'grouped\': restrictionObj.listData.min_stay_through.length > 1, \'first\': $first, \'last\': $last}" ng-if=restrictionObj.listData.min_stay_through ng-repeat="restriction in restrictionObj.listData.min_stay_through"><div class=restriction-item ng-class="{\'disable-element\': isPastDate()}" ng-click="clickedOnListItem(\'min_stay_through\', $index)"><div class=data><span class="restriction-icon bg-violet">{{restriction.value}}</span> <span class=restriction-title>MIN STAY THROUGH</span></div><div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class=set-on ng-hide="ngDialogData.hierarchyLevel === \'House\' || restriction.set_on_values.length === 0"><span class=set-on-text>{{restriction.set_on_values[0].name}}</span> <span class=set-on-more ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span></div><div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class=set-on><div class=notice>{{restrictionObj.noticeLabel}}</div></div></div><button type=button class="button white remove-restriction" ng-class="{\'overlay\': isPastDate()}"><span class="icons icon-remove-40" ng-click="clickedOnRemove(\'min_stay_through\', null, restriction.set_on_values)"></span></button></li><li ng-class="{\'grouped\': restrictionObj.listData.min_advanced_booking.length > 1, \'first\': $first, \'last\': $last}" ng-if=restrictionObj.listData.min_advanced_booking ng-repeat="restriction in restrictionObj.listData.min_advanced_booking"><div class=restriction-item ng-class="{\'disable-element\': isPastDate()}" ng-click="clickedOnListItem(\'min_advanced_booking\', $index)"><div class=data><span class="restriction-icon bg-green">{{restriction.value}}</span> <span class=restriction-title>MIN ADVANCE BOOKING</span></div><div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class=set-on ng-hide="ngDialogData.hierarchyLevel === \'House\' || restriction.set_on_values.length === 0"><span class=set-on-text>{{restriction.set_on_values[0].name}}</span> <span class=set-on-more ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span></div><div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class=set-on><div class=notice>{{restrictionObj.noticeLabel}}</div></div></div><button type=button class="button white remove-restriction" ng-class="{\'overlay\': isPastDate()}"><span class="icons icon-remove-40" ng-click="clickedOnRemove(\'min_advanced_booking\', null, restriction.set_on_values)"></span></button></li><li ng-class="{\'grouped\': restrictionObj.listData.max_advanced_booking.length > 1, \'first\': $first, \'last\': $last}" ng-if=restrictionObj.listData.max_advanced_booking ng-repeat="restriction in restrictionObj.listData.max_advanced_booking"><div class=restriction-item ng-class="{\'disable-element\': isPastDate()}" ng-click="clickedOnListItem(\'max_advanced_booking\', $index)"><div class=data><span class="restriction-icon bg-orange">{{restriction.value}}</span> <span class=restriction-title>MAX ADVANCE BOOKING</span></div><div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class=set-on ng-hide="ngDialogData.hierarchyLevel === \'House\' || restriction.set_on_values.length === 0"><span class=set-on-text>{{restriction.set_on_values[0].name}}</span> <span class=set-on-more ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span></div><div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class=set-on><div class=notice>{{restrictionObj.noticeLabel}}</div></div></div><button type=button class="button white remove-restriction" ng-class="{\'overlay\': isPastDate()}"><span class="icons icon-remove-40" ng-click="clickedOnRemove(\'max_advanced_booking\', null, restriction.set_on_values)"></span></button></li></ul></div></div></div>'),
t.put("/assets/partials/rateManager_/popup/hierarchyRestriction/rvRateManagerHierarchyRestrictionsRepeatOnDates.html",'<div class=scrollable ng-controller=rvRateManagerHierarchyRestrictionsRepeatOnDatesCtrl ng-iscroll=repeatOnDatesScroller><div class=wrapper><h2>Repeat on Dates</h2><div class=notice ng-show=selectedRestriction.title ng-if="ngDialogData.hierarchyLevel === \'House\'">Overrides All <strong>{{selectedRestriction.title}}</strong> restrictions set on the house and dates</div><div class=notice ng-show=selectedRestriction.title ng-if="ngDialogData.hierarchyLevel === \'RoomType\'">Overrides All <strong>{{selectedRestriction.title}}</strong> restrictions set on these room types and dates</div><div class=notice ng-show=selectedRestriction.title ng-if="ngDialogData.hierarchyLevel === \'RateType\'">Overrides All <strong>{{selectedRestriction.title}}</strong> restrictions set on these rate types and dates</div><div class=notice ng-show=selectedRestriction.title ng-if="ngDialogData.hierarchyLevel === \'Rate\'">Overrides All <strong>{{selectedRestriction.title}}</strong> restrictions set on these rates and dates</div><h4>For every</h4><div class=list_week_days><label ng-repeat="day in restrictionObj.daysList" class=checkbox ng-class="{\'checked\': day.isChecked}" ng-click=checkedEachDay($index)><span class="icon-form icon-checkbox" ng-class="{\'checked\': day.isChecked}"></span> <input value=restrictions type=checkbox ng-checked=day.isChecked> {{day.name}}</label> <button class="button white" ng-class=getButtonClass() ng-click=clickedSelectAllOrClearAll()>{{generateButtonText()}}</button></div><h4>Until</h4><div class=has-datepicker ng-click=clickedUntilDate()><input ng-value="restrictionObj.untilDate | date:dateFormat" id=rmDateRange placeholder="Select Date Range" readonly="" maxlength=8 class=hasDatepicker name=""> <button type=button class=ui-datepicker-trigger>...</button></div></div></div>'),t.put("/assets/partials/rateManager_/popup/left/rvRateManagerPopupLeftRestrictionList.html","<div class=restriction-list><div class=restriction_text><h3>RESTRICTIONS</h3></div><div class=scrollable ng-iscroll=scroller-restriction-list><ul class=wrapper><li class=restriction-type ng-repeat=\"restriction in restrictionList\" ng-click=changeRestrictionStatus(restriction) ng-class=\"{'selected': restriction.selected, 'disabled': restriction.isDisabled && !isMultiple}\"><div class=restriction-left><span ng-class=restriction.className>{{restriction.value}}</span> <span class=restriction-name>{{restriction.description}}</span><span class=\"icons icon-double-arrow rotate-right\" ng-if=restriction.hasInputField></span></div><div class=restriction-right><div class=mixed-button ng-if=\"restriction.status === 'VARIED'\">Varied</div><div class=switch-button ng-class=\"{'on': restriction.status === 'ON', 'disabled' : input}\" ng-if=\"restriction.status !== 'VARIED'\"><span class=switch-icon></span><input type=checkbox ng-checked=\"restriction.status === 'ON'\" ng-disabled=\"restriction.isDisabled && !isMultiple\"></div></div></li></ul></div></div>"),t.put("/assets/partials/rateManager_/popup/middle/rvRateManagerPopupMiddleRestrictionEditing.html",'<div><div class=restriction_text><h3>{{restrictionForShowingTheDetails.description}}</h3><em>Adjust restriction for all room types</em><div class="mixed_restrictions notice" ng-show="restrictionForShowingTheDetails.status===\'VARIED\'">This overrides all <strong class=restriction-description>{{restrictionForShowingTheDetails.description}}</strong> restrictions for the selected room type(s) and date range.</div><div class=inputlabel for=restictionCount ng-show=restrictionForShowingTheDetails.hasInputField><label for=restictionCount>{{restrictionForShowingTheDetails.description}}</label> <input id=restictionCount ng-model=restrictionForShowingTheDetails.value ng-disabled=isPastDate></div><div class=cancellationbuttonwrap><button class="button green" type=button ng-click=clickedOnRestrictionSetButton($event) ng-disabled=isPastDate ng-class="{\'grey\' : isPastDate}">Set</button> <button class="button red" type=button ng-click=clickedOnRestrictionRemoveButton() ng-disabled=isPastDate ng-class="{\'grey\' : isPastDate}">Remove</button> <button class="button blank cancel" type=button ng-click=clickedOnCancelRestrictionEditingButton() ng-disabled=isPastDate ng-class="{\'grey\' : isPastDate}">Cancel</button></div></div></div>'),t.put("/assets/partials/reservationCard/actions/overlay/actionSummary.html",'<div id=action-summary><span class="icons icon-action icon-{{selectedAction.action_status}} icon-100w">{{getActionStatusInfo(selectedAction)}}</span><h3>{{selectedAction.description}}</h3><span class=info ng-hide="!isTrace(selectedAction.action_task_type) && !isMessage(selectedAction.action_task_type)">Created {{selectedAction.created_at_date}} at {{selectedAction.created_at_time}}<span ng-if=selectedAction.assigned_to>by {{selectedAction.assigned_to.name}}</span></span><div class=info-lists ng-hide="!isTrace(selectedAction.action_task_type) && !isMessage(selectedAction.action_task_type)"><ul><li ng-hide=!isTrace(selectedAction.action_task_type)>Assigned to<strong ng-if=selectedAction.assigned_to>{{selectedAction.assigned_to.name}}</strong> <strong ng-if=!selectedAction.assigned_to class=red>Unassigned</strong></li><li ng-hide=!isTrace(selectedAction.action_task_type)>Date Due <strong>{{selectedAction.due_at_date}}</strong></li><li ng-hide=!isTrace(selectedAction.action_task_type)>Time Due <strong>{{selectedAction.due_at_time_str}}</strong></li></ul><ul class=completed ng-hide="selectedAction.action_status !== \'COMPLETED\' || (!isTrace(selectedAction.action_task_type) && !isMessage(selectedAction.action_task_type))"><li>Completed by <strong ng-if=selectedAction.completed_by>{{selectedAction.completed_by.name}}</strong></li><li>Date Completed <strong>{{selectedAction.completed_at | date: dateFormat}}</strong></li><li>Time Completed <strong>{{selectedAction.completed_at | date: "hh:mm a"}}</strong></li></ul></div><div class=detail-actions ng-show="actionSelected === \'selected\' && !isMessage(selectedAction.action_task_type) && !isRequest(selectedAction.action_task_type)" ng-class="{\'inline\': selectedAction.action_status === \'delete\'}"><button type=button ng-if="selectedAction.action_status !== \'delete\'" class="back-button hide-on-desktop" ng-click=onBackButtonClicked()>All Actions</button><button type=button class="button white purple-text" ng-click=prepareEditAction(selectedAction) ng-class="{\'hidden\': !isTrace(selectedAction.action_task_type) || selectedAction.action_status === \'COMPLETED\'}">Edit</button><button type=button class="button white red-text" ng-click=prepareDeletAction() ng-class="{\'hidden\': !isAlert(selectedAction.action_task_type) || selectedAction.action_status === \'delete\' }">Delete</button><button type=button class="button blank" ng-click=cancelDelete() ng-class="{\'hidden\': selectedAction.action_status !== \'delete\' }">Cancel</button> <button type=button class="button red" ng-click="completeAction(\'delete\', selectedAction)" ng-class="{\'hidden\': selectedAction.action_status !== \'delete\' }">Delete Action</button></div></div>'),t.put("/assets/partials/reservationCard/actions/overlay/actionsContentWrapper.html",'<div ng-hide=refreshingList() ng-show=showErrMsg() ng-class="{notice: errorMessage != \'\'}" class="error error_message" ng-switch="" on=errorMessage.length ng-click=clearErrorMessage()><span class=close-btn ng-click=clearErrorMessage()></span> <span class=actions-small-font>{{errorMessage}}</span></div><section class=actions-content ng-class="{\'show-right-content\': !showLeftSideViewForMobile}" role=main ng-show="showActionsList() || refreshingToNonEmpty()"><div class=content-left ng-show="showActionsList() || refreshingToNonEmpty()"><div ng-include="\'/assets/partials/reservationCard/actions/overlay/actionsList.html\'" class=scrollable ng-iscroll=rvActionListScroller ng-iscroll-delay=500></div></div><div class=content-right ng-show=showActionSummary() ng-click=stopEditClick()><div class=summary ng-include="\'/assets/partials/reservationCard/actions/overlay/actionSummary.html\'"></div></div><div class=content-right ng-class="{\'full-width\': actions.totalCount === 0}" ng-show="(showNewAction() || actionSelected === \'edit\') && !refreshingToNonEmpty()"><div id=summary class=summary ng-include="\'/assets/partials/reservationCard/actions/overlay/createAction.html\'" ng-show="showNewAction() && !refreshingToNonEmpty()"></div><div id=summary class=summary ng-include="\'/assets/partials/reservationCard/actions/overlay/editAction.html\'" ng-show="actionSelected === \'edit\' && !refreshingToNonEmpty()"></div></div></section><section class=actions-content ng-class="{\'show-right-content\': !showLeftSideViewForMobile}" role=main ng-show=showNewActionOnly()><div class=content-right ng-class="{\'full-width\': actions.totalCount === 0}"><div id=summary class=summary ng-include="\'/assets/partials/reservationCard/actions/overlay/createAction.html\'"></div></div></section>'),t.put("/assets/partials/reservationCard/actions/overlay/actionsList.html","<ul class=wrapper><li ng-repeat=\"action in actions\" ng-hide=action.is_deleted ng-click=selectAction(action);onActionSelected() ng-class=\"{'active': action.id == selectedAction.id}\"><span ng-hide=\"!isStandAlone && (isRequest(action.action_task_type))\" class=\"icons icon-action icon-{{getActionStatusClass(action)}}\" ng-class=\"{'active': action.id == selectedAction.id, 'ng-hide':action.is_deleted, 'action-set-mid': (isStandAlone && action.over_due == false && action.action_task_type == null) || (action.action_status === 'COMPLETED') }\"><span ng-if=\"(action.over_due && action.action_status !== 'COMPLETED' && isStandAlone) || (!isStandAlone && action.over_due && action.action_status !== 'COMPLETED' && isTrace(action.action_task_type))\" class=actions-overdue-font ng-class=\"{'active': action.id == selectedAction.id}\" translate=\"\">OVERDUE</span><br><span class=actions-overdue-font ng-class=\"{'active': action.id == selectedAction.id, 'ng-hide':action.action_status === 'COMPLETED'}\">{{action.action_task_type}}</span></span> <span ng-show=isOverlayRequest(action) class=\"icon-action special-request-icon\" style=margin-left:0px; ng-class=\"{ 'active': action.id == selectedAction.id, 'special-request-icon': (!isStandAlone && action.action_status === 'COMPLETED' && isRequest(action.action_task_type)) }\"><span ng-if=\"(!isStandAlone && action.over_due && action.action_status !== 'COMPLETED' && isTrace(action.action_task_type))\" class=actions-overdue-font ng-class=\"{'active': action.id == selectedAction.id}\" translate=\"\">OVERDUE</span><br><span class=actions-overdue-font style=margin-left:2px; ng-class=\"{'active': action.id == selectedAction.id, 'ng-hide':action.action_status === 'COMPLETED'}\">{{action.action_task_type}}</span></span><div class=data><h3>{{action.description}}</h3><em ng-if=!!action.due_at ng-show=isStandAloneAction(action)>{{action.due_at_date}} &#8226; {{action.due_at_time_str}}</em> <em ng-if=!!action.due_at ng-show=isTrace(action.action_task_type)>{{action.due_at_date}}</em> <em ng-show=\"isRequest(action.action_task_type) || isAlert(action.action_task_type)\"></em></div><span class=department>{{action.assigned_to.name}}</span></li></ul>"),t.put("/assets/partials/reservationCard/actions/overlay/createAction.html",'<div id=secondary-actions class=add-content ng-class="{\'action-mgr-screen\':isActionManager}"><span class="h2 message">New Action</span><div class="entry full-width" ng-show=isActionManager><label for=guest_input>Guest Name or Room No.</label> <input ng-change=initFetchGuestInfo() id=search-guest-or-room type=search class=query autocomplete=off ng-model=textInQueryBox name=guest_input placeholder="Search by Guest Name or Room No."><ul class=find-guest ng-show=showAutocompleteResults><li ng-click=selectGuestInfo(info) class=auto-complete-result ng-show=info.is_row_visible ng-repeat="info in searchResults"><a><figure class=guest-image><img src={{info.images[0].guest_image}} alt=""></figure><span class=name>{{info.firstname}} {{info.lastname}}</span> <span class=room>Room {{info.room}}</span></a></li></ul></div><div class="entry full-width"><label for=department>Assign to Department</label><div class=select><select id=department-new-action class=placeholder ng-model=newAction.department ng-options="department.name for department in departments"><option value="" selected="">Select department</option></select></div></div><div class="entry date margin" ng-click=showNewCalendar()><label for=due-date>Date Due</label> <input id=due-date type=text class=datepicker value={{newAction.date_due}} readonly=""></div><div ng-show=newCalendarShow class=ngmodal-uidate-wrap id=newCalendar ng-include="\'/assets/partials/common/actions/rvReservationCardActionsCalendar.html\'"></div><div class=entry ng-class="{\'overlay\': !newAction.hasDate}"><label for=due-time>Time Due</label><select id=due-time ng-model=newAction.time_due><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="newAction.time_due === timeSelector.value">{{timeSelector.text}}</option></select></div><div class="entry full-width"><label for=notes>Notes <span><font ng-if="newAction.notes.length < 255" color=green>{{255 - newAction.notes.length}}</font><font ng-if="newAction.notes.length >= 255" color=red>{{255 - newAction.notes.length}}</font></span></label> <textarea id=notes ng-model=newAction.notes name=notes placeholder="Enter message..." rows=4 maxlength=255></textarea></div><div id=new_action_post class=actions><button type=button class="button blank" ng-click=cancel()>Cancel</button> <button type=button class="button green action-post-btn" ng-click=postAction() ng-class="{\'overlay\': !newAction.hasDate || !newAction.notes || (!newAction.department.value && !isStandAlone)}">Post Action</button></div></div>'),t.put("/assets/partials/reservationCard/actions/overlay/editAction.html",'<div id=secondary-actions class=add-content ng-class="{\'action-mgr-screen\':isActionManager}"><span class="h2 message">Edit Action</span><div class="entry full-width" ng-show=isActionManager><label for=guest_input>Guest Name or Room No.</label> <input ng-change=initFetchGuestInfo() id=search-guest-or-room type=search class=query autocomplete=off ng-model=textInQueryBox name=guest_input placeholder="Search by Guest Name or Room No."><ul class=find-guest ng-show=showAutocompleteResults><li ng-click=selectGuestInfo(info) class=auto-complete-result ng-show=info.is_row_visible ng-repeat="info in searchResults"><a><figure class=guest-image><img src={{info.images[0].guest_image}} alt=""></figure><span class=name>{{info.firstname}} {{info.lastname}}</span> <span class=room>Room {{info.room}}</span></a></li></ul></div><div class="entry full-width"><label for=department>Assign to Department</label><div class=select><select id=department-new-action class=placeholder ng-model=newAction.department ng-options="department.name for department in departments"><option value="" selected="">Select department</option></select></div></div><div class="entry date margin" ng-click=showNewCalendar()><label for=due-date>Date Due</label> <input id=due-date type=text class=datepicker value={{newAction.date_due}} readonly=""></div><div ng-show=newCalendarShow class=ngmodal-uidate-wrap id=newCalendar ng-include="\'/assets/partials/common/actions/rvReservationCardActionsCalendar.html\'"></div><div class=entry ng-class="{\'overlay\': !newAction.hasDate}"><label for=due-time>Time Due</label><select id=due-time ng-model=newAction.time_due><option value={{timeSelector.value}} ng-repeat="timeSelector in timeSelectorList" ng-selected="newAction.time_due === timeSelector.value">{{timeSelector.text}}</option></select></div><div class="entry full-width"><label for=notes>Notes <span><font ng-if="newAction.notes.length < 255" color=green>{{255 - newAction.notes.length}}</font><font ng-if="newAction.notes.length >= 255" color=red>{{255 - newAction.notes.length}}</font></span></label> <textarea id=notes ng-model=newAction.notes name=notes placeholder="Enter message..." rows=4 maxlength=255></textarea></div><div id=new_action_post class=actions><button type=button class="button blank" ng-click=cancel()>Cancel</button> <button type=button class="button green action-post-btn" ng-click=handleActionUpdate() ng-class="{\'overlay\': !newAction.hasDate || !newAction.notes || (!newAction.department && !isStandAlone)}">Save Changes</button></div></div>'),t.put("/assets/partials/reservationCard/actions/overlay/rvReservationCardActionsPopupOverlay.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form method=post action="" id=staycard-actions class="modal-content form staycard-actions"><button id=modal-close type=button class="dark-title modal-close" ng-click="closeDialog(); cancelNewAction();"><span class="icons icon-close"></span></button><div class=modal-header><h1>Actions</h1><strong ng-if=$parent.reservationData.reservation_card.room_number>Room {{$parent.reservationData.reservation_card.room_number}}</strong> <span class=time>Hotel Time: {{hotel_time | date:"hh:mm a"}}</span><div class=dates><div class=date ng-show=hasArrivalDate><span class="guest-status small-icon check-in">check-in</span> {{actions.arrivalDateString}}</div><div class=date ng-show=hasDepartureDate><span class="guest-status small-icon check-out">check-out</span> {{actions.departureDateString}}</div></div><button type=button class="button green" ng-click=initNewAction()>New Action</button></div><div ng-include="\'/assets/partials/reservationCard/actions/overlay/actionsContentWrapper.html\'"></div><section class="actions-content no-content" role=main ng-show=showEmptyActions()><div class=info><span class="icon-no-content icon-actions"></span> <strong class=h1>No Actions</strong> <span class=h2 ng-if=$parent.reservationData.reservation_card.room_number>All is good in Room {{$parent.reservationData.reservation_card.room_number}}</span> <span class=h2 ng-if=!$parent.reservationData.reservation_card.room_number>All is good</span></div></section></form></div>'),t.put("/assets/partials/allotments/reservations/popups/autoAssignRooms/rvAllotmentAutoRoomAssignNoResMeetCriteria.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" translate="">ALLOTMENT_SELECTED_RESERVATIONS_ARE_ALREADY_ROOM_ASSIGNED</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/allotments/reservations/popups/autoAssignRooms/rvAllotmentAutoRoomAssignSomeResReadyPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div id=group-room-assign name=group-room-assign class="modal-content form confirmation"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">ALLOTMENT_AUTO_ROOM_ASSIGN_CONFIRMATION</span> <span class=text>Assign Rooms for <strong>{{qualifiedReservations.length}} reservations</strong> in Allotment "{{allotmentConfigData.summary.allotment_name}}"?</span> <span class=notice ng-if="messageForAutoRoomAssignment!=\'\'" translate="">{{messageForAutoRoomAssignment}}</span><div class=actions><button type=button class="button green" ng-click=autoRoomAssignQualifiedReservations()>Assign Rooms</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/allotments/reservations/popups/autoAssignRooms/rvAllotmentResAutoAssignRoomsFailedPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" translate="">ALLOTMENT_AUTO_ROOM_ASSIGN_FAILED_IN_PROCESSING</span> <span class="message h4 red" ng-repeat="message in ngDialogData.errorMessage">{{message}}</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/allotments/reservations/popups/autoAssignRooms/rvAllotmentResAutoRoomAssignmentSuccessPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form group-checkin" ng-if="ngDialogData.failure_reservation_ids.length == 0"><button id=modal-close type=button class=modal-close ng-click=closeAutoRoomAssignSuccessPopup()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-success"></span> <span class="h2 message" ng-show="ngDialogData.success_reservation_ids.length<=1">{{ngDialogData.success_reservation_ids.length}} Reservation auto assigned rooms!</span> <span class="h2 message" ng-show="ngDialogData.success_reservation_ids.length>1">{{ngDialogData.success_reservation_ids.length}} Reservations auto assigned rooms!</span><div class=actions><button type=button class="button blank" ng-click=closeAutoRoomAssignSuccessPopup()>Close</button></div></div><div class="modal-content form group-checkin has-failures" ng-if="ngDialogData.failure_reservation_ids.length > 0"><button id=modal-close type=button class=modal-close ng-click=closeAutoRoomAssignSuccessPopup()><span class="icons icon-close invert"></span></button><div class=feedback><div class=failed><span class="icons icon-popup-alert"></span> <span class="h3 message" ng-show="ngDialogData.failedReservations.length<=1">Unable to perform auto room assignment to {{ngDialogData.failure_reservation_ids.length}} reservation, Please assign manually</span> <span class="h3 message" ng-show="ngDialogData.failedReservations.length>1">Unable to perform auto room assignment to {{ngDialogData.failure_reservation_ids.length}} reservations, Please assign manually</span><div class="notice error scrollable" ng-iscroll=failed_reservations_scroller ng-iscroll-delay=100><ul class=wrapper><li ng-repeat="reservation in ngDialogData.failedReservations track by $index" ng-if=isGuestBlank(reservation) ngrepeatend=""><em translate="">GROUP_PENDING</em> <span>#{{reservation.confirm_no}}</span></li><li ng-repeat="reservation in ngDialogData.failedReservations track by $index" ng-if=!isGuestBlank(reservation) ngrepeatend="">{{reservation.lastname}}, {{reservation.firstname}} <span>#{{reservation.confirm_no}}</span></li></ul></div><div class=actions><button type=button class="button blank" ng-click=closeAutoRoomAssignSuccessPopup()>Close</button></div></div><div class=succeeded><div class=succeded-content><span class="icons icon-popup-success white"></span> <span class="h3 message" ng-show="ngDialogData.success_reservation_ids.length<=1">{{ngDialogData.success_reservation_ids.length}} Reservation auto assigned rooms!</span> <span class="h3 message" ng-show="ngDialogData.success_reservation_ids.length>1">{{ngDialogData.success_reservation_ids.length}} Reservations auto assigned rooms!</span></div></div></div></div></div>'),t.put("/assets/partials/allotments/reservations/popups/general/rvAllotmentReservationsListEmailPrompt.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert" ng-init="mailInvoiceTo = \'\'"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button><div class="entry full-width"><label for=invoice-email translate="">EMAIL</label> <input id=invoice-email ng-model=mailInvoiceTo type=text></div><button type=button class="button blue modal-close" ng-click=sendEmail(mailInvoiceTo) translate="">SEND</button></div></div>'),t.put("/assets/partials/allotments/reservations/popups/general/rvAllotmentRoomingNoRoomTypeAttachedPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">No Rooms have been added to the Room Block.</span> <button type=button class="button green modal-close" ng-click=gotoRoomBlockTab()>Ok</button></div></div>'),t.put("/assets/partials/allotments/reservations/popups/editReservation/rvAllotmentEditRoomingListItem.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><form class="modal-content form group-guest"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2">Edit Guest</span><div class=holder><div class="entry margin"><label for=firstname>First Name</label> <input id=firstname placeholder=Pending ng-model=ngDialogData.firstname type=text ng-disabled=shouldDisableNameField(ngDialogData)></div><div class=entry><label for=lastname>Last Name</label> <input id=lastname placeholder=Pending ng-model=ngDialogData.lastname type=text ng-disabled=shouldDisableNameField(ngDialogData)></div><div class="entry margin type"><label for=rooming-room-type>{{\'GROUP_ROOM_TYPE\'|translate}}</label><div class=select><select convert-to-number="" ng-model=ngDialogData.room_type_id ng-change=changedReservationRoomType(ngDialogData) ng-disabled=shouldDisableReservationRoomTypeChange(ngDialogData)><option value={{roomTypeData.room_type_id}} ng-repeat="roomTypeData in ngDialogData.allowedRoomTypes" ng-selected="roomTypeData.room_type_id == ngDialogData.room_type_id">{{roomTypeData.room_type_name}}</option></select></div></div><div class="entry occupancy"><label for=rooming-occupancy>{{\'GROUP_OCCUPANCY\'|translate}}</label><div class=select><select convert-to-number="" ng-model=ngDialogData.occupancy ng-disabled=shouldDisableReservationOccuppancyChange(ngDialogData) ng-change=changedReservationOccupancy()><option value=1 ng-show="shouldShowThisOccupancyAgainstRoomType(\'single_occupancy\')">{{\'GROUP_SINGLE\'|translate}}</option><option value=2 ng-show="shouldShowThisOccupancyAgainstRoomType(\'double_occupancy\')">{{\'GROUP_DOUBLE\'|translate}}</option><option value=3 ng-show="shouldShowThisOccupancyAgainstRoomType(\'triple_occupancy\')">{{\'GROUP_TRIPLE\'|translate}}</option><option value=4 ng-show="shouldShowThisOccupancyAgainstRoomType(\'quadruple_occupancy\')">{{\'GROUP_QUADRUPLE\'|translate}}</option></select></div></div><div class="entry margin date"><label for=group-block-from>{{\'FROM\' | translate}}</label> <input type=text value={{ngDialogData.arrival_date|date:dateFormat}} class=range-datepicker listen-this=ngDialogData.arrival_date ng-disabled=shouldDisableFromDateChange(ngDialogData) ui-date=reservationFromDateOptions readonly="" rv-clear-text-box=""></div><div class="entry margin date"><label for=group-block-to>{{\'TO\' | translate}}</label> <input type=text value={{ngDialogData.departure_date|date:dateFormat}} class=range-datepicker listen-this=ngDialogData.departure_date ng-disabled=shouldDisableToDateChange(ngDialogData) ui-date=reservationToDateOptions readonly="" rv-clear-text-box=""></div><div class="entry room"><label for=room>Room</label><div class=select><select id=room ng-disabled=shouldDisableChangeRoom(ngDialogData) ng-model=ngDialogData.room_id ng-class="{\'placeholder\': isEmptyRoomNumber(ngDialogData.room_no)}" ng-options="roomData.id as roomData.room_number for roomData in ngDialogData.roomsFreeToAssign" ng-change=changedReservationRoom()><option value="" ng-selected=isEmptyRoomNumber(ngDialogData.room_no)>N/A</option></select></div></div></div><div id=account-actions class=actions><button type=button class="button red" ng-class="{\'grey\' : shouldDisableRemoveButton(ngDialogData)}" ng-click=removeReservation(ngDialogData)>Remove</button> <button type=button class=button ng-class="{\'grey\' : shouldDisableStaycardButton(ngDialogData), \'brand-colors\' : !shouldDisableStaycardButton(ngDialogData)}" ng-click=navigateStayCard(ngDialogData)>Stay Card</button> <button type=button class="button green" ng-class="{\'grey\' : shouldDisableCheckinButton(ngDialogData)}" ng-hide=shouldShowCheckinButton(ngDialogData) ng-click=checkinReservation(ngDialogData); ng-disabled=shouldDisableCheckinButton(ngDialogData)>Check In</button> <button type=button class="button red" ng-class="{\'grey\' : shouldDisableCheckoutButton(ngDialogData)}" ng-show=shouldShowCheckoutButton(ngDialogData) ng-disabled=shouldDisableCheckoutButton(ngDialogData) ng-click=checkoutReservation(ngDialogData);>Check Out</button> <button type=button class="button purple" ng-click=updateReservation(ngDialogData)>Update</button> <button type=button class="button blank" ng-click=closeDialog();>Close</button></div></form></div>'),t.put("/assets/partials/allotments/reservations/popups/editReservation/rvAllotmentEditRoomingListItemCheckinConfirmation.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form confirmation"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">GROUP_MASS_CHECKIN_CONFIRMATION</span> <span class=text>Check Out 1 Reservation for group "{{ngDialogData.group_name}}"?</span><div class=actions><button type=button class="button green" ng-click="completeCheckIn(ngDialogData.group_id, ngDialogData.reservation_id)">Check In</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/allotments/reservations/popups/editReservation/rvAllotmentEditRoomingListItemCheckoutConfirmation.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form confirmation"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">GROUP_MASS_CHECKOUT_CONFIRMATION</span> <span class=text>Check Out 1 Reservation for group "{{ngDialogData.group_name}}"?</span><div class=actions><button type=button class="button red" ng-click=completeCheckOut(ngDialogData.reservation_id)>Check Out</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/autoAssignRooms/rvGroupAutoRoomAssignNoResMeetCriteria.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" translate="">GROUP_SELECTED_RESERVATIONS_ARE_ALREADY_ROOM_ASSIGNED</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/autoAssignRooms/rvGroupAutoRoomAssignSomeResReadyPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div id=group-room-assign name=group-room-assign class="modal-content form confirmation"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">GROUP_AUTO_ROOM_ASSIGN_CONFIRMATION</span> <span class=text>Assign Rooms for <strong>{{qualifiedReservations.length}} reservations</strong> in Group "{{groupConfigData.summary.group_name}}"?</span> <span class=notice ng-if="messageForAutoRoomAssignment!=\'\'" translate="">{{messageForAutoRoomAssignment}}</span><div class=actions><button type=button class="button green" ng-click=autoRoomAssignQualifiedReservations()>Assign Rooms</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),
t.put("/assets/partials/groups/rooming/popups/autoAssignRooms/rvGroupResAutoAssignRoomsFailedPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" translate="">GROUP_AUTO_ROOM_ASSIGN_FAILED_IN_PROCESSING</span> <span class="message h4 red" ng-repeat="message in ngDialogData.errorMessage">{{message}}</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeMassCheckinSuccessPopup()>Close</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/autoAssignRooms/rvGroupResAutoRoomAssignmentSuccessPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form group-checkin" ng-if="ngDialogData.failure_reservation_ids.length == 0"><button id=modal-close type=button class=modal-close ng-click=closeAutoRoomAssignSuccessPopup()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-success"></span> <span class="h2 message" ng-show="ngDialogData.success_reservation_ids.length<=1">{{ngDialogData.success_reservation_ids.length}} Reservation auto assigned rooms!</span> <span class="h2 message" ng-show="ngDialogData.success_reservation_ids.length>1">{{ngDialogData.success_reservation_ids.length}} Reservations auto assigned rooms!</span><div class=actions><button type=button class="button blank" ng-click=closeAutoRoomAssignSuccessPopup()>Close</button></div></div><div class="modal-content form group-checkin has-failures" ng-if="ngDialogData.failure_reservation_ids.length > 0"><button id=modal-close type=button class=modal-close ng-click=closeAutoRoomAssignSuccessPopup()><span class="icons icon-close invert"></span></button><div class=feedback><div class=failed><span class="icons icon-popup-alert"></span> <span class="h3 message" ng-show="ngDialogData.failedReservations.length<=1">Unable to perform auto room assignment to {{ngDialogData.failure_reservation_ids.length}} reservation, Please assign manually</span> <span class="h3 message" ng-show="ngDialogData.failedReservations.length>1">Unable to perform auto room assignment to {{ngDialogData.failure_reservation_ids.length}} reservations, Please assign manually</span><div class="notice error scrollable" ng-iscroll=failed_reservations_scroller ng-iscroll-delay=100><ul class=wrapper><li ng-repeat="reservation in ngDialogData.failedReservations track by $index" ng-if=isGuestBlank(reservation) ngrepeatend=""><em translate="">GROUP_PENDING</em> <span>#{{reservation.confirm_no}}</span></li><li ng-repeat="reservation in ngDialogData.failedReservations track by $index" ng-if=!isGuestBlank(reservation) ngrepeatend="">{{reservation.lastname}}, {{reservation.firstname}} <span>#{{reservation.confirm_no}}</span></li></ul></div><div class=actions><button type=button class="button blank" ng-click=closeAutoRoomAssignSuccessPopup()>Close</button></div></div><div class=succeeded><div class=succeded-content><span class="icons icon-popup-success white"></span> <span class="h3 message" ng-show="ngDialogData.success_reservation_ids.length<=1">{{ngDialogData.success_reservation_ids.length}} Reservation auto assigned rooms!</span> <span class="h3 message" ng-show="ngDialogData.success_reservation_ids.length>1">{{ngDialogData.success_reservation_ids.length}} Reservations auto assigned rooms!</span></div></div></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/editReservation/rvAddEditReservationGuestData.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form group-guest-rooms"><button id=modal-close type=button class=modal-close ng-click=refreshScreenWithNewReservations()><span class="icons icon-close invert"></span></button><span class="message h2">{{title}} {{totalCountForUpdate}} Rooms</span><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><ul class=rooms-header><li class=guest-name>Guest Name</li><li class=arrival-departure>Arrival/Depature</li><li class=room-type>Room Type</li><li class=acc-guests>Acc. Guests</li></ul><div class="holder scrollable" ng-iscroll=guest-data-scroll><ul class=wrapper><li class=room-item ng-repeat="selectedReservations in selected_reservations track by $index" ng-if=!selectedReservations.is_accompanying_guest><div class="faux-anchor has-arrow toggle" ng-class="{\'active\': selectedReservations.isOpenAccompanyingGuest}" ng-click=toggleAccompanyingGuest($index)><div class=guest-name><div class="entry margin"><input type=text placeholder="First Name" value={{selectedReservations.firstname}} ng-model=selectedReservations.firstname ng-click=childClick() ng-disabled=isDataEditable(selectedReservations)></div><div class=entry><input type=text placeholder="Last Name" value={{selectedReservations.lastname}} ng-model=selectedReservations.lastname ng-disabled=isDataEditable(selectedReservations)></div></div><div class=arrival-departure><span class="guest-status check-in">check-in</span><time class="guest-time guest-time-arrival" datetime="{check-in-time | format: Month-Day-Year}">{{selectedReservations.arrival_date|date:dateFormat}}</time><span class="guest-status check-out">check-out</span><time class="guest-time guest-time-departure" datetime="{check-out-time | format: Month-Day-Year}">{{selectedReservations.departure_date|date:dateFormat}}</time></div><div class=room-type><strong>{{selectedReservations.room_type_name}}</strong> <em>{{selectedReservations.occupancyName}}</em></div><div class=acc-guests>{{selectedReservations.accompanyingLength}}</div></div><div class=acc-guests-form ng-class="{\'hidden\': !selectedReservations.isOpenAccompanyingGuest}"><div class="entry full-width"><label>Accompanying Guest(s)</label> <span ng-repeat="accompanyingGuest in selectedReservations.accompanying_guests_details"><div class="entry margin"><input placeholder="First Name" value={{accompanyingGuest.first_name}} type=text ng-model=accompanyingGuest.first_name ng-disabled=isDataEditable(selectedReservations)></div><div class=entry><input placeholder="Last Name" value={{accompanyingGuest.last_name}} type=text ng-model=accompanyingGuest.last_name ng-disabled=isDataEditable(selectedReservations)></div></span></div></div></li></ul></div><div class=actions><button type=button class="button blank" ng-click=refreshScreenWithNewReservations()>Cancel</button> <button type=button class="button green" ng-click=updateCompleteGuestData()>Update Details</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/editReservation/rvGroupEditRoomingListItem.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog><form class="modal-content form group-guest" ng-cloak=""><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2">Edit Guest</span><div class=holder><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><div class="entry margin"><label for=firstname>First Name</label> <input id=firstname placeholder=Pending ng-model=ngDialogData.firstname type=text ng-disabled=shouldDisableNameField(ngDialogData)></div><div class=entry><label for=lastname>Last Name</label> <input id=lastname placeholder=Pending ng-model=ngDialogData.lastname type=text ng-disabled=shouldDisableNameField(ngDialogData)></div><div class="entry full-width"><label for=first-guest-first-name>Accompanying Guest(s)</label><div ng-repeat="accompanying_guest in ngDialogData.accompanying_guests_details"><div class="entry margin"><input id=first-guest-first-name placeholder="First Name" value={{accompanying_guest.first_name}} type=text ng-model=accompanying_guest.first_name ng-disabled=shouldDisableNameField(ngDialogData)></div><div class=entry><input id=first-guest-last-name placeholder="Last Name" value={{accompanying_guest.last_name}} type=text ng-model=accompanying_guest.last_name ng-disabled=shouldDisableNameField(ngDialogData)></div></div></div><div class="entry margin type"><label>{{\'GROUP_ROOM_TYPE\'|translate}}</label><div class=select><select convert-to-number="" ng-model=ngDialogData.room_type_id ng-change=changedReservationRoomType(ngDialogData) ng-disabled=shouldDisableReservationRoomTypeChange(ngDialogData)><option value={{roomTypeData.room_type_id}} ng-repeat="roomTypeData in ngDialogData.allowedRoomTypes" ng-selected="roomTypeData.room_type_id == ngDialogData.room_type_id">{{roomTypeData.room_type_name}}</option></select></div></div><div class="entry occupancy"><label>{{\'GROUP_OCCUPANCY\'|translate}}</label><div class=select><select convert-to-number="" ng-model=ngDialogData.occupancy ng-disabled=shouldDisableReservationOccuppancyChange(ngDialogData) ng-change=changedReservationOccupancy()><option value=1 ng-show="shouldShowThisOccupancyAgainstRoomType(\'single_occupancy\')">{{\'GROUP_SINGLE\'|translate}}</option><option value=2 ng-show="shouldShowThisOccupancyAgainstRoomType(\'double_occupancy\')">{{\'GROUP_DOUBLE\'|translate}}</option><option value=3 ng-show="shouldShowThisOccupancyAgainstRoomType(\'triple_occupancy\')">{{\'GROUP_TRIPLE\'|translate}}</option><option value=4 ng-show="shouldShowThisOccupancyAgainstRoomType(\'quadruple_occupancy\')">{{\'GROUP_QUADRUPLE\'|translate}}</option></select></div></div><div class="entry margin date"><label for=group-block-from>{{\'FROM\' | translate}}</label> <input type=text value={{ngDialogData.arrival_date|date:dateFormat}} class=range-datepicker listen-this=ngDialogData.arrival_date ng-disabled=shouldDisableFromDateChange(ngDialogData) ui-date=reservationFromDateOptions readonly="" rv-clear-text-box=""></div><div class="entry margin date"><label for=group-block-to>{{\'TO\' | translate}}</label> <input type=text value={{ngDialogData.departure_date|date:dateFormat}} class=range-datepicker listen-this=ngDialogData.departure_date ng-disabled=shouldDisableToDateChange(ngDialogData) ui-date=reservationToDateOptions readonly="" rv-clear-text-box=""></div><div class="entry room"><label for=room>Room</label><div class=select><select id=room ng-disabled=shouldDisableChangeRoom(ngDialogData) ng-model=ngDialogData.room_id ng-class="{\'placeholder\': isEmptyRoomNumber(ngDialogData.room_no)}" ng-change=changedReservationRoom() ng-options="roomData.id as roomData.room_number for roomData in ngDialogData.roomsFreeToAssign"><option value="" ng-selected=isEmptyRoomNumber(ngDialogData.room_no)>N/A</option></select></div></div></div><div id=account-actions class=actions ng-cloak=""><button type=button class="button red" ng-class="{\'grey\' : shouldDisableRemoveButton(ngDialogData)}" ng-click=removeReservation(ngDialogData)>Remove</button> <button type=button class=button ng-class="{\'grey\' : shouldDisableStaycardButton(ngDialogData), \'brand-colors\' : !shouldDisableStaycardButton(ngDialogData)}" ng-click=navigateStayCard(ngDialogData)>Stay Card</button> <button type=button class="button green" ng-class="{\'grey\' : shouldDisableCheckinButton(ngDialogData)}" ng-if=::!shouldShowCheckinButton(ngDialogData) ng-click=checkinReservation(ngDialogData); ng-disabled=shouldDisableCheckinButton(ngDialogData)>Check In</button> <button type=button class="button red" ng-class="{\'grey\' : shouldDisableCheckoutButton(ngDialogData)}" ng-if=::shouldShowCheckoutButton(ngDialogData) ng-disabled=shouldDisableCheckoutButton(ngDialogData) ng-click=checkoutReservation(ngDialogData);>Check Out</button> <button type=button class="button purple" ng-click=updateReservation(ngDialogData)>Update</button> <button type=button class="button blank" ng-click=closeDialog();>Close</button></div></form></div>'),t.put("/assets/partials/groups/rooming/popups/editReservation/rvGroupEditRoomingListItemCheckinConfirmation.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form confirmation"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">GROUP_MASS_CHECKIN_CONFIRMATION</span> <span class=text>Check In 1 Reservation for group "{{ngDialogData.group_name}}"?</span><div class=actions><button type=button class="button green" ng-click="completeCheckIn(ngDialogData.group_id, ngDialogData.reservation_id)">Check In</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/editReservation/rvGroupEditRoomingListItemCheckoutConfirmation.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form confirmation"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">GROUP_MASS_CHECKOUT_CONFIRMATION</span> <span class=text>Check Out 1 Reservation for group "{{ngDialogData.group_name}}"?</span><div class=actions><button type=button class="button red" ng-click=completeCheckOut(ngDialogData.reservation_id)>Check Out</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/general/rvGroupRoomingNoRoomTypeAttachedPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button ng-click=closeDialog() class=modal-close><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="message h2">No Rooms have been added to the Room Block.</span> <button type=button class="button green modal-close" ng-click=gotoRoomBlockTab()>Ok</button></div></div>'),t.put("/assets/partials/groups/rooming/popups/general/rvRoomingListEmailPrompt.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form format-bill rooming-list-email" ng-init="mailInvoiceTo = \'\'"><div ng-include="\'/assets/partials/common/notification_message.html\'"></div><button id=modal-close type=button class=modal-close ng-click=closeDialogBox()><span class="icons icon-close invert"></span></button> <strong class="h2 message">Rooming List</strong><div class="entry full-width"><label>Email Address</label> <input type=email name=email ng-model=mailInvoiceTo placeholder="Enter an Email" value=""></div><div class="entry full-width" ng-if=printEmailConfig.showLanguageField><label for=languages>Language</label><div class=select><select convert-to-number="" iscroll-stop-propagation="" ng-model=printEmailConfig.locale><option value={{item.code}} ng-if=item.is_show_on_guest_card ng-repeat="item in languageData.languages" ng-selected="item.code === printEmailConfig.locale">{{item.language}}</option></select></div></div><div class="entry full-width"><label>Exclude</label><div class=setings-group><label class="checkbox inline" ng-class="{ \'checked\': groupConfigData.summary.hide_rates }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\': groupConfigData.summary.hide_rates }"></span><input type=checkbox name=dont-print-rate value=1 ng-click=clickedShowRate()> Rate</label> <label class="checkbox inline" ng-class="{ \'checked\': emailPrintFilters.excludeRoomNumber }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\': emailPrintFilters.excludeRoomNumber }"></span><input type=checkbox ng-model=emailPrintFilters.excludeRoomNumber> Room Number</label> <label class="checkbox inline" ng-class="{ \'checked\': emailPrintFilters.excludeAccompanyingGuests }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\': emailPrintFilters.excludeAccompanyingGuests }"></span><input type=checkbox ng-model=emailPrintFilters.excludeAccompanyingGuests> Accompanying Guests</label> <label class="checkbox inline" ng-class="{ \'checked\': emailPrintFilters.excludeRoomType }"><span class="icon-form icon-checkbox" ng-class="{ \'checked\': emailPrintFilters.excludeRoomType }"></span><input type=checkbox ng-model=emailPrintFilters.excludeRoomType> Room Type</label></div></div><div class=actions><button type=button class="button with-icon blue" ng-click=sendEmail(mailInvoiceTo)><span class="icons icon-email"></span> Email</button> <button type=button class="button with-icon blue" ng-click=fetchReservationsForPrintingRoomingList()><span class="icons icon-print"></span> Print</button> <button type=button class="button with-icon purple" ng-click=exportRoomingList()><span class="icons icon-save"></span> Export</button> <button type=button class="button blank inline" ng-click=closeDialogBox()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/massCheckout/rvGroupMassCheckoutNoResMeetCriteria.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" translate="">GROUP_NO_RESERVATIONS_MEET_CHECKOUT_CRITERIA</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/massCheckout/rvGroupMassCheckoutSomeResReadyPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form confirmation"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">GROUP_MASS_CHECKOUT_CONFIRMATION</span> <span class=text>Check Out <strong>{{qualifiedReservations.length}} Reservations</strong> for group "{{groupConfigData.summary.group_name}}"?</span> <span class=notice ng-if="messageForMassCheckout!=\'\'" translate="">{{messageForMassCheckout}}</span><div class=actions><button type=button class="button red" ng-click=checkOutQualifiedReservations()>Check Out</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/massCheckout/rvGroupResMassCheckoutFailedPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" translate="">GROUP_MASS_CHECKOUT_FAILED_IN_PROCESSING</span> <span class="message h4 red" ng-repeat="message in ngDialogData.errorMessage">{{message}}</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeMassCheckoutSuccessPopup()>Close</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/massCheckout/rvGroupResMassCheckoutSuccessPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form group-checkin" ng-if="ngDialogData.failure_reservation_ids.length == 0"><button id=modal-close type=button class=modal-close ng-click=closeMassCheckinSuccessPopup()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-success"></span> <span class="h2 message" ng-show="ngDialogData.success_reservation_ids.length<=1">{{ngDialogData.success_reservation_ids.length}} Reservation checked out succesfully!</span> <span class="h2 message" ng-show="ngDialogData.success_reservation_ids.length>1">{{ngDialogData.success_reservation_ids.length}} Reservations checked out succesfully!</span><div class=actions><button type=button class="button blank" ng-click=closeMassCheckinSuccessPopup()>Close</button></div></div><div class="modal-content form group-checkin has-failures" ng-if="ngDialogData.failure_reservation_ids.length > 0"><button id=modal-close type=button class=modal-close ng-click=closeMassCheckinSuccessPopup()><span class="icons icon-close invert"></span></button><div class=feedback><div class=failed><span class="icons icon-popup-alert"></span> <span class="h3 message" ng-show="ngDialogData.failedReservations.length<=1">{{ngDialogData.failure_reservation_ids.length}} Reservation were not checked out:</span> <span class="h3 message" ng-show="ngDialogData.failedReservations.length>1">{{ngDialogData.failure_reservation_ids.length}} Reservations were not checked out:</span><div class="notice error scrollable" ng-iscroll=failed_reservations_scroller ng-iscroll-delay=100><ul class=wrapper><li ng-repeat="reservation in ngDialogData.failedReservations track by $index" ng-if=isGuestBlank(reservation) ngrepeatend=""><em translate="">GROUP_PENDING</em> <span>#{{reservation.confirm_no}}</span></li><li ng-repeat="reservation in ngDialogData.failedReservations track by $index" ng-if=!isGuestBlank(reservation) ngrepeatend="">{{reservation.lastname}}, {{reservation.firstname}} <span>#{{reservation.confirm_no}}</span></li></ul></div><div class=actions><button type=button class="button blank" ng-click=closeMassCheckinSuccessPopup()>Close</button></div></div><div class="succeeded check-out"><div class=succeded-content><span class="icons icon-popup-success white"></span> <span class="h3 message" ng-show="ngDialogData.success_reservation_ids.length<=1">{{ngDialogData.success_reservation_ids.length}} Reservation checked out succesfully!</span> <span class="h3 message" ng-show="ngDialogData.success_reservation_ids.length>1">{{ngDialogData.success_reservation_ids.length}} Reservations checked out succesfully!</span></div></div></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/massCheckin/rvGroupMassCheckinNoResMeetCriteria.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" translate="">GROUP_NO_RESERVATIONS_MEET_CHECKIN_CRITERIA</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeDialog()>Close</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/massCheckin/rvGroupMassCheckinSomeResReadyPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form confirmation"><button id=modal-close type=button class=modal-close ng-click=closeDialog()><span class="icons icon-close invert"></span></button> <span class="message h2" translate="">GROUP_MASS_CHECKIN_CONFIRMATION</span> <span class=text>Check In <strong>{{qualifiedReservations.length}} reservations</strong> for Group "{{groupConfigData.summary.group_name}}"?</span> <span class=notice ng-if="messageForMassCheckin!=\'\'" translate="">{{messageForMassCheckin}}</span><div class=actions><button type=button class="button green" ng-click=checkInQualifiedReservations()>Check In</button> <button type=button class="button blank" ng-click=closeDialog()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/massCheckin/rvGroupResMassCheckinFailedPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form alert"><span class="icons icon-popup-alert"></span> <span class="message h3 red" translate="">GROUP_MASS_CHECKIN_FAILED_IN_PROCESSING</span> <span class="message h4 red" ng-repeat="message in ngDialogData.errorMessage">{{message}}</span><div class=actions><button type=button class="button blank modal-close" ng-click=closeMassCheckinSuccessPopup()>Close</button></div></div></div>'),t.put("/assets/partials/groups/rooming/popups/massCheckin/rvGroupResMassCheckinSuccessPopUp.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content form group-checkin" ng-if="ngDialogData.failure_reservation_ids.length == 0"><button id=modal-close type=button class=modal-close ng-click=closeMassCheckinSuccessPopup()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-success"></span> <span class="h2 message" ng-show="ngDialogData.success_reservation_ids.length<=1">{{ngDialogData.success_reservation_ids.length}} Reservation checked in succesfully!</span> <span class="h2 message" ng-show="ngDialogData.success_reservation_ids.length>1">{{ngDialogData.success_reservation_ids.length}} Reservations checked in succesfully!</span><div class=actions><button type=button class="button blank" ng-click=closeMassCheckinSuccessPopup()>Close</button></div></div><div class="modal-content form group-checkin has-failures" ng-if="ngDialogData.failure_reservation_ids.length > 0"><button id=modal-close type=button class=modal-close ng-click=closeMassCheckinSuccessPopup()><span class="icons icon-close invert"></span></button><div class=feedback><div class=failed><span class="icons icon-popup-alert"></span> <span class="h3 message" ng-show="ngDialogData.failedReservations.length<=1">{{ngDialogData.failure_reservation_ids.length}} reservation were not checked in:</span> <span class="h3 message" ng-show="ngDialogData.failedReservations.length>1">{{ngDialogData.failure_reservation_ids.length}} reservations were not checked in:</span><div class="notice error scrollable" ng-iscroll=failed_reservations_scroller ng-iscroll-delay=100><ul class=wrapper><li ng-repeat="reservation in ngDialogData.failedReservations track by $index" ng-if=isGuestBlank(reservation) ngrepeatend=""><em translate="">GROUP_PENDING</em> <span>#{{reservation.confirm_no}}</span></li><li ng-repeat="reservation in ngDialogData.failedReservations track by $index" ng-if=!isGuestBlank(reservation) ngrepeatend="">{{reservation.lastname}}, {{reservation.firstname}} <span>#{{reservation.confirm_no}}</span></li></ul></div><div class=actions><button type=button class="button blank" ng-click=closeMassCheckinSuccessPopup()>Close</button></div></div><div class=succeeded><div class=succeded-content><span class="icons icon-popup-success white"></span> <span class="h3 message" ng-show="ngDialogData.success_reservation_ids.length<=1">{{ngDialogData.success_reservation_ids.length}} Reservation checked in succesfully!</span> <span class="h3 message" ng-show="ngDialogData.success_reservation_ids.length>1">{{ngDialogData.success_reservation_ids.length}} Reservations checked in succesfully!</span></div></div></div></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/rvGroupChangeDatesInvalidWarningPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=cancelChangeDatesAction()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span><span class="h2 message">{{ngDialogData.dataset.message | translate}}</span><div class=actions><button type=button class="button blue" ng-click=cancelChangeDatesAction()>Ok</button></div></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/rvGroupChangeDatesNoAvailabilityPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=cancelChangeDatesAction()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">ROOM_TYPE_NO_AVAILABILITY_CHANGE_DATES</span><button type=button class="button green" ng-if=shouldShowProceedButtonInNoAvailaility() ng-click=forcefullyOverbook()>Proceed</button> <button type=button class="button blank" ng-if=shouldShowProceedButtonInNoAvailaility() ng-click=cancelChangeDatesAction()>Cancel</button><button type=button class="button blank" ng-if=!shouldShowProceedButtonInNoAvailaility() ng-click=cancelChangeDatesAction()>Close Window</button></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/rvGroupChangeDatesNoHouseAndRoomTypeAvailabilityPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=cancelChangeDatesAction()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message" translate="">HOUSE_AND_ROOMTYPE_OVERBOOK</span> <button type=button class="button blank" ng-if=shouldShowProceedButtonInNoAvailaility() ng-click=cancelChangeDatesAction()>Cancel</button><button type=button class="button blank" ng-if=!shouldShowProceedButtonInNoAvailaility() ng-click=cancelChangeDatesAction()>Close Window</button></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/rvGroupChangeSellLimitPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=cancelChangeDatesAction()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">{{ngDialogData.message | translate}}</span><button type=button class="button green" ng-if=ngDialogData.proceedOverbook ng-click=forcefullyOverbook()>Proceed</button> <button type=button class="button blank" ng-if=ngDialogData.proceedOverbook ng-click=cancelChangeDatesAction()>Cancel</button><button type=button class="button blank" ng-if=!ngDialogData.proceedOverbook ng-click=cancelChangeDatesAction()>Close Window</button></div></div>'),t.put("/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleAllRatesSelectRate.html",'<div class=scrollable><div class=restriction_text><h3>Prices</h3><em>Prices for all room types</em></div><div class=no-content><div class=info><span class="icon-no-content icon-rates"></span> <strong class=h1 ng-hide=true></strong> <span class=h2>Prices can be viewed only when selecting rates</span></div></div></div>'),t.put("/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateMultipleRoomTypeHourlyAmount.html",'<div id=restrictionPriceContainer class=price-div><div class=restriction_text><h3>Adjust Price</h3><em>Adjust price for all room type</em></div><section class="price-field-container scrollable no-price-entry" ng-iscroll=room-type-price-editing><div class=wrapper><div class=price-fields><label>ALL OCCUPANCIES</label> <span class="entry select"><select ng-model=priceDetails.single_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'single\')" ng-model=priceDetails.single_changing_value ng-disabled=isPastDate></span><span class="select_amount_diff entry select"><select ng-model=priceDetails.single_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.single_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.single_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all></div></div></section></div>'),t.put("/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateMultipleRoomTypeNightlyAmount.html",'<div id=restrictionPriceContainer class=price-div><div class=restriction_text><h3>Adjust Price</h3><em>Adjust price for all room type</em></div><section class="price-field-container scrollable no-price-entry" ng-iscroll=room-type-price-editing><div class=wrapper><div class=price-fields><label>SINGLE</label> <span class="entry select"><select ng-model=priceDetails.single_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'single\')" ng-model=priceDetails.single_changing_value ng-disabled=isPastDate></span><span class="select_amount_diff entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.single_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.single_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.single_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all><div class=apply-all-div><button ng-click="clickedOnApplyToAllOccupancies(\'single\')" class="button blue apply-all-button" ng-class="{\'grey\': isPastDate}" ng-disabled=isPastDate>Apply to all occupancies</button></div></div><div class=price-fields><label>DOUBLE</label> <span class="entry select"><select ng-model=priceDetails.double_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'double\')" ng-model=priceDetails.double_changing_value></span><span class="select_amount_diff entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.double_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.double_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.double_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all></div><div class=price-fields><label ng-class="{\'has-override\': priceDetails.child_overridden}">CHILD</label> <span class="entry select"><select ng-model=priceDetails.child_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'child\')" ng-model=priceDetails.child_changing_value ng-disabled=isPastDate></span><span class="select_amount_diff entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.child_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.child_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.child_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all></div><div class=price-fields><label>EXTRA ADULT</label> <span class="entry select"><select ng-model=priceDetails.extra_adult_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'extra_adult\')" ng-model=priceDetails.extra_adult_changing_value ng-disabled=isPastDate></span><span class="select_amount_diff entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.extra_adult_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.extra_adult_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.extra_adult_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all></div></div></section></div>'),
t.put("/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateRoomTypeChildRate.html",'<div id=restrictionPriceContainer class=price-div><div class=restriction_text><h3>Adjust Price</h3></div><div class=no-content><div class=info><span class="icon-no-content icon-rates"></span> <strong class=h1>Can\'t adjust price for child rate</strong> <span class=h2>You can however adjust the price on it\'s parent rate <strong>{{parentRateName}}</strong></span> <button class="button purple" type=button ng-hide=true ng-disabled=isPastDate ng-class="{\'grey\': isPastDate}">Adjust Parent Rate</button></div></div></div>'),t.put("/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateSingleRoomTypeHourlyAmount.html",'<div id=restrictionPriceContainer class=price-div><div class=restriction_text><h3>Adjust Price</h3><em>Price adjustments for all Occupancies</em></div><section class="price-field-container scrollable no-price-entry" ng-iscroll=room-type-price-editing><div class=wrapper><div class=price-fields><label ng-class="{\'has-override\': priceDetails.single_overridden}">ALL OCCUPANCIES<span class="icon-report icon-upsell" ng-show=priceDetails.single_overridden></span></label><span class="price entry" ng-class="{\'has-override\': !!priceDetails.single_changing_value , \'is-overriden\': priceDetails.single_overridden && !priceDetails.single_changing_value}"><input type=text ng-model=priceDetails.single ng-disabled=!!priceDetails.single_changing_value></span><span class=or-class>OR</span> <span class="entry select"><select ng-model=priceDetails.single_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'single\')" ng-model=priceDetails.single_changing_value ng-disabled=isPastDate></span><span class="select_amount_diff entry select"><select ng-model=priceDetails.single_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.single_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.single_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all></div></div></section></div>'),t.put("/assets/partials/rateManager_/popup/middle/rate/rvRateManagerPopupMiddleSingleRateSingleRoomTypeNightlyAmount.html",'<div id=restrictionPriceContainer class=price-div><div class=restriction_text><h3>Adjust Price</h3><em>Adjust price for this room type</em></div><section class="price-field-container scrollable" ng-iscroll=room-type-price-editing><div class=wrapper><div class=price-fields><label ng-class="{\'has-override\': priceDetails.single_overridden}">SINGLE<span class="icon-report icon-upsell" ng-show=priceDetails.single_overridden></span></label><span class="price entry" ng-class="{\'has-override\': !!priceDetails.single_changing_value, \'is-overriden\': (priceDetails.single_overridden && !priceDetails.single_changing_value)}"><input type=text ng-change="priceStartedToCustomize(\'single\')" ng-model=priceDetails.single ng-disabled="isPastDate || !!priceDetails.single_changing_value"></span><span class=or-class>OR</span> <span class="entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.single_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'single\')" ng-model=priceDetails.single_changing_value ng-disabled=isPastDate></span><span class="select_amount_diff entry select" ng-class="{\'disabled\':isPastDate}"><select ng-model=priceDetails.single_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.single_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.single_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all><div class=apply-all-div><button ng-click="clickedOnApplyToAllOccupancies(\'single\')" class="button blue apply-all-button" ng-disabled=isPastDate ng-class="{\'grey\': isPastDate}">Apply to all occupancies</button></div></div><div class=price-fields><label ng-class="{\'has-override\': priceDetails.double_overridden}">DOUBLE<span class="icon-report icon-upsell" ng-show=priceDetails.double_overridden></span></label><span class="price entry" ng-class="{\'has-override\': !!priceDetails.double_changing_value, \'is-overriden\': priceDetails.double_overridden && !priceDetails.double_changing_value}"><input type=text ng-change="priceStartedToCustomize(\'double\')" ng-model=priceDetails.double ng-disabled="isPastDate || !!priceDetails.double_changing_value"></span><span class=or-class>OR</span> <span class="entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.double_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'double\')" ng-model=priceDetails.double_changing_value ng-disabled=isPastDate></span><span class="select_amount_diff entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.double_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.double_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.double_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all></div><div class=price-fields><label ng-class="{\'has-override\': priceDetails.child_overridden}">CHILD<span class="icon-report icon-upsell" ng-show=priceDetails.child_overridden></span></label><span class="price entry" ng-class="{\'has-override\': !!priceDetails.child_changing_value, \'is-overriden\': priceDetails.child_overridden && !priceDetails.child_changing_value}"><input type=text ng-disabled="isPastDate || !!priceDetails.child_changing_value" ng-change="priceStartedToCustomize(\'child\')" ng-model=priceDetails.child></span><span class=or-class>OR</span> <span class="entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.child_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'child\')" ng-model=priceDetails.child_changing_value ng-disabled=isPastDate></span><span class="select_amount_diff entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.child_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.child_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.child_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all></div><div class=price-fields><label ng-class="{\'has-override\': priceDetails.extra_adult_overridden}">EXTRA ADULT<span class="icon-report icon-upsell" ng-show=priceDetails.extra_adult_overridden></span></label><span class="price entry" ng-class="{\'has-override\': !!priceDetails.extra_adult_changing_value, \'is-overriden\': priceDetails.extra_adult_overridden && !priceDetails.extra_adult_changing_value}"><input type=text ng-disabled="isPastDate || !!priceDetails.extra_adult_changing_value" ng-change="priceStartedToCustomize(\'extra_adult\')" ng-model=priceDetails.extra_adult></span><span class=or-class>OR</span> <span class="entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.extra_adult_amount_operator ng-disabled=isPastDate><option value=+>+</option><option value=->-</option></select></span> <span class="extra_amount entry"><input type=text ng-change="priceStartedToCustomize(\'extra_adult\')" ng-model=priceDetails.extra_adult_changing_value ng-disabled=isPastDate></span><span class="select_amount_diff entry select" ng-class="{\'disabled\': isPastDate}"><select ng-model=priceDetails.extra_adult_amount_perc_cur_symbol ng-disabled=isPastDate><option value={{currencySymbol}} ng-selected="priceDetails.extra_adult_amount_perc_cur_symbol == currencySymbol">{{currencySymbol}}</option><option value=% ng-selected="priceDetails.extra_adult_amount_perc_cur_symbol == \'%\'">%</option></select></span><br clear=all></div></div></section></div>'),t.put("/assets/partials/rateManager_/popup/middle/roomType/rvRateManagerPopupMiddleMultipleRoomTypeChooseRate.html",'<div class=scrollable><div class=restriction_text><h3>Prices</h3><em>Prices for all room type</em></div><div class=no-content><div class=info><span class="icon-no-content icon-rates"></span> <strong class=h1 ng-hide=true></strong> <span class=h2>Prices can be viewed only for specific rates</span></div></div></div>'),t.put("/assets/partials/rateManager_/popup/middle/roomType/rvRateManagerPopupMiddleRatePriceListing.html",'<div><div class=restriction_text><h3>PRICES</h3><em>Prices for all rates</em></div><div class="prices-container scrollable" ng-iscroll=rate-price-listing><div class=wrapper><div class=price-info ng-repeat="rate in rateAndRestrictions"><span class=name>{{rate.name}}</span> <span class=price>{{rate.single}}</span></div></div></div></div>'),t.put("/assets/partials/rateManager_/popup/middle/roomType/rvRateManagerPopupMiddleRoomTypePriceListing.html",'<div><div class=restriction_text><h3>PRICES</h3><em>Prices for all room types</em></div><div class="prices-container scrollable" ng-iscroll=room-type-price-listing><div class=wrapper><div class=price-info ng-repeat="roomType in roomTypeAndPrices"><span class=name>{{roomType.name}}</span> <span class=price>{{roomType.single}}</span></div></div></div></div>'),t.put("/assets/partials/rateManager_/popup/middle/roomType/rvRateManagerPopupMiddleSingleRoomTypeChooseRate.html",'<div class=scrollable><div class=restriction_text><h3>Prices</h3><em>Prices for this room type</em></div><div class=no-content><div class=info><span class="icon-no-content icon-rates"></span> <strong class=h1 ng-hide=true></strong> <span class=h2>Please select one rate to show prices for <strong>{{header}}</strong></span></div></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/arrivalDate/rvConfirmArrivalDateChangeLater.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content group-date"><button id=modal-close type=button class=modal-close ng-click=cancelChangeDatesAction()><span class="icons icon-close invert"></span></button><span class="h2 message">Reservations arriving prior to {{formatDateForUI(ngDialogData.dataset.fromDate)}} will be moved to new arrival date. Review amended length of stay.</span><div class="moved before"><span class=label>Old Arrival</span><p class=full-width><span class="guest-status small-icon check-in"></span> {{formatDateForUI(ngDialogData.dataset.oldFromDate)}}</p></div><div class=moved><span class=label>New Arrival</span><p class=full-width><span class="guest-status small-icon check-in"></span> {{formatDateForUI(ngDialogData.dataset.fromDate)}}</p></div><div class=actions><button type=button class="button green" ng-click="callChangeDatesAPI(ngDialogData, true)">Change Group Start Date</button> <button type=button class="button blank" ng-click=cancelChangeDatesAction()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/arrivalDate/rvConfirmArrivalDateChangeToEarlier.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content group-date"><button id=modal-close type=button class=modal-close ng-click=cancelChangeDatesAction()><span class="icons icon-close invert"></span></button><span class="h2 message">Extend reservations arriving on {{formatDateForUI(ngDialogData.dataset.oldFromDate)}}?</span><div class="moved before"><span class=label>Old Arrival</span><p class=full-width><span class="guest-status small-icon check-in"></span> {{formatDateForUI(ngDialogData.dataset.oldFromDate)}}</p></div><div class=moved><span class=label>New Arrival</span><p class=full-width><span class="guest-status small-icon check-in"></span> {{formatDateForUI(ngDialogData.dataset.fromDate)}}</p></div><div class=actions><button type=button class="button green" ng-click="callChangeDatesAPI(ngDialogData, true)">Extend reservations</button> <button type=button class="button red" ng-click="callChangeDatesAPI(ngDialogData, false)">Do not extend reservations</button> <button type=button class="button blank" ng-click=cancelChangeDatesAction()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/departureDate/rvConfirmDepartureDateChangeLater.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content group-date"><button id=modal-close type=button class=modal-close ng-click=cancelChangeDatesAction()><span class="icons icon-close invert"></span></button><span class="h2 message">Extend reservations departing on {{formatDateForUI(ngDialogData.dataset.oldToDate)}}?</span><div class="moved before"><span class=label>Old Departure</span><p class=full-width><span class="guest-status small-icon check-out"></span> {{formatDateForUI(ngDialogData.dataset.oldToDate)}}</p></div><div class=moved><span class=label>New Departure</span><p class=full-width><span class="guest-status small-icon check-out"></span> {{formatDateForUI(ngDialogData.dataset.toDate)}}</p></div><div class=actions><button type=button class="button green" ng-click="callChangeDatesAPI(ngDialogData, true)">Extend reservations</button> <button type=button class="button red" ng-click="callChangeDatesAPI(ngDialogData, false)">Do not extend reservations</button> <button type=button class="button blank" ng-click=cancelChangeDatesAction()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/departureDate/rvConfirmDepartureDateChangeToEarlier.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content group-date"><button id=modal-close type=button class=modal-close ng-click=cancelChangeDatesAction()><span class="icons icon-close invert"></span></button> <span class="h2 message">Reservations departing after {{formatDateForUI(ngDialogData.dataset.toDate)}} will be moved to new departure date. Review amended length of stay.</span><div class="moved before"><span class=label>Old Departure</span><p class=full-width><span class="guest-status small-icon check-out"></span> {{formatDateForUI(ngDialogData.dataset.oldToDate)}}</p></div><div class=moved><span class=label>New Departure</span><p class=full-width><span class="guest-status small-icon check-out"></span> {{formatDateForUI(ngDialogData.dataset.toDate)}}</p></div><div class=actions><button type=button class="button green" ng-click="callChangeDatesAPI(ngDialogData, true)">Change Group End Date</button> <button type=button class="button blank" ng-click=cancelChangeDatesAction()>Cancel</button></div></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/moveDates/rvGroupMoveDatesConfirmationPopup.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content group-date move-group"><button id=modal-close type=button class=modal-close ng-click=cancelChangeDatesAction()><span class="icons icon-close invert"></span></button> <span class="h2 message" translate="">GROUP_MOVE_CONFIRM</span><div class="moved before"><span class=label>Old Dates</span><p><span class="guest-status small-icon check-in"></span>{{formatDateForUI(ngDialogData.dataset.oldFromDate)}}</p><p><span class="guest-status small-icon check-out"></span>{{formatDateForUI(ngDialogData.dataset.oldToDate)}}</p></div><div class=moved><span class=label>New Dates</span><p><span class="guest-status small-icon check-in"></span>{{formatDateForUI(ngDialogData.dataset.fromDate)}}</p><p><span class="guest-status small-icon check-out"></span>{{formatDateForUI(ngDialogData.dataset.toDate)}}</p></div><div class=actions><button type=button class="button blank" ng-click=cancelChangeDatesAction()>Cancel</button> <button type=button class="button green" ng-click=callMoveDatesAPI(ngDialogData)>Confirm Move</button></div></div></div>'),t.put("/assets/partials/groups/summary/popups/changeDates/moveDates/rvGroupMoveInvalidRateNotAvailable.html",'<div id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}" role=dialog ng-cloak=""><div class="modal-content alert"><button id=modal-close type=button class=modal-close ng-click=cancelGroupMoveAction()><span class="icons icon-close invert"></span></button> <span class="icons icon-popup-alert"></span> <span class="h2 message">{{ \'GROUP_MOVE_INVALID_AS_RATE_NOT_AVAILABLE\' | translate}}</span><div class=actions><button type=button class="button blue" ng-click=cancelGroupMoveAction()>Ok</button></div></div></div>'),t.put("/assets/partials/rvExtendSessionModal.html",'<div role=dialog id=modal class=modal-show ng-class="{\'modal-show\': !modalClosing}"><div class="modal-content form alert timeout"><span class="icons icon-popup-alert"></span> <strong class="h2 message">Your session has timed out</strong> <span class=text>Due to inactivity in the past {{ loginData.autoLogoutDelay }} minutes</span><div class="entry full-width"><label for=password>Enter you password to continue</label> <input id=password type=password placeholder="Enter your password" ng-model=loginData.password ng-class="{\'error\': hasError && !loginData.password}" tabindex=1><span class="description red" ng-if="errorMessage && !loginData.password">{{errorMessage}}</span></div><div class=actions><button type=button class=button ng-click=continueSession() ng-class="{\'grey\': !loginData.password, \'green\': loginData.password}" ng-disabled=!loginData.password tabindex=2>Continue session</button> <button type=button class="button red" ng-click=logout() tabindex=3>Log out</button></div></div></div>')}]);